\subsection{An example}
\label{ssec:exmp}
Before describing the pseudocode of \Eg, we explain how it solves the
PQE problem of Example~\ref{exmp:pqe_exmp}.  That is we consider
taking clause $C_1$ out of \prob{X}{F(X,Y)} where $F = C_1 \wedge
\dots \wedge C_4$, $C_1=\overline{x}_3 \vee x_4$,
$C_2\!=\!y_1\!\vee\!x_3$, $C_3=y_1 \vee \overline{x}_4$,
$C_4\!=\!y_2\!\vee\!x_4$ and $Y=\s{y_1,y_2}$ and $X=\s{x_3,x_4}$.


\Eg iteratively generates a full assignment \pnt{y} to $Y$ and checks
if \cof{(C_1)}{y} is redundant in \prob{X}{\cof{F}{y}} (i.e. if $C_1$
is redundant in \prob{X}{F} in subspace \pnt{y}). Note that if \cof{(F
  \setminus \s{C_1})}{y} \ti{implies} \cof{(C_1)}{y}, then
\cof{(C_1)}{y} is trivially redundant in \prob{X}{\cof{F}{y}}. To
avoid such subspaces, \Eg generates \pnt{y} by searching for an
assignment (\pnt{y},\pnt{x}) satisfying the formula $(F \setminus
\s{C_1}) \wedge \overline{C}_1$. (Here \pnt{y} and \pnt{x} are full
assignments to $Y$ and $X$ respectively.) If such (\pnt{y},\pnt{x})
exists, it satisfies $F \setminus \s{C_1}$ and falsifies $C_1$ thus
proving that \cof{(F \setminus \s{C_1})}{y} \ti{does not} imply
\cof{(C_1)}{y}.


Assume that \Eg found an assignment \smallskip
$(y_1\!=\!0,y_2\!=\!1,x_3\!=\!1,x_4\!=\!0)$ satisfying $(F \setminus
\s{C_1}) \wedge \overline{C}_1$. So \pnt{y} =
$(y_1\!=\!0,y_2\!=\!1)$. Then \Eg checks if \cof{F}{y} is satisfiable.
\cof{F}{y} = $(\overline{x}_3 \vee x_4) \wedge x_3 \wedge
\overline{x}_4$ and so it is \ti{unsatisfiable}.  This means that
\cof{(C_1)}{y} \ti{is not} redundant in \prob{X}{\cof{F}{y}}. (Indeed,
\cof{(F \setminus \s{C_1})}{y} is satisfiable. So, removing $C_1$
makes $F$ satisfiable in subspace \pnt{y}.) \Eg \ti{makes}
\cof{(C_1)}{y} redundant in \prob{X}{\cof{F}{y}} by \tb{adding} to $F$
a clause $B$ falsified by \pnt{y}. The clause $B$ equals $y_1$ and is
obtained by identifying the assignments to individual variables of $Y$
that made \cof{F}{y} unsatisfiable. (In our case, this is the
assignment $y_1 = 0$.)  Note that derivation of clause $y_1$
\ti{generalizes} the proof of unsatisfiability of $F$ in subspace
$(y_1\!=\!0,y_2\!=\!1)$ so that this proof holds for subspace
$(y_1\!=\!0,y_2\!=\!0)$ too.\smallskip

Now \Eg looks for a new assignment satisfying $(F \setminus \s{C_1})
\wedge \overline{C}_1$. Let the assignment $(y_1
=1,y_2=1,x_3=1,x_4=0)$ be found. So, \pnt{y} =
$(y_1\!=\!1,y_2\!=\!1)$. Since $(y_1\!=\!1,y_2\!=\!1,x_3=0)$ satisfies
$F$, the formula \cof{F}{y} is satisfiable. So, \cof{(C_1)}{y} is
\ti{already redundant} in \prob{X}{\cof{F}{y}}. To avoid re-visiting
the subspace \pnt{y}, \Eg generates the \tb{plugging} clause $D =
\overline{y}_1 \vee \overline{y}_2$ falsified by \pnt{y}.

%
%\input{e3g_pqe.fig}
%


\Eg fails to generate a new assignment \pnt{y} because the
formula\linebreak \mbox{$D \wedge (F \setminus \s{C_1}) \wedge
  \overline{C}_1$} is unsatisfiable. Indeed, every full assignment
\pnt{y} we have examined so far falsifies either the clause $y_1$
added to $F$ or the plugging clause $D$. The only assignment \Eg has
not explored \smallskip yet is $\pnt{y}\!=\!(y_1\!=\!1, y_2\!=\!
0)$. Since \mbox{$\cof{(F \setminus \s{C_1})}{y} = x_4$} and
\cof{(C_1)}{y} = $\overline{x}_3 \vee x_4$, the formula $(F \setminus
\s{C_1}) \wedge \overline{C}_1$ is unsatisfiable in subspace
\pnt{y}. In other words,\smallskip \cof{(C_1)}{y} is implied by
\cof{(F \setminus \s{C_1})}{y} and hence is redundant. Thus, $C_1$ is
redundant in \prob{X}{\Sub{F}{ini} \wedge y_1} for every assignment to
$Y$ where \Sub{F}{ini} is the initial formula $F$. That is,
\prob{X}{\Sub{F}{ini}} $\equiv y_1 \wedge$ \prob{X}{\Sub{F}{ini}
  \setminus \s{C_1}} and so the clause $y_1$ is a solution $H$ to
our PQE problem.
