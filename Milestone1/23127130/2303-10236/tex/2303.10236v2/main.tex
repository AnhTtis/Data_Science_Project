% !TeX document-id = {4951685f-4d1a-4629-8de6-69a05c8522c0}
%  $Id: main.tex $
% !BIB TS-program = bibtex

\documentclass[10pt, conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\input{preamble}
\input{acronyms}


\begin{document}

\title{Prevalence of Code Smells in Reinforcement Learning Projects
%\thanks{Identify applicable funding agency here. If none, delete this.}
}

\author{\IEEEauthorblockN{Nicol\'as Cardozo}
\IEEEauthorblockA{%\textit{Systems and Computing Engineering Department}\\
\textit{Universidad de los Andes}\\
Bogot\'a, Colombia \\
n.cardozo@uniandes.edu.co}
\and
\IEEEauthorblockN{Ivana Dusparic}
\IEEEauthorblockA{%\textit{School of Computer Science and Statistics} \\
\textit{Trinity College Dublin}\\
Dublin, Ireland \\
ivana.dusparic@tcd.ie}
\and
\IEEEauthorblockN{Christian Cabrera}
\IEEEauthorblockA{%\textit{ Department of Computer Science and Technology} \\
\textit{University of Cambridge}\\
Cambridge, UK \\
chc79@cam.ac.uk}
}

\maketitle


\begin{abstract}
\ac{RL} is being increasingly used to learn and adapt application behavior in many domains, including 
large-scale and safety critical systems, as for example, autonomous driving. With the 
advent of plug-n-play \ac{RL} libraries, its applicability has further increased, enabling integration of 
\ac{RL} algorithms by users. We note, however, that the majority of such code is not developed 
by \ac{RL} engineers, which as a consequence, may lead to poor 
program quality yielding bugs, suboptimal performance, maintainability, and evolution problems for 
\ac{RL}-based projects. 
In this paper we begin the exploration of this hypothesis, specific to code utilizing \ac{RL}, analyzing 
different projects found in the wild, to assess their quality from a software engineering 
perspective. Our study includes 24 popular \ac{RL}-based Python 
projects, analyzed with standard software engineering metrics.
Our results, aligned with similar analyses for ML code in general, show that popular and 
widely reused \ac{RL} repositories contain many code smells (3.95\% of the 
code base on average), significantly affecting the projects' maintainability. 
The most common code smells detected are long method and long method 
chain, highlighting problems in the definition and interaction of  
agents. Detected code smells suggest problems in responsibility 
separation, and the appropriateness of current abstractions for 
the definition of \ac{RL} algorithms.  
\end{abstract}

\begin{IEEEkeywords}
Reinforcement learning,
Software metrics,
Code quality analysis
\end{IEEEkeywords}

\input{introduction}
\input{quality}
\input{evaluation}
\input{rl-lang}
\input{related}
\input{conclusion}

\section*{Acknowledgment}
We would like to thank Rafael Bermudez and Andres Felipe Carrion for their contribution to this work.

\printbibliography

\end{document}
