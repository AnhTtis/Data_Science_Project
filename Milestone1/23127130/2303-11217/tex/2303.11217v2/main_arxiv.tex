\documentclass[10pt,twocolumn,letterpaper]{article}

\usepackage[accsupp]{axessibility}  %
\usepackage{iccv}
\usepackage{times}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{array}
\usepackage{mydefs}
\usepackage{xcolor}
\usepackage{bm}
\usepackage{booktabs}
\usepackage{subcaption}
\usepackage{algorithm}
\usepackage{algpseudocode} 
\usepackage[normalem]{ulem}
\usepackage{multirow}
\usepackage{tabularx,rotating}
\usepackage{wrapfig}


\newcommand{\np}[1]{\textcolor{purple}{#1}}
\newcommand{\jean}[1]{\textcolor{red}{#1}}
\newcommand{\andres}[1]{\textcolor{blue}{#1}}
\newcommand{\ah}[1]{\textcolor{olive}{#1}}
\newcommand{\id}{\operatorname{Id}}
\newcommand{\diag}{\operatorname{diag}}

\usepackage[pagebackref=true,breaklinks=true,letterpaper=true,colorlinks,bookmarks=false]{hyperref}

\iccvfinalcopy %

\def\iccvPaperID{11126} %
\def\httilde{\mbox{\tt\raisebox{-.5ex}{\symbol{126}}}}

\ificcvfinal\pagestyle{empty}\fi

\begin{document}

\title{Inverse problem regularization with hierarchical variational autoencoders\vspace{-0.2cm}}

\author{Jean Prost\\
Univ. Bordeaux, CNRS, Bordeaux INP\\
IMB, UMR 5251, F-33400 Talence, France\\
{\tt\small jean.prost@math.u-bordeaux.fr}
\and
Antoine Houdard\\
Ubisoft La Forge\\
Bordeaux\\
{\tt\small antoine.houdard@ubisoft.com}
\and
Andrés Almansa\\
Université Paris Cité, CNRS\\
 MAP5, UMR 8145\\
{\tt\small  andres.almansa@parisdescartes.fr}
\and 
Nicolas Papadakis\\
Univ. Bordeaux, CNRS, Bordeaux INP\\
IMB, UMR 5251, F-33400 Talence, France\\
{\tt \small  nicolas.papadakis@math.u-bordeaux.fr}
}

\maketitle
\ificcvfinal\thispagestyle{empty}\fi


\begin{abstract}
\input{sections/abstract.tex}\vspace{-0.2cm}
\end{abstract}

\section{Introduction}
\input{sections/intro.tex}

\section{Related works}\label{sec:related}
\input{sections/related_works.tex} 



\section{Background on  variational autoencoders}\label{sec:back}
\input{sections/background_short.tex}


\section{Regularization with HVAE Prior}
\label{sec:alternate}
\input{sections/methodology_short.tex} 

\section{Convergence analysis}\label{sec:convergence}
\input{sections/theoretical_short.tex}



\section{Image restoration results}\label{sec:expe}
\input{sections/experiments.tex}

\section{Conclusion}
\input{sections/conclusion.tex}

\ificcvfinal
\section*{Acknowledgements}
This study has  been carried out with financial support from the French Research Agency through the PostProdLEAP project (ANR-19-CE23-0027-01).
Experiments presented in this paper were carried out using the PlaFRIM experimental testbed, supported by Inria, CNRS (LABRI and IMB), Université de Bordeaux, Bordeaux INP and Conseil Régional d’Aquitaine (see https://www.plafrim.fr)
\fi
\clearpage

{\small
\bibliographystyle{ieee_fullname}
\bibliography{biblio}
}

\clearpage

\onecolumn
\appendix
\section*{Summary}

This supplementary material contains:
\begin{itemize}
\item proofs of the theoretical results of the main paper in section~\ref{proofs}
\item additional implementation details in section~\ref{details} 
\item a discussion on the contractivity of the autoencoder and its fixed points in section~\ref{sec:contractivity}
\item additional  comparisons with the competing methods  in section~\ref{add}
\end{itemize}
\section{Proofs of the main results}\label{proofs}
In this section we provide proofs relative to Algorithm~\ref{algo:hierarchical_latent_reg}, Proposition~\ref{eq:prop_lipschitz}, Proposition~\ref{prop:fixed_point} and the characterization of the fixed point given by  Algorithm~\ref{algo:final}.
\input{sections/proofs.tex}


\section{Details on PatchVDVAE architecture}\label{details}
In this section, we provide additional details about the architecture of PatchVDVAE. Then, we present the choice of the hyperparameters used for the concurrent methods (presented  in section~\ref{sec:expe} of the main paper) .
\input{sections/supp_patchvdvae.tex}
\input{sections/xp_details.tex}


\section{Discussion on the conctractivity of HVAE}\label{sec:contractivity}
\input{sections/supp_fixed_point.tex}


\section{Comparisons}\label{add}
In this section, we provide additional visual results on face images and natural images.
\subsection{Additional results on face image restoration}
\input{sections/supp_face_restoration.tex}

\subsection{Additional results on natural images restoration}
\input{sections/supp_bsd.tex}


\end{document}