
\begin{tikzpicture}
\LARGE
\node (u1x) at (-3,0.5) {$u_x$};
\node (v1x) at (-1,0.5) {$v_x$};

\node (u2x) at (-3,1.5) {$u_x$};
\node (w2x) at (-1,1.5) {$w_x$};

\node (u3x) at (-3,2.5) {$u_x$};
\node (t3x) at (-1,2.5) {$t_x$};

\node (w1x) at (3,0.5) {$w_x$};
\node (t1x) at (1,0.5) {$t_x$};

\node (v2x) at (3,1.5) {$v_x$};
\node (t2x) at (1,1.5) {$t_x$};

\node (v3x) at (3,2.5) {$v_x$};
\node (w3x) at (1,2.5) {$w_x$};




\draw[->, to path={-| (\tikztotarget)}]
  (w1x) edge[bend left] (t1x) (t1x) edge[bend left] (w1x) (v2x) edge[bend left] (t2x) (t2x) edge[bend left] (v2x) (v3x) edge[bend left] (w3x) (w3x) edge[bend left] (v3x);

\draw[->, to path={-| (\tikztotarget)}]
  (u1x) edge[bend left] (v1x) (v1x) edge[bend left] (u1x) (u2x) edge[bend left] (w2x) (w2x) edge[bend left] (u2x) (u3x) edge[bend left] (t3x) (t3x) edge[bend left] (u3x);
  
  
\node (u1y) at (-3,-0.5) {$u_y$};
\node (v1y) at (-1,-0.5) {$v_y$};

\node (u2y) at (-3,-1.5) {$u_y$};
\node (w2y) at (-1,-1.5) {$w_y$};

\node (u3y) at (-3,-2.5) {$u_y$};
\node (t3y) at (-1,-2.5) {$t_y$};

\node (w1y) at (3,-0.5) {$w_y$};
\node (t1y) at (1,-0.5) {$t_y$};

\node (v2y) at (3,-1.5) {$v_y$};
\node (t2y) at (1,-1.5) {$t_y$};

\node (v3y) at (3,-2.5) {$v_y$};
\node (w3y) at (1,-2.5) {$w_y$};

\node (CXAll) at (0,1.5) {\huge $\mathcal{C}^{\textit{all}}_{\cal X}$};
\node (CYAll) at (0,-1.5) {\huge $\mathcal{C}^{\textit{all}}_{\cal Y}$};



\draw[->, to path={-| (\tikztotarget)}]
  (w1y) edge[bend left] (t1y) (t1y) edge[bend left] (w1y) (v2y) edge[bend left] (t2y) (t2y) edge[bend left] (v2y) (v3y) edge[bend left] (w3y) (w3y) edge[bend left] (v3y);

\draw[->, to path={-| (\tikztotarget)}]
  (u1y) edge[bend left] (v1y) (v1y) edge[bend left] (u1y) (u2y) edge[bend left] (w2y) (w2y) edge[bend left] (u2y) (u3y) edge[bend left] (t3y) (t3y) edge[bend left] (u3y);
  
 \node (u1y2) at (4.5,-0.5) {$u_y$};
\node (v1y2) at (6.5,-0.5) {$v_y$};

\node (u2y2) at (4.5,-1.5) {$u_y$};
\node (w2y2) at (6.5,-1.5) {$w_y$};

\node (u3y2) at (4.5,-2.5) {$u_y$};
\node (t3y2) at (6.5,-2.5) {$t_y$};

\node (w1y2) at (10.5,-0.5) {$w_y$};
\node (t1y2) at (8.5,-0.5) {$t_y$};

\node (v2y2) at (10.5,-1.5) {$v_y$};
\node (t2y2) at (8.5,-1.5) {$t_y$};

\node (v3y2) at (10.5,-2.5) {$v_y$};
\node (w3y2) at (8.5,-2.5) {$w_y$};




\draw[->, to path={-| (\tikztotarget)}]
  (w1y2) edge[bend left] (t1y2) (t1y2) edge[bend left] (w1y2) (v2y2) edge[bend left] (t2y2) (t2y2) edge[bend left] (v2y2) (v3y2) edge[bend left] (w3y2) (w3y2) edge[bend left] (v3y2);

\draw[->, to path={-| (\tikztotarget)}]
  (u1y2) edge[bend left] (v1y2) (v1y2) edge[bend left] (u1y2) (u2y2) edge[bend left] (w2y2) (w2y2) edge[bend left] (u2y2) (u3y2) edge[bend left] (t3y2) (t3y2) edge[bend left] (u3y2);
  
  
\node (u1x2) at (4.5,0.5) {$u_x$};
\node (v1x2) at (6.5,0.5) {$v_x$};

\node (u2x2) at (4.5,1.5) {$u_x$};
\node (w2x2) at (6.5,1.5) {$w_x$};

\node (u3x2) at (4.5,2.5) {$u_x$};
\node (t3x2) at (6.5,2.5) {$t_x$};

\node (w1x2) at (10.5,0.5) {$w_x$};
\node (t1x2) at (8.5,0.5) {$t_x$};

\node (v2x2) at (10.5,1.5) {$v_x$};
\node (t2x2) at (8.5,1.5) {$t_x$};

\node (v3x2) at (10.5,2.5) {$v_x$};
\node (w3x2) at (8.5,2.5) {$w_x$};

\draw[->, to path={-| (\tikztotarget)}]
  (w1x2) edge[bend left] (t1x2) (t1x2) edge[bend left] (w1x2) (v2x2) edge[bend left] (t2x2) (t2x2) edge[bend left] (v2x2) (v3x2) edge[bend left] (w3x2) (w3x2) edge[bend left] (v3x2);

\draw[->, to path={-| (\tikztotarget)}]
  (u1x2) edge[bend left] (v1x2) (v1x2) edge[bend left] (u1x2) (u2x2) edge[bend left] (w2x2) (w2x2) edge[bend left] (u2x2) (u3x2) edge[bend left] (t3x2) (t3x2) edge[bend left] (u3x2);
  
  


\draw[thick] (-7.5,3) rectangle (11.25,-3);
\draw[thick] (-7.5,0) -- (11.25,0);
\draw[thick] (3.75,3) -- (3.75,-3);
\draw[thick] (-3.75,3) -- (-3.75,-3);


\draw[dashed,red,thick] (4,2.95) rectangle (11,2.05);
\draw[dashed,brown,thick] (4,1.95) rectangle (11,1.05);
\draw[dashed,darkgreen,thick] (4,0.95) rectangle (11,0.05);
\node (CX0) at (7.5,2.475) {$\mathcal{C}^{0}_{\cal X}$};
\node (CX1) at (7.5,1.475) {$\mathcal{C}^{1}_{\cal X}$};
\node (CX2) at (7.5,0.475) {$\mathcal{C}^{2}_{\cal X}$};



\draw[dashed,brown,thick] (4,-2.95) rectangle (11,-2.05);
\draw[dashed,darkgreen,thick] (4,-1.95) rectangle (11,-1.05);
\draw[dashed,red,thick] (4,-0.95) rectangle (11,-0.05);

\node (CY0) at (7.5,-2.475) {$\mathcal{C}^{2}_{\cal Y}$};
\node (CY1) at (7.5,-1.475) {$\mathcal{C}^{1}_{\cal Y}$};
\node (CY2) at (7.5,-0.475) {$\mathcal{C}^{0}_{\cal Y}$};

 

\node (vx) at (-7,1.5) {\huge $V_{\mathcal{X}}$};
\node (shapeux) at (-4.1,0.6) {$u_x$};
\node (shapevx) at (-4.2,1.8) {$v_x$};
\node (shapewx) at (-5.2,2.4) {$w_x$};
\node (shapetx) at (-6,1) {$t_x$};

\draw (-4.5,1.8) circle (0.05cm);
\draw (-4.4,1) circle (0.05cm);
\draw (-5.2,2) circle (0.05cm);
\draw (-5.8,1.3) circle (0.05cm);



\node (vx) at (-7,-1.5) {\huge $V_{\mathcal{Y}}$};
\node (shapeuy) at (-4.5,-1) {$u_y$};
\node (shapevy) at (-4.2,-1.8) {$v_y$};
\node (shapewy) at (-5.2,-2.4) {$w_y$};
\node (shapety) at (-6,-1.3) {$t_y$};

\draw (-4.5,-1.8) circle (0.05cm);
\draw (-4.9,-1.2) circle (0.05cm);
\draw (-5.2,-2) circle (0.05cm);
\draw (-5.5,-1.3) circle (0.05cm);

\draw[->, to path={-| (\tikztotarget)}]
  (-5.7,1.2) edge[bend left] (-5.4,-1.2);
\node (PXY) at (-5.82,0.3) {$P_\mathcal{{XY}}$};

\end{tikzpicture}