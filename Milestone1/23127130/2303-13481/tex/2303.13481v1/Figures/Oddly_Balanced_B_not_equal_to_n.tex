%---------------------------------

\begin{figure}
    \centering
  \begin{tikzpicture}

  %begins top row part
  \begin{scope}[scale=0.7, xshift=2.5cm]
  
  % link diagram
      \begin{scope}[scale=1, >=Stealth, xshift=-4cm]
       \node (a) at (-4,0){};
       \node (b) at (-4,1){};
       \node (c) at (-3,1) {};
       \node (d) at (-2,1){};
       %g=d
       \node (g) at (-2,1) {};
       \node (h) at (-1,1){};
       \node (i) at (-1,0) {};
       \node (j) at (-1,-1){};
       \node (k) at (-2,-1) {};
       %k=n
       \node (n) at (-2,-1){};
       \node (o) at (-3,-1) {};
       \node (p) at (-4,-1){};

       % middle 
       \node (middle) at (-2.5,0){};

       %OUTER ONES-----------------------

       %top row
       \draw [out=45, in=135, relative] 
       (b.center) to (c);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (c.center) to (d);
       \draw [out=60, in=135, relative] 
       (g.center) to (h.center);

       %right side
       \draw [out=45, in=135, relative] 
       (h.center) to (i);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (i.center) to (j.center);

       %bottom row
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (j.center) to (k);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (n.center) to (o);
       \draw [out=60, in=135, relative] 
       (o.center) to (p.center);

       %left side
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (p.center) to (a);
       \draw [out=45, in=135, relative] 
       (a.center) to (b.center);
  

    %END OUTER ----
    % INNER ONES--------

        %left side
        \draw [decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (o) to (a.center);
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (a) to (c.center);

       % top row ------    

       %right side
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (g) to (i.center);
       \draw [ decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (i) to (k.center);
       
       % bottom row

       %middle X
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (d.center) to (middle);
       \draw []
       (middle) to (o.center);
       \draw []
       (c) to (middle.center);
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (middle.center) to (n);

       %END INNNERS --------
       
       \end{scope}
    %end link diagram

    %A-circles
  \begin{scope}[scale=1, >=Stealth]
       \node (a) at (-4,0){};
       \node (b) at (-4,1){};
       \node (c) at (-3,1) {};
       \node (d) at (-2,1){};
       %g=d
       \node (g) at (-2,1) {};
       \node (h) at (-1,1){};
       \node (i) at (-1,0) {};
       \node (j) at (-1,-1){};
       \node (k) at (-2,-1) {};
       %k=n
       \node (n) at (-2,-1){};
       \node (o) at (-3,-1) {};
       \node (p) at (-4,-1){};

       %EXTRA MIDDLE NODE: 
       \node (middle) at (-2.5,0){};

%begin drawing the colors of A-circles
\begin{scope}
       %OUTER ONES-----------------------
       

       %top row
       \draw [out=45, in=135, relative, draw=magenta, double=magenta,   very thick, cap=round] 
       (b.center) to (c);
       \draw [out=45, in=135, relative, draw=Cerulean!50, double=Cerulean!50,   very thick, cap=round] 
       (c) to (d);
       \draw [out=60, in=135, relative, draw=Periwinkle!60, double=Periwinkle!60,   very thick, cap=round] 
       (g) to (h.center);

       %right side
       \draw [out=45, in=135, relative, draw=Periwinkle!60, double=Periwinkle!60,   very thick, cap=round] 
       (h.center) to (i);
       \draw [out=45, in=135, relative, draw=Emerald, double=Emerald,   very thick, cap=round] 
       (i) to (j.center);

       %bottom row
       \draw [out=45, in=135, relative, draw=Emerald, double=Emerald,   very thick, cap=round] 
       (j.center) to (k);
       \draw [out=45, in=135, relative, draw=SpringGreen!90, double=SpringGreen!90,   very thick, cap=round] 
       (n) to (o);
       \draw [out=60, in=135, relative, draw=RoyalBlue, double=RoyalBlue,   very thick, cap=round] 
       (o) to (p.center);

       %left side
       \draw [out=45, in=135, relative, draw=RoyalBlue, double=RoyalBlue,   very thick, cap=round] 
       (p.center) to (a);
       \draw [out=45, in=135, relative, draw=magenta, double=magenta,   very thick, cap=round] 
       (a) to (b.center);
  

    %END OUTER ----
    % INNER ONES--------

        %left side
        \draw [draw=magenta, double=magenta,   very thick, cap=round]
       (a) to (c);
        \draw [draw=RoyalBlue, double=RoyalBlue,   very thick, cap=round]
       (o) to (a);
       

       % top row ------    

       %right side
       
       \draw [draw=Emerald, double=Emerald,   very thick, cap=round]
       (i) to (k);
       \draw [draw=Periwinkle!60, double=Periwinkle!60,   very thick, cap=round]
       (g) to (i);
       
       % bottom row

       %middle X
       \draw [draw=Cerulean!50, double=Cerulean!50,   very thick, cap=round]
       (d) to (middle);
       \draw [draw=SpringGreen!90, double=SpringGreen!90,   very thick, cap=round]
       (middle) to (o);
       \draw [draw=Cerulean!50, double=Cerulean!50,   very thick, cap=round]
       (c) to (middle);
       \draw [draw=SpringGreen!90, double=SpringGreen!90,   very thick, cap=round]
       (middle) to (n);

       %END INNNERS --------
    \end{scope}
    %end actually drawing hte A-circle colors

%begin overlay diagram on top
       \begin{scope}
                  %OUTER ONES-----------------------

       %top row
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (b.center) to (c);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (c.center) to (d);
       \draw [out=60, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (g.center) to (h.center);

       %right side
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (h.center) to (i);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (i.center) to (j.center);

       %bottom row
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (j.center) to (k);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (n.center) to (o);
       \draw [out=60, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (o.center) to (p.center);

       %left side
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (p.center) to (a);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (a.center) to (b.center);
  

    %END OUTER ----
    % INNER ONES--------

        %left side
        \draw [decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (o) to (a.center);
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (a) to (c.center);

       % top row ------    

       %right side
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (g) to (i.center);
       \draw [ decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (i) to (k.center);
       
       % bottom row

       %middle X
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (d.center) to (middle);
       \draw []
       (middle) to (o.center);
       \draw []
       (c) to (middle.center);
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (middle.center) to (n);

       %END INNNERS --------
       \end{scope}
    %end overlay diagram on top 
         
       \end{scope}
    %end A-circles

    %B-circles
  \begin{scope}[scale=1, >=Stealth, xshift=4cm]
       \node (a) at (-4,0){};
       \node (b) at (-4,1){};
       \node (c) at (-3,1) {};
       \node (d) at (-2,1){};
       %g=d
       \node (g) at (-2,1) {};
       \node (h) at (-1,1){};
       \node (i) at (-1,0) {};
       \node (j) at (-1,-1){};
       \node (k) at (-2,-1) {};
       %k=n
       \node (n) at (-2,-1){};
       \node (o) at (-3,-1) {};
       \node (p) at (-4,-1){};

       %EXTRA MIDDLE NODE: 
       \node (middle) at (-2.5,0){};

%begin drawing the colors of B-circles
\begin{scope}
       %OUTER ONES-----------------------
       

       %top row
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (b.center) to (c);
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (c) to (d);
       \draw [out=60, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (g) to (h.center);

       %right side
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (h.center) to (i);
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (i) to (j.center);

       %bottom row
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (j.center) to (k);
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (n) to (o);
       \draw [out=60, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (o) to (p.center);

       %left side
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (p.center) to (a);
       \draw [out=45, in=135, relative, draw=purp, double=purp,   very thick, cap=round] 
       (a) to (b.center);
  

    %END OUTER ----
    % INNER ONES--------

        %left side
        \draw [draw=orange, double=orange,   very thick, cap=round]
       (a) to (c);
        \draw [draw=orange, double=orange,   very thick, cap=round]
       (o) to (a);
       

       % top row ------    

       %right side
       
       \draw [draw=cyan, double=cyan,   very thick, cap=round]
       (i) to (k);
       \draw [draw=cyan, double=cyan,   very thick, cap=round]
       (g) to (i);
       
       % bottom row

       %middle X
       \draw [draw=cyan, double=cyan,   very thick, cap=round]
       (d) to (middle);
       \draw [draw=orange, double=orange,   very thick, cap=round]
       (middle) to (o);
       \draw [draw=orange, double=orange,   very thick, cap=round]
       (c) to (middle);
       \draw [draw=cyan, double=cyan,   very thick, cap=round]
       (middle) to (n);

       %END INNNERS --------
    \end{scope}
    %end actually drawing hte B-circle colors

%begin overlay diagram on top
       \begin{scope}
                  %OUTER ONES-----------------------

       %top row
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (b.center) to (c);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (c.center) to (d);
       \draw [out=60, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (g.center) to (h.center);

       %right side
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (h.center) to (i);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (i.center) to (j.center);

       %bottom row
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (j.center) to (k);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (n.center) to (o);
       \draw [out=60, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (o.center) to (p.center);

       %left side
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}] 
       (p.center) to (a);
       \draw [out=45, in=135, relative, decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}] 
       (a.center) to (b.center);
  

    %END OUTER ----
    % INNER ONES--------

        %left side
        \draw [decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (o) to (a.center);
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (a) to (c.center);

       % top row ------    

       %right side
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (g) to (i.center);
       \draw [ decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (i) to (k.center);
       
       % bottom row

       %middle X
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{<}}}, postaction={decorate}]
       (d.center) to (middle);
       \draw []
       (middle) to (o.center);
       \draw []
       (c) to (middle.center);
       \draw [decoration={markings, mark=at position 0.5 with {\arrow{>}}}, postaction={decorate}]
       (middle.center) to (n);

       %END INNNERS --------
       \end{scope}
    %end overlay diagram on top 
         
       \end{scope}
    %end B-circles

\end{scope}
%ends top row part 

%begins second row part
\begin{scope}[scale = 0.4, yshift=-5cm, thick]

\node (a) at (-2,2){};
\node (b) at (0,2){};
\node (c) at (2,2){};
\node (d) at (2,0){};
\node (e) at (0,0){};
\node (f) at (-2,0){};

\draw[]
(a) -- (c) -- (d) -- (f) -- (a)
(b) -- (e);

\filldraw[color=magenta, fill=magenta!5, very thick]
(a) circle (1/3);
\filldraw[color=Cerulean, fill=Cerulean!5, very thick]
(b) circle (1/3);
\filldraw[color=Periwinkle!90, fill=Periwinkle!5, very thick]
(c) circle (1/3);
\filldraw[color=Emerald, fill=Emerald!5, very thick]
(d) circle (1/3);
\filldraw[color=SpringGreen!90, fill=SpringGreen!5, very thick]
(e) circle (1/3);
\filldraw[color=RoyalBlue, fill=RoyalBlue!5, very thick]
(f) circle (1/3);


    
\end{scope}
%ends second row part of it 

  \end{tikzpicture}
    \caption{An Oddly Balanced knot diagram (left), its $A$-circles (top middle), $A$-state graph (bottom), and its $B$-circles (right)}
    \label{fig:Oddly Balanced B not equal to n}
\end{figure}

%-----------------------------------