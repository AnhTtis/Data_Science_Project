

\begin{algorithm}[t]
\caption{Pseudo code of our method in a PyTorch-like style.}
\label{alg:code}
% \algcomment{\fontsize{9pt}{0em}\selectfont \texttt{bmm}: batch matrix multiplication; \texttt{mm}: matrix multiplication; \texttt{cat}: concatenation.
% %\vspace{-1.em}
% }
\definecolor{codeblue}{rgb}{0.25,0.5,0.5}
\lstset{
  backgroundcolor=\color{white},
  basicstyle=\fontsize{9pt}{9pt}\ttfamily\selectfont,
  columns=fullflexible,
  breaklines=true,
  captionpos=b,
  commentstyle=\fontsize{9pt}{9pt}\color{codeblue},
  keywordstyle=\fontsize{9pt}{9pt},
%  frame=tb,
}
\begin{lstlisting}[language=python]
# f_mlp: 2-layer MLP with ReLU activation
# x_s: student feature [N, C, H, W]
# x_t: teacher feature [N, C, H, W]

def forward(x_s, x_t):
    n = x_s.shape[0] # size of mini-batch
    
    # channel-wise non-linear transformation
    x_mlp = f_mlp.forward(x_s) 
    
    # calculate l2 distance
    diff = (x_mlp - x_t).pow(2) 
    
    # distillation loss (averaged by batch)
    loss = diff.sum() / n
    
    return loss
\end{lstlisting}
\end{algorithm}    
