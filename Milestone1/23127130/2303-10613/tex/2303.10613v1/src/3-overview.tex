\section{Problem Statement and Overview}

In this section, we present an overview of the proposed approach. To precisely explain our techniques, we first provide the definition of several related terminologies (Fig.~\ref{fig:definition}).

\begin{figure}[!t]
    \centerline{
    \includegraphics[width=1.0\linewidth]{figs/definition_v4.pdf}
    }
    \caption{Definitions of CAD terminologies used in this paper. Note that the axis of the sketch plane in the figure is the same as the z-axis in the extrusion box.}
    \label{fig:definition}
\end{figure}

\subsection{Preliminaries}

\noindent\textbf{Definition 1} (Loop, Profile and Sketch) 
\noindent\emph{In CAD terminology, a sketch is represented by a collection of geometric primitives. By referring to a closed curve as a loop and an enclosed region composed of one or multiple \rev{inner/outer} loops as a profile, we define a sketch as the collection of one profile and its loops.}
% \noindent\emph{In CAD terminology, a sketch can be a sequence of CAD instructions~\cite{seff2021vitruvion} or a collection of geometric primitives~\cite{seff2021vitruvion}. This paper adopts the latter definition. Referring a closed curve as loop, a closed region composed of one or multiple loops as profiles, we define a sketch as the collection of one profile and its loops.}
\\

\noindent\textbf{Definition 2} (Sketch plane and Extrusion box) 
\noindent\emph{A sketch plane is a finite plane with width $w$ and length $l$, containing one or more sketches with the same extrusion height $h$. Then we define an extrusion box as a cuboid with the sketch plane as the base and $2h$ as the height.}
\\

\noindent\textbf{Definition 3} (Cylinder primitive and Cylinder) 
\noindent\emph{In this work, a cylinder refers to the shape obtained by extruding a sketch, and a cylinder primitive is obtained by performing an extrude operation on a closed area formed by a loop. A cylinder may contain one cylinder primitive or be obtained from several cylinder primitives through the Difference operation used in CSG modeling.}

\subsection{Overview}
We formulate the problem of CAD reconstruction as \emph{sketch} and \emph{extrude} inference: taking an input 3D shape, SECAD-Net aims to reconstruct the CAD model by predicting a set of geometric proxies that are decomposed to sketch-extrude operations. 
The overall pipeline of SECAD-Net is visualized in Fig.~\ref{fig:overview}. 
%Given a 3D shape that can be represented as a point cloud or voxel grids, a voxel representation of a 3D shape
Given a 3D voxel model, we first map it into a latent feature embedding $\mathbf{z}$ by using an encoder based on a 3D convolutional network. 
An extrusion box head network is then applied to predict the parameters of the sketch planes from $\mathbf{z}$. We employ $N$ sketch head network to independently learn $N$ 2D signed distance fields (SDFs) as the implicit representation of a sketch. Next, we design a differentiable extrusion operator to calculate the SDF of the 3D cylinder primitives corresponding to the sketches. Finally, an occupancy transformation operation and a union operation transform the multiple SDFs into the full 3D reconstructed shape as the output of the network. 
% Note that SECAD-Net is an end-to-end self-supervised learning framework that does not require ground-truth labels in the training phase. %except for the voxel representation of the input shape in the training pipeline.



% Concatenate the two-dimensional coordinates and feature codes obtained by projecting the coordinates of the three-dimensional space sampling points along the normal of the $i$-th sketch plane into the MLP, and calculate the signed distance $D_i$ between the sampling points and the $i$-th sketch.

% We design a differentiable extrusion operator that extrudes $D_i$ into a 3D signed distance field $D_i$ according to the height $h_i$ of the $i$-th sketch. Finally, we convert all $D_i$ to primitive $O_i$ of occupancy representation and perform Union operation to get the final reconstructed shape. SECAD-Net, as an end-to-end self-supervised learning network, does not require other ground truths as labels in the training pipeline except the the input voxels.
