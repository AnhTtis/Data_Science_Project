\section{Preliminaries}
\label{sec:preliminaries}

\subsection{Acronyms/Initialisms}
\input{sections/acronym}

\subsection{Notation}
% \urg{Fill in the notation}

The set of real numbers is $\R$ and the $n$-dimensional real vector spaces is $\R^n$. The all-ones vector is $\1$. The set of natural numbers is $\N$ and the set of $n$-dimensional multi-indices is $\N^n$. The set of natural numbers between $a$ and $b$ is $a..b \subset \N$. The cone of $n \times n$ symmetric \ac{PSD} matrices is $\psd^n_+$.

The set of polynomials of an indeterminate $x$ with real-valued coefficients is $\R[x]$. The degree of a polynomial $p \in \R[x]$ is $\deg p$. The vector space of polynomials up to degree $d \in \N$ is $\R[x]_{\leq d}$. The coefficients of a polynomial $p \in \R[x]$ are $\text{coeff}_x(p(x))$.
 

The ring of continuous functions over a space $S \subseteq \R^n$ is $C(S)$. The set of first-differentiable functions over $S$ is $C^1(S) \subset C(S)$. The subcone of nonnegative functions over $S$ is $C_+(S) \subset C(S)$.

The set of nonnegative Borel measures over $S$ is $\Mp{S}$. Given a measure $\mu \in \Mp{S}$, the support $\supp{\mu}$ is the locus of points $s' \in S$ such that every open neighborhood of $s'$ has a nonzero measure with respect to $\mu$.
A pairing $\inp{\cdot}{\cdot}$ may be defined between $f \in C(S)$ and $\mu \in \Mp{S}$ by $\inp{f}{\mu} = \int_{S} f(s) d \mu(s)$. This pairing defines an inner product between $C_+(S)$ and $\Mp{S}$ when the set $S$ is compact. The mass of a measure $\mu \in \Mp{S}$ is $\inp{1}{\mu},$ and $\mu$ is a probability measure if $\inp{1}{\mu}=1$. The Dirac delta $\delta_{s'}$ is the unique probability supported only at $s' \in S$, with $\forall f \in C(S): \inp{f}{\delta_{s'}} = s'$. Given a curve $s: [0, T] \times S$, the occupation measure $\mu_{s}$ of $s(t)$ in the times $[0, T]$ is the unique measure satisfying $\forall v \in C([0, T] \times S): \inp{v(t, s)}{\mu_s} = \int_{0}^T v(t, s(t)) dt$.
 
% \old{
% The set of $m \times n $ matrices with real values is $\R^{m \times n}$. The set of symmetric matrices $\psd^n$ satisfy $Q = Q^T, Q \in \R^{n\times n}$. A symmetric matrix $Q \in \psd^n$ is \ac{PSD} ($Q \succeq 0, \ Q \in \psd_+^n$) if all eigenvalues of $Q$ are nonnegative. A matrix is \ac{PD} ($Q \succ 0, \ Q \in \psd_{++}^n$) if all eigenvalues of $Q$ are positive.

% A multi-index is a member of $\N^n$ for finite $n$. The degree of a multi-index $\alpha \in \N^n$ is $\deg \alpha = \sum_i \alpha_i$. A multi-index $\alpha$ is finite if its degree is finite.
% A monomial $x^\alpha = \prod_{i=1}^n x^{\alpha_i}$ is a function in an indeterminate value $x$ for a finite multi-index $\alpha$. 
% A polynomial with real coefficients $p(x) \in \R[x]$ may be expressed as the sum $p(x) = \sum_{\alpha \in \mathcal{A}} c_\alpha x^\alpha$ over a finite-cardinality set of finite multi-indices $\mathcal{A}$ with bounded coefficients $\{c_\alpha\}_{\alpha \in \mathcal{A}}$. The degree of a polynomial is $\deg p = \max_{\alpha \in \mathcal{A}} \deg \alpha$. The set $\R[x]_{\leq d}$ is the set of polynomials with degree at most $d$. An $n$-dimensional vector of polynomials is $\R[x]^n$.


% Let $S \subset \R^n$ be a space, and let $\varnothing$ be the empty set. The ring of continuous functions over $S$ is $C(S)$, and its subring of functions with continuous first derivatives is $C^1(S) \subset C(S)$. The cone of nonnegative functions over $S$ is $C_+(S)$.
% The $C^0$ norm of a function $f \in C^0(S)$ is $\norm{f}_{C^0(S)} = \sup_{s \in S} \abs{f(x)}$. The $C^1$ norm of $f \in C^1(S)$ is $\norm{f}_{C^1(S)} = \norm{f}_{C^0(S)} + \sum_{i=1} \norm{\partial_i f}_{C^0(S)}$.
% }

% \subsection{Peak Minimizing Control}
% \label{sec:crash_prelim}

% % Let $T$ be a time horizon, $X \subset \R^n$ be a set of states, $U \subset \R^L$ be a set of controls, and $x(t \mid x_0, u(t))$ be a controlled trajectory at time $t$ starting from the initial state $x_0 \in X$. 

% This section reviews the peak-minimizing control problem and a simplified conversion framework based on \cite{molina2022equivalent}.
% Given an objective $\theta: [0, T] \times X \times W \rightarrow \R$, an initial condition $x_0$, and a fixed terminal time $T$, the peak-minimizing control problem is
    
%     \begin{align}
%     P^* = & \inf_{w \in \mathcal{W}} \quad \sup_{ t' \in [0, T]} \theta(t', x(t' \mid x_0, w(\cdot)), w(t'))) \label{eq:peak_min_traj}\\
%     & \dot{x}(\rw{t'}) =  f(t', x(t'), w(t')) \qquad \forall t \in [0, T]. \nonumber
%     \end{align}



% The work in \cite{molina2022equivalent} details three different methods to convert a peak-minimizing control \ac{OCP} into a Mayer \ac{OCP}: pure state constraint, mixed state constraint, and differential inclusion. We will elect to use the first method in \cite{molina2022equivalent}, which involves the augmentation of constant dynamics by a new state $\dot{z} = 0$:
% \begin{equation}
%     \label{eq:peak_min_z}
%     \begin{aligned}
%     P^*_z = & \inf_{w \in \mathcal{W}, z \in \R} \quad z \\
%     & \dot{x}(t) =  f(t, x(t), w(t)) & & \forall t \in [0, T] \\
%     & \dot{z} = 0 & & \forall t \in [0, T] \\
%     & z \geq \theta(t', x(t' \mid x_0, w(\cdot)), w(t')) & & \forall t' \in [0, T].
%     \end{aligned}
% \end{equation}

% The parameter $z$ always remains an upper bound on $\rw{\theta}$ along trajectories, and the \rw{input sequence} $w(\cdot)$ is chosen to reduce this upper bound \rw{$z$} as much as possible.

% \begin{prop}[Proposition 3.1 of \cite{molina2022equivalent}] The objectives $P^*$ and $P^*_z$ are equal between  \eqref{eq:peak_min_z} and \eqref{eq:peak_min_traj}. \label{prop:peak_min}
% \end{prop}
\subsection{Sum of Squares}

Verifying that a polynomial $p \in \R[x]$ is nonnegative $\forall x \in \R^n$ is generically an NP-hard problem (except for $p$ quadratic, univariate, or bivariate quartic) \cite{hilbert1888darstellung}. A sufficient condition for $p$ to be nonnegative is if there exists $N$ factors $\{p_k \in \R[x]\}_{k=1}^N$ such that $p = \sum_{k=1}^N p_k(x)^2$. Such a $p$ is therefore called an \ac{SOS} polynomial. The cone of \ac{SOS} polynomials is $\Sigma[x]$, and the subset of degree $\leq 2d$ \ac{SOS} polynomials is $\Sigma[x]_d \subset \Sigma[x]$. To each polynomial $p \in \Sigma[x]_d$, there exists an $s$-dimensional vector of polynomials $v(x)$ (e.g. monomials up to degree $d$) and \iac{PSD} \textit{Gram} matrix $Q \in \psd_+^s$ such that $p(x) = v(x)^T Q v(x)$. When the monomial basis is used, the Gram matrix has dimension $\binom{n+d}{d}$. Verification of $p \in \Sigma[x]_{2d}$ at fixed degree can be performed by solving \iac{SDP}. The per-iteration scaling of Interior Point Methods for solving this \ac{SDP}  rises in a jointly polynomial manner with $n$ and $d$ (with  $O(n^{6d})$ and $O(d^{4n})$) \cite{alizadeh1995interior} \cite{miller2022eiv_short}.

\Iac{BSA} set $\K \in \R^n$ is a set formed by the locus of a finite number of inequality and equality constraints of bounded degree:
\begin{align}
\label{eq:bsa_set}
    \K &= \{x \mid \forall i=1..N_g: \ g_i(x)\geq 0, \ \forall i=1..N_h: \ h_j(x)=0\}.
\end{align}
A sufficient condition for $p \in \R[x]$ to be nonnegative over $\K$ is that there exists multipliers $\sigma_0, \sigma_i, \phi_j$ such that
\cite{putinar1993compact}
\begin{subequations}
\label{eq:putinar}
    \begin{align}
        & p(x) = \sigma_0(x) + \textstyle \sum_i {\sigma_i(x)g_i(x)} + \textstyle \sum_j {\theta_j(x) h_j(x)}\\
        &\exists  \sigma_0(x) \in \Sigma[x], \quad \sigma_i(x) \in \Sigma[x], \quad \phi_j \in \R[x]. \label{eq:putinar_variables}
    \end{align}
\end{subequations}
The \ac{WSOS} cone $\Sigma[\K]$ is the set of polynomials that admit a representation as in \eqref{eq:putinar}. The truncated \ac{WSOS} set $\Sigma[\K]_{d}$ is the set of polynomials where the certificate in \eqref{eq:putinar} has $\deg \sigma_0 \leq 2d, \ \forall i: \deg \sigma_i g_i \leq 2d, $ and $\forall j: \deg \phi_j h_j \leq 2d$. Verification of $p \in \Sigma[\K]$ could require multipliers that have an exponential degree in $n$ and $\deg p$ \cite{nie2007complexity}.

The \ac{BSA} set $\K$ is \textit{Archimedean} if there exists $R \in [0, \infty)$ such that $R - \norm{x}_2^2 \in \Sigma[\K]$. Archimedeanness is a stronger property than compactness \cite{cimpric2011closures}. If there exists a known $\tilde{R}$ verifying compactness such that $\K \subseteq \{x \in \R^n \mid \norm{x}_2^2 \leq \tilde{R}\},$ then the compact set $\K$ may be rendered Archimedean by adding the redundant ball constraint $\tilde{R} - \norm{x}^2_2 \geq 0$ to the list of constraints in \eqref{eq:bsa_set}. When $\K$ is Archimedean, the Putinar Positivestellensatz states that every positive polynomial over $\K$ is a member of $\Sigma[\K]$ \cite[Theorem 1.3]{putinar1993compact}. The moment-\ac{SOS} hierarchy is the process of increasing the degree $d$ in $\Sigma[\K]_{d}$ to eventually include the set of all positive polynomials.


% Putinar Psatz \cite{putinar1993compact}

% Scherer Psatz for Matrices \cite{scherer2006matrix}