\section{Multi-instance Learning in MIA} \label{sec: mil}
\input{Sections/Tables/tab_multi_ins_v2.tex}

\subsection{Local Detection}
Since we define \textbf{local detection} as detecting or localizing all the particular disease patterns of an input image, papers with the purpose of segmentation or localization can be classified into this category. Most researchers design their local detection model to infer every patch label and thereby obtain both the local annotations and the global labels. Thus, the \textbf{local detection} methods often include \textbf{global detection} methods since inferring image-level labels after obtaining the local annotations. 

Schwab \textit{et al.} \cite{schwab2020localization}, apply the basic MIL algorithm to conduct the localization and classification of chest X-rays. They input every patch of the original sample into a CNN, and the model outputs a score for the patch representing its probability of containing a critical finding. Once the patch-level classifier is trained, the most straightforward way to perform slide-level classification is to integrate the patch-level predictions with max-pooling or average-pooling. The design for the pooling function plays an important role in the performance improvement of the MIL algorithm. For instance, in \cite{couture2018multiple}, the authors design a more general MIL aggregation method by utilizing a quantile function as the pooling function. By doing so, a more thorough description of the heterogeneity of each sample can be provided, enhancing the quality of global classification.
Other studies \cite{ilse2018attention,wang2019rmdl} propose learning-based aggregation operators to provide insight into the contribution of each instance to the bag. Among them, several are based on the attention-based MIL developed by Ilse \textit{et al.} in \cite{ilse2018attention}. By introducing the attention mechanism into MIL, their model can better capture the key features of regions of interest with interpretation. For the pancreatic ductal adenocarcinoma (PDAC) prediction problem, Wang \textit{et al.} \cite{wang2021learning} design an inductive attention guidance network for both classification and segmentation. The attention mechanism works as a connection between the global classifier and local (instance) segmenter by guiding the location of PDAC regions. 

Other intriguing improvements in \textbf{local detection} are springing up as well. Researchers have tried many different ways to facilitate instance prediction\cite{dov2021weakly,manivannan2017subcategory,jia2017constrained,xu2019camel}. Dov \textit{et al.} \cite{dov2021weakly} demonstrate that the general MIL methods perform poorly on cytopathology data for two reasons: instances that contain key information are located sparsely in a gigapixel pathology image, and the informative instances have various characteristics of abnormality. Thus, they propose a MIL structure involving maximum likelihood estimation to predict multiple labels, i.e., bag-level labels and diagnostic scores; instance-level labels and informativeness, simultaneously. Similarly, when studying the classification of the retinal nerve fiber layer (RNFL), Manivannan \textit{et al.} \cite{manivannan2017subcategory} have observed that regions that contain the RNFL generally have strong intra-class variation, making them difficult to distinguish from other regions. Therefore, they map the instances into a discriminative subspace to increase the discrepancy for disentangled instance feature learning. Jia \textit{et al.} \cite{jia2017constrained} incorporate the multi-scale image feature into the learning process to obtain more latent information on histopathology images. Finally, to address the problem that only image-level labels are provided in MIL, Xu \textit{et al.} \cite{xu2019camel} design an automatic instance-level label generation method. Their work has led to an interesting MIL algorithm design direction and may shed light on how to improve the performance of \textbf{local detection} algorithms.

In parallel, there has been significant progress in related domains such as phenotype categorization \cite{yao2020whole, hashimoto2020multi, yao2019deep} and multi-label classification \cite{mercan2017multi}. These investigations have further exemplified the versatility and potential of the MIL algorithm in addressing complex challenges across various subfields. 

\subsection{Global Detection}
\textbf{Global detection} refers to methods that simply aim to find out whether or not target patterns exist. For example, for the COVID-19 screening problem, researchers \cite{li2021novel} have designed MIL algorithms to classify an input sample as severe or not instead of locating every abnormal patch. 

To facilitate the prediction of image-level labels (\textit{e.g.} WSI-level label), researchers normally start from one of two aspects, namely instance- and bag-level. Most existing MIL algorithms \cite{tomita2019attention, hashimoto2020multi,naik2020deep,lu2021data} are based on the basic assumption that instances of the same bag are independent and identically distributed. Consequently, the correlations among instances are neglected, which is not realistic. Recently several works have taken the correlation among instances or tissues into consideration\cite{shao2021transmil,wang2022lymph,wang2019rmdl,raju2020graph,han2020accurate}. In \cite{shao2021transmil}, Shao \textit{et al.} introduce Vision Transformer (ViT) into MIL for gigapixel WSIs due to its great advantage in capturing the long-distance information and correlation among instances in a sequence. Meanwhile, to conduct precise lymph node metastasis prediction, Wang \textit{et al.} \cite{wang2022lymph} not only incorporate a pruned Transformer into MIL but also develop a knowledge distillation mechanism based on other similar datasets, such as a papillary thyroid carcinoma dataset, effectively avoiding the overfitting problem caused by the insufficient number of samples in the original dataset. Similarly, Raju \textit{et al.} \cite{raju2020graph} design a graph attention MIL algorithm for colorectal cancer staging, which utilizes different tissues as nodes to construct graphs for instance relation learning. Further, in order to utilize the multi-resolution characteristics of WSIs, Shi \textit{et al.} \cite{shi2023structure} consider WSIs as multi-scale graphs and utilize attention mechanism to integrate their information for primary tumor stage prediction. Similar idea can be found in \cite{yan2023genemutation, shi2023mg, xiang2023multi}. Besides, Liu \textit{et al.} \cite{liu2024advmil} firstly propose an integration of GAN with MIL mechanism for robust and interpretable WSI survival analysis by more accurately estimating target distribution. 

For bag-level improvement, recent years have witnessed two feasible approaches, namely, improved pooling methods and pseudo bags. On the one hand, in order to aggregate the instances with the most information, some researchers have developed novel aggregation methods in MIL algorithms instead of the traditional max pooling \cite{chikontwe2020multiple,das2018multiple}. For example, in \cite{chikontwe2020multiple}, the authors design a pyramid feature aggregation method to directly obtain a bag-level feature vector. On the other hand, however, there is an inherent problem for MIA, especially for histopathology --- the number of WSIs (bags) is usually small, while in contrast, one WSI has numerous patches, leading to an imbalance in the number of bags and instances. To address this problem, Zhang \textit{et al.} \cite{zhang2022dtfd} randomly split the instances of a bag into several smaller bags, called "pseudo bags", with labels that are consistent with the original bag. A similar idea can also be seen in \cite{li2021novel}.

Other improvements in MIL algorithms are also worth mentioning\cite{su2022attention2majority,tennakoon2019classification,wang2020ud}. In \cite{su2022attention2majority}, an intelligent sampling method is developed to collect instances with high confidence. This method excludes patches shared among different classes and tends to select the patches that match with the bag-level label. In \cite{tennakoon2019classification}, the authors utilize the extreme value theory to measure the maximum feature deviations and consequently leverage them to recognize the positive instances, while in \cite{wang2020ud}, Wang \textit{et al.} introduce an uncertainty evaluation mechanism into MIL for the first time, and train a robust classifier based on this mechanism to cope with OCT image classification problem. 

\subsection{Discussion}
Multi-instance learning in MIA is mainly applied to whole slide image analysis, which can be described as ``a needle in a haystack" problem, making bag-level decisions out of thousands of instances. MIL methods are developed to locate the discriminative patches as a basis for diagnosis. To achieve this goal, MIL research can be divided into several focuses. For the bag-instance correlation, a WSI is represented as a bag containing selected patches during training, which leads to the question of how the patches should be selected to make the bag representative of the WSI. Further, how to handle and leverage the imbalance of positive and negative samples could have a significant impact on model performance. For the instance-instance correlation, the proper modeling and utilization of instance relations can boost the performance of MIL algorithms and advance the interpretability of the model.


