\newcommand{\figintro}{
\begin{figure}[t]
\setlength\belowcaptionskip{-0.5\baselineskip}
    \centering
    \includegraphics[width=1\columnwidth]{Figures/Fig1_final_screen.png}
    \caption{Parameter and activation sharing across task and temporal domains. First, the base task produces its activations at time $t$, then passes them to sub-tasks $b_k$ to share the computation across the task domain. Also, the base task activations at time $t$ are shared with time $t+1$ to  reduce the computation across the temporal domain.}
    \label{fig:fig_intro}
\end{figure}
}

\newcommand{\figoper}{
\begin{figure}[h]
    \centering
    \includegraphics[width=1\columnwidth]{Figures/Fig2.pdf}
    \caption{Draft Figure 3.}
    \label{fig:fig_oper}
\end{figure}
}

\newcommand{\figreg}{
\begin{figure}[!h]

    \centering
    \subfloat[Weight sparsity]{%
    \includegraphics[width=0.4\columnwidth]{Figures/human_reg_w.png}
    }
    \centering
    \subfloat[Activation sparsity]{%
    \includegraphics[width=0.4\columnwidth]{Figures/human_reg_act.png}
    }
    \caption{The impacts of $\lambda_w$ and $\lambda_{a1}$ on the human parsing task in Pascal-context dataset.}
    \label{fig:fig_abl_task}
    
\end{figure}
}

\newcommand{\figvis}{
\begin{figure*}[t]
%\setlength\belowcaptionskip{-0.1\baselineskip}
    \centering
    \includegraphics[width=0.9\linewidth]{Figures/Fig3_Final.png}
    \caption{Qualitative comparison with the previous SOTA InvPT and `ST' model on PASCAL-Context dataset. Examples of the regions where our model outperforms InvPT are shown with yellow circles. }
    \label{fig:fig_pas_vis}
\end{figure*}
}

\newcommand{\figspa}{
\begin{figure}[h]
    \centering
    \includegraphics[width=1\columnwidth]{Figures/temporal_vs_task (1).pdf}
    \caption{Task and temporal activation sparsity for different tasks.}
    \label{fig:task-temp-sparse}
\end{figure}
}

\newcommand{\figwholepas}{
\begin{figure*}[t]
\setlength\belowcaptionskip{-1.3\baselineskip}
    \centering
    \begin{minipage}{.4\textwidth}
        \centering
        \includegraphics[width=0.95\columnwidth]{Figures/Human_parse_abliation_study.pdf}
        \caption{The impacts of $\lambda_w$ and $\lambda_{a1}$ on the human parsing task for Pascal-context dataset.}
    \label{fig:fig_abl_task}
    \end{minipage}\qquad \qquad
    \begin{minipage}{0.5\textwidth}
        \centering
       \includegraphics[width=1\columnwidth]{Figures/temporal_vs_task (1).pdf}
         \caption{Task and temporal activation sparsity for different tasks.}
    \label{fig:task-temp-sparse}
    \end{minipage}
\end{figure*}
}


\newcommand{\figwholepasfinal}{
\begin{figure*}[t]
\setlength\belowcaptionskip{-1\baselineskip}
    \centering
    \begin{minipage}{.47\textwidth}
        \centering
        \includegraphics[width=1\columnwidth]{Figures/Fig4_Final.png}
    \caption{Overall delta weight and delta task activation sparsity for the Pascal-Context dataset ($\emph{left}$) and the NYUD-v2 dataset ($\emph{right}$).}
    \label{fig:all_sparsity}
    \end{minipage} \qquad
    \begin{minipage}{0.48\textwidth}
       \centering
        \includegraphics[width=1\columnwidth]{Figures/Fig5_final.png}
        \caption{The impacts of $\lambda_w$ and $\lambda_{a1}$ on the human parsing task for Pascal-context dataset.}
    \label{fig:fig_abl_task}
    \end{minipage}
\end{figure*}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TABLES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\tabelablationnpascal}{
    \begin{table*}[t]
    \caption{Performance and complexity of our proposed method with different levels of sharing on (a) PASCAL-Context dataset and (b) NYUD-v2 for a single image.} %We also put the performance of the SOTA transformer-based method as the reference for comparison.}
    \vspace{-4mm}
    \label{table:share_pasca}
    \centering
    \small
    \resizebox{2.1\columnwidth}{!}{%
    \subfloat[Performance results for Pascal-Context dataset.]{%
    \begin{tabular}{c|ccccc|ccccc}
    \hline
    \multirow{2}{*}{\textbf{Method}}        & \textbf{Semseg} & \textbf{Parsing} & \textbf{Saliency} & \textbf{Normal} & \textbf{Boundary} & \multirow{2}{*}{\textbf{Param} (M)} & \multirow{2}{*}{\textbf{Memory} (Mb)}  & \textbf{Total} & \textbf{Base-task} & \textbf{Per Sub-task}                \\
           & \scriptsize \textbf{mIoU} $\uparrow$  & \scriptsize \textbf{mIoU} $\uparrow$  & \scriptsize \textbf{maxF} $\uparrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$ &  & & \textbf{FLOPs} (G) & \textbf{FLOPs} (G) & \textbf{FLOPs} (G)\\ \hline\hline
           \\[\dimexpr-\normalbaselineskip+2pt]
     Single Task (ST) & 78.24 &	73.85&	85.33&	13.32&	79.9&	438.02&	1776 & 585.15 & 120.53 & 116.15      \\ \hline
    \\[\dimexpr-\normalbaselineskip+2pt]
    InvPT  & 77.33  & 66.62 & 85.14 & 13.78 & 73.2 & 176.35 & 705 & 412.17 & 82.43 & 82.43  \\
    Ours + weight sharing        & 78.24 & 73.16 & 85.42 & 13.34 & 79.9 & 114.02 & 482 & 585.15  & 120.53 & 116.15 \\
    \rowcolor[gray]{.90}
        Ours + weight + act sharing   & \textbf{78.24}  & \textbf{71.71} & \textbf{85.28}  & \textbf{13.65} & \textbf{78.6} & \textbf{114.02} & \textbf{482} & \textbf{295.84}& 120.53 & \textbf{43.76}\\
     \hline
    \end{tabular}}}
    \resizebox{1.95\columnwidth}{!}{%
    \subfloat[Performance results for NYUD-v2 dataset.]{%
    \begin{tabular}{c|cccc|ccccc}
    \hline
    \multirow{2}{*}{\textbf{Method}}        & \textbf{Semseg} & \textbf{Depth} & \textbf{Normal} & \textbf{Boundary} & \multirow{2}{*}{\textbf{Param} (M)} & \multirow{2}{*}{\textbf{Memory} (Mb)}   & \textbf{Total} & \textbf{Base-task} & \textbf{Per Sub-task}                    \\
           & \scriptsize \textbf{mIoU} $\uparrow$  &  \scriptsize \textbf{RMSE} $\downarrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$ &  &  & \textbf{FLOPs} (G) & \textbf{FLOPs} (G) & \textbf{FLOPs} (G) \\ \hline\hline
           \\[\dimexpr-\normalbaselineskip+2pt]
    Single Task (ST) & 50.48 &		521.5& 17.26&	77.84&		366.64 & 1452&	314.14  & 75.20 & 79.64        \\ \hline
    \\[\dimexpr-\normalbaselineskip+2pt]
    InvPT  &  50.30  & 536.7 & 19.00 & 77.6 &  160.57 & 643  & 229.43 & 57.35 & 57.35  \\
    Ours + weight sharing        & 50.46 &  529.6& 17.62 & 77.84 &  122.46 & 477 & 314.14  & 75.20 & 79.64 \\
    \rowcolor[gray]{.90}
    Ours + weight + act sharing   & \textbf{50.46}  & \textbf{533.2} & \textbf{18.42}  & \textbf{77.89} &  \textbf{122.46} &  \textbf{477} & \textbf{186.88} & 75.20 & \textbf{37.22}   \\
     \hline
    \end{tabular}}}
    \vspace{-7mm}
    \end{table*}
}

\newcommand{\tablesota}{
    \begin{table*}[t]
\caption{Performance comparison on PASCAL-Context (\emph{left}) and on NYUD-v2 (\emph{right}). `$\uparrow$': higher better, `$\downarrow$': lower better.} 
%\vspace{-2mm}
\label{PAS_SOTA}
  \begin{minipage}{1.1\columnwidth}
  %\caption{table 1}
    
    \centering
    \hrule
    
    \resizebox{\columnwidth}{!}{%
      \begin{tabular}{c|ccccc}
    \hline
    \multirow{2}{*}{\textbf{Method} }       & \textbf{Semseg} & \textbf{Parsing} & \textbf{Saliency} & \textbf{Normal}& \textbf{Boundary}                     \\
           & \scriptsize \textbf{mIoU} $\uparrow$  & \scriptsize \textbf{mIoU} $\uparrow$  & \scriptsize \textbf{maxF} $\uparrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$    \\ \hline\hline
           \\[\dimexpr-\normalbaselineskip+2pt]
    ASTMT \cite{maninis2019attentive}& 68.00  &  61.10 & 65.70 & 14.70 & 72.40\\
    PAD-Net \cite{xu2018pad}&  53.60 &	 59.60&	65.80&	15.30&	 72.50\\
    MTI-Net \cite{vandenhende2020mti}&  61.70 & 60.18 & 84.78 & 14.23 &  70.80\\
    ATRC \cite{bruggemann2021exploring}&  62.69  &  59.42 &  84.70  & 14.20 & 70.96\\
    ATRC-ASPP \cite{bruggemann2021exploring}& 63.60  & 60.23 & 83.91  & 14.30 & 70.86\\
    ATRC-BMTAS \cite{bruggemann2021exploring}&  67.67  &  62.93 & 82.29  & 14.24 & 72.42\\
    InvPT (ViT-B) \cite{ye2022inverted}&  77.33  &  66.62 & 85.14  & 13.78 & 73.20    \\
    \rowcolor[gray]{.90}
    Ours (ViT-B)   & \textbf{78.24}  & \textbf{71.71} & \textbf{85.28}  & \textbf{13.65} & \textbf{78.6}\\
     \hline
    \end{tabular}
    }
    
  \end{minipage}\hfill % maximize the horizontal separation
  %\vspace{-1mm}
  \begin{minipage}{0.9\columnwidth}
  %\caption{table 2}
    \label{NYU_SOTA}
    \centering
    \hrule
    \resizebox{\columnwidth}{!}{%
      \begin{tabular}{c|cccc}
    \hline
    \multirow{2}{*}{\textbf{Method}}        & \textbf{Semseg}& \textbf{Depth} & \textbf{Normal} & \textbf{Boundary}                     \\
           & \scriptsize \textbf{mIoU} $\uparrow$  &   \scriptsize \textbf{RMSE} $\downarrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$    \\ \hline\hline
           \\[\dimexpr-\normalbaselineskip+2pt]
    Cross-Stitch \cite{misra2016cross}& 36.34  &  629.0 & 20.88 & 76.38    \\
    PAP \cite{zhang2019pattern}& 36.72 & 617.8 &	 20.82&	 76.42       \\
    PSD \cite{zhou2020pattern}&  36.69 & 624.6 & 20.87 &  76.42     \\
    PAD-Net \cite{xu2018pad}& 36.61  & 627.0 & 20.85  &  76.38     \\
    MTI-Net \cite{vandenhende2020mti}& 45.97  & 536.5 & 20.27  &  77.86       \\
    ATRC \cite{bruggemann2021exploring}& 46.33  & 536.3 & 20.18  & 77.94       \\
    InvPT (ViT-B) \cite{ye2022inverted}&  50.30  & 536.7 & 19.00  & 77.60    \\
    \rowcolor[gray]{.90}
        Ours (ViT-B)   & \textbf{50.46}  & \textbf{533.2} & \textbf{18.42}  & \textbf{77.89}      \\
     \hline
    \end{tabular}
    }
    

  \end{minipage}
   %\vspace{-1mm}
\end{table*}
}
\newcommand{\tabletmpSOTAwholeNEW}{
    \begin{table*}[t]
%\caption{Temporal comparison results on NYUD-v2.} 

  \begin{minipage}{1.05\columnwidth}
  
  %\caption{table 1}
    \caption{Performance of our method when the base task is segmentation
`Semgseg' or `Parsing` on Pascal-context dataset using Swin-B as the transformer backbone (replacing ViT-B).}
    %\vspace{-1mm}
    \centering
    \hrule
    \label{SWINB}
    \resizebox{\columnwidth}{!}{%
      \begin{tabular}{c|ccccc|cc}
    \hline
    \multirow{2}{*}{\textbf{Method}}       & \textbf{Semseg} & \textbf{Parsing} & \textbf{Saliency} & \textbf{Normal}& \textbf{Boundary} & \textbf{Param} &\textbf{FLOPs} \\                   
           & \scriptsize \textbf{mIoU} $\uparrow$  & \scriptsize \textbf{mIoU} $\uparrow$  & \scriptsize \textbf{maxF} $\uparrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$ & \scriptsize(M) &  \scriptsize (G) \\ \hline\hline \\[\dimexpr-\normalbaselineskip+2pt]
    ST & 79.1 & 71.6 & 84.6 & 13.5 & 76.0 & 516.1&444.3\\
    \hline \\[\dimexpr-\normalbaselineskip+2pt]
    InvPT  & 77.5  & 66.8 & 83.6 & 14.6 & 73.0  & 187.2 & 384.7 \\
    \rowcolor[gray]{.90}
    \shortstack{Ours w/Semseg base}        & \textbf{79.1} & 70.0 & \textbf{84.2} & \textbf{14.3} &   \textbf{74.5} & \textbf{149.3} &\textbf{241.1} \\
    \shortstack{Ours w/Parsing base}        & 77.5 & \textbf{71.6} & 84.1 & 14.4 &   74.4 & 149.5 &257.0 \\
    
     \hline
    \end{tabular}
    }
  \end{minipage}\quad% maximize the horizontal separation
  \vspace{-1mm}
  \begin{minipage}{1\columnwidth}
  
  %\caption{table 1}
    \caption{Performance of our method using temporal and task activation re-use technique for NYUD-v2 dataset.}
     %\vspace{-2mm}
    \centering
    \hrule
    \label{tempPAS_SOTA}
    \resizebox{\columnwidth}{!}{%
      \begin{tabular}{c|cccc|cc}
    \hline
    \multirow{2}{*}{\textbf{Method}}        & \textbf{Semseg} & \textbf{Depth} & \textbf{Normal} & \textbf{Boundary} &  \textbf{Param}&\textbf{FLOPs}                   \\
           & \scriptsize \textbf{mIoU} $\uparrow$  &  \scriptsize \textbf{RMSE} $\downarrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$ &\scriptsize(M) &  \scriptsize(G)  \\ \hline\hline \\[\dimexpr-\normalbaselineskip+2pt]
    ST & 50.48 & 521.5 & 17.26 & 77.84 & 366.64  &			314.14       \\ \hline
    \\[\dimexpr-\normalbaselineskip+2pt]
    InvPT  & 50.30  & 536.7 & 19.00 & 77.6 &160.57 &229.43  \\
    \shortstack{Ours + Task act}        & 50.46  & 533.2 & 18.42 & 77.89 &   122.46 &186.88   \\[\dimexpr-\normalbaselineskip+12pt]
    \rowcolor[gray]{.90}
    \shortstack{Ours   + Task act  \\+ Temporal act}        & \textbf{50.40} & \textbf{532.41} & \textbf{18.42} & \textbf{77.79} &  \textbf{122.46} & \textbf{107.87 } \\
    
     \hline
    \end{tabular}
    }
    
  \end{minipage}
  %\vspace{-2mm}
\end{table*}
}


\newcommand{\tabletmpSOTAwhole}{
    \begin{table*}[t]
%\caption{Temporal comparison results on NYUD-v2.} 

  \begin{minipage}{1\columnwidth}
  
  %\caption{table 1}
    \caption{Performance of our method using temporal and task activation re-use technique for NYUD-v2 dataset.}
    \centering
    \hrule
    \label{tempPAS_SOTA}
    \resizebox{\columnwidth}{!}{%
      \begin{tabular}{c|cccc|c}
    \hline
    \multirow{2}{*}{\textbf{Method}}        & \textbf{Semseg} & \textbf{Depth} & \textbf{Normal} & \textbf{Boundary} &  \multirow{2}{*}{\textbf{FLOPs} (G)}                     \\
           & \scriptsize \textbf{mIoU} $\uparrow$  &  \scriptsize \textbf{RMSE} $\downarrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$ &    \\ \hline\hline \\[\dimexpr-\normalbaselineskip+2pt]
    InvPT  & 50.30  & 536.7 & 19.00 & 77.6 & 229.437  \\
    ST & 78.24 & 521.5 & 17.26 & 77.84 &			314.14       \\ \hline
    \\[\dimexpr-\normalbaselineskip+2pt]
    \shortstack{Ours + Task act}        & 50.46  & 533.2 & 18.42 & 77.89 &   186.88   \\[\dimexpr-\normalbaselineskip+12pt]
    \rowcolor[gray]{.90}
    \shortstack{Ours   + Task act  \\+ Temporal act}        & \textbf{50.40} & \textbf{532.41} & \textbf{18.42} & \textbf{77.79} &   \textbf{107.87 } \\
    
     \hline
    \end{tabular}
    }
    
  \end{minipage}\qquad \qquad% maximize the horizontal separation
  \vspace{-2mm}
  \begin{minipage}{0.8\columnwidth}
  \caption{Temporal Results for various keyframe interval offsets on NYUD-v2 dataset.}
  %\caption{table 2}
    \label{tempNYU_SOTA}
    \centering
    \hrule
    \resizebox{\columnwidth}{!}{%
      \begin{tabular}{c|cccc}
    \hline
    \multirow{2}{*}{\textbf{Interval offset}}        & \textbf{Semseg} & \textbf{Depth} & \textbf{Normal} & \textbf{Boundary}\\
           & \scriptsize \textbf{mIoU} $\uparrow$  &  \scriptsize \textbf{RMSE} $\downarrow$    & \scriptsize \textbf{mErr} $\downarrow$     & \scriptsize \textbf{odsF} $\uparrow$     \\ \hline\hline
           \\[\dimexpr-\normalbaselineskip+2pt]
    2  & 50.39  & 18.42 & 532.17 & 77.85\\
    3 & 50.39 &	18.40&	532.12&	77.76\\
    5 & 50.42 & 18.44 & 532.36 & 77.74\\
     \hline
    \end{tabular}
    }
  \end{minipage}
  \vspace{-3mm}
\end{table*}
}
\newcommand{\tabletmpSOTA}{
    \begin{table*}[t]
    \caption{Temporal comparison results on NYUD-v2.}
    \label{table:temp_comp_nyu}
    \scriptsize
    \centering
    \resizebox{1.2\columnwidth}{!}{%
    \label{tab:conf_densenet}%
      \begin{tabular}{c|cccc|cc}
    \hline
    \multirow{2}{*}{\textbf{Method}}        & \textbf{Semseg} & \textbf{Depth} & \textbf{Normal} & \textbf{Boundary} &  \multirow{2}{*}{\textbf{FLOPs (G)}}                     \\
           & \scriptsize mIoU $\uparrow$  &  \scriptsize RMSE $\downarrow$    & \scriptsize mErr $\downarrow$     & \scriptsize odsF $\uparrow$ &    \\ \hline\hline \\[\dimexpr-\normalbaselineskip+2pt]
    InvPT  & 50.30  & 536.7 & 19.00 & 77.6 & 229.437  \\
    ST & 78.24 & 521.5 & 17.26 & 77.84 &			314.14       \\ \hline
    \\[\dimexpr-\normalbaselineskip+2pt]
    \shortstack{Ours \scriptsize + Task act}        & 50.46  & 533.2 & 18.42 & 77.89 &   186.88   \\[\dimexpr-\normalbaselineskip+12pt]
    \shortstack{Ours  \scriptsize + Task act \scriptsize + Temporal act}        & \textbf{50.40} & \textbf{532.41} & \textbf{18.42} & \textbf{77.79} &   \textbf{107.87 } \\
    
     \hline
    \end{tabular}}
    \hfill%
    \end{table*}
}
\newcommand{\tabletmp}{
    \begin{table}[h]
    \caption{Temporal Results for various keyframe interval offsets.}
    \label{table:test}
    \scriptsize
    \centering
    
    \label{tab:temp_offset}%
      \begin{tabular}{c|cccc}
    \hline
    \multirow{2}{*}{Interval offset}        & Semseg & Depth & Normal & Boundary\\
           & \scriptsize mIoU $\uparrow$  &  \scriptsize RMSE $\downarrow$    & \scriptsize mErr $\downarrow$     & \scriptsize odsF $\uparrow$     \\ \hline\hline
           \\[\dimexpr-\normalbaselineskip+2pt]
    2  & 50.39  & 18.42 & 532.17 & 77.85\\
    3 & 50.39 &	18.40&	532.12&	77.76\\
    5 & 50.42 & 18.44 & 532.36 & 77.74\\
     \hline
    \end{tabular}
    \hfill%
    \end{table}
}




