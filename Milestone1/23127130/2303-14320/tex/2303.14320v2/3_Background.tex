
 



\section{Background and Problem Formulations for Optimizing RIS-aided Wireless Networks}
\label{sec-bac}

This section first introduces the fundamentals of RIS technology, and then it overviews the problem formulations of RIS-aided wireless networking solutions, including maximization of sum-rate/capacity, energy efficiency, user fairness, secrecy rate, and minimization of power consumption. For each objective, we summarize related works in terms of scenarios, phase-shift resolutions, channel settings, CSI, control variables, constraints, and algorithms. 
Additionally, we investigate problem formulations with integer control variables, such as discrete RIS phase shifts and resource allocation problems. Finally, imperfect CSI scenarios are discussed within deterministic and stochastic models. 











\begin{figure}[!t]
\centering
\includegraphics[width=0.95\linewidth]{Image/fig-risimple.jpg}
\caption{Illustration of RIS operation and control principles.}
\label{fig-risdeploy}
\setlength{\abovecaptionskip}{-2pt} 
\vspace{0pt}
\end{figure}




\subsection{Fundamental Theories of RIS Technology}

This subsection introduces the fundamentals of RIS technologies, including RIS operation principles, RIS control, and RIS deployment. Note that there are a few studies that have explicitly introduced the fundamental principles of RISs\cite{yliu,ertu,marco}, and so this subsection serves as a brief background in our work. The reader is referred to those studies for further details.  

\subsubsection{RIS Operation Principles}
An RIS is a man-made two-dimensional reflecting surface, and the core feature of RISs is that the electromagnetic response can be intelligently reconfigured. Each RIS element can tune the phase of the incident signal, enabling a customized signal propagation environment. There have been various designs of RISs, which can be can be categorized in terms of power sources, energy consumption, tuning features, etc\cite{yliu}. For example, Fig. \ref{fig-risdeploy} shows an example of a varactor-based RIS, which applies varactor diodes with tunable biasing voltages to achieve desired phase shifts. By reflecting the incident signal from the BS, the RIS provides an alternative transmission link. 

\subsubsection{RIS Control}
A smart RIS controller is usually deployed using a device such as field-programmable gate array (FPGA). As shown in Fig. \ref{fig-risdeploy}, the RIS phase shift pattern is designed at the BS, and it will send control signals to the RIS controller for phase-shift configuration. In this case, the BS will collect the required information for decision-making. Specifically, CSI is one of the most important pieces of information for RIS phase-shift design, since RIS elements have to respond rapidly to channel dynamics. 
Meanwhile, other information may also be required, which varies between different RIS phase-shift design algorithms.
For example, Huang \textit{et al.} consider user positions as input for phase-shift design, which means the user location should be collected\cite{huang2019indoor}. 
Additionally, the communication frequency between the BS and RIS controller depends on the specific RIS design. For instance, the unit elements of passive metasurfaces will remain static during normal operation, and the controller has fewer communication demands with the BS\cite{marco}. By contrast, for RISs with active tunability, the controller may require frequent information sharing to make real-time responses to dynamic channel conditions.


\subsubsection{RIS Deployment}
Due to the low hardware cost and low energy consumption, RISs can be easily deployed on building walls and ceilings. These terrestrial RISs may be deployed in a centralized manner as a single large surface, or as decentralized surfaces that are closer to users. The centralized deployment means that more users can be covered, while the decentralized deployment has lower control complexity. In addition, RISs can also be placed on aerial platforms. For instance, UAVs with RISs can provide full space reflections with mobility and higher flexibility\cite{lu2021aerial,tekbiyik2022reconfigurable}.  

To realize the benefits of deploying RISs in wireless networks, RISs should be carefully configured, including locations, on/off status, amplitude, phase shifts, etc. In particular, phase-shift design is the key to RIS operation, which will directly affect network performance. Meanwhile, other network decisions, such as transmit beamforming, user association and resource allocation, should be jointly optimized. These joint optimization problems are usually non-convex and highly non-linear, requiring various optimization techniques for different scenarios, e.g., joint active and passive beamforming, RIS-related resource allocation, physical layer security, etc. In the following, we will introduce the problem formulations for optimizing RIS-aided wireless networks. 


\begin{table*}[!t]
\caption{Summary of RIS-aided sum-rate/capacity maximization works under various constraints}
\centering
\small
\setstretch{1.15}
 \begin{threeparttable}  
\resizebox{1\textwidth}{!}{%
\begin{tabular}{|m{0.5cm}<{\centering}|m{2.1cm}<{\centering}|m{1.6cm}<{\centering}|m{1.8cm}<{\centering}|m{1.8cm}<{\centering}|m{4.8cm}<{\centering}|m{4.5cm}<{\centering}|m{3.8cm}<{\centering}|}
\hline 
Ref. & Scenario\tnote{1}  & Phase-shift resolution & Channel settings  & CSI & Control variables & Constraints & Algorithms  \\
\hline
\cite{ruoc} & MIMO-DL-MU irregular RISs &  Continuous & Rayleigh fading  & Perfect & BS beamforming matrix, RISs selection and phase shifts  &  Total transmit power, RISs selection and phase constraints  & AO, Tabu search, extraction based cross-entropy methods  \\
\hline
\cite{cunhua} & MIMO-DL-MU Multicell  &  Continuous & Rayleigh and Rician fading  & Perfect & BS beamforming vectors  and RIS phase shifts & Total transmit power and RISs phase constraints  & BCD, MM, Complex circle manifold  \\
\hline
\cite{shuowen}  &  MIMO-DL OFDM  & Continuous & Rayleigh and Rician fading &  Perfect   & Transmit covariance matrix and RIS phase shifts  & Total transmit power and RISs phase constraints  &   AO   \\
\hline
\cite{yu}  &  MIMO-UP/DL & Continuous/ Discrete &  Rayleigh fading  & Perfect &  Source precoders and RIS phase shifts  &  Total transmit power and RISs phase constraints  &  AO    \\
 \hline
\cite{ming} &  MISO-DL-MU  &  Discrete  & Correlated Rician fading  & Statistical/ Instantaneous  &  BS beamforming matrix and RIS phase shifts  &  Total transmit power and RISs phase constraints  & Penalty dual decomposition, Stochastic SCA   \\
 \hline
\cite{jiey} & MISO-DL-SU Cognitive Radio  & Continuous & Rician fading  & Perfect/ Imperfect  &  BS beamforming vectors  and RIS phase shifts   & Interference level, total transmit power, and RISs phase constraints  & BCD, SDP, SOCP \\
 \hline 
\cite{boya}  & MISO-DL-MU  & Discrete & Reflection-dominated  &  Imperfect &   BS beamforming vectors  and RIS phase shifts  & Total transmit power and RISs phase constraints  &  AO, BnB, SDR\\
 \hline
\cite{huayan}  & MISO-DL-MU & Continuous & Rayleigh and Rician fading  & Perfect/ Imperfect  & BS beamforming vectors  and RIS phase shifts  &  Total transmit power and RISs phase constraints & FP, BCD, complex circle manifold  \\
 \hline
 \cite{chang}  &  SISO-UL-SU   & Discrete  & Rayleigh fading  & Estimated &  RIS phase shifts   &  RISs phase constraint  & Successive refinement algorithm    \\
\hline
\cite{xidong} &  MISO-DL-MU NOMA   & Continuous/ Discrete & Rayleigh and Rician fading  &  Perfect  & BS beamforming vector, RIS phase shifts, and user decoding order  & Successive interference cancellation, total transmit power, and RISs phase constraints  & AO, SCA, sequential rank-one constraint relaxation    \\
 \hline
\cite{yuanbin}  &  MISO-UL-MU mmWave V2X  & Continuous &  Saleh-Valenzuela   & Imperfect &  Transmit power, multi-user detection matrix, and RIS phase shifts  &  Target SINR, total transmit power, and RISs phase constraints  &  AO, SCA, penalty CCP \\
\hline
\cite{dai2021reconfigurable}  &  MIMO-DL-MU  &  Continuous/ Discrete &  Rician fading  & Perfect &  RIS phase shifts  &  RISs phase constraint  &  Particle swarm optimization (PSO) \\
\hline
\cite{zhi2021statistical}  &  MIMO-DL-MU  & Discrete & Rayleigh and Rician fading  & Statistical &  RIS phase shifts  &  RISs phase constraint  & Genetic algorithm   \\
\hline
\cite{rivera}  & Point to point communication &  Discrete & Rician fading  & Imperfect & RIS phase shifts  & RISs phase constraint  & Greedy algorithm  \\
\hline
\cite{ni2021resource}  &  Multi-cell NOMA   & Continuous & Rayleigh and Rician fading  & Perfect  & User association, subchannel assignment, reflection matrix, power allocation, and decoding order.  & Target data rate, total transit power, association, decoding, and RISs phase constraints. &  Matching method, convex upper bound substitution, SCA, and SDR. \\
\hline
\cite{chen2021qos}  &  V2X communications    &  Continuous & Rayleigh and Rician fading    &  Large-scale 
 and slowly varying   &  Transmit power, multi-user detection matrix, spectrum sharing, and RIS phase shifts    &  Maximum transmit power, RISs phase, QoS requirement, and spectrum sharing protocol    &  BCD, SDR, CCP \\
\hline
\end{tabular}}

 \begin{tablenotes}    
        \footnotesize       
        \item[1]MISO: multiple input single output; DL/UL: downlink/uplink; SU/MU: single user/ multiple users.  
\end{tablenotes} 
      
\end{threeparttable}  
\label{tab-rate}
\vspace{-15pt}
\end{table*}


\begin{figure}[!t]
\centering
\includegraphics[width=0.9\linewidth]{Image/fig-ris.jpg}
\caption{Downlink channel of RIS-aided multi-user systems.}
\label{fig-ris}
\setlength{\abovecaptionskip}{-2pt} 
\vspace{0pt}
\end{figure}






\subsection{Sum-rate/Capacity Maximization} 
\label{sec-sub-rate}
Fig. \ref{fig-ris} shows a RIS-aided downlink transmission system, in which one base station (BS) with $M$ antennas serves $K$ single-antenna users, and the RISs have $N$ reflecting elements. The users can receive signals by direct transmission link BS-user and indirect transmission link BS-RIS-user. The signal-to-interference-plus-noise ratio (SINR) of user $k$ is:
\begin{equation}\label{eq7}
\gamma_{k}=\frac{|(\bm{h}^{R}_{k}\bm{\Theta}\bm{G}+\bm{h}^{D}_{k})p_{k}|^2}{\sum\limits_{j=1,j\neq k}^{K}|(\bm{h}^{R}_{k}\bm{\Theta}\bm{G}+\bm{h}^{D}_{k})p_{j}|^2+N_{0}^2},
\end{equation}
where $p_{k}$ is the transmit power at the BS for active beamforming, $\bm{G}\in \mathbb{C}^{N \times M}$ indicates the channel gain from BS antennas to RIS elements, $h^{R}_{k} \in \mathbb{C}^{1 \times N}$ indicates the channel gain from RIS elements to user $k$, $h^{D}_{k} \in \mathbb{C}^{1 \times M}$ indicates the channel gain from BS antennas to user $k$, and $N_{0}^2$ is the noise power. The RISs reflect the signal to users via a phase-shift vector $ \theta_{n}=e^{j\phi_{n}}$ for passive beamforming, and we define a diagonal matrix $
\bm{\Theta}=\text{diag}(\theta_{1},\theta_{2},...,\theta_{n},...,\theta_{N})\in \mathbb{C}^{N\times N}$. \blue{Here RISs may have different operation modes to change the phase shifts, which depend on their specific designs. For instance, RIS elements can be reconfigured electrically, mechanically, or thermally based on their tuning design, and a thorough survey can be found in \cite{marco}. However, note that RISs cannot be completely passive due to their inherent property of being configurable\cite{yliu}. In addition, note that the BS in Fig. \ref{fig-ris} can serve multiple users simultaneously due to multi-antenna BS beamforming, and RIS elements are used to reflect the incident signal and change the phases\cite{yu2007transmitter}.}

Sum-rate/channel capacity improvement is one of the most widely considered advantages of RIS. Compared with the direct transmission BS-user, RISs provide an indirect link that can be line-of-sight, leading to less path loss and higher SINR. To maximize the weighted sum-rate
\begin{subequations}\label{e-sum}
\begin{align}
\max\limits_{p,\bm{\Theta}}  \qquad & \sum_{k=1}^{K}w_{k} \log(1+\gamma_{k})  & \tag{\ref{e-sum}} \\
 \text{s.t.}  \qquad & \sum_{k=1}^{K}||p_{k}||^2\leq P_{max}, & \label{e-sum1}\\
  \qquad &|\theta_{n}|=1, n=1,2,...,N,  & \label{e-sum2}
\end{align}
\end{subequations}
where $P_{max}$ is the maximum transmission power of BS, $w_{k}$ is the weight of user $k$. Equation (\ref{e-sum}) aims to maximize the sum-rate of all $K$ users, and equation (\ref{e-sum1}) is the transmission power constraint. Equation (\ref{e-sum2}) is the RISs phase constraint which can be continuous or discrete.  
        



Table \ref{tab-rate} summarizes sum-rate/channel capacity maximization works in RIS-aided wireless communications, including scenarios, phase-shift resolutions, channel settings, CSI availability, control variables, constraints and algorithms. This problem has been investigated in various scenarios, i.e., MIMO\cite{ruoc,cunhua,shuowen,yu}, MISO\cite{ming,jiey,boya,huayan }, SISO\cite{chang}, NOMA\cite{xidong}, mmWave\cite{yuanbin} and vehicle communications\cite{yuanbin}.
These works mainly consider BS beamforming vectors and RIS phase shifts as control variables, which are known as joint active and passive beamforming, and the total transmit power and RIS phases are included as constraints. However, the joint optimization problem is very challenging due to network dynamics and the large number of RIS elements. The fractional terms of SINR, logarithm introduced by Shannon theory, and non-convex constraint of RIS phase shifts lead to significant complexity for the joint optimization. Consequently, most existing studies decouple the control variables using AO\cite{ruoc,cunhua, shuowen,yu,boya}. For example, a widely applied scheme is to first optimize the BS beamforming vectors, then solve the RIS phase shifts sub-problem iteratively. Finally, as one of the core control variables, the RIS phase-shift control is supposed to be continuous in many studies. The first reason is that discrete control variables lead to integer constraints that are NP-hard; another reason is that the achieved results can be converted into the nearest discrete values using the rounding method\cite{gang}. 

\begin{table*}[!t]
\caption{Summary of RIS-aided power minimization works under various constraints}
\centering
\small
\setstretch{1.05}
\resizebox{1\textwidth}{!}{%
\begin{tabular}{|m{0.5cm}<{\centering}|m{2.1cm}<{\centering}|m{1.5cm}<{\centering}|m{1.8cm}<{\centering}|m{1.2cm}<{\centering}|m{3.9cm}<{\centering}|m{5cm}<{\centering}|m{3.5cm}<{\centering}|}
\hline 
Ref. & Scenario  & Phase-shift resolution & Channel settings & CSI & Control variables & Constraints & Algorithms  \\
\hline
\cite{qingqing} &   MISO-DL-MU & Continuous & Rician fading  & Perfect &  AP beamforming vector and RIS phase shifts  &  SINR and RISs phase constraints  & AO, SDR, two-stage algorithm  \\
\hline
\cite{qingqing2} & MISO-DL-MU &  Continuous/ Discrete  & Rician fading   &  Perfect  &   AP beamforming vector and RIS phase shifts  & SINR and RISs phase constraints  &  Successive refinement algorithm, BnB   \\
\hline
\cite{guizhou2} & MISO-DL-MU broadcast  &  Continuous  & Rayleigh and Rician fading  &  Imperfect   & BS precoding vector and RIS phase shifts  & SINR and RISs phase constraints  & AO, SDR  \\
\hline
\cite{huimei} & MISO-DL-MU broadcast  &  Continuous & Rayleigh fading   & Perfect  &  BS beamforming vectors  and RIS phase shifts  &  SNR and RISs phase constraints  &  SDR, SCA  \\
\hline
\cite{guiz3} &  MISO-DL-MU broadband  &  Continuous & Rayleigh fading  & Imperfect  & BS precoder matrix and RIS phase shifts  & Target transmission rate, outage probability, and RISs phase constraints   &  AO, SDR, penalty CCP   \\
\hline
\cite{beixiong} & SISO-DL-MU NOMA/OMA  & Discrete & Rayleigh fading  & Perfect   &  BS transmit power allocation and RIS phase shifts   &  Target transmission rate and RISs phase constraints   & AO, linear approximation,    \\
\hline
\cite{yiqing} & MISO-DL-MU NOMA & Continuous/ Discrete & Rician fading &  Perfect  & BS beamforming vectors and RIS phase shifts  & Target transmission rate and RISs phase constraints  &  SOCP, ADMM   \\
\hline
\cite{minf} &  MISO-DL-MU NOMA  &   Continuous & Rayleigh and Rician fading  & Perfect   & BS beamforming vectors  and RIS phase shifts  &  Target transmission rate and RISs phase constraints  &    AO, successive convex relaxations   \\
\hline
\cite{jianyue} & MISO-DL-MU NOMA  & Continuous & Rayleigh distribution &   Perfect  &  BS beamforming vectors  and RIS phase shifts  & Target transmission rate and RISs phase constraints   & SDR, FP, SCA \\
\hline
\cite{yang2021optimal} & Full-duplex transmission  & Continuous & Rayleigh fading  &  Perfect  & Power allocation of signal sources and RIS phase shifts  & Target transmission rate and RISs phase constraints   & Lagrangian dual method, SDP \\
\hline
\cite{zhiyang} &   MISO-DL-MU edge computing  &  Continuous & Rayleigh fading  &  Perfect  &  Offloading bits, transmission time, power allocation, and RIS phase shifts & Computation ability, NOMA rate region, time constraint, offloading bits, and total transmit power & AO, BCD \\
\hline
\cite{cao2022joint} &  MISO-DL-SU maritime communication   & Continuous & Rician fading  & Estimated  &  Mode selection, transmission power, BS beamforming vector, and RIS phase shifts   &  Rate threshold, binary selection, maximum transmit power, and RISs phase constraints   & AO, exhaustive search, matching method, SDP     \\
\hline
\end{tabular}}
\label{tab-power}
\vspace{-10pt}
\end{table*}








\subsection{Power Minimization} 
Power minimization is another widely investigated topic for RIS-aided wireless communications. Transmission power reduction not only saves the power consumption of wireless networks but also reduces the interference on adjacent cells. Power minimization problems with QoS constraints can be described by 

\begin{subequations}\label{e-min}
\begin{align}
\min\limits_{p,\bm{\Theta}}  \qquad &  \sum_{k=1}^{K}||p_{k}||^2 & \tag{\ref{e-min}} \\
 \text{s.t.}  \qquad & \gamma_{k} \geq \gamma_{min}, k=1,2,...,K,  & \label{e-pmin1}\\
  \qquad &|\theta_{n}|=1, n=1,2,...,N,  & \label{e-min2}
\end{align}
\end{subequations}
where $\gamma_{min}$ is the minimum SINR requirement of users.  The objective function is greatly simplified by minimizing power consumption $\sum_{k=1}^{K}||p_{k}||^2$, and the quality of service (QoS) requirements are balanced by SINR constraints as $\gamma_{k} \geq \gamma_{min}$. Here, the SINR or date-rate requirements introduce fractional or logarithmic terms in the constraints, which makes equation (\ref{e-pmin1}) a challenging non-convex problem. 

We summarize power minimization-related works in Table \ref{tab-power}. These studies aim to minimize the transmit power of BSs with SINR or data rate constraints. Similar to the sum-rate maximization problem, power minimization is also investigated in diverse scenarios, including MISO\cite{qingqing,qingqing2,guizhou2,huimei}, SISO\cite{beixiong}, NOMA\cite{yiqing,beixiong,minf,jianyue} and full-duplex antennas \cite{yang2021optimal}. 
Meanwhile, these studies still assume continuous RIS phase shifts and perfect CSI to reduce the optimization complexity\cite{qingqing,huimei,minf,jianyue}, and the main control variables are BS beamforming vectors and RIS phase shifts. BnB and successive refinement algorithm are applied in \cite{qingqing2} for discrete optimization, and Zheng \textit{et al.} obtain the optimal RIS phase shifts first and then finds the nearest discrete value \cite{beixiong}. In addition, imperfect CSI is investigated in \cite{guizhou2,guiz3}, in which \cite{guizhou2} applies penalty CCP to handle the CSI uncertainty, and S-procedure and Bernstein-Type inequality are used in \cite{guiz3} to transform the QoS constraints under CSI error. Perfect CSI is a common setting in many existing studies, but such strong assumptions may be impractical in real-world applications. 
On the one hand, more advanced channel estimation methods should be developed to reduce the CSI estimation error\cite{zheng2022survey}; on the other hand, robust optimization algorithms are expected to handle the channel uncertainty. 


\begin{table*}[!t]
\caption{Summary of RIS-aided energy efficiency maximization works under various constraints}
\centering
\small
\setstretch{1.05}
\resizebox{1\textwidth}{!}{%
\begin{tabular}{|m{0.5cm}<{\centering}|m{2.1cm}<{\centering}|m{1.5cm}<{\centering}|m{1.4cm}<{\centering}|m{1cm}<{\centering}|m{3.8cm}<{\centering}|m{5cm}<{\centering}|m{3.5cm}<{\centering}|}
\hline 
Ref. & Scenario  & Phase-shift resolution & Channel settings & CSI & Control variables & Constraints & Algorithms  \\
\hline
\cite{chongwen} &  MISO-DL-MU  &  Continuous & 3GPP  &  Perfect  &  BS beamforming vectors  and RIS phase shifts  & Target data rate, total transmit power, and RISs phase constraints  &  AO, gradient descent, MM \\
\hline
\cite{linsong} &   MISO-DL-MU multicast  & Continuous & Rician fading & Perfect/ Estimated  &   BS covariance matrix and RIS phase shifts & Total transmit power and RISs phase constraints  & AO, FP  \\
\hline
\cite{shuaiqi} & SISO-MU D2D  &  Discrete  & Rician fading  &  Perfect   & D2D transmitter power and RIS phase shifts &  Target data rate, total transmit power, and RISs phase constraints   & AO, FP, Dinkelbach method  \\
\hline
\cite{zhaohui2} & MISO-DL-MU rate splitting   & Continuous & Rayleigh fading  & Perfect  &  BS beamforming vector, RIS phase shifts, and user message rate   &  Common message decoding, target data rate, total transmit power, and RISs phase constraints  &  AO, SCA  \\
\hline
\cite{zhaohui}  &   MISO-DL-MU  & Continuous  & Rayleigh fading  &  Perfect  & BS beamforming vector, RIS phase shifts and on/off  & Target data rate, total transmit power, RIS on/off status, and RISs phase constraints    & AO, SCA, greedy searching    \\
\hline
\cite{yutong} & Cell-free MIMO-DL-MU  & Discrete & Rician fading  & Perfect  & BS beamforming vectors  and RIS phase shifts  & Total transmit power and RISs phase constraints  &  AO \\
\hline
\cite{zhang2020joint} &  SISO-DL-MU NOMA   &  Continuous & Rician fading  &  Perfect   & Subcarrier allocation, BS beamforming vector, and RIS phase shifts  &  Subcarrier assignment, total transmit power, and RISs phase constraints   &  AO, matching method, DC programming, and univariate search. \\
\hline
\end{tabular}}
\label{tab-energy}
\vspace{-10pt}
\end{table*}



\subsection{Energy Efficiency Maximization} 
Energy efficiency is a critical metric for green 5G and 6G networks. Different from power minimization problems, the objective of energy efficiency maximization includes both transmission rate and energy consumption metrics, which can better evaluate the power utilization efficiency. The main benefit of RISs lies in the capability of reshaping the signal propagation path with extremely low power consumption, making RISs a promising technique to improve energy efficiency. To maximize energy efficiency, one can formulate
\begin{subequations}\label{e-ee}
\begin{align}
\max\limits_{p,\bm{\Theta}}  \qquad & \frac{\sum_{k=1}^{K}w_{k} \log(1+\gamma_{k})}{\sigma^{-1} \sum_{k=1}^{K}||p_{k}||^2+KP_{UE}+P_{BS}+NP_{R}(\varrho)}  & \tag{\ref{e-ee}} \\
 \text{s.t.}  \qquad & \sum_{k=1}^{K}||p_{k}||^2\leq P_{max}, & \label{e-ee1}\\
  \qquad &|\theta_{n}|=1, n=1,2,...,N,  & \label{e-ee2}\\
  \qquad & \gamma_{k} \geq \gamma_{min}, k=1,2,...,K,  & \label{e-ee3}
\end{align}
\end{subequations}
where $\sigma$ is the efficiency of the transmit power
amplifier, $P_{UE}$ is the hardware static power consumed by one user, $P_{BS}$ is the total hardware static power consumption in BS, and $P_{R}(\kappa)$ is the power consumption of one RIS reflecting element with resolution $\varrho$. To maximize energy efficiency in equation (\ref{e-ee}), the numerator is to maximize the sum-rate, while the denominator is to reduce power consumption. Constraint (\ref{e-ee1}) is the total transmit power limit, (\ref{e-ee2}) is the RIS phase constraint, and (\ref{e-ee3}) is the QoS requirement indicated by target SINR or data rate. 

Problem (\ref{e-ee}) is more complicated than sum-rate maximization or power minimization problems, since it includes both logarithm and fractional terms in the objection function and constraints. 
Energy efficiency maximization-related works are summarized in Table \ref{tab-energy}. Similar to former problem formulations, BS beamforming vectors and RIS phase shifts are main control variables, and constraints include target data rate, total transmit power, and RIS phases\cite{chongwen,linsong,yutong}. 
To solve the energy efficiency maximization problem, the key is to decouple the transmission rate and energy consumption items in equation (\ref{e-ee}). Dinkelbach method is applied in \cite{shuaiqi}, but these conventional methods can not be directly applied to sum-ratio problems.
Note that the power consumption definition in equation (\ref{e-ee}) may change case by case, which depends on the scenario of deploying RISs. For example, the total power consumption in most studies include BS transmit power, RIS energy consumption and user device power. By contrast, Zhou \textit{et al.} investigate the energy efficiency with BS sleep control, and the total BS power consumption becomes the denominator in the objective of equation (\ref{e-ee})\cite{zhou2023hierarchical}.             


\begin{table*}[!t]
\caption{Summary of RIS-aided fairness maximization works under various constraints }
\centering
\small
\setstretch{1.05}
\resizebox{1\textwidth}{!}{%
\begin{tabular}{|m{0.5cm}<{\centering}|m{2.2cm}<{\centering}|m{1.5cm}<{\centering}|m{1.5cm}<{\centering}|m{1.3cm}<{\centering}|m{3.5cm}<{\centering}|m{5cm}<{\centering}|m{3.5cm}<{\centering}|}
\hline 
Ref. & Scenario  & Phase-shift resolution & Channel setting & CSI & Control variables & Constraints & Algorithms  \\
\hline
\cite{guiz} & MISO-DL-MU multicast  & Continuous /Discrete & Rayleigh and Rician fading   & Perfect &  BS precoding matrix and RIS phase shifts  & Total transmit power and RISs phase constraints  & SOCP, MM     \\
\hline 
\cite{gang} &  SISO/MISO-DL-MU NOMA  & Continuous & Rayleigh and Rician fading  &  Perfect  & BS power allocation and RIS phase shifts  &  Target SINR, channel strength, total transmit power, and RISs phase constraints   & BCD, SDR   \\
\hline
\cite{qurrat} & MISO-DL-MU   &  Continuous & Rayleigh fading  & Perfect  & RIS phase shifts  & RIS phase constraint  & Projected gradient ascent \\
\hline
\cite{hailiang} & MISO-DL-MU  & Continuous  & Rayleigh and Rician fading &  Perfect  & BS beamforming vectors  and RIS phase shifts  & Total transmit power and RISs phase constraints  & SOCP, SDR, SCA  \\
\hline
\cite{manij} & Cell-free MIMO-UL-MU  & Continuous & Rician fading  &  Estimated  & User transmit power and RIS phase shifts  & User transmit power and RISs phase constraints  & AO   \\
\hline
\cite{shiqi} & MIMO-DL-MU SWIPT   & Discrete  & Rician fading  &  Perfect  & BS beamforming vectors  and RIS phase shifts   & Total transmit power, target harvested energy, and RISs phase constraints  & AO, optimal BnB, reformulation-linearization  \\
\hline
\cite{zaid} & Full-Duplex relay networks & Continuous  & Rayleigh fading  & Perfect  &  Transmit power and RIS phase shifts  & Total transmit power and RISs phase constraints & AO, SDR \\
\hline
\cite{menghua} & MIMO-DL-MU coordinated multi-point  & Continuous & Rayleigh and Rician fading  & Perfect   &   BS beamforming vectors  and RIS phase shifts  & Total transmit power and RISs phase constraints  & SOCP, SDR, MM   \\
\hline
\cite{zhi2022power} & MIMO-UL  & Continuous /Discrete &  Rician fading  &   Statistical  &  RIS phase shifts  &  RIS phase constraint  &   Genetic algorithm.   \\
\hline
\cite{Atapattu} & Point to point communications &  Continuous & Rayleigh fading  &  Estimated  & RIS phase shifts  & Target SINR and RISs phase constraints    &  SDR, greedy-iterative method   \\
\hline
\end{tabular}}
\label{tab-fair}
\vspace{-10pt}
\end{table*}





\subsection{ User Fairness Maximization} 
\label{sec-sub-fair}
Former problem formulations usually consider the total or average network performance as objectives, but the fairness among multiple users is equally important. Such user fairness metrics can describe the experience of cell-edge users, guaranteeing the worst-case network performance.
User fairness maximization aims to maximize the minimum SINR or data rate, indicating that users can achieve target performance even in the worst case.  
For instance, the max-min SINR problem can be defined by
\begin{subequations}\label{e-fa}
\begin{align}
\max\limits_{p,\bm{\Theta}}  \qquad & \min\limits_{k \in K}\{\gamma_{k}\}  & \tag{\ref{e-fa}} \\
 \text{s.t.}  \qquad & \sum_{k=1}^{K}||p_{k}||^2\leq P_{max}, & \label{e-fa1}\\
  \qquad &|\theta_{n}|=1, n=1,2,...,N,  & \label{e-fa2}\\
  \qquad & \gamma_{k} \geq \gamma_{min}, k=1,2,...,K,  & \label{e-fa3}
\end{align}
\end{subequations}
where $\min\limits_{k \in K}\{\gamma_{k}\}$ is the minimum SINR among $K$ users. Maximizing the worst user experience will improve the fairness of the whole network.
  
Table \ref{tab-fair} summarizes existing works for fairness maximization problems in RIS-aided wireless networks. Although various scenarios have been investigated, the primary control variables are still BS beamforming vectors and RIS phase shifts\cite{guiz,gang,hailiang,menghua}, and the constraints focus on total transmit power and RIS phases\cite{guiz,hailiang,zaid,menghua}. The formulated problem (\ref{e-fa}) is more challenging than conventional max-min fairness beamforming problems. RISs not only introduce additional non-convex constraints but also makes the reflective beamforming vector coupled with the transmit beamforming vectors in the SINR term, thus making problem (\ref{e-fa}) highly nonlinear and non-convex\cite{hailiang}. 
Therefore, instead of optimizing the complicated objective functions directly, approximation-based algorithms are frequently applied. For example, MM and SCA algorithms construct surrogate functions as the upper bound of original objective functions, which are easier to be optimized than problem (\ref{e-fa}). Additionally, the genetic algorithm (GA) and greedy-iterative method are used in \cite{zhi2022power} and \cite{Atapattu} for RIS phase-shift control, respectively. Compared with model-based algorithms, these heuristic algorithms can obtain fast solutions efficiently, but the optimality cannot be guaranteed.




\subsection{Secrecy Rate Maximization} 
\label{sec-sub-sec}


Physical layer security is increasingly of interest for wireless communications, and various
techniques have been proposed to enhance physical layer security, e.g., artificial noise-aided beamforming and cooperative jamming. However, these approaches may lead to high hardware costs and power consumption, and RISs provide a novel low-cost solution by manipulating the signal propagation path. 

Fig. \ref{fig-secrecy} shows a RIS-aided downlink transmission system with one legitimate user and one eavesdropper.  
The data rate of the legitimate user is: 
\begin{equation}\label{eq-legi}
R_{L}=\log(1+\frac{|(\bm{h}_{L}\bm{\Theta}\bm{G}+\bm{h}_{d,L})p_{L}}|^2{N_{L,0}^2}),
\end{equation}
where $\bm{h}_{L}$ is the channel from RISs to the legitimate user, $\bm{h}_{d,L}$ is the direct transmission channel from RISs to the legitimate user, and $N_{L,0}$ is the Gaussian noise at the legitimate user.    

\begin{figure}[!t]
\centering
\includegraphics[width=0.8\linewidth]{Image/fig-secrecy.jpg}
\caption{The downlink channel model of RIS-aided secure transmission.}
\label{fig-secrecy}
\setlength{\abovecaptionskip}{-2pt} 
\vspace{-10pt}
\end{figure}

Similarly, the data rate of the eavesdropper is: 
\begin{equation}\label{eq-legi2}
R_{E}=\log(1+\frac{|(\bm{h}_{E}\bm{\Theta}\bm{G}+\bm{h}_{d,E})p_{L}}|^2{N_{E,0}^2}),
\end{equation}
where $\bm{h}_{E}$ is the channel from RISs to the eavesdropper, $\bm{h}_{d,E}$ is the direct transmission channel from RISs to the eavesdropper, and $N_{E,0}$ is the Gaussian noise at the eavesdropper. Finally, to maximize the secrecy rate, we have
\begin{subequations}\label{e-sec}
\begin{align}
\max\limits_{p,\bm{\Theta}}  \qquad & R_{L}-R_{E}  & \tag{\ref{e-sec}} \\
 \text{s.t.}  \qquad & ||p||^2\leq P_{max}, & \label{e-sec1}\\
  \qquad &|\theta_{n}|=1, n=1,2,...,N.  & \label{e-sec2}
\end{align}
\end{subequations}

Table \ref{tab-secure} summarizes the RIS-aided secure transmissions-related studies. It shows that most existing works apply continuous phase shifts with perfect CSI sharing, and BS beamforming and RIS phase shifts are still the major control variables. Most existing studies consider single-user cases\cite{zheng,hong,xianghao,biqian,miao,zijie,huiming2}, which significantly lower the optimization complexity without considering interference between multiple legitimate users. Moreover, the perfect CSI acquisition of legitimate users may be unrealistic in practice, indicating a gap between theoretical studies and real-world applications. 

On the other hand, RIS technique is also combined with conventional secure transmission strategies, i.e., artificial noise, to achieve secure transmissions\cite{wei,xianghao}, and the simulations demonstrate that integrating RIS with artificial noise can achieve a higher secure transmission rate. 
However, these coupled control variables also increase the optimization complexity.
The main difficulties of solving problem (\ref{e-sec}) are the non-convex objective function and RIS phase-shift constraints (\ref{e-sec2}). Subsequently, AO-based estimation methods are widely applied as low-complexity solutions. For instance, the original problem is decoupled into multiple sub-problems by optimizing one control variable and holding other variables fixed, and then applying approximation-based algorithms, e.g., SCA\cite{wei,xianghao,zijie} and MM\cite{limeng,huiming2}, to solve each sub-problem.   



\begin{table*}[!t]
\caption{Summary of RIS-aided secure transmission-related works under various constraints}
\centering
\small
\setstretch{1.05}
\resizebox{1\textwidth}{!}{%
\begin{tabular}{|m{0.5cm}<{\centering}|m{2.2cm}<{\centering}|m{1.5cm}<{\centering}|m{1.5cm}<{\centering}|m{1.3cm}<{\centering}|m{3.9cm}<{\centering}|m{5cm}<{\centering}|m{3.5cm}<{\centering}|}
\hline 
Ref. & Scenario  & Phase-shift resolution & Channel setting  &  CSI & Control variables & Constraints & Algorithms  \\
\hline
\cite{limeng} \cite{limeng2} & MIMO wiretap channel  &  Continuous & Rayleigh fading   &  Perfect/ Imperfect  &  Transmit covariance matrix and RIS phase shifts  & Total transmit power and RISs phase constraints   & AO, one-by-one optimization, bisection search, MM.   \\
\hline
\cite{zheng} &  MISO-DL-SU &  Continuous & Rayleigh fading  & Estimated  &  Transmit
beamformer and RIS phase shifts & Secure transmission rate and RISs phase constraints   & AO, SDR  \\
\hline
\cite{wei} & MISO-DL-MU SWIPT & Continuous & Rayleigh fading  &  Perfect  & BS transmit beamforming and artificial noise covariance matrix, and RIS phase shifts.  & Harvested power, total transmit power, and RISs phase constraints  & AO, SDR, SCA  \\
\hline
\cite{hong} & MISO-DL-SU  & Continuous & Rayleigh fading  & Perfect  & Transmit beamformer and RIS phase shifts   & Total transmit power and RISs phase constraints   & AO  \\
\hline
\cite{xianghao} & MISO-DL-SU  &  Continuous & Rician fading  &  Perfect &  AP transmit beamforming and artificial noise covariance matrix, and RIS phase shifts.  &  Total transmit power, RISs phase, and secrecy rate constraints & AO, penalty-based approach, SCA, SDR   \\
\hline
\cite{biqian} & MISO-DL-SU  & Continuous  & Rician fading  & Perfect/ Imperfect  & BS transmit beamforming vector and RIS phase shifts & Secrecy capacity requirement and RISs phase constraints   &  SDR, projected gradient algorithm   \\
\hline
\cite{miao} & MISO-DL-SU  & Continuous  & Correlated Rician fading  & Perfect   & AP transmit beamforming
vector and RIS phase shifts  & Total transmit power and RISs phase constraints   &  AO \\
\hline
\cite{zijie} & SISO-DL-SU & Continuous  & Rician fading  &  Perfect  & RIS phase shifts  &  RISs phase constraint   &  AO, SDR, SCA  \\
\hline
\cite{huiming2} & MISO-DL-SU & Continuous  & Rayleigh fading  & Partial & Transmit beamforming vector and RIS phase shift  &  SNR and RISs phase constraints   &  Oblique manifold algorithm, MM  \\
\hline
\cite{jie} & MISO-DL-MU &  Continuous/ Discrete & Rician fading  & Perfect   & BS transmit
beamformer, and RIS phase shifts &  Total transmit power and RISs phase constraints  &  AO based path-following algorithm, heuristic algorithm \\
\hline
\cite{niu2021simultaneous} & MISO-DL-MU    &  Continuous & Rician fading  &  Perfect   & BS transmit beamforming and RIS phase shifts   &  Total transmit power, RIS phase, and energy conservation constraints  &  AO, CCP, one dimension search     \\
\hline
\end{tabular}}
\label{tab-secure}
\vspace{-10pt}
\end{table*}









\subsection{ Optimization with Integer Constraints: Discrete RIS Phase Shifts and Resource Allocation Problems } 
\label{sec-sub-dis}


Previous sections show that many existing studies assume continuous RIS phase shifts for simplicity, but practical RISs usually have limited phase-shift resolutions, indicating discrete phase shifts for the incident signal. However, such realistic settings will lead to discrete control variables along with mixed integer nonlinear programming (MINLP) problems, considerably increasing the difficulty of optimization. 
In addition, RIS element on/off control, resource allocation, and association problems will also involve integer control variables. 

Compared with former problem formulations, the main difference is that discrete control variables lead to integer constraints. For instance, discrete RIS phase shifts include a constraint $\theta_n \in \{0, \frac{2\pi}{2^\varrho},...,(2^\varrho-1)\frac{2\pi}{2^\varrho},2\pi\}$, where $\varrho$ is the RIS phase-shift resolution. RIS elements on/off, subchannel allocation, and user association problems will involve binary constraints as $\chi \in \{0,1\}$, where $\chi$ is the binary decision variable.  
We summarize three approaches to formulate optimization problems with integer control variables: 
\begin{itemize} 
    \item \textbf{Relaxation method}: This method is to relax the discrete RIS phase shifts $\theta_n \in \{0, \frac{2\pi}{2^\varrho},...,(2^\varrho-1)\frac{2\pi}{2^\varrho},2\pi\}$ into continuous phase shifts with $0\leq \theta_n < 2\pi$. Similarly, the binary control variables in resource allocation and association problems with $ \chi \in \{0,1\}$ are converted into $0\leq \chi \leq 1$. Such linear programming relaxation can transform NP-hard problems into related problems that may be solvable in polynomial time. In addition, the relaxation method may introduce penalties in the objective function by allowing violating constraints such as Lagrangian relaxation. Then, the reformulated problem formulations are solved by using algorithms such as SCA or MM. These methods will be included in Section \ref{sec-model}.
    \item \textbf{Quantization approach}: The quantization method is mainly used to simplify the RIS phase-shift control. It considers continuous RIS phase shifts when solving the problem, and then the achieved optimal RIS phase shifts are quantized into the closest discrete values as $\theta_n \in \{0, \frac{2\pi}{2^\varrho},...,(2^\varrho-1)\frac{2\pi}{2^\varrho},2\pi\}$. For example, the authors in \cite{gang} maximize the received signal strength by using BCD and SDR, and the achieved continuous RIS phase shifts are easily converted into the nearest discrete values. Compared with the relaxation method, the quantization approach has much lower complexity with few reformulations. However, the solution quality may be considerably degraded when quantizing the continuous values into discrete solutions. For example, the quantization approach may have difficulty handling binary decision problems since all continuous solutions between 0 and 1 can only be quantized into values 0 or 1. In this case, the relaxation method is more appropriate for binary decision-making.   
    \item \textbf{Heuristic and ML techniques}: Heuristic and ML techniques also provide attractive solutions for MINLP problems. Discrete control variables are directly optimized without relaxation and transformation, which will be introduced in Section \ref{sec-heu} and \ref{sec-ml}. 
\end{itemize}


\begin{table*}[!t]
\caption{Summary of discrete control variables for optimizing RIS-aided wireless networks}
\centering
\setstretch{1.05}
\small
\resizebox{1\textwidth}{!}{
\begin{tabular}{|m{2.5cm}<{\centering}|m{11.5cm}<{\centering}|m{5cm}<{\centering}|}
\hline 
Discrete control variables &  Main features   &     Solution algorithms     \\
\hline
 Discrete RIS phase shifts &  Discrete phase shift indicates that the phase of each RIS element can only be selected from multiple fixed values. It is more practical than continuous phase changing, but increases the optimization complexity as MINLP problems.   &  Relaxation method, quantization method\cite{gang}, BnB\cite{boya}, heuristic and ML algorithms\cite{zhi2022power,liu2020machine}.   \\
\hline
 RIS on/off decision & RIS on/off decision is to decide the on/off status of each RIS element, which can better save energy consumption and improve energy efficiency. &     Greedy algorithms \cite{zhaohui}, dual method.\\
\hline
 Association decisions &  User-RIS-BS associations are key control variables for optimizing multi-cell and multi-RIS network performance. In addition, these association decisions can apply to RIS-UAV systems for the user-UAV association.   &   \multirowcell{2}[10pt][c]{Matching theory is the most widely \\ used method for solving association \\ and resource allocation problems\\ \cite{wu2022resource, zuo2020resource}. Meta-heuristic and \\ ML algorithms also present  \\ promising solutions. }       \\
\cline{1-2}
 Resource allocation \qquad decision &  Resource allocation is a key decision for optimizing RIS-aided wireless network performance, which will directly decide the user experience.    &         \\
\hline
 D2D-user pairing in RIS-aided D2D networks &  RIS provides a promising opportunity for the interference control of D2D communications, and the pairing of celluar users and D2D links is important to reuse the subchannels allocated to users.  &  Hungarian algorithm\cite{cao2021sum}, heuristic pairing\cite{yang2021reconfigurable2}.    \\
\hline
 Task offloading in RIS-aided MEC &  RIS could change the channel condition for MEC services to increase channel efficiency, and task offloading decision is one of the core decisions for MEC services.       &  BCD and SCA \cite{peng2022active}, DRL\cite{li2021joint}.      \\
\hline
\end{tabular}}
\label{tab-discrete}
\vspace{-5pt}
\end{table*}


\begin{table*}[!t]
\caption{Summary of different CSI error models for optimizing RIS-aided wireless networks}
\centering
\setstretch{1.05}
\small
\resizebox{1\textwidth}{!}{
\begin{tabular}{|m{2.5cm}<{\centering}|m{11.5cm}<{\centering}|m{5cm}<{\centering}|}
\hline 
CSI error \qquad model &  Main features   &     Solution algorithms     \\
\hline
 Deterministic model      &  Deterministic model defines an upper bound of the CSI error. Most existing studies convert the optimization problem into max-min formulations to guarantee the worst-case performance, i.e., secrecy rate maximization \cite{lu2020robust}, weighted sum-rate maximization \cite{hao2021robust}.    &  AO, SDR, SCA\cite{hao2021robust}, penalty CCP, MM\cite{limeng} \cite{limeng2}.     \\
\hline
Stochastic model   &  Stochastic model indicates that CSI error follows certain distributions without a predefined upper bound. Therefore, an outage probability constraint is applied to guarantee network performance, i.e., power minimization and secrecy rate maximization with SINR and secrecy rate outage probability constraints\cite{zhao2021outage,guo2021learning}.       &   SCA\cite{zhao2021outage}, DDPG\cite{guo2021learning}     \\
\hline
\end{tabular}}
\label{tab-imper}
\vspace{0pt}
\end{table*}


In summary, the quantization approach has the lowest complexity by transforming continuous RIS phase shifts into the nearest discrete values, but such brute-force transformation may degrade the network performance. The relaxation method converts discrete control variables into continuous optimization problems. It may guarantee optimality but require case-by-case analyses and complicated design. By contrast, heuristic and ML techniques can better handle discrete optimization problems by using heuristic rules and ML algorithms. For instance, discrete RIS phase shifts are defined as actions in \cite{liu2020machine}, and then the DRL agent interacts with the wireless environment directly to maximize the long-term benefit.

Table \ref{tab-discrete} overviews integer control variables that are involved in the optimization of RIS-aided wireless networks, including discrete RIS phase shifts, RIS on/off control, resource allocation and association, D2D-user pairing for RIS-D2D communications, and task offloading decisions for RIS-aided MEC. Table \ref{tab-discrete} shows that handling these integer control variables is critical to optimize network performance, and heuristic and ML algorithms are regarded as appealing approaches to solve these NP-hard problems.







\subsection{Optimization Constraints for Imperfect CSI}
CSI availability is critical for properly optimizing RIS-aided wireless networks. Note that there are many advanced channel estimation methods to provide accurate CSI\cite{zheng2022survey}, and then most existing studies assume perfect CSI as shown from Table \ref{tab-rate} to \ref{tab-secure}. 
However, obtaining perfect and instant CSI is impractical due to limited feedback overhead, noise, and interference. As shown in Table \ref{tab-imper}, the CSI estimation error can be described by deterministic or stochastic models.

\begin{itemize} 
\item \textbf{Deterministic model}: The deterministic model indicates an upper bound of the CSI error as $||e_{Ch}|| \leq e_{Ch,max}$, where $e_{Ch}$ is the estimation error and $\leq e_{Ch,max}$ is the upper bound. Then $||e_{Ch}|| \leq e_{Ch,max}$ will be included in the problem formulations shown from Section \ref{sec-sub-rate} to \ref{sec-sub-sec}. In addition, problem formulations with the deterministic error model will become a max-min problem to guarantee the worst-case performance, which is similar to Section \ref{sec-sub-fair}.
\item \textbf{Statistical model}: On the other hand, the statistical model considers the CSI error as a random variable with specific distributions such as complex Gaussian distribution. Without CSI error bound, an extra constraint is required to guarantee the network performance $Pr(\gamma \geq \gamma_{min} ) \geq Pr_{min}$, where $\gamma_{min}$ is the minimum SINR requirement, and $Pr_{min}$ is the minimum probability requirement that the SINR is higher than the target value. 
$Pr(\gamma \geq \gamma_{min} ) \geq Pr_{min}$ is a probabilistic constraint because there is no upper limit on the CSI error, and a large error will unavoidably lead to system outages. \end{itemize}

Finally, note that there are many algorithms that can be used to optimize problems with imperfect CSI constraints, including AO, SCA, SDR, and DRL, which will be introduced in the following sections.   



\subsection{Discussions and Analyses}
Sections III-B to III-H have investigated various problem formulations for RIS-aided networks, and then this subsection aims to analyze the common features of these formulations. Especially, identifying the main challenges of solving these problems can motivate us to find more efficient solutions.

1) \textbf{Non-convex Objectives and Constraints}: One common feature of RIS-related optimization problems is that the objectives and constraints are usually non-convex and highly non-linear. For instance, fractional terms are frequently involved with SINR, and the logarithm is usually included due to Shannon's formula. \blue{These fractional and logarithmic terms lead to non-convex terms in objectives and constraints. Thus dedicated transformation and relaxation are needed to reformulate the problem for convexity, which requires case-by-case analyses for each problem formulated. }

2) \textbf{Highly Coupled Control Variables}: RIS passive beamforming is often combined with other techniques, e.g., BS active beamforming, NOMA, and UAVs. This results in highly coupled control variables, e.g., RIS phase-shift design, user decoding order in NOMA, BS transmit power control, UAV trajectory design, and so on. \blue{For instance, in RIS-UAV systems, when changing the UAV altitude, the RIS phase shifts must be simultaneously optimized to maintain the network performance. Compared with optimizing RIS phase shifts solely, such correlation between network functions and control variables is much more complicated.}
The ideal solution is to jointly optimize all variables simultaneously, but this can be extremely difficult due to the interactions between these techniques.

3) \textbf{Large Solution Spaces}: RIS-related optimization problems usually involve a large solution space due to the considerable number of RIS elements. Meanwhile, the integration with other techniques also contributes to the size of the solution space. \blue{For instance, compared with RIS passive beamforming, joint active and passive beamforming problems are more complicated by including BS beamforming vectors, leading to a much larger solution space.}
Such large solution spaces indicate extra difficulty when exploring the optimal solution, e.g., large datasets and action spaces for deploying ML algorithms.


4) \textbf{Integer Control Variables}: As introduced in Section III-G, integer control variables are frequently involved in optimizing RIS-aided networks, e.g., resource allocation and user-RIS-BS association. \blue{These integer control variables will result in NP-hard problems, which cannot be efficiently solved in polynomial time. In addition,} optimization problems become more complicated when both integer and continuous control variables are included, such as joint RIS phase-shift design and elements on/off control.

Finally, given the above features, it is critical to investigate efficient optimization algorithms to handle these challenges and realize the full potential of RIS-aided networks. In the following sections, we will introduce model-based, heuristic, and ML optimization approaches. 


