%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%                 Operators
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareMathOperator{\image}{Im}
\renewcommand{\Im}{\image}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Coker}{Coker}
\DeclareMathOperator*{\colim}{colim}
\DeclareMathOperator{\hocolim}{hocolim}
\DeclareMathOperator{\holim}{holim}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\sHom}{\underline{\Hom}}
\DeclareMathOperator{\injHom}{\overline{\Hom}}
\DeclareMathOperator{\RHom}{\mathrm{R}\!\Hom}
\DeclareMathOperator{\cHom}{\mathscr{H}\hspace{-2pt}{\it om}}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\sEnd}{\underline{\End}}
\DeclareMathOperator{\REnd}{\mathrm{R}\!\End}
\DeclareMathOperator{\cEnd}{\mathscr{E}\hspace{-2pt}{\it nd}}
\def\lotimes{\otimes^\mathrm{L}}
\def\cotimes{\widehat{\otimes}}
\DeclareMathOperator{\rT}{\mathrm{T}}
\DeclareMathOperator{\LT}{\mathrm{T^L}}
%\DeclareMathOperator{\RG}{\mathrm{R}\G}
\DeclareMathOperator{\RGa}{\mathrm{R}\Ga}
\DeclareMathOperator{\RH}{\mathrm{H}}
\DeclareMathOperator{\calHom}{\mathcal{H}om}
\DeclareMathOperator{\calEnd}{\mathcal{E}nd}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\pd}{proj.dim}
\DeclareMathOperator{\id}{inj.dim}
\DeclareMathOperator{\gd}{gl.dim}
\DeclareMathOperator{\dd}{dom.dim}
\DeclareMathOperator{\rd}{resol.dim}
\DeclareMathOperator{\rep}{rep}
\DeclareMathOperator{\Rep}{Rep}
\DeclareMathOperator{\eff}{eff}
\DeclareMathOperator{\cone}{cone}
\DeclareMathOperator{\cocone}{cocone}
\DeclareMathOperator{\Mix}{M}
\DeclareMathOperator{\rMix}{\overline{\Mix}}
\DeclareMathOperator{\HH}{HH}
\DeclareMathOperator{\HC}{HC}
\DeclareMathOperator{\HN}{HN}
\DeclareMathOperator{\HP}{HP}
\DeclareMathOperator{\rHH}{\overline{\HH}}
\DeclareMathOperator{\rHC}{\overline{\HC}}
\DeclareMathOperator{\rHN}{\overline{\HN}}
\DeclareMathOperator{\rHP}{\overline{\HP}}

\DeclareMathOperator{\md}{mod}
\renewcommand{\mod}{\md}
%\DeclareMathOperator{\smd}{\underline{\md}}
%\DeclareMathOperator{\injsmd}{\overline{\md}}
\DeclareMathOperator{\Mod}{Mod}
%\DeclareMathOperator{\Md}{Mod}
\DeclareMathOperator{\smod}{\underline{\mod}}
\DeclareMathOperator{\injsmod}{\overline{\mod}}
\DeclareMathOperator{\proj}{proj}
\DeclareMathOperator{\inj}{inj}
\DeclareMathOperator{\projinj}{proj\text{-}inj}
\DeclareMathOperator{\Inj}{Inj}
\DeclareMathOperator{\fl}{fl}
\DeclareMathOperator{\refl}{ref}
\DeclareMathOperator{\tinj}{tors-inj}
\DeclareMathOperator{\tfinj}{torf-Inj}
\DeclareMathOperator{\tor}{tors}
\DeclareMathOperator{\qgr}{qgr}
\DeclareMathOperator{\QGr}{QGr}
\DeclareMathOperator{\QMod}{QMod}
\DeclareMathOperator{\qmod}{qmod}
\DeclareMathOperator{\CM}{CM}
\DeclareMathOperator{\sCM}{\underline{\CM}}
\DeclareMathOperator{\GP}{GP}
\DeclareMathOperator{\sGP}{\underline{\GP}}
\DeclareMathOperator{\coh}{coh}
\DeclareMathOperator{\Qcoh}{Qcoh}
\DeclareMathOperator{\res}{res}
%\DeclareMathOperator{\ind}{ind}

\DeclareMathOperator{\thick}{thick}
\DeclareMathOperator{\per}{per}
\DeclareMathOperator{\Loc}{Loc}
\DeclareMathOperator{\pretr}{pretr}
\DeclareMathOperator{\ind}{ind}
\DeclareMathOperator{\add}{add}
\DeclareMathOperator{\Add}{Add}
\DeclareMathOperator{\Fac}{Fac}
\DeclareMathOperator{\Sub}{Sub}
%\newcommand\ct[1]{#1\text{-\!}\ctilt}
\DeclareMathOperator{\silt}{\mathrm{silt}}
\DeclareMathOperator{\tilt}{\mathrm{tilt}}
\DeclareMathOperator{\ctilt}{\mathrm{ctilt}}
\DeclareMathOperator{\sttilt}{\mathrm{s\tau\text{-}tilt}}
\DeclareMathOperator{\CT}{\mathrm{CT}}

\DeclareMathOperator{\rad}{rad}
\DeclareMathOperator{\soc}{soc}
\DeclareMathOperator{\topp}{top}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\ass}{Ass}
\DeclareMathOperator{\Ass}{Ass}
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Max}{Max}
\DeclareMathOperator{\Proj}{Proj}
\DeclareMathOperator{\Sing}{Sing}
\DeclareMathOperator{\Supp}{Supp}
\DeclareMathOperator{\height}{ht}
\DeclareMathOperator{\depth}{depth}
\DeclareMathOperator{\grade}{grade}
\DeclareMathOperator{\sgrade}{s.grade}
\DeclareMathOperator{\ASpec}{ASpec}
\DeclareMathOperator{\ASupp}{ASupp}
\DeclareMathOperator{\AAss}{AAss}
\DeclareMathOperator{\Zg}{Zg}
\DeclareMathOperator{\principaldivisor}{div}
\renewcommand{\div}{\principaldivisor}
\DeclareMathOperator{\Div}{Div}
\DeclareMathOperator{\Cl}{Cl}
\DeclareMathOperator{\gr}{gr}
\DeclareMathOperator{\Tot}{Tot}
\DeclareMathOperator{\Totp}{\widehat{\Tot}}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\ch}{char}
\DeclareMathOperator{\trdeg}{trans.deg}
\DeclareMathOperator{\tr}{tr}
\def\seg{\#}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%      Derived categories and their friends
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\newcommand\rD[1]{\mathrm{D^{#1}}}
%\newcommand\rK[1]{\mathrm{K^{#1}}}
%\newcommand\rC[2]{\mathrm{C^{#1}_{#2}}}
\def\rD{\mathrm{D}}
\def\rK{\mathrm{K}}
\def\rC{\mathrm{C}}
\def\rS{\mathrm{S}}
\def\rmD{\mathrm{D}}
\def\rmK{\mathrm{K}}
\def\rmC{\mathrm{C}}
\def\rmS{\mathrm{S}}
\def\Db{\mathrm{D^b}}
\def\Kb{\mathrm{K^b}}
\def\Cb{\mathrm{C^b}}
\def\Dsg{\mathrm{D_{sg}}}
\def\rb{\mathrm{b}}
\DeclareMathOperator{\Ho}{Ho}

\def\dgcat{\mathrm{dgcat}}
\def\Hqe{\mathrm{Hqe}}
\def\Hmo{\mathrm{Hmo}}

\newcommand\recollement[3]{\xymatrix{{#1}\ar[r]&{#2}\ar[r]\ar@/_7pt/[l]\ar@/^7pt/[l]&{#3}\ar@/_7pt/[l]\ar@/^7pt/[l] }}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%      Symbols
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\A{\mathscr{A}}
\def\B{\mathscr{B}}
\def\C{\mathscr{C}}
\def\D{\mathscr{D}}
\def\E{\mathscr{E}}
\def\F{\mathscr{F}}
\def\H{\mathscr{H}}
\def\J{\mathscr{J}}
\def\K{\mathscr{K}}
\def\M{\mathscr{M}}
\def\N{\mathscr{N}}
\renewcommand{\O}{\mathscr{O}}
\def\P{\mathscr{P}}
\def\cQ{\mathscr{Q}}
\renewcommand\S{\mathscr{S}}
\def\T{\mathscr{T}}
\def\U{\mathscr{U}}
\def\V{\mathscr{V}}
\def\W{\mathscr{W}}
\def\X{\mathscr{X}}
\def\Y{\mathscr{Y}}
\def\cZ{\mathscr{Z}}
\def\sE{\underline{\E}}
\def\sX{\underline{\X}}
\def\sY{\underline{\Y}}
\def\rL{\mathrm{L}}
\def\rU{\mathrm{U}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%%    Greek alphabets
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
\def\G{\Gamma}
\def\Ga{\Gamma}
\def\sG{\underline{\Gamma}}
\def\sGa{\underline{\Gamma}}
\def\bG{\mathbf{\G}}
\def\De{\Delta}
\def\Del{\Delta}
\def\L{\Lambda}
\def\La{\Lambda}
\def\bPi{\mathbf{\Pi}}
\def\sPi{\underline{\Pi}}
\def\Si{\Sigma}
\def\Om{\Omega}
\def\a{\alpha}
\def\al{\alpha}
\def\b{\beta}
\def\be{\beta}
\def\ga{\gamma}
\def\del{\delta}
\def\la{\lambda}
\def\s{\sigma}
\def\si{\sigma}
\def\om{\omega}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\NN{\mathbb{N}}
\def\Z{\mathbb{Z}}
\def\ZZ{\mathbb{Z}}
\def\QQ{\mathbb{Q}}
\def\RR{\mathbb{R}}
\def\CC{\mathbb{C}}
\def\AA{\mathbb{A}}
\def\PP{\mathbb{P}}
\def\LL{\mathbb{L}}
\def\FF{\mathbb{F}}
\def\p{\mathfrak{p}}
\def\q{\mathfrak{q}}
\def\m{\mathfrak{m}}
\def\n{\mathfrak{n}}

\def\fd{\mathrm{fd}}
\def\op{\mathrm{op}}
\def\dg{\mathrm{dg}}
\def\sg{\mathrm{sg}}
\def\ac{\mathrm{ac}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%         Useful
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\pprime{{\prime\prime}}
\def\lsimeq{\rotatebox{90}{$\simeq$}}
\def\rsimeq{\rotatebox{-90}{$\simeq$}}
\def\xsimeq{\xrightarrow{\simeq}}
\def\ysimeq{\xleftarrow{\simeq}}
\def\msimeq{\simeq}
\def\vsubset{\rotatebox{90}{$\subset$}}
\def\vsupset{\rotatebox{90}{$\supset$}}
\def\vin{\rotatebox{90}{$\in$}}
\def\vni{\rotatebox{90}{$\ni$}}
\def\tQ{\widetilde{Q}}
\def\x{\vec{x}}
\def\y{\vec{y}}
\def\z{\vec{z}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%         Theorems
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{Thm}{Theorem}[section]
\newtheorem{Lem}[Thm]{Lemma}
\newtheorem{Prop}[Thm]{Proposition}
\newtheorem{Cor}[Thm]{Corollary}
\newtheorem{itEx}[Thm]{Example}
\newtheorem{Hope}[Thm]{Hope}
\newtheorem{Prop-Def}[Thm]{Proposition-Definition}
\newtheorem{Thm-Def}[Thm]{Theorem-Definition}
\newtheorem{Cj}[Thm]{Conjecture}
\newtheorem{Memo}[Thm]{Memo}

\theoremstyle{definition}
\newtheorem{Def}[Thm]{Definition}
\newtheorem{Ex}[Thm]{Example}
\newtheorem{Con}[Thm]{Construction}
%\newtheorem{Ass}[Thm]{Assumption}
\newtheorem{Assum}[Thm]{Assumption}
%\newtheorem{Q}[Thm]{Question}
\newtheorem{Qs}[Thm]{Question}
\newtheorem{Setup}[Thm]{Setting}
\newtheorem{Not}[Thm]{Notation}
\newtheorem{Conv}[Thm]{Convention}
\newtheorem{Pb}[Thm]{Problem}

\theoremstyle{remark}
\newtheorem{Rem}[Thm]{Remark}

\newcounter{step}
\newcommand{\Step}[1]{\refstepcounter{step}{{\it Step \thestep: {#1}}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%       Preferences
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%55
\def\disoplus{\displaystyle\bigoplus}
\def\textoplus{\textstyle\bigoplus}
\def\discoprod{\displaystyle\coprod}
\def\disprod{\displaystyle\prod}
\def\Oplus{\displaystyle\bigoplus}
\def\Coprod{\displaystyle\coprod}
\def\Prod{\displaystyle\prod}
\newcommand\Frac[2]{\displaystyle\frac{#1}{#2}}
\def\Sum{\displaystyle\sum}
\def\Binom{\displaystyle\binom}
\def\Wedge{\textstyle\bigwedge}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%       (section. equation)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%55
\makeatletter
\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}
\@addtoreset{equation}{section}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%555
%%%%%%      Colors
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%55
\newcommand{\new}[1]{{\color{blue}#1}}
\newcommand{\old}[1]{{\color{red}#1}}
\newcommand{\comment}[1]{{\color{green}#1}}