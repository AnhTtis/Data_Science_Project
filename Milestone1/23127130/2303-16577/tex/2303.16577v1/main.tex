\pdfoutput=1
\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{mathtools}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
%\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{comment}
\usepackage{cleveref}
\usepackage{footmisc}
\usepackage{multirow}
\usepackage[table,xcdraw]{xcolor}
%\usepackage[ruled,vlined,linesnumbered,commentsnumbered,longend]{algorithm2e}
\usepackage[ruled,vlined,linesnumbered,longend]{algorithm2e}
\usepackage{color}
\newcommand{\gray}[1]{\textcolor[gray]{0.6}{#1}}
\newcommand\algocommfont[1]{\small\ttfamily\textcolor{blue}{#1}}
%\newcommand{\todo}[1]{\underline{\sf todo}: {\color{orange}{#1}}}
\newcommand{\todo}[1]{}
\newcommand{\memo}[1]{{\color{blue}{#1}}\newline\noindent}
\newcommand{\modified}[1]{{\color{red}{#1}}\noindent}
\newcommand{\modifiedd}[1]{{\color{yellow}{#1}}\noindent}
\newcommand{\extended}[1]{}

% ref: https://tex.stackexchange.com/questions/482575/subequations-how-to-continue-numbering-within-subequation
\newcommand\StepSubequations{
  \stepcounter{parentequation}
  \gdef\theparentequation{\arabic{parentequation}}
  \setcounter{equation}{0}
}

\crefname{equation}{equation}{equations}
\Crefname{equation}{Equation}{Equations}
\crefrangelabelformat{equation}{(#3#1#4--#5#2#6)}

\crefmultiformat{equation}{equations (#2#1#3}{, #2#1#3)}{#2#1#3}{#2#1#3}
\Crefmultiformat{equation}{Equations (#2#1#3}{, #2#1#3)}{#2#1#3}{#2#1#3}

%\newcommand{\topic}[1]{\textcolor{blue}{#1}}
%\newcommand{\todo}[1]{\textcolor{red}{#1}}
\newcommand{\topic}[1]{}
%\newcommand{\todo}[1]{}
\newtheorem{definition}{Definition}

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{NoSQL Schema Design for Time-Dependent Workloads
}

\author{\IEEEauthorblockN{Yusuke Wakuta}
\IEEEauthorblockA{
%\textit{dept. name of organization (of Aff.)} \\
\textit{CyberAgent, Inc.}\\
Tokyo, Japan \\
wakuta\_yusuke@cyberagent.co.jp}
\and
\IEEEauthorblockN{Michael Mior}
\IEEEauthorblockA{\textit{Department of Computer Science} \\
\textit{Rochester Institute of Technology}\\
Rochester, NY, USA \\
mmior@mail.rit.edu}
\and
\IEEEauthorblockN{Teruyoshi Zenmyo}
\IEEEauthorblockA{
\textit{CyberAgent, Inc.}\\
Tokyo, Japan \\
zenmyo\_teruyoshi@cyberagent.co.jp}
\and
\IEEEauthorblockN{Yuya Sasaki}
\IEEEauthorblockA{\textit{Graduate School of Information Science and Technology} \\
\textit{Osaka University}\\
Osaka, Japan \\
sasaki@ist.osaka-u.ac.jp}
\and
\IEEEauthorblockN{Makoto Onizuka}
\IEEEauthorblockA{\textit{Graduate School of Information Science and Technology} \\
\textit{Osaka University}\\
Osaka, Japan \\
onizuka@ist.osaka-u.ac.jp}
}

\maketitle

\begin{abstract}
In this paper, we propose a schema optimization method for time-dependent workloads for NoSQL databases.
In our proposed method, we migrate schema according to changing workloads, and the estimated cost of execution and migration are formulated and minimized as a single integer linear programming problem.
Furthermore, we propose a method to reduce the number of optimization candidates by iterating over the time dimension abstraction and optimizing the workload while updating constraints.
\extended{
In addition, during migration candidate enumeration, we propose a method that reduces candidates by focusing on the similarity of query plans at each time and the key attributes of the schema.
Our evaluation shows that our proposed method achieved performance superior to static optimization in a variation of TPC-H with a time-varying workload.}
\end{abstract}

\begin{IEEEkeywords}
NoSQL, Schema evolution, time-dependent workload, Integer Linear Programming
\end{IEEEkeywords}

\section{Introduction}
%%
\input{parts/1_Intro_eng}

\section{Preliminary}\label{sec:problem}

\input{./parts/2_ProblemStatement.tex}

\section{Proposed Optimization Formula}\label{Sec:Optimization}

\input{./parts/3_OptimizationFormulation}

\section{Proposed System}\label{sec:proposal}

\input{./parts/4_ProposedMethod}

\extended{
\section{Experimental Study}\label{sec:experiments}
\input{./parts/5_Experiments}
}

\section{Related Work} \label{sec:related}

\input{./parts/6_RelatedWork}

\section{Conclusion} \label{sec:conclusion}
We proposed new techniques for optimizing time-series schema by effectively reducing the number of schema candidates and the number of migration plan candidates.
First, we formulated the optimization problem of time-series schema with a single integer linear program for minimizing the total cost of time-dependent workload execution and database migration. 
Second, we proposed an efficient schema candidate pruning technique by decomposing the ILP of  original time-dependent workload via approximation into hierarchical local ILPs of smaller sub-workloads. This technique is scalable by effectively pruning uninteresting schema candidates.
Finally, we proposed an effective technique that reduces the number of migration plan candidates by restricting the candidates according to how optimized query plans are changed.
\extended{
既存手法の静的なスキーマ最適化手法では，時刻変化するワークロードの変化に追従できず，性能が低下する場合でも，提案手法により安定して高い性能を達成できることを評価実験を通して確認した．
As future work, we can consider optimizing for free time widths because the width between times is fixed, and optimizing when the frequency is unknown by combining with the query frequency prediction method ~\cite{Ma2018}.
}
%今後の課題として，時刻間の幅が固定であるため自由な時刻幅に対応した最適化やクエリ頻度の予測手法~\cite{Ma2018}と組み合わせて頻度が未知の場合での最適化が考えられる．

\section*{Acknowledgment}
This paper is based on results obtained from a project,
JPNP16007, subsidized by the New Energy and Industrial Technology Development
Organization (NEDO). 

\bibliographystyle{abbrv}
\bibliography{icde}  

\end{document}
