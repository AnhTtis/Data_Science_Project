\documentclass{article}
\usepackage{amsmath,inputenc}

\title{Online Learning for Equilibrium Pricing in Markets under Incomplete Information}
\author{Devansh Jalota$^{*1}$, Haoyuan Sun$^{*2}$, Navid Azizan$^2$%\\
\thanks{$^*$Equal Contribution}
\thanks{$^1$Institute for Computational and Mathematical Engineering, Stanford University; {\tt djalota@stanford.edu}.}%
\thanks{$^2$Laboratory for Information and Decision Systems, Massachusetts Institute of Technology; {\tt \{haoyuans,azizan\}@mit.edu}}%
%\\
%$^1$Stanford University, Stanford, CA\\
%$^2$Massachusetts Institute of Technology, Cambridge, MA
}
%\thanks{$^1$ {\tt djalota@stanford.edu}}
%\thanks{$^2$ {\tt \{haoyuans,azizan\}@mit.edu}}
\date{March 2023}

\input{tex/preamble}
\input{tex/macros}

\begin{document}

\maketitle


\begin{abstract}

The study of market \emph{equilibria} is central to economic theory, particularly in efficiently allocating scarce resources. However, the computation of \emph{equilibrium} prices at which the supply of goods matches their demand typically relies on having access to complete information on private attributes of agents, e.g., suppliers' cost functions, which are often unavailable in practice. Motivated by this practical consideration, we consider the problem of setting equilibrium prices in the incomplete information setting wherein a market operator seeks to satisfy the customer demand for a commodity by purchasing the required amount from competing suppliers with privately known cost functions unknown to the market operator. In this incomplete information setting, we consider the online learning problem of learning equilibrium prices over time while jointly optimizing three performance metrics - \emph{unmet demand}, \emph{cost regret}, and \emph{payment regret} â€“ pertinent in the context of equilibrium pricing over a horizon of $T$ periods. We first consider the setting when suppliers' cost functions are fixed and develop algorithms that achieve a regret of $O(\log \log T)$ when the customer demand is constant over time, or $O(\sqrt{T} \log \log T)$ when the demand is variable over time. Next, we consider the setting when the suppliers' cost functions can vary over time and illustrate that no online algorithm can achieve sublinear regret on all three metrics when the market operator has no information about how the cost functions change over time. Thus, we consider an augmented setting wherein the operator has access to hints/contexts that, without revealing the complete specification of the cost functions, reflect the variation in the cost functions over time and propose an algorithm with sublinear regret in this augmented setting.


\end{abstract}

\input{introduction}

\input{model}

\input{fixed-demand-cost}

\input{varying-demand}

\input{varying-cost}

\input{conclusion}

\bibliographystyle{unsrt}
\bibliography{main}


\appendix

\input{pf-identical-result}

\input{vary-demand-pf}

\input{prop-countereg-pf}

\input{new-regret-defs}

\input{lipschitz-lemma}

\section{Technical tools: Freedman Inequality}
The following is a Freedman-type inequality, which are generalization of Bernstein's inequality to martingale~\cite{freedman1975tail}.
Such inequality has been extensively employed in the bandit literature, e.g. \cite{agarwal2014taming, foster2020beyond}.
\begin{lemma}\label{lem:freedman1}
    Let $\{X_t\}_{t \le T}$ be a martingale difference sequence adapted to a filtration $\{\mathfrak{F}_t\}_{t \le T}$.
        If $|X_t| \le R$ almost surely, then for any $\eta \in (0, 1/R)$,
        \[\sum_{t=1}^{T} X_t \le \eta \sum_{t=1}^{T} \EE[X_t^2 \mid \mathfrak{F}_{t-1}] + \frac{\log(1/\delta)}{\eta}\]
        with probability at least $1-\delta$.
\end{lemma}

By applying this lemma to $X_t - \EE[X_t \mid \mathfrak{F}_{t-1}]$, we have the following
\begin{lemma}\label{lem:freedman2}
    Let $\{X_t\}_{t \le T}$ be a sequence adapted to a filtration $\{\mathfrak{F}_t\}_{t \le T}$. If $0 \le X_t \le R$ almost surely, then
        \[\sum_{t=1}^{T} X_t \le \frac{3}{2} \sum_{t=1}^{T} \EE[X_t \mid \mathfrak{F}_{t-1}] + 4 \log(2/\delta)\]
        and
        \[\sum_{t=1}^{T} \EE[X_t \mid \mathfrak{F}_{t-1}] \le 2 \sum_{t=1}^{T} X_t + 8 R \log(2/\delta)\]
        with probability at least $1-\delta$.
\end{lemma}

\input{igw-alg-proof}

\end{document}
