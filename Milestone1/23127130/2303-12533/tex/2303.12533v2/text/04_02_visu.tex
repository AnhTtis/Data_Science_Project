\begin{figure}[t!]
    \centering
    \resizebox{\linewidth}{!}{
    \renewcommand{\arraystretch}{0.8}
    \begin{tabular}{cccc}
       & \scriptsize{Corn} & \scriptsize{Soft winter wheat} & \scriptsize{Fruits, vegetables, flowers}\\
       \parbox[t]{2mm}{\multirow{2}{*}{\rotatebox[origin=c]{90}{\scriptsize{PASTIS}}}} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_pastis_3_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_pastis_2_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_pastis_12_means.pdf} \\
       & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_pastis_3_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_pastis_2_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_pastis_12_aligned.pdf} \\
       & \scriptsize{Potato} & \scriptsize{Winter wheat} & \scriptsize{Rye}\\
       \parbox[t]{2mm}{\multirow{2}{*}{\rotatebox[origin=c]{90}{\scriptsize{TS2C}}}} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_ts2c_3_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_ts2c_13_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_ts2c_8_means.pdf} \\
       & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_ts2c_3_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_ts2c_13_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_ts2c_8_aligned.pdf} \\
       & \scriptsize{Wheat} & \scriptsize{Barley} & \scriptsize{Canola}\\
       \parbox[t]{2mm}{\multirow{2}{*}{\rotatebox[origin=c]{90}{\scriptsize{SA}}}} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_sa_3_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_sa_2_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_sa_4_means.pdf} \\
       & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_sa_3_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_sa_2_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_sa_4_aligned.pdf} \\
       & \scriptsize{Barley} & \scriptsize{Rye} & \scriptsize{Oil Seeds}\\
       \raisebox{1em}{\multirow{2}{*}{\rotatebox[origin=c]{90}{\scriptsize{DENETHOR}}}} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_denethor_3_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_denethor_2_means.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_denethor_6_means.pdf} \\
       & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_denethor_3_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_denethor_2_aligned.pdf} & \includegraphics[width=0.30\linewidth]{images/ndvi/ndvi_denethor_6_aligned.pdf}
    \end{tabular}
    }
    \caption{\textbf{Temporal domain gap and alignment.} For each dataset, we show the mean NDVI of three randomly selected classes on train and test splits (top row). Then we align the test curve to the train mean NDVI by optimizing the parameters of the time warping and the offset transformations with gradient descent (bottom row).}
    \label{fig:visu_ndvi}
\end{figure}