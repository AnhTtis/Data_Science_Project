% Pre-condition: Set the ifs, \ifDEBUG and \ifANONYMOUS

%%%%%
% Standard packages
%%%%%

%\usepackage[compress]{cite} % numbered ordering of multiple citations, set to compress ranges
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{booktabs} % For formal tables \toprule
\usepackage{xspace} % Put an \xspace within numeric macros
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{tcolorbox}
\usepackage{enumitem}
\usepackage{siunitx}
\usepackage[vskip=1em,font=itshape,leftmargin=2em,rightmargin=2em]{quoting}
\usepackage{hyperref}

% \useunder{\uline}{\ul}{}
% \usepackage{filecontents,lipsum}
\usepackage[noadjust]{cite}
\def\citepunct{,\,}
\def\citedash{--}
%%%%%
% Comments and TODOs
%%%%%

\usepackage{soul}
\usepackage{multirow}
\usepackage{array,booktabs}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{wrapfig, lipsum}
\usepackage{subfigure}


\ifDEBUG
    % Floating comment boxes
    \newcommand{\JD}[1]{\textcolor{purple}{[JD:#1]}}
    \newcommand{\AG}[1]{\textcolor{olive}{[AG:#1]}}
    \newcommand{\WJ}[1]{\textcolor{blue}{[WJ:#1]}}
    \newcommand{\GKT}[1]{\textcolor{brown}{[GKT:#1]}}
    \newcommand{\MATT}[1]{\textcolor{pink}{[MH:#1]}}
    \newcommand{\NMS}[1]{\textcolor{orange}{[NMS:#1]}}
    \newcommand{\WPM}[1]{\textcolor{red}{[Trey: #1]}}
    \newcommand{\TRS}[1]{\textcolor{teal}{[Taylor: #1]}}
    \newcommand{\AT}[1]{\textcolor{magenta}{[AT: #1]}}
    \newcommand{\CS}[1]{\textcolor{purple}{[CS: #1]}}
    
    % Inline comments and WIP phrasing
    \newcommand{\TODO}[1]{\hl{#1}}
\else
    \newcommand{\JD}[1]{}
    \newcommand{\AG}[1]{}
    \newcommand{\WJ}[1]{}
    \newcommand{\GKT}[1]{}
    \newcommand{\NS}[1]{}
    \newcommand{\NV}[1]{}
    \newcommand{\NMS}[1]{}
    \newcommand{\WPM}[1]{}
    \newcommand{\TRS}[1]{}
    \newcommand{\MATT}[1]{}
    \newcommand{\AT}[1]{}
    
    \newcommand{\TODO}[1]{}
\fi

%%%%%
% Paragraph-level labels
%%%%%

%%%%%
% Space hacking
%%%%%

\newif\ifSPACEHACK
%\SPACEHACKtrue
\SPACEHACKfalse

% To reduce spacing after headings %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \iffalse
% \usepackage{titlesec}
\usepackage[compact]{titlesec}
    % The bug in the new version 2.10.1 is not properly starting horizontal mode
    % http://tex.stackexchange.com/questions/299969/titlesec-loss-of-section-numbering-with-the-new-update-2016-03-15
    \usepackage{etoolbox}
    \makeatletter
    \patchcmd{\ttlh@hang}{\parindent\z@}{\parindent\z@\leavevmode}{}{}
    \patchcmd{\ttlh@hang}{\noindent}{}{}{}
    \makeatother
% \fi
% Make a \paragraph that is inline and emphasized
\newcommand{\myparagraph}[1]{\vspace{0.10cm}\noindent\textit{#1}\noindent{}}
\renewcommand{\myparagraph}[1]{\vspace{0.10cm}\textit{#1}\noindent{}}
%\renewcommand{\myparagraph}[1]{\paragraph{#1}}


\newcommand{\myminisection}[1]{\vspace{0.1cm} \noindent \textbf{#1.}}

\newcommand{\new}[1]{\textcolor{red}{#1}}
\newcommand{\newnew}[1]{\textcolor{blue}{#1}}

%%%%%%%%%%
% \ifSPACEHACK
%     % Titlespacing args: \titlespacing{command}{left spacing}{before spacing}{after spacing}[right]
%      \titlespacing*\subsection{0pt}{1pt plus 1.5pt minus 1.5pt}{1pt plus 1.5pt minus 1.5pt}
%     \titlespacing*\subsubsection{0pt}{2pt plus 1pt minus 1pt}{1pt plus 1.5pt minus 1.5pt}
%     \titlespacing*\paragraph{0pt}{1pt plus 1.5pt minus 1.5pt}{1pt plus 1.5pt minus 1.5pt}
%     \setlength{\abovecaptionskip}{2pt plus 1pt minus 1pt}
%     \setlength{\belowcaptionskip}{2pt plus 1pt minus 1pt}
%     \setlength{\floatsep}{2.0pt plus 2.0pt minus 2.0pt}
% \fi
%%%%%%%%%%%%
\ifSPACEHACK
    % Titlespacing args: \titlespacing*\section{left}{before}{after}{right}
    % The * kills indentation of the first paragraph after a heading
    \titlespacing*\section{0pt}{5pt plus 1pt minus 1pt}{3pt plus 1pt minus 1pt}
    \titlespacing*\subsection{0pt}{4pt plus 1.5pt minus 1.5pt}{4pt plus 1.5pt minus 1.5pt}
    \titlespacing*\subsubsection{0pt}{3pt plus 1pt minus 1pt}{3pt plus 1.5pt minus 1.5pt}
    \titlespacing*\paragraph{0pt}{1pt plus 1.5pt minus 1.5pt}{2pt plus 1.5pt minus 1.5pt}
    \setlength{\abovecaptionskip}{2pt plus 1pt minus 1pt}
    \setlength{\belowcaptionskip}{2pt plus 1pt minus 1pt}
    \setlength{\floatsep}{2.0pt plus 2.0pt minus 2.0pt}
    % \titlespacing{\section}{\unskip}{2ex}{1ex}
    % \titlespacing{\subsection}{\unskip}{1ex}{0ex}
    % \titlespacing{\subsubsection}{\unskip}{0.5ex}{0ex}
    % \def\subsection{\@startsection{subsection}% name
    %                              {3}% level
    %                              {\parindent}% indent
    %                              {0ex plus 0.1ex minus 0.1ex}% before skip
    %                              {0ex}% after skip
    %                              {\normalfont\normalsize\itshape}}% style
    % \def\subsubsection{\@startsection{subsubsection}% name
    %                              {3}% level
    %                              {\parindent}% indent
    %                              {0ex plus 0.1ex minus 0.1ex}% before skip
    %                              {0ex}% after skip
    %                              {\normalfont\normalsize\itshape}}% style

\fi
%\setlength{\textfloatsep}{3.0pt plus 2.0pt minus 4.0pt}
\setlength{\floatsep}{2.0pt plus 2.0pt minus 2.0pt}
%\setlength{\intextsep}{2.0pt plus 2.0pt minus 2.0pt}



%%%%%%%%
% Peer review
%%%%%%%%

%%%%%%%%
% Balance references
%%%%%%%%

\usepackage{balance} % Put \balance on the last page
%\usepackage{caption}
%\usepackage[font=normal]{caption}
% \usepackage{subcaption}
%%%%
% Intra-paper references
%%%%

\usepackage{amsmath}
\usepackage{cleveref}


\crefformat{section}{\S#2#1#3}
\crefname{figure}{Figure}{Figures}
\crefname{appendix}{Appendix}{Appendices}
\crefname{table}{Table}{Tables}
\crefname{algorithm}{Algorithm}{Algorithms}
\crefname{listing}{Listing}{Listings}
\crefname{theorem}{Theorem}{Theorems}
\crefname{thm}{Theorem}{Theorems}
\crefname{lemma}{Lemma}{Lemmata}
\crefname{equation}{Eqt.}{Eqts.}
\crefformat{Grammar}{Grammar #1}

%%%%
% Tunable enumerate and itemize
%%%%

\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{svg}
\usepackage{listings}

%%%%
% Latin
%%%%

\newcommand{\ie}{\textit{i.e.,} }
\newcommand{\eg}{\textit{e.g.,} }
\newcommand{\etal}{\textit{et al.}\xspace}
\newcommand{\etals}{\textit{et al.'s}\xspace}
\newcommand{\nb}{\textit{N.B.,} }

%%%%
% Code
%%%%

\newcommand{\code}[1]{{\small\texttt{#1}}\xspace}

%\newcommand{\HF}{{\small \code{Hugging Face}}\xspace}
%\renewcommand{\HF}{{\emph{Hugging Face}\xspace}
%\renewcommand{\HF}{{Hugging Face}\xspace}
\newcommand{\HF}{{Hugging Face}\xspace}
\newcommand{\HFs}{{Hugging Face's}\xspace}

\newcommand{\TFH}{{TensorFlow Hub}\xspace}
\newcommand{\PH}{{Pytorch Hub}\xspace}
\newcommand{\MZ}{{Model Zoo}\xspace}
\newcommand{\MH}{{Model Hub}\xspace}

% All data goes in in data/data.tex
%\newcommand{\PTMDatasetNPackages}{{63,182}\xspace}
%\newcommand{\PercentOfVerifiedOrgs}{{3.188\%}\xspace}
%\newcommand{\PTMDatasetNReposWithSignedCommits}{{132\%}\xspace}
%\newcommand{\PTMDatasetPercentOfSignedCommits}{{0.208\%}\xspace}

% Please add the following required packages to your document preamble:


%\usepackage{booktabs}
%\usepackage[normalem]{ulem}

% Nice formatting for a list of RQs
\newenvironment{RQList}{
   \setlength{\topsep}{0pt}
   \setlength{\partopsep}{0pt}
   \setlength{\parskip}{0pt}
   \begin{description}[style=unboxed]
   \setlength{\leftmargin}{1in}
   \setlength{\parsep}{0pt}
   \setlength{\parskip}{0pt}
   \setlength{\itemsep}{0pt}
   }
   {\end{description}}
   
% Space hacking
\setlength{\abovecaptionskip}{2pt plus 1pt minus 1pt}
\setlength{\belowcaptionskip}{2pt plus 1pt minus 1pt}

\newcommand{\myquote}[1]{\begin{quote}\emph{``#1''}\end{quote}}
\newcommand{\myinlinequote}[1]{\emph{``#1''}}

\newcommand{\SmallLongString}[1]{ {\small \emph{#1}}\xspace}

% ParticipantID, Quote
\newcommand{\ParticipantQuote}[2]{
    \begin{quote}
    \emph{\textbf{#1}: ``#2''} 
    \end{quote}}
    
% Inline Participant Quote
\newcommand{\inlinequote}[1]{``\emph{#1}''}

% Json format
\usepackage{bera}% optional: just to have a nice mono-spaced font
\usepackage{listings}
\usepackage{xcolor}

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    % stepnumber=1,
    numbersep=0pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}