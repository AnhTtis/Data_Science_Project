\begin{wrapfigure}[17]{r}{0.45\linewidth}
\vspace{-13pt}
\begin{minipage}{0.45\textwidth}
\begin{algorithm}[H]
  \caption{Action Selection}\label{alg:use_graph}
  \begin{algorithmic}[1]
    \State \textbf{given} \texttt{model}, \texttt{graph}
    \State \textbf{input} goal $o_g$, observation $o_t$
    \State{\textcolor{gray}{\footnotesize{\# infer goal constraints and current entities}}}
    \State $\mathbf{h_g}, \mathbf{h_t} \leftarrow \texttt{model}\left(o_g\right), \texttt{model}\left(o_t\right)$
    \State{\textcolor{gray}{\footnotesize{align entity indices of $\mathbf{h_t}$ with those of $\mathbf{h_g}$}}}
    \State $\pi \gets \texttt{align}\left(\mathbf{h_t}, \mathbf{h_g}\right)$
    \State{\textcolor{gray}{\footnotesize{permute indices of $\mathbf{h_t}$ according to $\pi$}}}
    \State $\mathbf{h_t} \gets (h_t^{\pi[1]}, ..., h_t^{\pi[K]})$
    \State{\textcolor{gray}{\footnotesize{identify $k$th goal constraint to satisfy next}}}
    \State $k \leftarrow \texttt{select-constraint}\left(\mathbf{h_t}, \mathbf{h_g}\right)$
    \State{\textcolor{gray}{\footnotesize{infer cluster assignments}}}
    \State $[i], [j]  \gets \texttt{bind}\left(h_{t}^k\right), \texttt{bind}\left(h_{g}^k\right)$
    \State{\textcolor{gray}{\footnotesize{action that transforms node $[i]$ to node $[j]$}}}
    \State \Return \texttt{graph.edges}$[i, j]$\texttt{.action}
  \end{algorithmic}
\end{algorithm}
\end{minipage}
\end{wrapfigure}