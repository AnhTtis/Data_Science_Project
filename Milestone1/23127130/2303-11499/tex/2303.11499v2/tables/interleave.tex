\begin{table*}[ht!]
\scriptsize
\centering
\caption{Characterizing the design-space of dataflows for GNN Accelerators (Note that any direction will affect the aggregation and combination dimension variables, but similar concepts apply). Subscript s, t, x means spatial, temporal, either spatial or temporal respectively. Curly brackets '\{\}' show that the loop order is interchangeable.} %\TK{what is intermediate support? maybe change to  ``Intermediate Buffer". For the NoC/PE support for PP, are we direvtly sending dataa from PEs doing aggr to PEs doing comb? thats what explanation sounds like. If yes, why do we need Interm Buffer? If not, then the NoC field should be about writing values to interm buffer after aggr and reading from it during comb}\Rav{Yes, changed to "support to connect agg and cmb units to intermediate buffers"}} %\Rav{Me - SP and Seq done and expanded PP, should we keep all 3 rows of table for cmb->agg or compact that piece ? } %\TK{@Eric / Raveesh -- for PP, isnt there any specific requirement from NoC or PE wrt multicast or spatial reduction, depending on the dataflow? Depends on accelerator seems vague} \Rav{Actually it depends on tiles, how about "Temporal reduction requires in-place accumulation support and spatial dimesnions require multicast/spatial reduce"}\TK{Yeah but thats just a general statement. Can you mention in each row which dimensions requires multicast distribution, and which requires spatial or temporal reduction? Similar to Fig 3b. Also -- for the SP row, ``in-place buffers" is vague. Do you mean ``Requires support for storing outputs of the aggregation stage locally in the PEs so they can be reused as inputs for the combination stage" ? if yes, can you say that}
%\TODO{Need to specify what {}, x, s and t subscripts mean} %\TODO{Shorten 3rd row NoC multicast and PE support}}

\begin{tabular}{lllllll}
\toprule
\textbf{Inter Phase}                                                                      & \textbf{Aggregation} & \textbf{Combination} & \textbf{\begin{tabular}[c]{@{}l@{}}Intermediate \\ Buffer\end{tabular}} & \textbf{NoC / PE Support}                                                                                                             & \textbf{\begin{tabular}[c]{@{}l@{}}Example \& \\ Order\end{tabular}}      & \textbf{Remarks}                                                                                                                                                                                                                                                                                           \\
\toprule
\textbf{\begin{tabular}[c]{@{}l@{}}Sequential\\ (Seq)\end{tabular}}            & \{V\textsubscript{x} F\textsubscript{x} N\textsubscript{x}\}         & \{V\textsubscript{x} G\textsubscript{x} F\textsubscript{x}\}         & \multicolumn{1}{c}\cmark      & Depends on Accelerator                                                                                                               & \begin{tabular}[c]{@{}l@{}}TPU \cite{tpu-isca} \\ Eyeriss \cite{eyeriss2}\\ (any direction*)\end{tabular}     & \begin{tabular}[c]{@{}l@{}}Similar to running one full or tiled layer at a \\time. Outputs of one layer gets stored in \\scratchpad and rescheduled back into the PEs.\end{tabular}                                                                                                         \\ % \\
\hline
\textbf{\begin{tabular}[c]{@{}l@{}}Sequential\\ Pipeline \\ (SP)\end{tabular}} &  \{V\textsubscript{x} F\textsubscript{x}\} N\textsubscript{t}    & \{V\textsubscript{x} F\textsubscript{x}\} G\textsubscript{t}         & \multicolumn{1}{c}\xmark                                                                     & \begin{tabular}[c]{@{}l@{}}Requires support to\\ store phase 1 outputs \\locally inside PE, so \\ that phase 2 can use\\ them as inputs\end{tabular} & \begin{tabular}[c]{@{}l@{}}EnGN \cite{liang2020engn}\\ (any direction*)\end{tabular}          & \begin{tabular}[c]{@{}l@{}}No intermediate support required, as output data\\ of one phase is stationary in the buffers, and can \\ be used as input for the next phase. Order of V,F  \\ should be the same for both the phases. T\textunderscore V\textsubscript{AGG}=\\T\textunderscore V\textsubscript{CMB} and T\textunderscore F\textsubscript{AGG}=T\textunderscore F\textsubscript{CMB} and reduction\\ is temporal as data is always in in-place buffers. \end{tabular}                                                                                                   \\                      % \\
\hline
\textbf{}                                                                      & V\textsubscript{t} \{F\textsubscript{s} N\textsubscript{t}\}         & \{V\textsubscript{s} G\textsubscript{s} F\textsubscript{t}\}         &  \multicolumn{1}{c}\cmark        & \begin{tabular}[c]{@{}l@{}}Requires support to\\ store agg. phase outputs \\locally inside PE, so \\ that cmb. phase can use\\ them as inputs\end{tabular}                                                                                                        &     \begin{tabular}[c]{@{}l@{}}Rubik \cite{chen2020rubik} \\ (agg->cmb)\end{tabular}                                                                      & \begin{tabular}[c]{@{}l@{}} Paper also focuses on reducing redundant \\ aggregations by saving duplicate data onto a \\ private cache. Similar to EnGN, no intermediate \\ data reordering required  as output data of one \\ phase is stationary in PEs and is used as inputs \\ for the next phase. \end{tabular}                              

                                            \\      %                 \\
                                            \hline
\textbf{}                                                                      & \{V\textsubscript{x} F\textsubscript{x} N\textsubscript{x}\}         & \{V\textsubscript{x} G\textsubscript{x} F\textsubscript{x}\}         & \multicolumn{1}{c}\cmark       & 
\begin{tabular}[c]{@{}l@{}}Agg:V\textsubscript{s},F\textsubscript{s}  require multicast\\ distribution. N\textsubscript{s/t} requires\\ spatial/temporal reduction.\\ Cmb:V\textsubscript{s},G\textsubscript{s}  require multicast\\ distribution. F\textsubscript{s/t} requires \\ spatial/temporal reduction.  \end{tabular}  
&         (any direction*)                                                    & \begin{tabular}[c]{@{}l@{}}There will be a buffer/ setup delay between \\ aggregation and combination phases to remap\\ output data to new location.\end{tabular}     

\\                                                %    \\
\hline
\textbf{\begin{tabular}[c]{@{}l@{}}Parallel \\ Pipeline\\ (PP)\end{tabular}}   & \{V\textsubscript{x} F\textsubscript{x}\} N\textsubscript{x}         & \{V\textsubscript{x} F\textsubscript{x}\}  G\textsubscript{x}        & \multicolumn{1}{c}\cmark     & \begin{tabular}[c]{@{}l@{}}Need support to connect \\agg and cmb units to\\ intermediate buffer\end{tabular}                                                          & \begin{tabular}[c]{@{}l@{}}(agg -\textgreater cmb)\end{tabular} & \begin{tabular}[c]{@{}l@{}}\textbf{Element(s) wise granularity}: Element(s) of the \\ intermediate matrix indexed by V,F can be \\ pipelined. The order of V,F should be same for \\ both phases. \end{tabular} \\ %\\ 
\hline

& V\textsubscript{x} \{F\textsubscript{x} N\textsubscript{x}\}         & V\textsubscript{x} \{G\textsubscript{x}  F\textsubscript{x}\}        & \multicolumn{1}{c}\cmark     & \begin{tabular}[c]{@{}l@{}}Need support to connect \\agg and cmb units to\\ intermediate buffer\end{tabular}                                                             & \begin{tabular}[c]{@{}l@{}}HyGCN \cite{yan2020hygcn} \\ DAC GNN \cite{Auten2020} \\ (agg -\textgreater cmb)\end{tabular} & \begin{tabular}[c]{@{}l@{}} \textbf{Row(s) wise granularity}: Row(s) of intermediate \\ matrix indexed by V can be pipelined. The order \\ should not be (VFN,VFG) since that can be done \\ element wise. HyGCN allocates fixed number of \\ PEs per unit, which may lead to stalls. E.g., \\combination engine idle while waiting. HyGCN  \\ dataflow - $PP_{AC}(V_x F_s N_t, V_s G_s F_t)$\end{tabular} \\ %\\
\hline
& F\textsubscript{x} \{V\textsubscript{x} N\textsubscript{x}\}         & F\textsubscript{x} \{G\textsubscript{x}  V\textsubscript{x}\}        & \multicolumn{1}{c}\cmark     & \begin{tabular}[c]{@{}l@{}}Need support to connect \\agg and cmb units to\\ intermediate buffer\end{tabular}                                                            & \begin{tabular}[c]{@{}l@{}}(agg -\textgreater cmb)\end{tabular} & \begin{tabular}[c]{@{}l@{}} \textbf{Column(s) wise granularity}: Column(s) of the \\ intermediate matrix indexed by F can be \\ pipelined. The order should not be (FVN,FVG).\end{tabular} \\ %\\
\hline
  & \{N\textsubscript{x} F\textsubscript{x}\} V\textsubscript{x}         & \{V\textsubscript{x} G\textsubscript{x}\}  F\textsubscript{x}        & \multicolumn{1}{c}\cmark    & \begin{tabular}[c]{@{}l@{}}Need support to connect \\agg and cmb units to\\ intermediate buffer\end{tabular}                                                            & \begin{tabular}[c]{@{}l@{}}(cmb -\textgreater agg)\end{tabular} & \begin{tabular}[c]{@{}l@{}}\textbf{Element(s) wise granularity}: The order should \\be (NFV, VGF) or (FNV, GVF). V$\times$G matrix \\after cmb becomes N $\times$ F for agg. \end{tabular} \\ %\\
\hline
& N\textsubscript{x} \{V\textsubscript{x} F\textsubscript{x}\}         & V\textsubscript{x} \{G\textsubscript{x}  F\textsubscript{x}\}        & \multicolumn{1}{c}\cmark     & \begin{tabular}[c]{@{}l@{}}Need support to connect \\agg and cmb units to\\ intermediate buffer\end{tabular}                                                           & \begin{tabular}[c]{@{}l@{}} (cmb -\textgreater agg)\end{tabular} & \begin{tabular}[c]{@{}l@{}} \textbf{Row(s) wise granularity}: Order should not be \\(NFV, VGF) since it can be done element wise.\end{tabular} \\ %\\
\hline
& F\textsubscript{x} \{V\textsubscript{x} N\textsubscript{x}\}         & G\textsubscript{x} \{F\textsubscript{x}  V\textsubscript{x}\}        & \multicolumn{1}{c}\cmark     & \begin{tabular}[c]{@{}l@{}}Need support to connect \\agg and cmb units to\\ intermediate buffer\end{tabular}                                                             & \begin{tabular}[c]{@{}l@{}}AWB-GCN \cite{geng2019awb} \\ (cmb -\textgreater agg)\end{tabular} & \begin{tabular}[c]{@{}l@{}} \textbf{Column(s) wise granularity}: The order should \\ not be (FNV, GVF). AWB-GCN enables flexible \\ allocation of PEs for different phases to match \\ production and consumption rates. AWB-GCN  \\dataflow-
%$PP_{CA}(G_t F_t V_s, F_s N_t V_s)$ 
$PP_{CA}(F_s N_t V_s, G_t F_t V_s)$
\end{tabular}                                                                                                                           \tabularnewline \bottomrule                                              
\end{tabular}
\label{tables:interleave}
\vspace{-3mm}
\end{table*}