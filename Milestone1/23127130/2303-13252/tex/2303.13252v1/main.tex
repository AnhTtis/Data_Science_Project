\documentclass[submission,copyright,creativecommons,noncommercial]{eptcs}
\providecommand{\event}{LSFA 2022} % Name of the event you are submitting to
\usepackage{underscore}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage[frozencache,cachedir=minted-cache]{minted}
\setminted{linenos=false,fontfamily=tt}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem{example}{Example}
\usepackage{zi4}
\input{commands}
\input{unicode_support}
\usepackage{tikz}
\usetikzlibrary{positioning}


\title{Nominal Sets in Agda\\
  A Fresh and Immature Mechanization}
\author{
  Miguel Pagano\thanks{Most of this work was done in a research leave in ORT Uruguay, financed by Agencia Nacional de Investigación e Innovación (ANII) of Uruguay.}
  \institute{FAMAF - Universidad Nacional de Córdoba\\ Córdoba, Argentina}
  \email{miguel.pagano@unc.edu.ar}
  \and
  José E. Solsona
  \institute{Facultad de Ingeniería - Universidad ORT Uruguay\\
    Montevideo, Uruguay}
  \email{solsona@ort.edu.uy}
}
\def\titlerunning{Nominal Sets in Agda}
\def\authorrunning{M. Pagano and J. E. Solsona}
\begin{document}
\maketitle

\begin{abstract}
  In this paper we present our current development on a new
  formalization of nominal sets in Agda. Our first motivation in
  having another formalization was to understand better nominal sets
  and to have a playground for testing type systems based on nominal
  logic. Not surprisingly, we have independently built up the same
  hierarchy of types leading to nominal sets. We diverge from other
  formalizations in how to conceive finite permutations: in our
  formalization a finite permutation is a permutation (i.e. a
  bijection) whose domain is finite. Finite permutations have
  different representations, for instance as compositions of
  transpositions (the predominant in other formalizations) or
  compositions of disjoint cycles.  We prove that these
  representations are equivalent and use them to normalize (up to
  composition order of independent transpositions) compositions of
  transpositions.
\end{abstract}

\section{Introduction}
\label{sec:intro}

Nominal sets were introduced to Computer Science by Gabbay and Pitts
to give an adequate mathematical universe that permits the definition
of inductive sets with binding \cite{Gabbay2002}. Instead of taking
equivalence classes of inductively defined sets (as in a formal
treatment of, say, the Lambda Calculus) or a particular representation
of the variables (as in the de Bruijn approach to Lambda Calculus),
nominal sets have a notion of name abstraction that ensures all the
properties expected for binders; in particular, alpha-equivalent
lambda terms are represented by the same element of the nominal set of
lambda terms.

In this paper we present a new mechanization \cite{pagano2022} of
nominal sets.  Most of the current mechanizations of nominal sets
represent finite permutations as compositions of transpositions, where
transpositions are represented by pairs of atoms and compositions as
lists. In contrast, our starting point is permutations (i.e. bijective
functions); finite permutations are permutations that can be
represented by composition of transpositions. Moreover they conflate
the set of atoms mentioned in a list with the domain of the
(represented) permutation. Pondering about this issue, we decided to
develop a ``normalization'' procedure for representations of finite
permutations; in order to prove its correctness, we were driven to
introduce a cycle notation.

The rest of this paper is structured into four sections. In
Sect.~\ref{sec:fundamentals} we summarize the fundamentals of Nominal
Sets; in Sect.~\ref{sec:perm} we explain the different representations
of finite permutations and their equivalence; then, in
Sect.~\ref{sec:formalization} we present the most salient aspects of
our mechanization in Agda; and finally in Sect.~\ref{sec:conclusion}
we conclude by mentioning related works and contrasting them with our
approach, indicating also our next steps. We assume some knowledge of
Agda, but also hope that the paper can be followed by someone familiar
with any other language based on type theory.

\section{Fundamentals of Nominal Sets}
\label{sec:fundamentals}
\input{fundamentals}


\section{Finite Permutations}
\label{sec:perm}
\input{permutations}

\section{Our Formalization in Agda}
\label{sec:formalization}
\input{formalization}

\section{Conclusion}
\label{sec:conclusion}
\input{conclusion}

\subsection*{Acknowledgments} This formalization grew up from
discussions with the group of the research project ``Type-checking for
a Nominal Type Theory'': Maribel Fernández, Nora Szasz, Álvaro
Tasistro, and Sebastián Urciouli. We thank Cristian Vay for
discussions about group theory. This work was partially funded by
Agencia Nacional de Investigación e Innovación (ANII) of Uruguay.

\bibliographystyle{eptcs}
\bibliography{bibliography}
\end{document}
