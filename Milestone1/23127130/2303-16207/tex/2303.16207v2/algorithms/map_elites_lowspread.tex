\makeatletter
\makeatother

\SetKwComment{Comment}{/* }{ */}

\SetArgSty{textnormal}

\begin{algorithm}
    \small
    \SetAlgoLined
    \DontPrintSemicolon
    \SetKwInput{KwInput}{Given}
    \KwInput{
    \begin{itemize}
        \item Max iteration number $I$
        \item Number of initialization solutions $G$
        \item Number of evaluations per solution $E$
        \item MAP-Elites repertoire $\mathbb{M}$
    \end{itemize}
    }
    \texttt{\\}
    \tcp{Main loop}
    $iteration\_number \xleftarrow{} 0$\;
    \While{$iteration\_number < I$}{
    
        \texttt{\\}
        \tcp{Initialize by generating G random solutions}
         \textbf{if} $iteration\_number < G$ \textbf{then}\;
          \Indp  $\mathbf{x'} \xleftarrow{} random\_solution()$
        
        \Indm \tcp{Sampling and mutation}
        \textbf{else}\;
         \Indp $\mathbf{x} \xleftarrow{} random\_selection(\mathbb{M})$\;
               $\mathbf{x'} \xleftarrow{} random\_genetic\_mutation(\mathbf{x})$\;
        
            
        %\texttt{\\}
        \Indm \tcp{Evaluation}
        $evaluate(\mathbf{x'})$ over $E$ trajectories\;
        Compute fitness of $\mathbf{x'}$ as its avg. fitness over $E$ trajectories\;
        Compute BD of $\mathbf{x'}$ as its most frequent BD over $E$ trajectories\;
        Compute the spread of $\mathbf{x'}$ in the BD space as given by Eq.~\ref{eq:spread_computation}

        %\texttt{\\}
        \tcp{Insertion in repertoire}
        Insert $\mathbf{x'}$ in $\mathbb{M}$ only if its fitness is higher and its spread is lower than the corresponding solution already in $\mathbb{M}$\;
        
        $iteration\_number = iteration\_number + 1$
    }

    \caption{MAP-Elites Low-Spread}
    \label{alg:ME-LS}
\end{algorithm}