\makeatletter
\makeatother

\SetKwComment{Comment}{/* }{ */}

\SetArgSty{textnormal}

\begin{algorithm}
    \small
    \SetAlgoLined
    \DontPrintSemicolon
    \SetKwInput{KwInput}{Given}
    \KwInput{
    \begin{itemize}
        \item Max iteration number $I$
        \item Number of initialization solutions $G$
        \item MAP-Elites repertoire $\mathbb{M}$
    \end{itemize}
    }
    \texttt{\\}
    \tcp{Main loop}
    $iteration\_number \xleftarrow{} 0$\;
    \While{$iteration\_number < I$}{
    
        \texttt{\\}
        \tcp{Initialize by generating G random solutions}
        \If{$iteration\_number < G$}{
            $\mathbf{x'} \xleftarrow{} random\_solution()$
        }
        \tcp{Sampling and mutation}
        \Else{
            $\mathbf{x} \xleftarrow{} random\_selection(\mathbb{M})$\;
            $\mathbf{x'} \xleftarrow{} random\_genetic\_mutation(\mathbf{x})$\;
        }
            
        \texttt{\\}
        \tcp{Evaluation}
        \For{$i = 0 \xrightarrow{} E$}{
            $evaluate(\mathbf{x'})$ over $1$ trajectory
        }
        Compute fitness and BD of $\mathbf{x'}$

        \texttt{\\}
        \tcp{Insertion in repertoire}
        Insert $\mathbf{x'}$ in $\mathbb{M}$ only if its fitness is higher than the corresponding solution already in $\mathbb{M}$\;

        \texttt{\\}
        $iteration\_number = iteration\_number + 1$
    }

    \caption{MAP-Elites}
    \label{alg:ME}
\end{algorithm}