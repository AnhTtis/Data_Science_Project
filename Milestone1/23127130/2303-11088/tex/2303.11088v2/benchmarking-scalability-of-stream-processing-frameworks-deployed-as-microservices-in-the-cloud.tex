


\documentclass[final,5p,times,twocolumn]{elsarticle}


\pdfminorversion=7
\pdfsuppresswarningpagegroup=1

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{pifont}
\usepackage{subcaption}
\usepackage[all]{nowidow}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{threeparttable}
\usepackage[svgnames]{xcolor}
\usepackage[most]{tcolorbox}
\usepackage[hidelinks]{hyperref}
\usepackage[capitalise]{cleveref}


\usepackage{lineno}



\biboptions{comma,square,sort}
\bibliographystyle{elsarticle-num-names}

\makeatletter
\def\ps@pprintTitle{%
	\let\@oddhead\@empty
	\let\@evenhead\@empty
	\def\@oddfoot{\footnotesize\itshape{Accepted for publication in Journal of Systems and Software on 12 October 2023. \hfill}}
	\let\@evenfoot\@oddfoot
}
\makeatother


\renewcommand*{\dbltopfraction}{.9}
\renewcommand*{\dblfloatpagefraction}{.9}
\renewcommand*{\floatpagefraction}{.9}

\crefrangelabelformat{subfigure}{#3#1#4--#5\crefstripprefix{#1}{#2}#6}
\captionsetup[sub]{labelsep=none, subrefformat=parens}
\newcommand{\crefpairconjunction }{ \& }
\newcommand{\crefrangeconjunction }{--}


\journal{Journal of Systems and Software}

\begin{document}

\begin{frontmatter}


\title{Benchmarking scalability of stream processing frameworks\\deployed as microservices in the cloud}




\author[jku]{SÃ¶ren Henning\corref{cor1}}
\ead{soeren.henning@jku.at}

\author[cau]{Wilhelm Hasselbring}
\ead{hasselbring@email.uni-kiel.de}

\address[jku]{JKU/Dynatrace Co-Innovation Lab, LIT CPS Lab, Johannes Kepler University Linz, Linz, Austria}
\address[cau]{Software Engineering Group, Kiel University, 24098 Kiel, Germany}

\cortext[cor1]{Corresponding author}


\begin{abstract}\noindent%
\textbf{Context:} The combination of distributed stream processing with microservice architectures is an emerging pattern for building data-intensive software systems. In such systems, stream processing frameworks such as Apache Flink, Apache Kafka Streams, Apache Samza, Hazelcast Jet, or the Apache Beam SDK are used inside microservices to continuously process massive amounts of data in a distributed fashion. While all of these frameworks promote scalability as a core feature, there is only little empirical research evaluating and comparing their scalability.\\
\textbf{Objective:}
The goal of this study to obtain evidence about the scalability of state-of-the-art stream processing framework in different execution environments and regarding different scalability dimensions.\\
\textbf{Method:} We benchmark five modern stream processing frameworks regarding their scalability using a systematic method. We conduct over 740~hours of experiments on Kubernetes clusters in the Google cloud and in a private cloud, where we deploy up to 110 simultaneously running microservice instances, which process up to one million messages per second.\\
\textbf{Results:} All benchmarked frameworks exhibit approximately linear scalability as long as sufficient cloud resources are provisioned. However, the frameworks show considerable differences in the rate at which resources have to be added to cope with increasing load. There is no clear superior framework, but the ranking of the frameworks depends on the use case. Using Apache Beam as an abstraction layer still comes at the cost of significantly higher resource requirements regardless of the use case.
We observe our results regardless of scaling load on a microservice, scaling the computational work performed inside the microservice, and the selected cloud environment.
Moreover, vertical scaling can be a complementary measure to achieve scalability of stream processing frameworks.\\
\textbf{Conclusion:} While scalable microservices can be designed with all evaluated frameworks, the choice of a framework and its deployment has a considerable impact on the cost of operating it.



\end{abstract}

\begin{keyword}
Stream Processing \sep Microservices \sep Benchmarking \sep Scalability

\end{keyword}

\end{frontmatter}


\newcommand{\rqbase}{RQ\,1}
\newcommand{\rqbeam}{RQ\,2}
\newcommand{\rqwindows}{RQ\,3}
\newcommand{\rqvertical}{RQ\,4}
\newcommand{\rqpublic}{RQ\,5}
\newcommand{\rqshift}{RQ\,6}

\input{sections/introduction}
\input{sections/background}
\input{sections/frameworks}
\input{sections/clouds}
\input{sections/setup}
\input{sections/results}
\input{sections/threats-to-validity}
\input{sections/related-work}
\input{sections/conclusions}



\section*{Acknowledgments}
This works is supported by the Google Cloud Research Credits program under award no.\ 211920173.
We would like to thank JKU and Dynatrace for co-funding one of the authors (S.~Henning) during the revision of this article.


\bibliography{references}








\end{document}
