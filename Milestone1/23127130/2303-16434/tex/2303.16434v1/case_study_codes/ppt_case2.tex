\newsavebox\lstboxnocomposition
\begin{lrbox}{\lstboxnocomposition}\begin{minipage}{0.98\linewidth}
MCFM: Sure, here's the code to generate slides for each company:
\begin{pythongray}
create_slide();
select_title();
insert_text("Microsoft");
select_content();
insert_text("Founded in 1975 by Bill Gates and Paul Allen in Albuquerque, New Mexico. The company's mission is to empower every person and every organization on the planet to achieve more. Some of its most popular products include Windows, Office, Xbox, and Surface. Microsoft has numerous subsidiaries, including LinkedIn, GitHub, and Minecraft.");
create_slide();
select_title();
insert_text("Apple");
select_content();
insert_text("Founded in 1976 by Steve Jobs, Steve Wozniak, and Ronald Wayne in Cupertino, California. Apple's mission is to design products and experiences that are easy to use and accessible to everyone. Some of its most popular products include the iPhone, iPad, MacBook, and Apple Watch. Apple has numerous subsidiaries, including Beats Electronics, Shazam, and Siri.");
...
\end{pythongray}
\end{minipage}\end{lrbox} 

\begin{tcolorbox}
...\\
\pyth{select_title()}: This API can be used to select the text box of the title. You should select the text box of context first and then insert or delete the text into the content.\\
\pyth{select_content()}: This API can be used to select the text box of content. You should select the text box of the title first and then insert or delete the text to the title.\\
...

Composition Instructions:\\
To generate a slide, you need to generate both the title and context.\\
\st{The context should contain several sentences, you can call insert\_text multiple times, or split the multiple sentences by '\textbackslash n'.}\\
...\\

\vspace{0.2cm}

\noindent\fcolorbox{white}{gray!15}{\usebox\lstboxnocomposition}
\end{tcolorbox}

% \refstepcounter{figure}
\captionof{figure}{After removing first type of composition instruction, MCFM generates a long paragraph for each slide. In contrast, when all composition instructions are included, MCFM generates several short sentences, as shown in Figure \ref{fig:ppt_case1}.}
\vspace{0.5cm}
\label{fig:ppt_case2}
