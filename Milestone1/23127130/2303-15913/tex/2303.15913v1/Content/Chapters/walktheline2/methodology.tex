\section{Methodology}
\label{sec:walktheline:methodology}

This section presents the methodology of an evaluation of the proposed concept of a \interactionStyleBased~input modality for \acp{HMD} in a controlled experiment. The controlled experiment investigated the following research questions:

\begin{description}

\item[RQ1] How does the width of the \emph{lanes} affect the accuracy, efficiency, and user experience of the system?

\item[RQ2] How does the \emph{selection time} affect the accuracy, efficiency, and user experience of the system?

\item[RQ3] Are there interaction effects between the width of the lanes and the selection time on the accuracy, efficiency, and user experience?

\end{description}

\subsection{Design and Task}

\input{Content/Figures/walktheline/conditions}

To answer the presented research questions, a controlled experiment was designed, in which users interacted with a system as described in section \ref{sec:walktheline:concept}. The participants’ task was to laterally shift their walking path to the highlighted target lane and to stay within its bounds for a certain period of time while keeping average walking speed.

As the first independent variable, the experiment varied the \factorLanes{} on a fixed-width interaction area. The experiment varied the equal-sized width of the lanes in each condition to fill the available interaction space, thus also varying the width of the individual lanes. This design also allowed us to conclude on the influence of the width of lanes.%

As the second independent variable, the experiment varied the \factorTime{} as the time participants had to walk on a lane to select it. Shorter dwell times on a lane did not select the respective lane and, thus, could be used to cross lanes to reach targets further to the side.

The experiment varied both independent variables in a repeated measures design with three levels each (\factorLanes{}: \lane{8}, \lane{12}, and \lane{16}, \factorTime{}: \seltime{1}, \seltime{2}, and \seltime{3}), resulting in a 2-factorial study design with a total of $3x3=9$ conditions (see Figure \ref{fig:walktheline/conditions}). The levels were chosen based on the results of pre-tests, which suggested that wider lanes or longer selection times did not yield higher accuracy or efficiency rates. Further, the design included two repetitions per target lane in each condition, resulting in a total of $3 \cdot (8+12+16) \cdot 2 = 216$ trials per participant. The order of the conditions was counterbalanced using a Balanced Latin Square design. For each condition, the system randomized the series of targets while assuring that each target was repeated two times.

To specify the dimensions of the longitudinal area used in the study, the calculation started from the typical width of a sidewalk of \SI{2.5}{m}~\ncite{Kim2011a}. The available width was halved to take into account oncoming traffic from other pedestrians and decreased by a safety distance of \SI{.25}{m}, resulting in \SI{1}{m} of interaction width. Since the experiment varied the \factorLanes{} on a fixed-width area, the experiment also varied the \emph{width} of the individual lanes. Therefore, the width of the individual lanes in each condition was $\SI{1}{m} / ($ \factorLanes{} $+1)$, resulting in an absolute lane width of $\sim$~\SI{11}{cm} (for the \lane{8} conditions) to $\sim$~\SI{6}{cm} (for the \lane{16} conditions). For the length of the area, the setup used \SI{20}{m} as informal pre-tests showed that this distance allowed the participants to perform the interaction in all conditions without reaching the end of the area.

\subsection{Experiment Setup and Apparatus}
\label{sec:walktheline:methodology:setup}

\textfig{walktheline/study_setup_procedure}{Setup and procedure of the experiment: The setup used two projectors (a) for visual output and tracked the participants using an HTV VIVE Tracker (b). Participants initiated each trial by starting to walk (c). Thereafter, the system projected the lanes with a highlighted target lane (d). The participants' task was to shift their path to the target lane (e) and stay within the bounds for the respective \factorTime{} of the condition.}


The setup of the experiment did not use AR glasses, such as the Microsoft Hololens, because the current generations of such devices still suffer from technical limitations (e.g., weight, the field of view) that could influence the measurements, rendering the results unusable for future developments. Further, pre-tests indicated that the visual SLAM approach for inside-out tracking used by the current generation of such devices is not accurate and robust enough for the presented experiment. 

Therefore, the setup of the experiment consisted of two short-throw 1080p projectors (BenQ MH856UST) to simulate the visual output of an \ac{HMD}. For this, two projectors were mounted at a distance of \SI{7}{m} to wooden slats, which, in turn, were attached to two tripods at the height of \SI{3.5}{m} (see Figure \ref{fig:walktheline/study_setup_procedure}, a). This setup allowed covering a longitudinal range of \SI{20}{m} with visual output on the floor. The setup combined this visual output with the robust and accurate tracking of the participants’ position and orientation using an HTC VIVE Tracker (position tracking error < \SI{0.02}{cm} \ncite{Niehorster2017}). Therefore, the setup also included two VIVE lighthouses at the far edges of the area covered by visual output, to allow the same physical space to be tracked by the system. The implementation used OpenCV to calibrate\footnote{\url{https://docs.opencv.org/2.4/doc/tutorials/calib3d/camera_calibration/camera_calibration.html}} the projected image with the tracking of the VIVE system by displaying calibration points and positioning a VIVE Tracker on the displayed positions, achieving a 3x20m interaction space with combined input and output.

To capture the position of the participants' heads in space, the setup used a modified bicycle helmet equipped with a VIVE Tracker (see Figure \ref{fig:walktheline/study_setup_procedure}, b). The setup used the head position of the participants as input for the system (in contrast to, for example, the position of the two feet) to simulate the type of tracking available in today’s \acp{HMD}. A desktop PC located next to the study area orchestrated the VIVE tracking as well as the two projectors. The PC was further used to render the visual output as well as for data logging. Figure \ref{fig:walktheline/study_setup_procedure} depicts the complete setup and apparatus of the study.

Further, the desktop PC hosted a study operator application that allowed the investigator to set the task. For each trial, the study client logged the following dependent variables:

\begin{description}
	\item[Trajectory] as the trace of the participants’ \emph{walking path} (i.e., the path of the participants’ head movements),
	\item[Task Completion Time (TCT)] as the time between displaying the task and entering the lane which was subsequently selected (i.e., the time until the activation of the lane minus the \factorTime{}),
	\item[Accuracy Rate] as the rate of successfully selecting the target lane of the trial,
	\item[Stabilizing Error Rate] as the rate of participants walking past the boundaries of the target lane after initially reaching it. This includes overshooting errors (i.e., leaving the target lane while maintaining the initial direction of the lateral shift) as well as swing-back errors (i.e., leaving the target lane in the opposite direction to the initial shifting direction).
\end{description}

The experiment was conducted in a room of the institute's building, where there was a sufficiently large area available. For the duration of the study, the area was closed to regular public access in order to exclude external influences. 

\subsection{Procedure}


After welcoming the participants, the investigator introduced them to the concept and goals of the study and measured their body height as it was expected to influence the participants' performance. In the following, the investigator asked the participants to fill a consent form and an introductory questionnaire asking for demographic data. After starting and calibrating the system, the investigator asked the participant to put on the modified bicycle helmet. To avoid learning effects, the participants began the study by freely testing the system to get used to the hardware and interfaces.

To start the first condition, the investigator asked the participants to go to the starting position. Participants were free to start each trial whenever they wanted by starting to walk (see Figure \ref{fig:walktheline/study_setup_procedure}, c). After a few steps (i.e., after reaching an average walking speed of around 1-1.5 m/s~\ncite{bohannon1997}), the system showed the task to the participants (see Figure \ref{fig:walktheline/study_setup_procedure}, d). The system randomly selected the exact starting point (2 +/- .5m) of each trial in order to avoid influencing the participants by learned positions. The study interface consisted of red lanes, which indicated the \factorLanes{} of the respective condition. The system highlighted the target with green and the currently active lane with a lighter gradation of red (for the regular lanes, see Figure \ref{fig:walktheline/study_setup_procedure}, d) or blue (for the target lane, see Figure \ref{fig:walktheline/study_setup_procedure}, e). As soon as the participant shifted their position to the side (leaving the \emph{null lane} in the middle), the visualization showed the \factorTime{} by fading out the other lanes through animating their opacity. The selection timer was reset once the participant left the lane and restarted for the newly active lane. When the participant walked on a lane for the \factorTime{} of the particular condition, the system logged the result and signaled the end of the trial to the participant with a sound. If the participant had not made a selection by the end of the available interaction space or selected a wrong lane, the system logged this as a failed attempt. After finishing a trial, the participant walked back to the starting position and proceeded to the next trial.

The investigator instructed the participants to maintain their average walking speed over the entire course. After each condition, the investigator asked the participants to fill a questionnaire regarding their experiences on a 5-point Likert-scale (1: strongly disagree, 5: strongly agree). Additionally, the participants filled a NASA TLX~\ncite{Hart2006} questionnaire. The investigator further enforced a 5-minute break between the conditions so that the participants could rest. During this break, the participants gave qualitative feedback regarding their experiences in a semi-structured interview. Each experiment took about 80 minutes per participant. 

\subsection{Participants}

For the experiment, 18 participants (8 male, 8 female, 2 identified as gender variant/non-conforming) aged between 16 and 55 (\val{30.83}{9.6}) were recruited from the University's mailing list. All participants voluntarily took part in the study and no compensation was paid.

\textfigStudybox{walktheline/studybox_walktheline}
