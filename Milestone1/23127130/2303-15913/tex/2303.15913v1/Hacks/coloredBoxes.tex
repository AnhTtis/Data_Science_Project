\usepackage{thmtools}

\definecolor{colorBackground}{HTML}{FFFFFF} %
\definecolor{colorDefinition}{HTML}{4CAF50} %
\definecolor{colorNotiz}{HTML}{81D4FA}      %
\definecolor{colorWarnung}{HTML}{FF9800}    %
\definecolor{colorBeispiel}{HTML}{0288D1}   %
\definecolor{colorSatz}{HTML}{009688}       %

\definecolor{colorRequirement}{HTML}{FF9800}
\definecolor{colorDefinition}{HTML}{4CAF50} 
\definecolor{colorQuote}{HTML}{0288D1}
\definecolor{colorInteractionSituation}{HTML}{8e24aa} %

\def\iconReq{\faExclamation}
\def\iconDef{\faBook}
\def\iconQuote{\faQuoteLeft}

\newcommand*\circled[2]{\tikz[baseline=(char.base)]{
		\node[shape=circle,fill=#1,draw,inner sep=1pt] (char) {#2};}}

\mdfdefinestyle{coloredBoxStyle}{
    topline=false,
    bottomline=false,
    rightline=false,
    linewidth=4pt,
    backgroundcolor=colorBackground,
    frametitlefont=\sffamily\bfseries\color{black},
    splittopskip=.5cm,
    frametitlebelowskip=.3cm,
}

\mdtheorem[
style=coloredBoxStyle,
linecolor=colorRequirement,
nobreak=true,
]{reqTheorem}{\hangindent=5em\hangafter=1\raisebox{-.4ex}{\Large \color{colorBackground}\circled{colorRequirement}{\iconReq}} Requirement}

\mdtheorem[
style=coloredBoxStyle,
linecolor=colorDefinition,
nobreak=true,
]{defTheorem}{\raisebox{-0ex}{\small \color{colorBackground}\circled{colorDefinition}{\iconDef}} Definition}

\mdtheorem[
style=coloredBoxStyle,
linecolor=colorQuote,
nobreak=true,
]{quoteTheorem}{\raisebox{-.1ex}{\small \color{colorBackground}\circled{colorQuote}{\iconQuote}} Quote}

\mdtheorem[
style=coloredBoxStyle,
linecolor=colorInteractionSituation,
nobreak=true,
]{interactionTheorem}{\hangindent=5em\hangafter=1\raisebox{-.4ex}{\Large \color{colorBackground}\circled{colorInteractionSituation}{\iconInteraction}} Alice's Day in the City}

\newcommand{\defbox}[3]{
	\begin{defTheorem*}[#2]
		\label{def:#1}
		#3
	\end{defTheorem*}
}

\newcommand{\citebox}[2]{
	\begin{quoteTheorem*}[\citeauthorfirstlast{#2}, \citeyear{#2}]
		\enquote{#1}
	\end{quoteTheorem*}
}

\newcommand{\interactionbox}[3]{
	\begin{interactionTheorem*}[#2]
		\label{int:#1}
		#3
	\end{interactionTheorem*}
}


\usepackage{keyval}

\newcommand{\reqbox}[3]{
	\begin{reqTheorem}[#2]
		\label{req:#1}

		#3
	\end{reqTheorem}
}

\newcommand{\refdef}[1]{
	\spacedlowsmallcaps{Definition \ref{#1}}
}

\newcommand{\refreq}[1]{
	R\ref{#1}
}

\newcommand{\refreqfull}[1]{
	R\ref{#1}: \nameref{#1}
}

\newcommand{\refinteraction}[1]{
	\spacedlowsmallcaps{Interaction Situation \ref{#1}}
}


\newcommand{\refinteractionfull}[1]{
	Interaction Situation \ref{#1}: \nameref{#1}
}

\numberwithin{reqTheorem}{section}

\renewcommand{\thereqTheorem}{\arabic{section}.\arabic{reqTheorem}}

