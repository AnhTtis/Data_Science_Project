

\prAtEndRestateviii*

\makeatletter\Hy@SaveLastskip\label{proofsection:prAtEndviii}\ifdefined\pratend@current@sectionlike@label\immediate\write\@auxout{\string\gdef\string\pratend@section@for@proofviii{\pratend@current@sectionlike@label}}\fi\Hy@RestoreLastskip\makeatother\begin{proof}[Proof]\phantomsection\label{proof:prAtEndviii}From the definition of variance, \begin {alignat}{2} &\mathbb {E} \norm {\vg _M }^2_2 \nonumber \\ &\;= \mathrm {tr}\,\V { \vg _M } + \norm {\mathbb {E} \vg _M }^2_2, \nonumber \shortintertext {following the definition in \cref {eq:def_gradient_M_est},} &\;= \mathrm {tr}\,\V { \frac {1}{M} \sum _{m=1}^M \vg _m } + \norm { \nabla F\left (\vlambda \right ) }^2_2, \nonumber \shortintertext {and then the definition in \cref {eq:def_gradient_m_est},} &\;= \mathrm {tr}\,\V { \frac {1}{M} \sum _{m=1}^M \nabla _{\vlambda } f\left (\vt _{\vlambda }\left (\rvvu _m\right )\right ) + \nabla h\left (\vlambda \right ) } + \norm { \nabla F\left (\vlambda \right ) }^2_2, \nonumber \shortintertext {by the linearity of variance,} &\;= \frac {1}{M} \mathrm {tr}\,\V { \nabla _{\vlambda } f\left (\vt _{\vlambda }\left (\rvvu \right )\right ) } + \norm { \nabla F\left (\vlambda \right ) }^2_2 \nonumber \\ &\;= \frac {1}{M} \left ( \mathbb {E}{ \norm {\nabla _{\vlambda } f\left (\vt _{\vlambda }\left (\rvvu \right )\right )}_2^2 } - \norm { \mathbb {E}{ \nabla _{\vlambda } f\left (\vt _{\vlambda }\left (\rvvu \right )\right )} }_2^2 \right ) \nonumber \\ &\qquad + \norm { \nabla F\left (\vlambda \right ) }^2_2 \label {eq:thm_gradient_variance_general_definition} \\ &\;\leq \frac {1}{M} \mathbb {E}{ \norm { \nabla _{\vlambda } f\left (\vt _{\vlambda }\left (\rvvu \right )\right ) }_2^2 } + \norm { \nabla F\left (\vlambda \right ) }^2_2. \nonumber \end {alignat}\end{proof}
