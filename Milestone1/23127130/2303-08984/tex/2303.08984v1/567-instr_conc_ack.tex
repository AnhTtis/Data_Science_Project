\section{INSTRUMENTATION}
Although $\text{TPR}^r\approx 85\%$ demonstrates a satisfactory performance  of the LASSO model, the actual ``prediction" of interlock is only available \SI{0.2}{\second} in advance. To perform the recovery operation -- that is, reducing the beam current by 10\% -- in time, we need an instrumentation to realize such change inside \SI{0.2}{\second}. Table~\ref{tab:instrument} lists several possible instrumentation commissioned in various proton facilities at PSI. 

\begin{table}[!hbt]
\centering
\caption{Potential instrumentation for fast adjustment of beam intensity in various proton facilities at PSI}
\begin{tabular}{llr}
\toprule
\textbf{Instrumentation} & \textbf{Facility} & \textbf{Time scale} (\SI{}{\milli
\second}) \\
\midrule
Kicker AVKI & HIPA & 0.005\\
Kicker~\cite{jirousek2003concept} & PROSCAN & 0.05\\
Deflector plates~\cite{carmona18continuous} & Gantry2 & 0.2\\
Beam blocker~\cite{jirousek2003concept} & PROSCAN & 60 \\
Collimator KIP2 & PSI Injector 2 & 66.7/\SI{0.2}{\milli\ampere}\\
\bottomrule
\end{tabular}
\label{tab:instrument}
\end{table}

The AVKI kicker is a fast magnet kicker in the low energy beam line between the Cockroftâ€“Walton pre-accelerator and the \SI{72}{\mega\eV} injector cyclotron~\cite{anicic2005fast}, as shown in the top part of Figure~\ref{fig:hipa}. It is part of the original interlock system --- when an interlock signal is received, it responses in \SI{0.005}{\milli\second} to dump the proton beam.

The Kicker in PROSCAN is an essential part of the \emph{spot scanning} process, where the steered beam is switched on and off between the spots by this fast kicker magnet to apply beam onto the patient as
localized spots~\cite{jirousek2003concept}.

The vertical deflector plates (VD) in Gantry2 aims at accurate (1\% precision) controlling of the beam intensity during fast changes to achieve \emph{continuous line scanning of tumours}. The VDs cut the beam through a set of collimator slits by applying a tunable transversal electric field. The extracted beam current is related to the VD voltage as well as the beam energy~\cite{schatti2014first}.

The beam blockers in PROSCAN are located at the entry of each area, before the degrader, after the above-mentioned kicker, and at the beamline entrance to control the beam intensity. The beam blockers at area entry have a lower response time, yet cannot handle large dose~\cite{jirousek2003concept}. 

Finally, the Collimator KIP2 in HIPA is a movable collimator to maintain the optics and control the injected beam current into the chain of cyclotrons. It is located at the first turn of the \SI{72}{\mega\eV} Injector cyclotron, as shown in Figure~\ref{fig:hipa}~\cite{stetson1992commissioning, tahar2023probing}.

All the listed instrumentations are capable of intercepting the beam within \SI{0.2}{\second}. The time scale listed for kickers, deflector plates and beam blocker are their response time to kick, steer or block the respective beams, while the collimator KIP2~\cite{stetson1992commissioning} moves at a speed of $\sim$\SI{6}{\milli\metre/\second}, which translates to \SI{3}{\milli\ampere/\second} given the default beam current of \SI{2}{\milli\ampere}. Therefore KIP2 needs \SI{66.7}{\milli\second} to change 10\% of the default beam current, i.e. \SI{0.2}{\milli\ampere}.

\section{CONCLUSION and outlook}
We propose an approach based on LASSO logistic regression that tackles the forecasting problem of particle accelerator interruptions as binary classification. Our previous RPCNN model transforms 1-dimensional time series into 2-dimensional images aiming at extracting more refined features, yet its classification power is not as strong as expected. A series of two sample MMD tests show that beam interruptions are more abrupt events than gradual build-ups. Thus the lacking performance of RPCNN might be attributed to inappropriate choices of input data as well as complex model parameters. Based on the MMD test result, a simpler LASSO model is established, and it outperforms RPCNN in both standard classification and custom real-time metrics. The list of possible instrumentation for fast adjustment of beam intensity sheds light on future prospect of integrating the model into real-time operation and finally preventing interlocks upon predictions.
%{\color{red} future work}

\section{ACKNOWLEDGEMENTS}
We would like to place our special thanks to M\'elissa Zacharias for her work on the RPCNN model and hyper-parameter tunning; to Jaime Coello de Portugal for his work on data collection, and to both of their work on the GUI for the real-time operating system. We would like to thank Davide Reggiani for his support on HIPA and 
the instrumentation. We would like to thank Anastasia Pentina and other colleagues from the Swiss Data Science Center for their insightful collaboration and generous support throughout the research. We also thank Hubert Lutz and Simon Gregor Ebner from PSI for their expert knowledge of the HIPA Archiver and help in data collection. We acknowledge the assistance of Derek Feichtinger and Marc Caubet for their help with the Merlin cluster which enables the computational work of the research.
