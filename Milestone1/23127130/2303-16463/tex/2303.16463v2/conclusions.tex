\section{Conclusions}

The landscape of cloud security is changing with the growing need to  
remove the cloud provider from the trust domain. 
Hardware vendors lay the foundation for implementing this vision through a
collection of mechanisms that ensure confidentiality of a cloud execution,
i.e.,  encryption of application memory, but, unfortunately, lack support for
ensuring runtime integrity. 
Our work develops a novel approach for virtualizing the hardware
root-of-trust through a combination of hardware mechanisms and a new
ephemeral approach to managing the TPM state.
We demonstrate how an ephemeral \vtpm{} can be used for providing
remote attestation of a \cvm{}.
In the spirit of transparency, our implementation is open
source and can be audited, verified, and extended.
As more and more cloud providers are gearing up to offer confidential
VMs, we believe our \svtpm{} architecture would provide a reference
point for implementing a \vtpm{} on \snp{} infrastructure.
While our implementation is tied to \snp{}, there is no real reason
why it could not be replicated in other TEEs. The only requirement is
to deploy ephemeral \vtpm{}s inside a secure enclave that is isolated
from the rest of the hardware (i.e. encrypted) and the guest
(the equivalent of what VMPLs provide).

