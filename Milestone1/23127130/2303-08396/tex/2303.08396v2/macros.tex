\newcommand{\ignore}[1]{}

\newcommand{\themeta}{the hyperscalar}
\newcommand{\ameta}{a hyperscalar}

\newcommand{\mmapd}{\mmap{}'d} 
\newcommand{\mm}{mm$^2$}
\newcommand{\myitem}[1]{\item \textbf{#1}}%
\newcommand{\refalg}[1]{Algorithm~\ref{#1}}%
\newcommand{\refeq}[1]{(Equation~\ref{#1})}%
\newcommand{\reffig}[1]{Figure~\ref{#1}}%
\newcommand{\reflst}[1]{Listing~\ref{#1}}%
\newcommand{\refsec}[1]{Section~\ref{#1}}%
\newcommand{\reftab}[1]{Table~\ref{#1}}%
\newcommand{\refapp}[1]{Appendix~\ref{#1}}%
\newcommand{\refln}[1]{Line~\ref{#1}}%
\newcommand{\refobs}[1]{Observation~\ref{#1}}%
\newcommand{\reflns}[2]{Lines~\hyperref[#1]{\ref*{#1}-\ref*{#2}}}%
\newcommand{\us}{\textmu{}s}
\newcommand{\x}[1]{$\times$}
\newcommand{\figtitle}[1]{\textbf{#1}}

\newcommand{\web}{Web1\xspace}
\newcommand{\insta}{Web2\xspace}
\newcommand{\adfinder}{Ads1\xspace}
\newcommand{\adranker}{Ads2\xspace}
\newcommand{\adretriever}{Ads3\xspace}
\newcommand{\memcache}{Cache1\xspace}
\newcommand{\tao}{Cache2\xspace}
\newcommand{\dppreader}{Reader\xspace}
\newcommand{\feed}{Feed\xspace}

\newcommand{\itlb}{I-TLB\xspace}
\newcommand{\dtlb}{D-TLB\xspace}
\newcommand{\memprof}{MemProf\xspace}
\newcommand{\memprofcode}{MemProf.Code\xspace}
\newcommand{\memprofbw}{MemProf.MemBW\xspace}
\newcommand{\memproflat}{MemProf.MemLat\xspace}

\newcommand{\doublerow}[1]{\multirow{2}{*}{\shortstack{#1}}}
\newcommand{\doublerown}[1]{\multirow{-2}{*}{\shortstack{#1}}}
\newcommand{\triplerown}[1]{\multirow{-3}{*}{\shortstack{#1}}}


\newcommand{\smahar}[1]{{{\textcolor{Blue}{\textbf{\sffamily
          $\blacktriangleright$ Suyash: #1 $\blacktriangleleft$}}}}}
\newcommand{\abhishek}[1]{{{\textcolor{red}{\textbf{\sffamily
          $\blacktriangleright$ Abhishek: #1 $\blacktriangleleft$}}}}}
\newcommand{\wei}[1]{{{\textcolor{purple}{\textbf{\sffamily
          $\blacktriangleright$ Wei: #1 $\blacktriangleleft$}}}}}
\newcommand{\hao}[1]{{{\textcolor{orange}{\textbf{\sffamily
          $\blacktriangleright$ Hao: #1 $\blacktriangleleft$}}}}}

\newcommand{\tracing}[1]{{#1}}

\mdfdefinestyle{observation}{leftmargin=0cm,rightmargin=0cm,%
innerleftmargin=0.2cm,innerrightmargin=0.2cm,roundcorner=10pt}
\newcommand{\obs}[2]{\refstepcounter{obscounter}%
    \noindent{}\begin{mdframed}[backgroundcolor=gray!10,style=observation]
        \textbf{Key observation \theobscounter\label{#1}:} #2
    \end{mdframed}
}

\newcommand{\uarch}{\textmu{}-arch\xspace}
\soulregister\uarch7


\ifdefined\arxiv
  \newcommand{\company}{Meta\xspace}
\else
  \newcommand{\company}{a hyperscalar\xspace}
\fi
  

\newcommand{\tieredperfbaseline}{45.67\%\xspace}
\newcommand{\tieredperfideal}{93.7\%\xspace}

\def\shipit{1}

\soulregister\itlb7

\soulregister\AB7
\soulregister\abhishek7
\soulregister\web7
\soulregister\insta7
\soulregister\adfinder7
\soulregister\adranker7
\soulregister\adretriever7
\soulregister\memcache7
\soulregister\tao7
\soulregister\dppreader7
\soulregister\feed7
\soulregister\reffig7
\soulregister\refsec7
\soulregister\reftab7

\if\shipit1
    \renewcommand{\hl}[1]{#1}
    \renewcommand{\marginpar}[1]{}
    \renewcommand{\smahar}[1]{}
    \renewcommand{\abhishek}[1]{}
    \renewcommand{\wei}[1]{}
    \renewcommand{\hao}[1]{}
\fi