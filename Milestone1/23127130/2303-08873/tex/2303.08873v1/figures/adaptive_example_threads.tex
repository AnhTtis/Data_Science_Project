\begin{minted}[numbersep=1pt, highlightlines={2-7}, highlightcolor=celadon!50, fontsize=\footnotesize,linenos,escapeinside=!!,breaklines]{c++}
void vecAdd(double *A, double *B, double *C, size_t N) {
  int GPU_THREADS;
  !\label{lst4:adapt:begin}!#pragma omp begin adaptation model_name(by_len) \
   features(N) \
   variants([64:1024:64]) \
   model(dtree) min_train_data(16 /* variants */ * 10) \
   !\label{lst4:adapt:end}!model_output(GPU_THREADS)
\end{minted}
\begin{minted}[firstnumber=8, numbersep=1pt, highlightlines={8-12}, highlightcolor=beaublue!50, fontsize=\footnotesize,linenos,escapeinside=!!,breaklines]{c++}
  !\label{lst4:omp:begin}!#pragma omp target \
    map(to: A[0:N], B[0:N]) map(from: C[0:N]) \
    teams distribute" !\label{lst4:omp:end}!"parallel for \
    thread_limit(GPU_THREADS)
\end{minted}
\begin{minted}[firstnumber=13, numbersep=1pt, highlightlines={13-14}, highlightcolor=lightgray!50, fontsize=\footnotesize,linenos,escapeinside=!!,breaklines]{c++}
  for(size_t i = 0; i < N; ++i)
   C[i] = A[i] + B[i];
\end{minted}
\begin{minted}[firstnumber=15, numbersep=1pt, highlightlines={15}, highlightcolor=bubblegum!50, fontsize=\footnotesize,linenos,escapeinside=!!,breaklines]{c++}
  #pragma omp end adaptation model_name(by_len)
}
\end{minted}
