\section{Generalization to $n$-player Games}
\label{sec:n-player}

Denote $I(G) = \condSet{i}{|V_i| = 1}$ as the set of players that have a unique payoff attainable at $\Nash(G)$. Given any strategy profile $\vsigma$, denote $B(\vsigma) = \condSet{i}{\sigma_i \textrm{ is a best response to } \vsigma_{-i}}$ as the set of players that plays a best response strategy. 
\begin{theorem}[$n$-player, sufficient condition]
\label{thm:n-player-suf}
    For general $n$-player games (mixed strategies allowed), a sufficient condition on the stage game $G$ for there exists some $T$ and some SPE of $G(T)$ where \phenom{} occurs is:

    There exists a strategy profile $\hat{\vsigma} = (\hat{\sigma}_1, \dots, \hat{\sigma}_n)$ where $I(G)\subseteq B(\hat{\vsigma})$ and $B(\hat{\vsigma}) \neq [n]$, and 
    \begin{enumerate}
        \item there exists $\vsigma, \vsigma' \in \Nash(G)$ where 
            \begin{enumerate}
                \item for all $\lambda\in [0,1]$, $\lambda\vsigma + (1- \lambda)\vsigma' \in \Nash(G)$, and 
                \item for some $i\in I(G)$, $\sigma_i\neq \sigma'_i$, 
            \end{enumerate}
            OR
        \item for all $i\in[n]\setminus B(\hat{\vsigma})$, 
        \begin{enumerate}
            \item $|S_{\hat{\sigma}_i}| = 1$, i.e. $\hat{\sigma}_i$ is a pure strategy, or
            \item $V_i$ contains a non-zero length continuous interval, or
            \item denote the set of possible differences in $u_i$ between pairs of NEs in the stage game as $D_i = \condSet{u_i(\vsigma) - u_i(\vsigma')}{\vsigma,\vsigma' \in \Nash(G)}$, there exists an action from the support of $\hat{\sigma}_i$ $a\in S_{\hat{\sigma}_i}$ such that, for every $a'\in S_{\hat{\sigma}_i}\setminus a$, there exists some integers $n_{\va_{I(G)}}\geq 0$ and $d_k^{\va_{I(G)}}\in D_i, k=1,\dots,n_{\va_{I(G)}}$ for each $\va_{I(G)}\in \times_{i\in I(G)} S_{\hat{\sigma}_i}$ such that $u_i(a', \hat{\vsigma}_{-i}) - u_i(a, \hat{\vsigma}_{-i}) = \sum_{\va_{I(G)}\in \times_{i\in I(G)} S_{\hat{\sigma}_i}} \hat{\vsigma}(\va_{I(G)})\cdot \sum_{k=1}^{n_{\va_{I(G)}}} d_k^{\va_{I(G)}}$. 
        \end{enumerate}
    \end{enumerate}
\end{theorem}

\begin{proof}

We prove the condition is sufficient by showing if the condition is satisfied, we can always construct some $T$ and some SPE where \phenom{} occurs.

We construct an SPE $\vmu^*$ consisting of segments. WLOG, let the first $m$ players be the ones that do not play their best response in $\hat{\vsigma}$, i.e. $[m] = [n]\setminus B(\hat{\vsigma})$. Denote $\vmu^t$ as all the $t$-th round behavior strategy profiles in $\vmu^*$ and $\vmu^{t_1:t_2}$ as all the behavior strategy profiles between the $t_1$-th round and the $t_2$-th round in $\vmu^*$. $\vmu^*$ is divided into segments: $\vmu^1, \vmu^{2:T_1}, \vmu^{T_1+1:T_2},\dots, \vmu^{T_{m-1}+1:T_m}$. We set $\vmu^1 = \hat{\vsigma}$. We let the strategies in each segment only depend on the play in the first round, not depending on any other segments. So given a play in the first round, each $\vmu^{T_{i-1}+1:T_i}$ is an SPE of the $(T_i - T_{i-1})$-round subgame.
\\
\\
\textbf{(1) is satisfied.} 
We let the strategies in the segment ending at $T_i$ only depend on the action played by player $i$ in the first round. In the following, we denote $\vmu^{T_{i-1}+1:T_i}_{|a_i}$ as the strategy profile in the segment ending at $T_i$ given player $i$ plays $a_i$ in the first round.

$\vmu^{T_{i-1}+1:T_i}$ is constructed as follows. Pick $a_i^m \in S_{\hat{\sigma}_i}$ such that $u_i(a_i^m, \hat{\vsigma}_{-i}) = \max_{a_i \in S_{\hat{\sigma}_i}} u_i(a_i, \hat{\vsigma}_{-i})$. We construct $\vmu^{T_{i-1}+1:T_i}$ such that for all $a'_i\in S_{\hat{\sigma}_i}$, $U_i(\vmu^{T_{i-1}+1:T_i}_{|a'_i}) - U_i(\vmu^{T_{i-1}+1:T_i}_{|a_i^m}) = u_i(a_i^m, \hat{\vsigma}_{-i}) - u_i(a'_i, \hat{\vsigma}_{-i})$. Let $\vsmin, \vsmax\in \Nash(G)$ such that $u_i(\vsmin) = \min (V_i)$ and $u_i(\vsmax) = \max (V_i)$, so $u_i(\vsmax) > u_i(\vsmin)$. 
By using $\vsigma, \vsigma'$ given in (1), we can construct SPEs that achieve a continuous range of values of $U_i$ for all $i\notin I(G)$. Denote $j\in I(G)$ such that $\sigma_j\neq \sigma'_j$, and $a_j \in A_j$ such that $\sigma_j(a_j)\neq \sigma'_j(a_j)$. WLOG, let $\sigma_j(a_j) > \sigma'_j(a_j)$. We can construct SPEs $\vmu(\lambda)$ parameterized by $\lambda$ as:
\begin{itemize}
    \item In the first round, play $\lambda\vsigma + (1- \lambda)\vsigma'$.
    \item If the first round play by player $j$ is $a_j$, players play $\vsmax$ in all later rounds; otherwise, players play $\vsmin$ in all later rounds.
\end{itemize}
By varying $\lambda$ from 0 to 1, we can obtain a continuous range of values for $U_i(\vmu(\lambda))$. And by setting the number of rounds larger, the value range can be arbitrarily large. Then we can use $\vmu(\lambda)$ for $\vmu^{T_{i-1}+1:T_i}_{|a_i}$ for each $a_i\in S_{\hat{\sigma}_i}$ with separately and appropriately assigned $\lambda$'s, such that $U_i(\vmu^{T_{i-1}+1:T_i}_{|a_i}) + u_i(a_i, \hat{\vsigma}_{-i})$ is a constant across all $a_i\in S_{\hat{\sigma}_i}$.
Furthermore, we can include a segment in $\vmu^{T_{i-1}+1:T_i}$ where if some $a_i\in S_{\hat{\sigma}_i}$ is played by player $i$ in the first round, players play according to $\vsmax$; otherwise, players play according to $\vsmin$.

The above construction ensures that $\vmu^*$ is an SPE. And the first round strategy profile in $\vmu^*$ does not form a stage game Nash equilibrium.
\\
\\
\textbf{(2) is satisfied.} 
We construct $\vmu^{T_{i-1}+1:T_i}$ based on which case of (a), (b), and (c) is satisfied. Again, let $\vsmin, \vsmax\in \Nash(G)$ such that $u_i(\vsmin) = \min (V_i)$ and $u_i(\vsmax) = \max (V_i)$.

If (a) is satisfied, i.e. $\hat{\sigma}_i$ is a pure strategy, denote $a_i$ as the support for $\hat{\sigma}_i$. $\vmu^{T_{i-1}+1:T_i}$ is then constructed as: if player $i$ plays $a_i$ in the first round of $\vmu^*$, players play according to $\vsmax$ in all rounds in $\vmu^{T_{i-1}+1:T_i}$; otherwise, players play according to $\vsmin$ in all rounds in $\vmu^{T_{i-1}+1:T_i}$.

If (b) is satisfied, i.e. $V_i$ contains a non-zero length continuous interval, we can use a similar construction as the case when (1) is satisfied, replacing $\vmu(\lambda)$ with repetitions of stage game NE that achieves appropriate values of $V_i$ in the continuous interval, such that $U_i(\vmu^{T_{i-1}+1:T_i}_{|a_i}) + u_i(a_i, \hat{\vsigma}_{-i})$ is a constant across all $a_i\in S_{\hat{\sigma}_i}$.

If (c) is satisfied, we let $\vmu^{T_{i-1}+1:T_i}$ depend on the play of the set of players $i\cup I(G)$ in the first round. Taking $a$ as the chosen action from the support of $\hat{\sigma}_i$ in condition (c). We further divide $\vmu^{T_{i-1}+1:T_i}$ into $|S_{\hat{\sigma}_i}|-1$ segments and denote $\vmu^{T_{i-1}+1:T_i}[a']$ as the segment corresponding to $a'\in S_{\hat{\sigma}_i}\setminus a$. For each $\va_{I(G)}\in \times_{i\in I(G)} S_{\hat{\sigma}_i}$ and $a'\in S_{\hat{\sigma}_i}\setminus a$, we construct the segment $\vmu^{T_{i-1}+1:T_i}[a']$ by setting $\vmu^{T_{i-1}+1:T_i}_{|(a, \va_{I(G)})}[a']$ and $\vmu^{T_{i-1}+1:T_i}_{|(a', \va_{I(G)})}[a']$ using corresponding sequences of stage game NEs as specified by $\{d_k^{\va_{I(G)}}\}_{k=1}^{n_{\va_{I(G)}}}$ given in (c). $\vmu^{T_{i-1}+1:T_i}_{|(a'', \va_{I(G)})}[a'] = \vmu^{T_{i-1}+1:T_i}_{|(a, \va_{I(G)})}[a']$ for $a'' \in S_{\hat{\sigma}_i}\setminus \{a'\}$. This construction ensures that $U_i(\vmu^{T_{i-1}+1:T_i}_{|a_i}) + u_i(a_i, \hat{\vsigma}_{-i})$ is a constant across all $a_i\in S_{\hat{\sigma}_i}$.

The above construction ensures that $\vmu^*$ is an SPE. And the first round strategy profile in $\vmu^*$ does not form a stage game Nash equilibrium.
    
\end{proof}

\begin{theorem}[$n$-player, necessary condition]
\label{thm:n-player-nec}
    For general $n$-player games (mixed strategies allowed), a necessary condition on the stage game $G$ for there exists some $T$ and some SPE of $G(T)$ where \phenom{} occurs is: 

    There exists a strategy profile $\hat{\vsigma} = (\hat{\sigma}_1, \dots, \hat{\sigma}_n)$ where $I(G)\subseteq B(\vsigma)$ and $B(\vsigma) \neq [n]$.
\end{theorem}

\begin{proof}

We prove the above condition is necessary by showing that if there exists some $T$ and some SPE of $G(T)$ where \phenom{} occurs, there exists a strategy profile $\hat{\vsigma} = (\hat{\sigma}_1, \dots, \hat{\sigma}_n)$ where $I(G)\subseteq B(\vsigma)$ and $B(\vsigma) \neq [n]$.

Let $T^*$ and some SPE $\vmu^*$ of $G(T^*)$ to be an instance where \phenom{} occurs. Let $k^* = \max \condSet{k}{\exists h(k) \textrm{ s.t. } \vmu(h(k))\notin \Nash(G)}$ be the last round where off-Nash play occurs and let $\vmu(h^*(k^*)) \notin \Nash(G)$ be a behavior strategy profile that does not form a stage-game Nash equilibrium. Denote $G_{|h^*(k^*)}$ as the subgame starting from $h^*(k^*)$. Consider $\vmu_{|h^*(k^*)}$, the strategy profile in the subgame $G_{|h^*(k^*)}$. By the above construction, all the behavior strategy profiles in $\vmu_{|h^*(k^*)}$ after the first round belong to $\Nash(G)$. Therefore, for every player $i\in I(G)$, their total payoff in $G_{|h^*(k^*)}$ after the first round does not depend on what is played in the first round. So they must play their best responses in the first round, i.e. in $\vmu(h^*(k^*))$. So $I(G)\subseteq B(\vmu(h^*(k^*)))$. And since $\vmu(h^*(k^*))\notin\Nash(G)$, $B(\vmu(h^*(k^*))) \neq [n]$. So $\vmu(h^*(k^*))$ is a strategy profile that satisfies our target condition. 

\end{proof}

\paragraph{Remark} 
In the 2-player case, we are able to prove some properties that hold for 2-player games (\Cref{lemma:matrix} and the subsequent arguments in the proof of \Cref{thm:general} that uses \Cref{lemma:matrix} to show there exists a connected component of off-Nash strategy profiles), which allows the proof of the sufficient and necessary condition for the general case where mixed strategies are allowed. It is not clear whether similar properties hold for $n$-player games. Therefore, the questions of 1) what is a sufficient and necessary condition for $n$-player games, and 2) is \Cref{ques:comp} decidable for $n$-player games, remain open problems.

\iffalse
\subsection{Attempt to close the gap}

Here is the attempt to mimic the 2-player case and prove that the necessary condition in \Cref{thm:n-player-nec} is also sufficient. All games that satisfy the condition can be categorized into the following three disjoint cases:
\begin{enumerate}
    \item There exists a strategy profile $\hat{\vsigma} = (\hat{\sigma}_1, \dots, \hat{\sigma}_n)$ where $I(G)\subseteq B(\hat{\vsigma})$ and $B(\hat{\vsigma}) \neq [n]$, and for all $i \in [n]\setminus B(\hat{\vsigma})$, $\hat{\sigma}_i$ is a pure strategy.
    \item 1 is false, which means for all $R\subseteq [n]\setminus I(G)$, for all $\va_R \in \times_{i\in R} A_i$, for all $\vsigma_{-R} \in \Nash(G_{\va_R})$, $(\vsigma_{-R}, \va_R)\in \Nash(G)$, where $G_{\va_R}$ is the game for players in $[n]\setminus R$ resulting from fixing the strategies of players in $R$ to $\va_R$ in $G$. And for some $R\subseteq [n]\setminus I(G)$ and some $\va_R \in \times_{i\in R} A_i$, $\Nash(G_{\va_R})$ contains some connected component where the strategy of some player $i\in I(G)$ varies.
    \item Both 1 and 2 are false. This means for all $R\subseteq [n]\setminus I(G)$, for all $\va_R \in \times_{i\in R} A_i$, for all $\vsigma_{-R} \in \Nash(G_{\va_R})$, $(\vsigma_{-R}, \va_R)\in \Nash(G)$, and $\Nash(G_{\va_R})$ does not contain any connected component where the strategy of some player $i\in I(G)$ varies.
\end{enumerate}

Case (1) is sufficient since it corresponds to case 2(a) in \Cref{thm:n-player-suf}. Case (2) is sufficient since it corresponds to case 1 in \Cref{thm:n-player-suf}.

For case (3), in the 2-player games we prove it is sufficient by showing that we can always find some off-Nash strategy profile that satisfies 2(c) in \Cref{thm:n-player-suf}. But this step involves some specific arguments only applicable to 2-player games (\Cref{lemma:matrix} and the subsequent arguments that shows there exists a connected component of off-Nash strategy profiles where the strategy of players in $I(G)$ varies). So we have not yet able to solve this case for $n$-player games.

\begin{itemize}
    \item There might be games where $[n]\setminus I(G)$ contains 2 players, but there does not exist $\hat{\vsigma}$ where $[n]\setminus B(\hat{\vsigma})$ contains only one player. i.e. all $\hat{\vsigma} = (\hat{\sigma}_1, \dots, \hat{\sigma}_n)$ where $I(G)\subseteq B(\hat{\vsigma})$ and $B(\hat{\vsigma}) \neq [n]$ has $B(\hat{\vsigma}) = I(G)$. So we can not hope to prove this by finding a strategy profile with only one player playing off-Nash, and construct for that.
\end{itemize}
\fi