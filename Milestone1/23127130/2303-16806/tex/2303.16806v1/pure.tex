\section{The Pure Strategy Case}
\label{sec:pure}

We start by considering 2-player games where players can only use pure strategies. In this case, a strategy of player $i$ in $G(T)$ is $\mu_i: H\rightarrow A_i$. 
%We use $\Nash^{p,p}(G)$ to denote the set of Nash equilibria of the stage game $G$ when both players can only use pure strategies, $\spe^{p,p}(G,T)$ to denote the set of SPEs of the repeated game $G(T)$ when both players can only use pure strategies, and $V_i^{p,p} = \condSet{u_i(\vsigma)}{\vsigma\in\Nash^{p,p}(G)}$ to denote the set of payoff values attainable at stage game Nash equilibria for player $i$ when both players can only use pure strategies.
We use $\Nash^{p,p}(G)$, $\spe^{p,p}(G,T)$, and $V_i^{p,p}$ to denote the corresponding concepts of $\Nash(G)$, $\spe(G,T)$, and $V_i$ when both players can only use pure strategies.
We use $\glspp$ and $\glopp$ to denote the partition of the set of all stage games $\mathcal{G}$ when both players can only use pure strategies. For any stage game $G$ where $\Nash^{p,p}(G) = \emptyset$, there is no SPE in the repeated game $G(T)$ for any $T$, so $G\in \glopp$ since \phenom{} can never occur. The following theorem presents a complete mathematical characterization of $\glspp$. As we will see, the key requirement for \phenom{} to occur is the ability of some player to `threaten' the other player to play off stage-game NEs in some rounds.

\begin{theorem}[2-player, pure strategy]
\label{thm:pure}
For 2-player pure-strategy-only games, a sufficient and necessary condition on the stage game $G$ for there exists some $T$ and some SPE of $G(T)$ where \phenom{} occurs is:
\begin{enumerate}
    \item $|V_1^{p,p}| > 1$, $|V_2^{p,p}| > 1$, and there exists some $\hat{a}_1\in A_1, \hat{a}_2\in A_2$ where $(\hat{a}_1, \hat{a}_2) \notin \Nash^{p,p}(G)$, OR
    \item $|V_1^{p,p}| > 1$, $|V_2^{p,p}| = 1$, and there exists $\hat{a}_1, a_1' \in A_1, \hat{a}_2 \in A_2$ where $u_1(\hat{a}_1, \hat{a}_2) < u_1(a_1', \hat{a}_2)$ and $\hat{a}_2$ is a best response to $\hat{a}_1$, OR
    \item $|V_1^{p,p}| = 1$, $|V_2^{p,p}| > 1$, and there exists $\hat{a}_1 \in A_1, \hat{a}_2, a_2' \in A_2$ where $u_2(\hat{a}_1, \hat{a}_2) < u_2(\hat{a}_1, a_2')$ and $\hat{a}_1$ is a best response to $\hat{a}_2$.
\end{enumerate}
\end{theorem}


\begin{proof}

First we show the condition is sufficient, by showing if the condition is satisfied, then we can construct some $T$ and some SPE where \phenom{} occurs. 

If the condition is satisfied, then at least one of (1),(2),(3) must be satisfied. If (1) is satisfied, there exists $\va_1, \va_1'\in\Nash^{p,p}(G)$ where  $u_1(\va_1) > u_1(\va'_1)$ and $\va_2, \va_2'\in\Nash^{p,p}(G)$ where $u_2(\va_2) > u_2(\va'_2)$ (note that $\va_1, \va_1'$ do not need to be different from $\va_2, \va_2'$). From the given $(\hat{a}_1, \hat{a}_2) \notin \Nash^{p,p}(G)$, let $\delta_1 = \max_{a_1\in A_1} u_1(a_1, \hat{a}_2) - u_1(\hat{a}_1, \hat{a}_2)$ and $\delta_2 = \max_{a_2\in A_2} u_2(\hat{a}_1, a_2) - u_2(\hat{a}_1, \hat{a}_2)$. We set $T = 2k + 1$ and $k \geq \max \Big( \frac{\delta_1}{u_1(\va_1)-u_1(\va'_1)}, \frac{\delta_2}{u_2(\va_2)-u_2(\va'_2)} \Big)$. We argue that the following strategy profile is an SPE of $G(T)$:
\begin{itemize}
    \item In the first round, play $(\hat{a}_1, \hat{a}_2)$,
    \item For later $2k$ rounds, if the first round play is $(\hat{a}_1, \hat{a}_2)$, players play their corresponding strategy according to $(\va_1, \va_2, \va_1, \va_2, \dots)$; if the first round play is $(a_1', \hat{a}_2)$ where $a_1' \neq \hat{a}_1$, players play their corresponding strategy according to $(\va_1', \va_2, \va_1', \va_2, \dots)$; if the first round play is $(\hat{a}_1, a_2')$ where $a_2' \neq \hat{a}_2$, players play their corresponding strategy according to $(\va_1, \va_2', \va_1, \va_2', \dots)$; otherwise, players play their corresponding strategy according to $(\va_1, \va_1, \dots)$ (or any sequence of NEs).
\end{itemize}
For every subgame in the game tree starting from the second round or later, the above strategy profile forms an NE, since a stage game NE is played in every round. So we only need to show that the above strategy profile forms an NE for the root game $G(T)$. The total payoff for player 1 under the above strategy profile is $U_1 = u_1(\hat{a}_1, \hat{a}_2) + k\cdot(u_1(\va_1) + u_1(\va_2))$. If player 1 unilaterally deviates on the first round play (and possibly later rounds as well), the new total payoff $U_1' \leq \max_{a_1\in A_1} u_1(a_1, \hat{a}_2) + k\cdot(u_1(\va_1') + u_1(\va_2)) \leq U_1$ due to our choice of $k$. The same argument applies for player 2, so the above strategy profile forms an NE for the root game. \Phenom{} occurs here since the first round behavior strategy profile $(\hat{a}_1, \hat{a}_2) \notin \Nash^{p,p}(G)$.

If (2) is satisfied, there exists $\va_1, \va_1'\in\Nash^{p,p}(G)$ where $u_1(\va_1) > u_1(\va'_1)$. Let $\delta = \max_{a_1} u_1(a_1, \hat{a}_2) - u_1(\hat{a}_1, \hat{a}_2)$. We set $T=k+1$ and $k \geq \frac{\delta}{u_1(\va_1) - u_1(\va'_1)}$. We argue that the following strategy profile is an SPE of $G(T)$: 
\begin{itemize}
    \item In the first round, play $(\hat{a}_1, \hat{a}_2)$,
    \item For the later $k$ rounds, if player 1's first round play is $\hat{a}_1$, players play their corresponding strategy according to $(\va_1, \va_1, \dots)$; if player 1's first round play is $a_1'\neq \hat{a}_1$, players play their corresponding strategy according to $(\va_1', \va_1', \dots)$.
\end{itemize}
Again, for every subgame in the game tree starting from the second round or later, the above strategy profile forms an NE. So we only need to show that the above strategy profile forms an NE for the root game. Player 2 cannot deviate to get a higher total payoff since $\hat{a}_2$ is the best response to $\hat{a}_1$ and $u_2$ is the same under all $\Nash^{p,p}(G)$. For player 1, the total payoff under the above strategy profile is $U_1 = u_1(\hat{a}_1, \hat{a}_2) + k\cdot u_1(\va_1)$. If player 1 unilaterally deviates, the new total payoff $U_1' \leq \max_{a_1\in A_1} u_1(a_1, \hat{a}_2) + k\cdot u_1(\va_1') \leq U_1$ due to our choice of $k$. So the above strategy profile forms an NE for the root game. \Phenom{} occurs here since $(\hat{a}_1, \hat{a}_2) \notin \Nash^{p,p}(G)$.

The same construction exchanging player 1 and 2 works for the case when (3) is satisfied. This finishes the proof that the condition is sufficient.
\\
\\
To prove this condition is necessary, we prove that if the condition is not satisfied, then for any $T$ and any SPE $\vmu$ of $G(T)$, \phenom{} does not occur, i.e., the strategy profile at each round must form an NE of the stage game. The condition is not satisfied means all of (1),(2),(3) are false. This can be divided into the following disjoint cases.

\textbf{1. $|V_1^{p,p}| = 0$, $|V_2^{p,p}|=0$.} Here, $\Nash^{p,p}(G) = \emptyset$, so there is no SPE in the repeated game $G(T)$ for any $T$. Therefore, \phenom{} can never occur.

\textbf{2. $|V_1^{p,p}| = 1$, $|V_2^{p,p}|=1$.} 
Using backward induction, we know that in any SPE, the strategy profile at each round must form an NE of the stage game.

\textbf{3. $|V_1^{p,p}| > 1$, $|V_2^{p,p}|>1$.}
Since (1) is false, there does not exist $\hat{a}_1, \hat{a}_2$ where $(\hat{a}_1, \hat{a}_2)\notin \Nash^{p,p}(G)$, i.e., $A = \Nash^{p,p}(G)$ (\Cref{example:every_ne} shows an example of such games). Therefore, it trivially follows that in any SPE of $G(T)$, the strategy profile at each round must form an NE of the stage game.

\textbf{4. $|V_1^{p,p}| > 1$, $|V_2^{p,p}|=1$. }
Since (2) is false, there does not exist $\hat{a}_1, a_1'\in A_1, \hat{a}_2\in A_2$ where $u_1(\hat{a}_1, \hat{a}_2) < u_1(a_1', \hat{a}_2)$ and $\hat{a}_2$ is a best response to $\hat{a}_1$ (\Cref{example:no_best_response} shows an example of such games). This means that for any $\hat{a}_1, \hat{a}_2$ where $\hat{a}_2$ is a best response to $\hat{a}_1$, $\hat{a}_1$ is a best response to $\hat{a}_2$, and thus $(\hat{a}_1, \hat{a}_2) \in \Nash^{p,p}(G)$. Now we can use backward induction to prove that in any SPE, the strategy profile at each round must form an NE of the stage game. The strategy profiles in the last round must form NEs. Given that the strategy profiles in the last $k$ rounds must all form NEs, consider the $(k+1)$-to-last round. Player 2 must play a best response in this round, since their play in this round does not affect the total payoff they get in the final $k$ rounds. And since all strategy profiles where player 2 plays best response is an NE of the stage game, the induction step is complete.

\textbf{5. $|V_1^{p,p}| = 1$, $|V_2^{p,p}|>1$. } The same proof for case 4 applies here.

This finishes the proof that the above condition is necessary.
\end{proof}

A reader may wonder whether there exists stage games $G$ that belong to cases 3 and 4 in the above proof for the necessity of the condition. We present here example games that belong to each case.

\begin{example}
\label{example:every_ne}
\Cref{tab:every_ne} presents an example stage game $G$ where  $|V_1^{p,p}| > 1$, $|V_2^{p,p}|>1$, and there does not exist $\hat{a}_1, \hat{a}_2$ where $(\hat{a}_1, \hat{a}_2)\notin \Nash^{p,p}(G)$, i.e., $A = \Nash^{p,p}(G)$.
\end{example}

\begin{example}
\label{example:no_best_response}
\Cref{tab:no_best_response} presents an example stage game $G$ where $|V_1^{p,p}| > 1$, $|V_2^{p,p}|=1$, and there does not exist $\hat{a}_1, a_1'\in A_1, \hat{a}_2\in A_2$ where $u_1(\hat{a}_1, \hat{a}_2) < u_1(a_1', \hat{a}_2)$ and $\hat{a}_2$ is a best response to $\hat{a}_1$.
The set of pure Nash equilibria of $G$ is: $(a_1, a_2)$, $(b_1, a_2)$, $(b_1, b_2)$, and $(c_1, b_2)$. Therefore, $|V_1^{p,p}| > 1$ and $|V_2^{p,p}|=1$. We can see that for all strategy profiles where player 2 plays a best response, player 1 also plays a best response.

\begin{table}[ht]
    \centering
    \begin{tabular}{c|c|c|}
    & $a_2$ & $b_2$ \\
    \midrule
    $a_1$ & (3,2)   & (1,1) \\
      \midrule
    $b_1$ & (3,2)   & (2,2) \\
      \midrule
    $c_1$ & (1,1)  & (2,2) \\
       \midrule
    \end{tabular}
    \caption{Example stage game in matrix form, row player is player 1, column player is player 2. For all $a\in A_1$, for all $\sigma_2\in \Delta A_2$ that is a best response to $a$, $a$ is also a best response to $\sigma_2$. }
    \label{tab:no_best_response}
\end{table}
\end{example}


From the constructions of SPEs where \phenom{} occurs used in the above proof, we can obtain the following corollary regarding the value of $T$ above which \phenom{} can occur if the condition in \Cref{thm:pure} is satisfied:

\begin{corollary}
For 2-player pure-strategy-only games, given a stage game $G$:
\begin{enumerate}
    \item If $|V_1^{p,p}| > 1$, $|V_2^{p,p}| > 1$, and there exists some $\hat{a}_1\in A_1, \hat{a}_2\in A_2$ where $(\hat{a}_1, \hat{a}_2) \notin \textrm{Nash}(G)$, then for all $T \geq 2\cdot \max\Big( \frac{\delta_1}{\max (V_1^{p,p})-\min (V_1^{p,p})}, \frac{\delta_2}{\max (V_2^{p,p})- \min (V_2^{p,p})} \Big) +1$ where $\delta_1 = \max_{a_1\in A_1} u_1(a_1, \hat{a}_2) - u_1(\hat{a}_1, \hat{a}_2)$ and $\delta_2 = \max_{a_2\in A_2} u_2(\hat{a}_1, a_2) - u_2(\hat{a}_1, \hat{a}_2)$, there exists some SPE of $G(T)$ where \phenom{} occurs.
    \item If $|V_1^{p,p}| > 1$, $|V_2^{p,p}| = 1$, and there exists $\hat{a}_1, a_1' \in A_1, \hat{a}_2 \in A_2$ where $u_1(\hat{a}_1, \hat{a}_2) < u_1(a_1', \hat{a}_2)$ and $\hat{a}_2$ is a best response to $\hat{a}_1$, then for all $T\geq \frac{\max_{a_1\in A_1} u_1(a_1, \hat{a}_2) - u_1(\hat{a}_1, \hat{a}_2)}{\max (V_1^{p,p})-\min (V_1^{p,p})} + 1$, there exists some SPE of $G(T)$ where \phenom{} occurs.
    \item If $|V_1^{p,p}| = 1$, $|V_2^{p,p}| > 1$, and there exists $\hat{a}_1 \in A_1, \hat{a}_2, a_2' \in A_2$ where $u_2(\hat{a}_1, \hat{a}_2) < u_2(\hat{a}_1, a_2')$ and $\hat{a}_1$ is a best response to $\hat{a}_2$, then for all $T\geq \frac{\max_{a_2\in A_2} u_2(\hat{a}_1, a_2) - u_2(\hat{a}_1, \hat{a}_2)}{\max (V_2^{p,p})-\min (V_2^{p,p})} + 1$, there exists some SPE of $G(T)$ where \phenom{} occurs.
\end{enumerate}
\end{corollary}