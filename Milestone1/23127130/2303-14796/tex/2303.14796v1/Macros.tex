%% Macros
\newcommand{\janine}[1]{{\footnotesize{\color{teal} [Janine: #1]}}}
\newcommand{\hadar}[1]{{\footnotesize{\color{purple} [Hadar: #1]}}}
%\newcommand{\todo}[1]{{\footnotesize{\color{red} [todo: #1]}}}


\newcommand{\aut}[1]{\ensuremath{\mathcal{#1}}}

\newcommand{\M}[1]{\ensuremath{\textit{#1}}} % \mathup
\newcommand{\imp}{\mathbin{\rightarrow}~}
\newcommand{\Imp}{\mathbin{\Rightarrow}~}
\renewcommand{\iff}{\mathbin{\leftrightarrow}}
\newcommand{\defeq}{\mathrel{\mathop:=}}

\newcommand{\dd}[2]{\ensuremath{#1_1,\dots,#1_{#2}}}  % x_1,...,x_n
\newcommand{\ddd}[2]{\ensuremath{#1_1\dots\,#1_{#2}}}  % x_1...x_n
\newcommand{\col}{\colon}
\newcommand{\set}[1]{\ensuremath{\{#1\}}}
\newcommand{\mset}[2]{\set{\,#1\mid#2\,}}
\newcommand{\eset}{\ensuremath{\emptyset}}
\newcommand{\incl}{\ensuremath{\subseteq}}
\newcommand{\bnfor}{~|~} %|
\newcommand{\qedsq}{\hfill\ensuremath{_\blacksquare}}

\newcommand{\blankpage}{\newpage
\thispagestyle{empty}
\mbox{}
\newpage}

\newcommand{\Until}{\mathcal{U}}
\newcommand{\TODO}[1]{\colorbox{yellow}{TODO:} \textit{#1}}

%General

\newcommand{\paths}{Paths}
\newcommand{\Lab}{L}
\newcommand{\Path}{\sigma}
\newcommand{\Traces}{\mathcal{L}}
\newcommand{\lmodels}{\models_{LTL}}
\newcommand{\UPredSeq}{Seq}

%TSL

\newcommand{\Upd}[2]{\llbracket #1 \leftarrowtail #2 \rrbracket}
\newcommand{\Inputs}{\mathbb{I}}
\newcommand{\Cells}{\mathbb{C}}
\newcommand{\PredTerm}{\tau_P}
\newcommand{\PredTerms}{\mathcal{T}_P}
\newcommand{\FuncTerm}[1]{\tau_{F #1}}
\newcommand{\FuncTerms}{\mathcal{T}_{\mathcal{F}}}
\newcommand{\UpdTerms}{\mathcal{T}_U}
\newcommand{\Values}{\mathbb{V}}
\newcommand{\FEval}{\varepsilon}
\newcommand{\Eval}{\eta}
\newcommand{\Functions}{\mathcal{F}}
\newcommand{\Assign}{a}
\newcommand{\Assigns}{\mathsf{A}}
\newcommand{\Comput}{\zeta}
\newcommand{\FuncSymbs}{\mathbb{F}}

%HyperTSL

\newcommand{\TraceVs}{\Pi}
\newcommand{\HPredTerm}{\hat{\tau_P}}
\newcommand{\HPredTerms}{\hat{\mathcal{T}_P}}
\newcommand{\HFuncTerm}[1]{\hat{\tau_{F #1}}}
\newcommand{\HFuncTerms}{\hat{\mathcal{T}_F}}
\newcommand{\HAssign}{\hat{a}}
\newcommand{\HAssigns}{\hat{\mathsf{A}}}
\newcommand{\HUpdTerms}{\hat{\mathcal{T}_U}}
\newcommand{\HComput}{\hat{\Comput}}
\newcommand{\ExtComput}[3]{#1 [#2, #3]}
\newcommand{\Computs}{Z}

%Finite Case
\newcommand{\aIn}[2]{in_{#1 = #2}}
\newcommand{\aCell}[2]{cell_{#1 = #2}}
\newcommand{\toLTL}[1]{t_{#1}}
\newcommand{\noUpd}{elimUpd}
\newcommand{\prev}[1]{\overleftarrow{#1}}
\newcommand{\relab}{relabel}
\newcommand{\plugin}[2]{[#1/#2]}
\newcommand{\predTrace}{P}

% TSL Software Model Checking
\newcommand{\feas}[1]{feasible(#1)}
\newcommand{\Stmt}{\mathit{Stmt}}
\newcommand{\BStmt}{\mathit{Stmt}_0}
\newcommand{\PTrace}{\sigma}
\newcommand{\matches}[2]{#1 \smalltriangleleft #2}
\newcommand{\matchest}[3]{#1 \smalltriangleleft_{#3} #2}
\newcommand{\BuechiProd}{\otimes}
\newcommand{\flatten}[1]{\mathit{flatten}(#1)}
\newcommand{\combine}[2]{\mathit{combine}(#1, #2)}
\newcommand{\edgel}{l}
\newcommand{\PredSet}{\rho}
\newcommand{\USet}{\upsilon}

% HyperTSL Software Model Checking

\newcommand{\rememb}{remember}


\renewcommand\qed {{% set up
\parfillskip=0pt % so \par doesnt push \square to left
\widowpenalty=10000 % so we dont break the page before \square
\displaywidowpenalty=10000 % ditto
\finalhyphendemerits=0 % TeXbook exercise 14.32
%
% horizontal
\leavevmode % \nobreak means lines not pages
\unskip % remove previous space or glue
\nobreak % don't break lines
\hfil % ragged right if we spill over
\penalty50 % discouragement to do so
\hskip.2em % ensure some space
\null % anchor following \hfill
\hfill % push \square to right
$\square$% % the end-of-proof mark
%
% vertical
\par}} % build paragraph
