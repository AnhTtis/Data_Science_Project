\section{System Model}
\label{sec:system_model}
A node inside a P2P network can be an adaptation node, a publishing node or both. An adaptation node continuously optimizes its connections, as opposed to a static node which always keeps the same set of connections. A publisher node generates original messages depending on its publishing probability. In blockchain, publishers are the miners, and adapting nodes are full nodes that optimize their outgoing connections.

Every node has constraints of CPU and bandwidth, which translate to how many concurrent peers a node could maintain connections. In this work, we assume a model that every node can at most maintains a constant number of outgoing and incoming connections. A node has 2 actions on how to react to an incoming connection, by either rejecting it if the node has saturated all its connections or by accepting it. A node can freely choose any  peer combinations for initiating its outgoing connections, though some outgoing connections might be rejected by the other node if the other node is saturated. In this work, we assume each node knows and has means to connect to all other nodes in the system, and therefore a $\GF$ needs to make decisions from an exponential number of combinations of connections.


Every P2P node is required to relay messages. Any connection is bidirectional, and every node is required to relay messages for all incoming and outgoing connections, except to the peer from whom the node firstly received the message. All nodes are expected to receive multiple copies of the identical messages from all its peers. We do not assume a message to have timestamp or any other identification related to who generates the message. All nodes in the network need not synchronize their time. Instead, each node uses relative time measurement for each message to record its peer's performance. Suppose peer $A$ sends a message, and the message is the first one that arrives at the local node at local time $t$, then peer $A$ has a measurement of $t-t=0$; peer $B$ sends the same message at $t'$, and has a measurement of $t'-t$ in local time. Such measurement is easy to implement and robust to time tempering since it only relies on local observation.


%$\NAME$ is a distributed algorithm that optimizes broadcast latency to other nodes in the P2P network, regardless of peer selection algorithms they may be using. 