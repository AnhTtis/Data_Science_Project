%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% File: 7_appendix.tex
% Self-contained tex file for the appendix
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Appendix}
\label{sec:7_appendix}
In this appendix we provide additional performance results for the experiments performed in Section~\ref{sec:4_perfEval}.
Table~\ref{tab:nascg_base_times} presents execution runtimes for the unoptimized implementation of NAS-CG and Table \ref{tab:nascg_opt_times} presents the runtimes for the automatically optimized implementation of NAS-CG.
Due to the amount of time required by the unoptimized code for problem sizes E and F, we project their total runtime based on their average iteration runtime.
Each iteration of NAS-CG performs the same computation and communication, and we note that the variation between iterations is no more than 2\% on problem sizes C and D.
Tables~\ref{tab:pr_base_times} and~\ref{tab:pr_opt_times} present similar data for the PageRank application.


%
% NAS-CG baseline and optimization runtimes
%
\begin{table}
\caption{Execution runtimes (in minutes) for the unoptimized implementation of NAS-CG when executed on the problem sizes from Table~\ref{tab:cg}. Missing values indicate that the problem size required too much memory to execute and ``NA'' values indicate that the system did not support the specified number of nodes/locales. Runtimes for problem sizes E and F are projected from single iteration runtimes.}
\label{tab:nascg_base_times}
\centering
\begin{tabular}{|c|cccc|cccc|}
\hline
& \multicolumn{4}{c|}{\textbf{Cray XC}} & \multicolumn{4}{c|}{\textbf{Infiniband}} \\
\textbf{Locales (Nodes)} & C   & D   & E    & F    & C  & D   & E                   & F   \\ \hline
2                & 1.8 & 3.9 & ---  & ---  & 9  & 15  & $2.3\mathrm{e}{+5}$ & --- \\
4                & 1.7 & 3.4 & 2882 & ---  & 12 & 17  & $1.7\mathrm{e}{+5}$ & --- \\
8                & 2.2 & 4.8 & 3069 & ---  & 58 & 131 & $1\mathrm{e}{+5}$   & --- \\
16               & 2.7 & 6.1 & 1005 & ---  & 96 & 242 & $5.7\mathrm{e}{+4}$ & $4.7\mathrm{e}{+5}$ \\
32               & 1.8 & 4   & 845  & 9927 & 64 & 156 & $3.1\mathrm{e}{+4}$ & $2.4\mathrm{e}{+5}$ \\
64               & 1.2 & 2.6 & 285  & 3501 & NA & NA  & NA                  & NA  \\
\hline
\end{tabular}
%\begin{table}
\caption{Execution runtimes (in minutes) for the automatically optimized implementation of NAS-CG when executed on the problem sizes from Table~\ref{tab:cg}. Missing values indicate that the problem size required too much memory to execute and ``NA'' values indicate that the system did not support the specified number of nodes/locales. Runtimes for problem sizes E and F are projected from single iteration runtimes.}
\label{tab:nascg_opt_times}
\centering
\begin{tabular}{|c|cccc|cccc|}
\hline
& \multicolumn{4}{c|}{\textbf{Cray XC}} & \multicolumn{4}{c|}{\textbf{Infiniband}} \\
\textbf{Locales (Nodes)} & C   & D   & E   & F   & C   & D   & E   & F    \\ \hline
2                & 0.6 & 1.4 & --- & --- & 1.1 & 2.6 & 655 & ---  \\
4                & 0.5 & 1   & 165 & --- & 0.7 & 1.7 & 489 & ---  \\
8                & 0.4 & 0.8 & 84  & --- & 0.5 & 1   & 279 & ---  \\
16               & 0.3 & 0.6 & 45  & --- & 0.4 & 0.7 & 221 & 1732 \\
32               & 0.3 & 0.5 & 25  & 190 & 0.4 & 0.6 & 156 & 1437 \\
64               & 0.3 & 0.5 & 17  & 138 & NA  & NA  & NA  & NA   \\
\hline
\end{tabular}
\end{table}

\begin{table}
\caption{Execution runtimes (in minutes) for the unoptimized implementation of PageRank when executed on the graphs from Table~\ref{tab:pr}. ``NA'' values indicate that the system did not support the specified number of nodes/locales.}
\label{tab:pr_base_times}
\centering
\begin{tabular}{|c|cc|cc|}
\hline
& \multicolumn{2}{c|}{\textbf{Cray XC}} & \multicolumn{2}{c|}{\textbf{Infiniband}} \\
\textbf{Locales (Nodes)} & webbase-2001 & sk-2005 & webbase-2001 & sk-2005 \\ \hline
2                & 1.1           & 4.1    & 14.6         & 14   \\
4                & 0.9           & 3.8    & 14.6         & 28 \\
8                & 0.7           & 4.4    & 14.9         & 23   \\
16               & 0.6           & 7.3    & 9.7          & 29 \\
32               & 0.6           & 5.7    & 6.9          & 26 \\
64               & 0.7           & 10     & NA           & NA  \\
\hline
\end{tabular}



\caption{Execution runtimes (in minutes) for the automatically optimized implementation of PageRank when executed on the graphs from Table~\ref{tab:pr}. ``NA'' values indicate that the system did not support the specified number of nodes/locales.}
\label{tab:pr_opt_times}
\centering
\begin{tabular}{|c|cc|cc|}
\hline
& \multicolumn{2}{c|}{\textbf{Cray XC}} & \multicolumn{2}{c|}{\textbf{Infiniband}} \\
\textbf{Locales (Nodes)} & webbase-2001 & sk-2005 & webbase-2001 & sk-2005 \\ \hline
2                & 1.2          & 3.3     & 2.8          & 6.9   \\
4                & 1            & 2.4     & 1.7          & 3.9 \\
8                & 0.8          & 3.4     & 1.2          & 3.9   \\
16               & 0.7          & 4.2     & 1.1          & 5.5 \\
32               & 0.5          & 4.2     & 1.5          & 6.2 \\
64               & 0.6          & 4.7     & NA           & NA  \\
\hline
\end{tabular}
\end{table}