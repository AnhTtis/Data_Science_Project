\def\r{0.6} %radius of the 1st internal vertex
\def\rB{0.8} %radius of the 2nd internal vertex
\def\rC{0.5} %radius of the 3rd internal vertex
\def\extl(#1, #2){\fill (#1, #2) circle (0.05); \fill[opacity = 0.3, blue] (#1, #2) circle (0.1);  } %external vertex to the left (x,y)
\def\extr(#1, #2){\fill (#1, #2) circle (0.05); \fill[opacity = 0.3, green!50!black] (#1, #2) circle (0.1);  } %external vertex to the right (x,y)
\def\conn(#1, #2, #3, #4){({#4*cos(#1) + #2},{#4*sin(#1) + #3}) --  ({(#4+0.2)*cos(#1) + #2},{(#4+0.2)*sin(#1) + #3})} %connector (phi, x, y, r)
\def\connt(#1, #2, #3, #4, #5){({#4*cos(#1) + #2},{#4*sin(#1) + #3}) .. controls  ({(#4+#5)*cos(#1) + #2},{(#4+#5)*sin(#1) + #3}) and} %connector trace point (phi, x, y, r, delta r)
\def\connte(#1, #2, #3, #4, #5){ ({(#4+#5)*cos(#1) + #2},{(#4+#5)*sin(#1) + #3}) .. ({#4*cos(#1) + #2},{#4*sin(#1) + #3}) } %entering connector trace point (phi, x, y, r, delta r)
\begin{tikzpicture}
\useasboundingbox (-2,-1) rectangle (4.5,1);


%external legs
\draw[thick] \connt(140, 0, 0, (\r+0.2), 0.3) ++(0.2,0) .. (-1.5,0.9); \extl(-1.5, 0.9)
\draw[thick] \connt(165, 0, 0, (\r+0.2), 0.3) ++(0.2,0) .. (-1.5,0.3); \extl(-1.5, 0.3)
\draw[thick] \connt(195, 0, 0, (\r+0.2), 0.3) ++(0.2,0) .. (-1.5,-0.3); \extl(-1.5, -0.3)
\draw[thick] \connt(220, 0, 0, (\r+0.2), 0.3) ++(0.2,0) .. (-1.5,-0.9); \extl(-1.5, -0.9)

\draw[thick] \connt(30, 0, 0, (\r+0.2), 0.3) ++(-1,0) .. (2.5,0.9) -- (4,0.9); \extr(4, 0.9)
\draw[thick] \connt(15, 2.5, 0, (\r+0.2), 0.3) ++(-0.3,0) .. (4,0.3); \extr(4, 0.3)
\draw[thick] \connt(-15, 2.5, 0, (\r+0.2), 0.3) ++(-0.3,0) .. (4,-0.3); \extr(4, -0.3)
\draw[thick] \connt(-40, 2.5, 0, (\r+0.2), 0.3) ++(-0.3,0) .. (4,-0.9); \extr(4, -0.9)


%contractions
\draw[red, opacity = .8, line width = 1] \connt(0, 0, 0, (\r+0.2), 0.5) \connte(210, 2.5, 0, (\r+0.2), 0.5);
\draw[red, opacity = .8, line width = 1] \connt(-30, 0, 0, (\r+0.2), 0.5) \connte(150, 2.5, 0, (\r+0.2), 0.5);


%internal vertex 1
\filldraw[fill = yellow!50!white, thick] (0,0) circle (\r) node{$A$} ;

\draw[line width = 2, red!50!blue] \conn(140, 0, 0, \r);
\draw[line width = 2, red!50!blue] \conn(165, 0, 0, \r);
\draw[line width = 2, red!50!blue] \conn(195, 0, 0, \r);
\draw[line width = 2, red!50!blue] \conn(220, 0, 0, \r);

\draw[line width = 2, red!50!blue] \conn(30, 0, 0, \r);
\draw[line width = 2, red!50!blue] \conn(0, 0, 0, \r);
\draw[line width = 2, red!50!blue] \conn(-30, 0, 0, \r);


%internal vertex 2
\filldraw[fill = yellow!50!white, thick] (2.5,0) circle (\r) node{$B$} ;

\draw[line width = 2, red!50!blue] \conn(150, 2.5, 0, \r);
\draw[line width = 2, red!50!blue] \conn(210, 2.5, 0, \r);

\draw[line width = 2, red!50!blue] \conn(15, 2.5, 0, \r);
\draw[line width = 2, red!50!blue] \conn(-15, 2.5, 0, \r);
\draw[line width = 2, red!50!blue] \conn(-40, 2.5, 0, \r);




\end{tikzpicture}