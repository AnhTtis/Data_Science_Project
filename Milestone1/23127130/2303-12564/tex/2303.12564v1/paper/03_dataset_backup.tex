\section{Dataset}
\label{sec:dataset}

\input{figure/fig_dataset_gallery}
\input{figure/fig_table}
%In this section, we present a new dataset of 3D bipedal cartoon characters as well as its data production process. Our dataset consists of 1646 image-model pairs among 17 species in 4 domains. We employed 6 artists to craft 3D models to match the shape, pose, and texture of the cartoon characters with images from the Internet. Some instances of our datasets are already shown in Fig.~\ref{fig_dataset_gallery}.
In this section, we present a new dataset, \textit{3DBiCar}, for 3D cartoon characters and elaborate the pipeline to build such dataset. \textit{3DBiCar} consists of 1646 image-model pairs of 17 species in 4 styles in total. 3D cartoon models are crafted by professional artists matching the shape, pose, and the texture from collected images. Drivable eyeballs are also available in our dataset. For brief dataset demonstration, please refer to Fig.~\ref{fig_dataset_gallery}.

It is worth noted that all the 3D models are of a uniform topological structure. Each model consists of 40776 vertices and 40760 faces. We create a T-pose template 3D model first and then require artists to move vertices only in case of any operations that may destroy topological properties. For example, changing the connecting relationship and deleting or adding points are unacceptable. We also delineate a group of annotations for artists to maintain the property of uniform topology. 


\subsection{Image Collection}

%At the beginning, about a thousand images are collected from free sources on the Internet and paid electronic documents from businessman. To facilitate the modeler to better model and a high quality of the dataset, we sift out quality pictures with the following rules, which are applied for later filtering as well.
Initially, we collect as many images with cartoon characters as possible. These images should cover common species of 3D cartoon characters.
%We also involve in searching images in specific domains and species to avoid extremely unbalance among species and domains.
%Unusual species (e.g., frog and robot) are also collected in \textit{3DBiCar} and considered as a challenging part. 
About a thousand images are collected from accessible sources on the Internet. Meanwhile, to cover a wide range of species and enrich the dataset, we purchase cartoon images in e-books. Finally, we select qualified images according to the following rules. Based on such criteria, we can build a fine-modeling and high-quality dataset:
\begin{enumerate}
\item The images shall be clear. Images with low resolution, abnormal brightness, or contrast are not acceptable.
\item The cartoon characters shall be complete and obvious. Specifically, the occluded or out-of-view part of the cartoon character's body should be trivial. The limbs are required to be visible as well.
\item The cartoon characters shall be humanoid. All models are initial as T-pose 3D models and share a uniform topology. % For example, poultry with feathered hands does not appear in our dataset. % reduce modeling difficulty
\item Images with similar cartoon characters shall be removed. Excessive characters of the same kind are avoided to balance data distribution. 
\end{enumerate}

 Finally, we select 1646 cartoon character images covering 17 species in 4 styles to construct a wide-applicable bipedal cartoon character dataset. Fig.~\ref{fig_datainfo} illustrates the detailed data distribution.

\subsection{Dataset Building}
\input{figure/fig_dataset_pipeline}
The construction of our dataset consists of three steps: template design, model building, and model checking. It is impossible to collect an available dataset from 3D models on the internet. These in-the-wild models vary in skeleton and mesh topology. Applying parameterization methods such as SMPL to these models results in a loss of detail. First, the template design in our pipeline ensures a uniform standard for biped models. This standard next serves our model building while still allowing the artists to construct diverse cartoon models. Finally, we apply the model checking to verify all the cartoon meshes. 

%% why we build model through 2D pictures and 
% 3D biped models on the internet are not unified in the skeleton and topology. If we treat the models with SMPL's method to generate models with the uniform topology, some characters' feature details will be lost. And, in previous method, the eyes are not separated from the body, leading to undriveable eyes. Moreover, Some models lack texture and source images, leading to trouble in single view reconstruction with texture when given images. Thus, we make a completed dataset \textit{3DBiCar} including texture, source images, and unified skeleton-topology standard. 

%The pipeline of dataset building is illustrated in Fig. \ref{fig_dataset_pipeline}.
%  There are two common pipelines to build a 3D model dataset in previous works. 

%  On one hand, in realistic face\cite{blanz1999morphable, le2017uhdb31, bagdanov2011florence, cosker2011facs, cao2013facewarehouse} or human\cite{robinette2002civilian, ionescu2013human3} reconstruction tasks, raw 3D data are usually acquired by large scanning instruments. Then, Researchers register the pre-defined template model with scanned data by optimization methods to obtain 3D human datasets with the same topology. However, scanning 3D cartoon characters is hardly possible, and the registry method is not suitable for cartoon models. This pipeline is not considered in our case. 

%  On the other hand, an intuitive idea is to manually construct a 3D model in the virtual world and fit a template T-Posed model on it following SMPL\cite{SMPL:2015}. However, such data processing leads to loss of detail and body parts comparing with previous pipelines such as tails and manes. Furthermore, the excessive model diversity in the dataset may lead to problems such as fitting difficulties or self-intersecting models. So this pipeline is also not suitable for data construction. In this case, we propose a new model building pipeline consisting of model crafting and model checking to deal with the difficulties in previous methods.


\subsubsection{Template Design}
\label{template}
Our approach starts with a well-designed predefined template human model for \textit{3DBiCar}. As Fig~\ref{fig_template_design} shows, we first design a template taking into accounts all possible body parts in cartoon characters. (a) illustrates the template mesh. We highlight specific body structure including horns, ears, nose and tail. Next, to make a standard for body parts alignment, we annotate specific patch of vertices as body landmarks. (b) demonstrates our body landmark annotations for rigging, skinning, and model checking. Finally, UV maps are built to construct a vivid cartoon model with texture. (c) shows the UV map of eyes and body. 

\textbf{Mesh Design.} Due to the complexity of body structures in different cartoon species, some specific parts of the template require a high resolution in one cartoon character's body. For example, the trunk of an elephant and the tail of a fox require higher resolution than other samples. Therefore, we reserve sufficient vertices and faces at specific positions on the template to maintain the uniform topological properties between all models and to meet resolution requirements for special structures demonstrated on Fig.~\ref{fig_template_design}(a). Our template model for the character body consists of 38726 vertices and 38724 faces. It is worth noticing that we also model two drivable eyeballs with 2050 vertices and 2046 faces. To sum up, our template mesh includes 40776 vertices and 40760 faces in total.
% predefine model



%\subsubsection{Skeleton generation}%We further supply our batch-auto-bone-rigging method to allow the model to pose. 
\textbf{Body landmarks.} Given a template model, the key to rigging is to determine all the joints in the template. Specifically, we adopt $K=23$ joints ($J\in \mathbb R^{K\times 3}$) for our cartoon models. A naive way is manually annotating all vertices nearby the predefined joints on the template model. Then annotations can be transferred to other models with the property of the uniform topology. However, this method failed on the joints with large deformation of vertices, for example, the tailbone joint when there is a long or large tail. We apply two strategies to counter this problem. First, we determine joints by two patches of vertices that are relatively stable during deformation. Second, we use centers of bounding boxes of marked vertices rather than averages to avoid joint offsets caused by the imbalanced vertices in patches. Based on the annotations of joints, we build our annotation landmark to guide crafting and inspection by adding additional feature lines and points to heads, including eye sockets, lips, nose, and ears. Since our template is a human model, we utilize human skinning weights to initialize our skinning weights. And then finetune by artists to prevent the model from self-intersecting or excessive deformation of specific poses. %The visualization of skinning weights is given in "Skinning" of Fig. \ref{fig_template_design} % skinning weights

 \textbf{UV Map.} Texture of eyes and body relies on corresponding UV Map. This mappping for model texture is considered in two levels. First, we use continuous body UV to maintain continuity between parts and minimize unexpected chromatic aberrations on the mesh at the margin of UV. Second, we also adjust the proportion of specific positions in the UV to avoid low UV clarity in some crucial parts. %UV

 %The visualization of skinning weights is given in "Skinning" of Fig. \ref{fig_template_design} % skinning weights.

\subsubsection{Model Building}
 To construct the model mesh, we considers both the cartoon charater on the given picture and counterpart animal in real life. The artist first bears the characteristic of animal in mind according to the species of models. Then by carefully observing the composition of different parts on the provided image, the artist adjusts the model from global to local through the standard, move, clay, and smoothing operations provided by \textbf{ZBrush}, a digital sculpting and painting software.  %The artist also uses the "symmetry method" in Z-Blush to keep the model symmetrical. 
According to body landmarks on mesh, the artists ensure the consistency of the semantic body parts by keeping the body landmarks in the proper position.  %mesh deform
% red comment: I think I should mention prior knowledge here. or we say common knowledge

To paint the model texture, the artists strictly maintain the correspondence to the image for visible parts, while the unseen texture is reasonably guessed with Occam's razor for invisible parts. Additionally, the artists densify the points to create high-resolution textures. 

To fit the pose of models, artists determine model pose in the open 3D graphics software \textbf{Blender}. The artists should set reasonable poses according to given images without self-intersection.  % texture and pose

% As for the texture of the painting, both correspondence and rational reference are required. For the visible parts, the modeler strictly maintains the correspondence to the image. While for the invisible parts, the texture is reasonably guessed using Occam's razor. Additionally, the modeler densifies the points to create high-resolution textures. 
% Each model will pose in the free open source 3D graphics and image software \textbf{Blender} according to the given image.  % texture and pose

\subsubsection{Model Checking}
%\input{figure/fig_dataset_topology_anno}
Even though multiple constraints are introduced to create a qualified model during model crafting, artifacts in crafted models still exist. We conduct the quality test on every model in the beginning. A model is next considered acceptable after  subjective check among a self-inspection team. Otherwise, artists should rework the model to fix flaws.

% The quality test requires that the models have a uniform topology, each should contain the same number of vertices, faces, and edges and the same connections, which is performed by a comprehensive script.
The quality test performed by a script verifies that the models are topology consistent. All models should contain the same number of vertices, faces, and edges and the same connections. 

For subjective check, the self-inspection team will judge the model in three aspects, including semantic correspondence on topology, prior knowledge, and similarity with the image:

First, correspondence on topology has a significant impact on rigging. We transfer the body landmarks to every model and check whether the annotations are still in the correct position. For instance, the body landmark on eyes should delineate the eye socket, and the body landmark of the elbow should remain in the middle of the shoulder and wrist label as Fig. \ref{fig_fix} shows.

Second, besides the 3D information on the image, prior knowledge is also considered to build models. To get a consensus on prior knowledge, the self-inspection team will judge the model from the characteristics of the species. For instance, the jawbone of foxes should be more protruding than cats. 

Third, the models' mesh, pose, and texture should be similar to the images. We urge that for visible parts, the models should be identical to images as possible, while for invisible parts, artists should infer the model rationally. 
