
%
%
%
\section{Introduction}

%
%
%
%
%

Supernovae are luminous transients marking the end of the lifecycles of certain stars.
The classical supernova classification scheme \citep{1997ARA&A..35..309F} is based on the presence or absence of spectral features close to peak brightness.
If hydrogen lines are present they are classified as Type II supernovae.
The Type Ia sub-class is based on the presence of silicon features, while the remaining Type I supernovae fall into the Type Ib/Ic classes.
Collectively the Type Ib/Ic (and Type IIb) supernovae are referred to as stripped envelope supernovae.
The presence of helium further distinguish between the helium-rich Type Ib supernovae and the helium-poor Type Ic.
Based on the high expansion velocities further sub-classes, such as broad-lined Type Ic (Type Ic-BL) supernovae can be distinguished.
Type Ib and Ic supernovae are often considered together since they have considerable overlap in estimated explosion parameters \citep{2016MNRAS.457..328L}, but the actual connection to progenitor and explosion mechanism are still under debate \citep{2019NatAs...3..717M}.
There also exist transitional transients, which change their type over time, motivating additional classification schemes \citep{2017MNRAS.469.2672P,2019ApJ...880L..22W}.

For Type Ib/Ic supernovae the progenitor stars have to lose most of their outer envelope, stripping away most of the hydrogen and/or helium.
The exact mechanisms are still under debate in the literature.
One possible progenitor channel are single massive stars that eject their outer atmosphere in strong stellar winds \citep{2008A&ARv..16..209P,1993ApJ...411..823W}.
One key issue here is that only the most massive stars ($M_\text{ZAMS} > 40\,M_\odot$) are able to strip their hydrogen envelope completely by this mechanism.
Alternatively, the evolution in a binary system could transfer the outer envelope to the companion star \citep{2015MNRAS.451.2123T}.
Direct detections of progenitors for Type Ib supernovae are still rare, with iPTF13bvn \citep{2016A&A...593A..68F} and \supernova{2019yvr} \citep{2021MNRAS.504.2073K} as examples.
A monotonically increasing tracer for the Zero Age Main Sequence (ZAMS) mass is the oxygen mass \citep{2021A&A...656A..58L}, which may be estimated using nebular phase spectra \citep{2014MNRAS.439.3694J}.

Observations shortly after first light can also yield valuable clues about shock cooling, recombination effects or nickel mixing, which can be used to constrain aspects of the outer structure of the progenitor.
After a short ($\sim$ hours) shock-breakout flash in the UV and X-ray, such as that seen in \supernova{2008D} \citep{2009ApJ...702..226M, 2008ApJ...683L.135C}, follows the longer-lived ``shock cooling envelope'' (SCE) emission, which can be seen as an early excess or plateau before the main peak for stripped envelope supernovae, as discussed for \Ib{supernovae} \supernova{2008D} and \supernova{1999ex} \citep{2002AJ....124.2100S}.
However despite more and more transients being discovered at ever earlier times thanks to large-area high-cadence survey programmes \citep{2021ApJ...912...46B}, not all supernovae show these cooling features early on, and for example iPTF13bvn showed no signs of any early excess.

In this paper we present and discuss \supernova{2019odp} and attempt to infer some clues on the progenitor based on observations from very early to very late times.
We reclassify \supernova{2019odp} as a \Ib{supernova} instead of a \IcBL{supernova}.
From the light curve we deduce a fairly large ejecta mass and a compact progenitor.
The nebular spectra allow us to put a strict limits on the oxygen mass.
The paper is structured as follows.
In \autoref{sec:discovery} we outline the initial discovery.
In \autoref{sec:observations} we present the photometric and spectroscopic observations of the supernova, and we discuss the evolution of observables in \autoref{sec:evo}.
In \autoref{sec:model} we apply (semi-)analytical models to estimate physical parameters, such as the ejecta mass, progenitor radius and the oxygen mass.
Finally in \autoref{sec:summary} we discuss these properties in the context of different progenitor scenarios and summarize our findings. 
We use the following unless specified otherwise:
the supernova phase is in observer-frame days relative to the $g$-band peak,
all quantities are corrected for the estimated line-of-sight extinction,
all magnitudes are given in the AB magnitude system, and errorbars denote 1-sigma uncertainties.


%


\subsection{Discovery and Initial Classification}
\label{sec:discovery}

\begin{figure}
  %
  \centering
  \includegraphics[width=\linewidth]{plots/finder.png}
  \caption{Stacked $r^\prime$-band GROND image using images taken between $+29$d and $+79$d showing the field of the supernova. The supernova is marked with the two red markers. The transient is located approximately 25 arcseconds from the core of the galaxy, corresponding to around 8 kpc projected separation. The bottom left of the image shows a saturated star with heavy blooming.}
  \label{fig:obs:finder}
\end{figure}

The transient SN 2019odp (ZTF19abqwtfu) was discovered as part of the %
Zwicky Transient Facility survey \citep[ZTF;][]{2019PASP..131a8002B,2019PASP..131g8001G} and was first reported to the Transient Name Server  (TNS\footnote{\url{https://www.wis-tns.org/}}) by \cite{2019TNSTR1585....1N}.
The discovery was made on 2019 August 21 (MJD = 58716.38) in the $r$ band with a magnitude of $18.7$.
The previous epoch on 2019 August 18 (MJD = 58713.44) shows a 2-sigma flux excess in the $i$ band with a magnitude of $20.9$.
The last non-detection was on 2019 August 17 (MJD = 58712.48) in the $g$ band.
We define the explosion epoch $t_\text{expl}$ to be at MJD $58714.5 \pm 2$ - the center point between the last non-detection and the first significant detection.
%


%
We estimate the $g$-band peak epoch, $t_g^\text{peak}$, using the interpolated $g$-band lightcurve (see \autoref{sec:obs:interpolated}) to be at $\text{MJD}=58734 \pm 1$ days.
We specify the phase $\Delta t^\text{peak}_g$ relative to this $g$-band peak epoch in the rest of the paper.

The transient is located at right ascension 23:07:19.090 (h:m:s) and declination +13:51:21.42 (deg:m:s; J2000.0) in the spiral galaxy UGC 12373 (see \autoref{fig:obs:finder}).
Adopting the \ion{H}{I} based redshift $z=0.01435$ from \cite{1990ApJS...72..245S} we use the derived Hubble Flow distance $D=64 \pm 5$ Mpc and distance modulus $\mu = 34.0 \pm 0.2$ mag from NED\footnote{Which adopts the following cosmology parameters: $H_0 = 67.8$ $\text{km}~\text{s}^{-1}~\text{Mpc}^{-1}$, $\Omega_\text{matter} = 0.308$ and $\Omega_\text{vacuum}=0.692$. We use the value for the peculiar velocities that include the Virgo, great attractor and Shapley supercluster velocities fields from NED \citep{2000ApJ...529..786M}. 
%
}.

On 2019 August 23 (MJD = 58718.2) \supernova{2019odp} was classified as a \IcBL{supernova} by \cite{2019TNSCR1595....1B} as part of the ePESSTO+ survey \citep{2015A&A...579A..40S}. However, based on further observations we reclassify it as a \Ib{supernova} in \autoref{sec:classification}.

%





%
%
%
\section{Observations and Data Reduction}
\label{sec:observations}

\subsection{Photometry}
\label{sec:obs:phot}


\begin{figure*}
  %
  \includegraphics[width=\linewidth]{plots/lc/overview.png}
  \caption{Photometric evolution of \supernova{2019odp} in the $ugri z^\prime J$ bands using the combined photometry dataset. The color denotes the band and the different markers denote the source instrument. The interpolation lightcurves (as used for constructing the color evolution and bolometric lightcurves) are faintly overlayed (see \autoref{sec:obs:interpolated} for a detailed description). The lightcurve is not corrected for extinction. The times of spectroscopic observations are marked in the top bar by vertical lines.}
  \label{fig:lc:combined}
\end{figure*}


%
Follow-up photometry in the $g$, $r$ and $i$ bands were obtained using the ZTF camera \citep{2020PASP..132c8001D} mounted on the Palomar 48-inch telescope (P48) as part of the ZTF survey \citep{2019PASP..131f8003B, 2019PASP..131a8002B}.
%
The obtained data was processed using the ZTF pipeline \citep{2019PASP..131a8003M}, which detrends the images, does PSF-matching image-subtraction against stacked template images and automatic photometric calibration against field stars using the Pan-STARRS 1 \citep[PS1;][]{2016arXiv161205560C} survey catalog.
We use \texttt{ztflc}\footnote{\url{https://github.com/MickaelRigault/ztflc} by M. Rigault} to perform forced photometry for all epochs. 
Based on this we see no outbursts before the main explosion, however we notice a small plateau before the main peak (see \autoref{fig:lc:early}).

\begin{figure}
  %
  \includegraphics[width=\linewidth]{plots/lc/early.png}
  \caption{Photometric evolution of \supernova{2019odp} around the discovery epoch. The lightcurve is given in flux units to easily show the pre-discovery upper limits on the same scale. The different colors denote the different bands. The zero flux level is denoted by a dashed line. The lightcurve is not corrected for extinction. The times of spectroscopic observations are marked in the top bar by vertical lines.}
  \label{fig:lc:early}
\end{figure}

In addition we obtained manually triggered observations in the $u$, $g$, $r$ and $i$ bands using the Spectral Energy Distribution Machine \citep[SEDM;][]{2018PASP..130c5003B} Rainbow Camera mounted on the Palomar 60 inch telescope (P60).
The obtained data was automatically processed using the SEDM-RC pipeline \citep{2016A&A...593A..68F}.

We also obtained some post-peak follow-up photometry in the $g^\prime r^\prime i^\prime z^\prime J H K_s$ bands using the Gamma-ray Burst Optical/Near-infrared Detector \citep[GROND;][]{2008PASP..120..405G} mounted on the MPG 2.2m telescope located at the ESO La Silla observatory.
%
The data is reduced using a \textit{pyraf/IRAF}-based\footnote{\cite{2012ascl.soft07011S,1999ascl.soft11002N}} pipeline \citep{2008ApJ...685..376K}.
For the near-infrared (NIR)  bands, aperture photometry was performed.
The $g^\prime r^\prime i^\prime z^\prime$ bands are calibrated against the Sloan Digital Sky Survey Data Release 15 catalog \citep[SDSS DR15;][]{2019ApJS..240...23A} and the NIR $J H K_S$ bands are calibrated against the Two Micron All Sky Survey catalog \citep[2MASS;][]{2006AJ....131.1163S}.
The GROND NIR Vega magnitudes are converted to AB magnitudes using \cite{2007AJ....133..734B}.

Late time optical photometry in the $g$, $r$ and $i$ bands were obtained using the Alhambra Faint Object Spectrograph and Camera instrument (ALFOSC) mounted on the Nordic Optical Telescope (NOT).
The observations are reduced using the \textit{PyNOT}\footnote{\url{https://github.com/jkrogager/PyNOT} by Jens-Kristian Krogager.} pipeline.
We then perform image subtraction using \textit{hotpants} \citep{2015ascl.soft04004B} against matching PS1 images as a template.
Resampling of the template image to the same pixel scale as the science images is performed using \textit{SWarp} \citep{2002ASPC..281..228B}.
Aperture photometry is then performed on the difference image using \textit{photutils} \citep{larry_bradley_2021_5525286}.

%
To extend the wavelength coverage to the ultra-violet (UV), we utilised the 30 cm UV Optical Telescope \citep[UVOT;][]{2005SSRv..120...95R} onboard the Neil Gehrels Swift Observatory \citep{2004ApJ...611.1005G}.
We retrieved science-ready data from the Swift archive\footnote{\url{https://www.swift.ac.uk/swift_portal}}.
We first co-added all sky exposures for a given epoch and filter using \textit{uvotimsum} in HEAsoft\footnote{\url{https://heasarc.gsfc.nasa.gov/docs/software/heasoft/}} version 6.26.1.
Afterwards, we measured the brightness of \supernova{2019odp} with the Swift tool {\tt uvotsource}.
The source aperture had a radius of $3''$ while the background region had a significantly larger radius.
The photometry was calibrated with the latest calibration files from September 2020 and converted to the AB system using \cite{2011AIPC.1358..373B}.

The combined lightcurve is shown in \autoref{fig:lc:combined} and a list of photometric measurements is provided in \autoref{tab:obslog:phot}.
For the first 70 days the lightcurve has an average cadence of 2 days in the $g$ band (no gap larger than 4 days), 1 day in $r$ band (no gap larger than 5 days) and 3 days in $i$ band (no gap larger than 7 days).




\input{tabs/observations_phot.tex}

\subsection{Spectroscopy}
\label{sec:obs:spec}

\input{tabs/observations_specs.tex}

The first spectrum was obtained on 2019 August 21 - less than a day after the discovery - using the SEDM  Integral Field Unit \citep[SEDM IFU;][]{2018PASP..130c5003B}.
The observations were reduced using the \textit{pysedm} package \citep{2019AA...627A.115R}.

We obtained further followup spectroscopy using the SEDM and the NOT ALFOSC spectrograph.
In addition we obtained one pre-peak spectrum using the Double Spectrograph \citep[DBSP;][]{1982PASP...94..586O} mounted on the Palomar 200 inch telescope (P200).
In total we obtained 8 spectra before peak, and 30 spectra in total.
This also includes the public NTT classification spectrum from \cite{2019TNSCR1595....1B} under the ePESSTO programme.

We also obtained two high signal-to-noise (S/N) late-time spectra using the Low Resolution Imaging Spectrograph \citep[LRIS;][]{1995PASP..107..375O} mounted on the Keck 1 telescope.
The LRIS observations were reduced using the fully automated pipeline by \cite{2019PASP..131h4503P}.

All spectra are absolute flux-calibrated using synthetic $r$-band photometry, derived using the \textit{speclite}\footnote{\url{https://github.com/desihub/speclite}} package, against the interpolated lightcurve dataset (see \autoref{sec:obs:interpolated}).
%
%
%

We show the spectral sequence split into early phase (\autoref{fig:specs:seq:breakout}), photospheric phase (\autoref{fig:specs:seq:photospheric}), pre-nebular phase (\autoref{fig:specs:seq:prenebular}) and nebular phase (\autoref{fig:specs:seq:nebular}).
%
The full log of spectroscopic observations can be found in \autoref{tab:obslog:spec}.
The observation epochs are also indicated in the upper part of the light curve figure (\autoref{fig:lc:combined}).
The final reduced and flux-calibrated spectra are available on \texttt{WISeREP}\footnote{\url{https://wiserep.weizmann.ac.il/}} \citep{2012PASP..124..668Y}.






\subsection{Lightcurve Interpolation and Parameter Estimation}
\label{sec:obs:interpolated}


For \supernova{2019odp} and the comparison sample (see \autoref{sec:comparisonsample}) we perform lightcurve dataset combination, interpolation and fitting using the same framework.
First we pre-process the individual instrument lightcurves by transforming all photomtry to the AB system and correcting for the extinction with instrument-specific coefficients (see \autoref{sec:extinction} for \supernova{2019odp} and \autoref{sec:comparisonsample} for the used values for the comparison sample).
We use Gaussian Process interpolation (see \cite{gortler2019a} for a review) to produce per-band lightcurves combining the different photometric datasets from the different instruments.
Simultaneously we estimate empirical lightcurve observables, such as late-time decline rate and peak time, by fitting empirical model functions to the lightcurves.
This is done by using them as the mean function in the Gaussian Process.
These photometric model functions are described in \autoref{appendix:photmodel}.

We use the \textit{dynesty} dynamic nested sampler \citep{2020MNRAS.493.3132S,2004AIPC..735..395S,10.1214/06-BA127,2019S&C....29..891H} to estimate the posterior distribution of the model parameters as well as the amplitude and length-scale parameters of the Gaussian Process Matern-3/2 kernel.
When more than one photometric instrument (with a nominally similar photometric filter system) and overlapping observations are available we also include an offset parameter in the parameter estimation.
The offsets are stated relative to the photometric instrument with the best coverage (for instance ZTF in the case of \supernova{2019odp}).

%
%

\newpage
\newpage



%
%
%
%
\section{Analysis}
\label{sec:evo}

%

%
\begin{table*}[h]
  \centering
      {
        \renewcommand{\arraystretch}{1.2}
        \begin{tabular}{|c|c|c|c|c|c|c|c|}
          \hline
          Supernova & Type & $t_\text{expl}$ & $t_\text{peak}$ & Distance & $E(B-V)_\text{MW}$ & $E(B-V)_\text{Host}$ & Phot. Velocity $v_\text{ph}$ \\
          & & (d) & (d) & (Mpc) & (mag) & (mag) & (\kms) \\
          \hline
          \hline
          \supernova{1998bw} & Ic-BL & $50928.909$ (8) & $50945 \pm 3$ & $40.84 \pm 2.86$ (0) & $0.047 - 0.06$ (1) & 0 (5) & $19500_{-1000}^{+1700}$ (3) \\
          \supernova{2002ap} & Ic-BL & $52300 \pm 0.5$ (9) & $52313 \pm 3$ & $10.69 \pm 0.75$ (0) & $0.0585 - 0.0661$ (1) & $0.01 - 0.02$ (6) & $13000_{-1000}^{+2000}$ (3) \\
          \supernova{2008D} & Ib-pec & $54474.564$ (7) & $54493 \pm 3$ & $33.69 \pm 2.36$ (0) & $0.0193 \pm 0.0002$ (1) & $0.4 - 0.8$ (4) & $9500_{-1000}^{+2100}$ (3) \\
          iPTF13bvn         & Ib     & $56458.7 \pm 0.1$ (2) & $56477 \pm 3$ & $26.8 \pm 2.6$ (2) & $0.0421 - 0.0448$ (1) & $0.04 - 0.15$ (2) & $8000 \pm 1000$ (3) \\
          \hline
        \end{tabular}
      }
  
  \caption[]{Adopted parameters for the comparison objects. The photospheric velocity is the estimated velocity at the lightcurve peak. In case a range is specified a uniform prior is used, in the other case a (asymmetric) gaussian is used as prior. The source for each parameter has been denoted in parantheses. References: (0) NED; (1) IRSA DUST Service using \cite{2011ApJ...737..103S} map; (2) \cite{2016A&A...593A..68F}; (3) \cite{2016MNRAS.457..328L}; (4) \cite{2008Natur.453..469S}; (5) \cite{2011AJ....141..163C}; (6) \cite{2002PASJ...54..899T}; (7) \cite{2009ApJ...702..226M}; (8) \cite{1998IAUC.6884....1S}; (9) \cite{2002ApJ...572L..61M}.
  }
  \label{tab:ana:comparison:params}
\end{table*}

\subsection{Extinction}
\label{sec:extinction}

%
Based on the dust maps by \cite{2011ApJ...737..103S} we can estimate the Milky way extinction $E(B-V)$ at the position of the transient to be in the range from 0.14 to 0.20 mag.
For analysis requiring extinction-corrected values we propagate the uncertainty using Monte Carlo methods.
%
We assume no host extinction based on the lack of any visible sodium absorption features.
In addition, we compare the colors against the intrinsic color templates at +10 d from \cite{2018A&A...609A.135S} and notice that our supernova has bluer $g-r$ and $g-i$ colors than any supernova class in that study. 
Comparing our lightcurve against the lightcurves of the sample supernovae  that the Stritzinger color templates are based on, we notice that \supernova{2019odp} is %
bluer at virtually any time.
This further strengthens our assumption of no host galaxy extinction for this event. 

We use the computed $A_x/E(B-V)$ values for the different filters from \cite{2011ApJ...737..103S} for $R_V = 3.1$ for all photometric extinction corrections.
We use the \textit{extinction} \citep{barbary_kyle_2016_804967} python implementation of the \cite{1989ApJ...345..245C} extinction law to extinction correct all spectra.

\subsection{Comparison Datasets}
\label{sec:comparisonsample}

We compare the properties of \supernova{2019odp} against a selected sample of well-observed objects from the literature that are prototypes for the different supernova classes: \supernova{1998bw} (Ic-BL) and \supernova{iPTF13bvn} (Ib).
We also include \supernova{2002ap} (Ic-BL) since it has the same peak-brightness and might be a more suitable comparison objects for \IcBL supernovae than the much brighter \supernova{1998bw}.
We also include \supernova{2008D} (Ib) since it was a very close match spectroscopically and showed somewhat similar unusual behaviour right after discovery.
%
%
%
%
%
The adopted supernova parameters for the comparison objects are presented in \autoref{tab:ana:comparison:params}.

For \supernova{1998bw} we use the $UBVRI$ lightcurves compiled by \cite{2011AJ....141..163C}.
For iPTF13bvn we use the $gri$ lightcurve by \cite{2016A&A...593A..68F} with additional $U$-band UVOT photometry points from \cite{2014Ap&SS.354...89B}.
For \supernova{2008D} we use the $BV g^\prime r^\prime$ lightcurves from \cite{2014ApJS..213...19B} and the UVOT $U$-band lightcurve from \cite{2014Ap&SS.354...89B}.
For \supernova{2002ap} we use the $UBVRI$ lightcurves compiled by \cite{2003PASP..115.1220F}.
Where necessary we convert the magnitudes from Vega to AB magnitudes and we use the same interpolation procedure as described in \autoref{sec:obs:interpolated}.


%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
  
%
%
%
%


\subsection{Photometric Evolution}
\label{sec:evo:phot}

In this section, we compare the photometric evolution of \supernova{2019odp} with our previously defined comparison transients.
A light-curve comparison is shown in \autoref{fig:ana:evo:lc}.
We estimate most lightcurve observables using the method described in \autoref{sec:obs:interpolated} applied to a \cite{2000A&A...359..876C} model modified to include an early plateau phase (see \autoref{appendix:photmodel}).
%
The remaining observables are estimated using a Monte Carlo sampling technique.
All derived observables for each transient and photometric band are presented in \autoref{tab:ana:observables}.

%
Zooming in on the time-period around discovery (see \autoref{fig:lc:early}) shows that the initial lightcurve evolution for \supernova{2019odp} is more consistent with a plateau than with an exponential rise.
This behaviour is seen in both the $g$ and $r$ band ($i$-band data has too low cadence).
%
%
%
%
%
%
%
%
%
Comparing the $r$- and $g$-band lightcurves between \supernova{2019odp} and \supernova{2008D}, which is another supernova that showed signs of an early plateau or a shock cooling peak, the bump appears at roughly the same relative phase (possibly slightly earlier in \supernova{2019odp}) and is fainter in \supernova{2019odp} than in \supernova{2008D}.
The bump is $\sim 1\,$mag fainter in $r$ band, $\sim 2\,$mag fainter in $i$ band and $\sim 3\,$mag fainter in the $g$ band.
We estimate the absolute plateau magnitude for \supernova{2019odp} to be $-14.48_{-0.21}^{+0.24}\,$mag in $g$ band, $-14.23_{-0.19}^{+0.20}\,$mag in $r$ band and $-13.69_{-0.28}^{+0.28}\,$mag in the $i$ band.

%
%
%
%
%
%
%
%
Following the plateau, \supernova{2019odp} rises to the main peak in $14-15$ days in $g$ band, $17-21$ days in $r$ band and $17-21$ days in $i$ band (measured as time between the first data point 
$\geq 3 \sigma$
%
above the plateau level and peak).
The Contardo rise-time parameter is $\sim 8$ days (see \autoref{tab:ana:observables}).
The light curve for \supernova{2019odp} peaks at an absolute magnitude of $\sim -18$ in the $gri$ bands (see \autoref{tab:ana:observables} for the exact values for each band).
This is towards the brighter end of the luminosity distribution previously established for \Ib{supernovae} \citep{2015A&A...574A..60T}, but
within the bulk of the distribution for \IcBL{supernovae} \citep{2019A&A...621A..71T}.
%
%
%
%
In the $r$ band, the supernova shows a rather flat peak at an apparent magnitude of $15.9$ that is at least 7 days in duration.
%
No plateau can be seen in the $g$ or the $i$ bands (limited by the sampling period at peak).
The main peak is several days wider in all bands compared to the lightcurves of iPTF13bvn and \supernova{2008D} and more closely resembles the width of \supernova{1998bw}.
This difference is most pronounced in the $r$ and $i$ bands.
The peak width $\sigma$ of the fitted Gaussian is given in \autoref{tab:ana:observables}.


The Contardo late-time decline parameter in all bands is significantly slower for \supernova{2019odp} than for the comparison objects.
The measured linear slopes are provided in \autoref{tab:ana:observables}.

%
%
%

%
%
%
%


\begin{figure*}
  \includegraphics[width=\linewidth]{plots/lc/abs_gr_qbol.png}
  \caption{
    Comparison of the evolution of the absolute lightcurves in $g$ (left panel) and $r$ (middle panel) bands between \supernova{2019odp} and selected comparison objects.
    In addition the quasi-bolometric lightcurve derived using the Lyman method is shown (right panel).
    In the pseudobolometric lightcurve, the error bars around the peak represent the combined error from the distance uncertainty, extinction uncertainty and the scatter from the Lyman relation.
    %
    %
    The interpolated light curves for each supernova are overlayed the observed datapoints in the same color. These
    %
    are used to derive the pseudobolometric lightcurves in the right panel.
  }
  \label{fig:ana:evo:lc}
\end{figure*}

{
  \renewcommand{\arraystretch}{1.2}
  \input{tabs/lc/basic_observables.tex}
}



%
\subsection{Color Evolution}
\label{sec:evo:color}


During the very early $\gtrsim$ 2-day
%
plateau-phase both the $g-r$ colors (shown in the upper panel of \autoref{fig:lc:color:evo}) and the $r-i$ colors (shown in \autoref{fig:lc:color:evo}, lower panel) are more blue than for any of the comparison objects.
The $g-r$ color stays constant during this phase showing no bump unlike all comparison objects.
Afterwards the $g-r$ color of \supernova{2019odp} evolves to a more red color, but this evolution happens later and is slower than in the comparison objects.
It gets redder until it meets the color lightcurve of iPTF13bvn at around 25 days post-peak and afterwards follows the same evolution.
The $r-i$ color shows an early time valley around 10 days before peak, which is unseen or much weaker in the comparison objects before becoming redder again and joining the %
evolution of the other supernovae (which mostly stay constant after 40 days post-peak).

The initial $U-r$ color evolution of \supernova{2019odp} matches that of iPTF13bvn.
However at around $-5$ days for iPTF13bvn, the $U-r$ color quickly starts to get redder, while \supernova{2019odp} only starts getting redder after the peak.
Due to the limited $U$-band observations the exact infliction point is not known.
One interesting observation is that while \supernova{2019odp} has bluer colors in all other color indices this is not true in the $U-r$ color, where \supernova{2008D} starts almost 1 magnitude bluer and monotonically gets redder.


\begin{figure}
  %
  %
  %
  \includegraphics[width=\linewidth]{plots/lc/color_evo_combined.png}
  %
  \caption{Color evolution of \supernova{2019odp} and the comparison objects. The top panel shows the $g-r$ color (or corresponding Johnson color). The lower panel shows $r-i$ color (or corresponding Johnson color). For each transient we sample 1000 realizations of the supernova lightcurve from the interpolation kernel. For \supernova{2019odp} we also include synthetic photometry based on the observed spectra as a consistency check (using the same filter curve as the photometric dataset). They are denoted with black crosses.}
  \label{fig:lc:color:evo}
\end{figure}


%
%
%
%












\subsection{Blackbody Evolution}
\label{sec:evo:bb}

%
\begin{figure}
  \includegraphics[width=\linewidth]{plots/phot/bb_fit_comparison.png}
  \caption{
    Time evolution of the inferred blackbody parameters from the photometry for \supernova{2019odp} and selected comparison objects.
    We chose the closest matching filter sets for all transients and performed our own fitting for all objects.
    The error bars contain all uncertainties including the distance and extinction uncertainties.
    The upper panel shows the temperature time-evolution and the lower panel the photospheric radius time-evolution.
    %
  }
  \label{fig:evo:bb:comparison}
\end{figure}

We estimate blackbody parameters using the interpolated photometry datasets for all supernovae in the comparison sample (\autoref{sec:obs:interpolated}).
We use the $gri$ bands when available and the closest matches in wavelength if not.
The detailed description and validation of the method can be found in \autoref{appendix:bbfit}.
The time-evolution of the photospheric temperature and radius is shown in \autoref{fig:evo:bb:comparison}.

Initially \supernova{2019odp} is both hotter and the initial photospheric radius is smaller than for any of the comparison objects.
This is most likely an under-estimate of the true photospheric temperature (and at the same time a slight over-estimate of the radius), since the blue part of the spectral energy distribution (SED) seems to be suppressed (only considering the $ri$ bands yields a closer match to the full $grizJH$ photometry modelling for the time-period post-peak when it is available).
Roughly 20 days after peak the temperature evolution for SN 2019odp joins that of most other supernovae in the comparison sample.
%
\supernova{2019odp} shows a larger peak photospheric radius compared to all comparison transients except \supernova{1998bw}.


%
%


\subsection{Pseudobolometric Light Curve}
\label{sec:evo:qbol}

Using the photometric datasets (\autoref{sec:obs:interpolated}) for \supernova{2019odp} and the comparison sample we compute pseudobolometric lightcurves with the \cite{2014MNRAS.437.3848L} method using the $g$ and $r$ band (or closely corresponding bands for some of the comparison transients).
The derived pseudobolometric light curves are shown in the right panel of \autoref{fig:ana:evo:lc}.
%
We first estimate the peak epoch of the pseudobolometric lightcurve by sampling the interpolated lightcurve (excluding any uncertainties that affect the lightcurve globally) in a 10 day window around the $g$-band peak epoch and then selecting the time of the brighest point for each sampled lightcurve.
We estimate the peak magnitude by sampling the interpolated lightcurve at the peak epoch (including global uncertainties), which yields:
%
\begin{equation}
  M_\text{pbol,peak} = -17.9_{-0.21}^{+0.20} \,\text{mag}.
\end{equation}


We convert the absolute pseudobolometric magnitudes to luminosities using
%
%
%
%
%
%
%
%
the bolometric luminosity of the Sun
%
$L_{bol,\odot} = 3.828 \times 10^{33}$ erg s$^{-1}$, and $M_{bol,\odot} = 4.74$ mag, to get:
%
\begin{equation}
  L_\text{pbol,peak} = 44_{-7}^{+10} \times 10^{41} \text{erg}\,\text{s}^{-1}.
\end{equation}

This is well in line with peak pseudobolometric luminosities seen previously for \Ib{supernovae} \citep{2016MNRAS.457..328L} or \IcBL{supernovae} \citep{2019A&A...621A..71T}.
As one would expect based on the photometric comparison (see \autoref{sec:evo:phot}) the pseudobolometric main peak is also wider than for most of the comparison objects (see right panel in \autoref{fig:ana:evo:lc}).
The time-integrated total radiated luminosity is:
\begin{equation}
  L_\text{pbol,int} = 2.1_{-0.4}^{+0.4} \times 10^{49} \text{erg}.
\end{equation}
%

%

We also measure the duration of the early plateau to be in the range of 2 to 5 days.
Using direct integration of the photometric measurements in the ZTF $gri$ bands we estimate the plateau pseudobolometric luminosity to be:
\begin{equation}
  L_\text{pbol,plat} = 2.1_{-0.4}^{+0.4} \times 10^{41} \text{erg}\,\text{s}^{-1},
\end{equation}
which corresponds to $M_\text{pbol,plat} \simeq -14.6$\,mag.
%
%


%
\newpage

\subsection{Spectroscopic Evolution}
\label{sec:evo:spec}

%
\begin{figure*}[t!]
  %
  \includegraphics[width=\linewidth]{plots/classification_comparison.png}
  \caption{
    Comparison of  spectra of \supernova{2019odp} before peak (left panel) and after peak (right panel) against selected comparison objects.
    The phases with respect to the respective $g/V$-band peak epochs are denoted in the legend.
    Telluric absorptions have been marked and masked, and the spectra are corrected for host extinction.
    At the early phase, the spectrum of \supernova{2019odp} (the NTT classification spectrum) looks very much like the \IcBL{\supernova{1998bw}} \citep[shown in red,][]{2001ApJ...555..900P}, and not at all like the typical Type Ib iPTF13bvn \citep[shown in blue,][]{2016A&A...593A..68F}.
    This is the reason for the initial classification on TNS as a \IcBL{supernova}.
    However it looks quite similar to the Type Ib \supernova{2008D} \citep[shown in orange][]{2019MNRAS.482.1545S,2014AJ....147...99M}, which has earlier observations than iPTF13bvn.
    At later phases (right panel), \supernova{2019odp} is instead similar to typical Type Ib supernovae such as iPTF13bvn, showing narrower lines and clear helium features, as opposed to SN 1998bw. In fact, the most similar object might be the Type Ib \supernova{2008D}.
    Some of the spectra suffer from host contamination.
  }
  \label{fig:evo:spec:classification}
\end{figure*}

We present the early spectral evolution between discovery and peak in \autoref{fig:specs:seq:breakout}.
The first spectrum, taken 16.8 days before peak, is mostly blue and featureless with some suppression of the blue side of the spectrum.
%
%
The second spectrum, taken one day later, is dominated by a stairstep-shaped continuum that has flat regions in the ranges $5570-6670~\AA$ and $7050-9000~\AA$ with some narrow emission lines that we identify as host galaxy contamination.
While the first spectrum of the sequence could still be explained by a single (partially absorbed) blackbody the later spectra clearly show signs of %
emission or absorption lines.
%
%

The first identifiable %
line features are seen in the spectrum at a phase of $-12$ days.
We can identify two P-Cygni features that we associate with $\ion{He}{I}~\lambda\lambda5876,6678$ and possibly 
 $\ion{He}{I}~\lambda4471$ 
at roughly 14000 $\kms$ and with blue-shifted emission peaks. %
%
%
We investigate the velocity evolution of the helium feature in more detail in \autoref{sec:ana:evo:velocity}.

After peak the lines gain in strength, the helium P-Cygni features become much more pronounced and additional lines such as the various forbidden calcium lines become visible.
The spectral evolution in the photospheric phase is shown in \autoref{fig:specs:seq:photospheric}.
A feature that is possibily associated with $\ion{Mg}{I}]~\lambda4571$ becomes more obvious.
At around $5000~\AA$ a feature becomes visible which could be [$\ion{O}{III}]~\lambda\lambda4959,5007$.
This line was first identified by \cite{2016ApJ...831..144L} in super-luminous supernovae (SLSN) and is seen in SLSN model spectra by \cite{2017ApJ...835...13J}.
We can identify similar features in the comparison \Ib{supernovae} SN 2008D and iPTF13bvn, which suggests that this may not be an uncommon feature for \Ib{supernovae}.
However both helium and iron have lines quite close in wavelength to those feature as well.
%


We show the pre-nebular phase covering from +42d to +104d post-peak in \autoref{fig:specs:seq:prenebular}.
The calcium near-infrared triplet $\ion{Ca}{II}~\lambda\lambda8498,8542,8662$ becomes the strongest emission feature in the spectrum, with some oxygen recombination features, such as $\ion{O}{I}~\lambda7774$ also being quite pronounced.
The helium features $\ion{He}{I}~\lambda\lambda6678,7065$ become less noticable due to overlap with the broad oxygen doublet $[\ion{O}{I}]~\lambda\lambda6300,6364$ and the calcium doublet $[\ion{Ca}{II}]~\lambda\lambda7291,7324$.


We show the nebular phase spectra from +101d to +348d post-peak in \autoref{fig:specs:seq:nebular}.
The most conspicuous emission features are the $[\ion{O}{I}]~\lambda\lambda 6300,6364$ complex and the [$\ion{Ca}{II}]~\lambda\lambda7292,7324$ and $\ion{Ca}{II}~\lambda\lambda8493,8542,8662$ lines.
In the quasi-nebular spectra there are also oxygen recombination lines visible at $\ion{O}{I}~\lambda\lambda7772,7774,7775$, and $\ion{O}{I}~\lambda8446$ and another feature at $9264~\AA$.
The oxygen lines show substantial structure, that complicates the measurements.
The $\ion{Mg}{I}]~\lambda4571$ and $\ion{Mg}{I}]~\lambda5167$ lines become more pronounced.
There is a quite pronounced $\ion{Na}{I}\,D$ line visible, which slowly replaces the $\ion{He}{I}~\lambda5876$ feature.
%

The late-time Keck spectrum (+348d) is dominated by the $[\ion{O}{I}]~\lambda\lambda6300,6364$ complex, by  [$\ion{Ca}{II}]~\lambda\lambda7292,7324$ and a little bit of emission of $\ion{Mg}{I}]~\lambda4571$. %
All other previously mentioned emission lines have vanished at this epoch.
%


We estimate the average $[\ion{O}{I}]$ to $[\ion{Ca}{II}]$ line-flux ratio to be in the range of 1.2--1.9, with the highest ratio being measured in the spectrum at $+348$d.
When considering the velocity-resolved ratio the peak is 2.5 in the $+349$\,d spectrum and 1.5 to 2.0 in the $+128/+138$\,d spectra.
%
This means that this transient belongs to the class of calcium-poor (or oxygen-rich) supernovae \citep{2022MNRAS.514.5686P} and is likely to have a more massive progenitor, since the oxygen emission is quite sensitive to the main-sequence mass, while the calcium emission is not \citep{2003ApJ...592..404L}.
%
%

%
%
%
%
%
%
%


%
%

%
%
\subsubsection{Classification}
\label{sec:classification}


%
\begin{figure*}
  %
  \includegraphics[width=\linewidth]{plots/specs/abslines_velocity_multi.png}
  \caption{Velocity Evolution of the \ion{He}{I} lines in \supernova{2019odp} and the comparison \Ib{supernovae}.}
  \label{fig:spec:he:velocity}
\end{figure*}


%

%
%
%
%
%
%
%
%
%
%
%
%
%
%
%



%
%
%
%
%
%
%
%
%
%
%

%




%
%
%
%
%
%
%
%
%
%
%
%
%

%
%
%
%
%
%
%

As mentioned in \autoref{sec:discovery}, \supernova{2019odp} was initially classified as a \IcBL{supernova} by \cite{2019TNSCR1595....1B}.
When comparing the early spectra obtained shortly after discovery against \Ib (iPTF13bvn) and \IcBL (\supernova{1998bw}) supernovae (\autoref{fig:evo:spec:classification}, left panel) it indeed seems quite suggestive to classify this supernova as a \IcBL due to the overall structure of the continuum and the absence of obvious identifiable lines.
Comparing against typical supernova databases used for classifications such as \textit{SNID} \citep{2007ApJ...666.1024B} supports this conclusion.
%
However, later spectra (\autoref{fig:evo:spec:classification}, right panel) showed the presence of lines with much smaller line widths than typically associated with \IcBL{supernovae} as well as the presence of helium lines, which clearly showed  that this is a \Ib{supernova}.

Using our own classification database and code\footnote{We implemented the spectral flattening/smoothing algorithm that \textit{SNID} uses in python and implemented a simpler comparison metric given the known redshift of the supernova.}
%
we searched for other supernovae that were a close spectral match for the early pre-peak spectra and found that the \Ib{\supernova{2008D}} is a quite good match (\autoref{fig:evo:spec:classification}, left panel) as well.
%
This suggests that this lack of features at early phases of the supernova is not completely unseen for \Ib{supernovae} and additional care should be taken when classifying transients at very early phases.

It is not obvious if the lack of helium lines and broad spectral shape at early phases is due to very high velocities or due to other effects.
\cite{2016ApJ...832..108M} argue that the lack of observed helium lines in \IcBL{supernovae} cannot solely be explained by the helium lines being smeared out by the high velocities in the ejecta.
Further transitional objects, such as \supernova{2016coi} \citep{2017ApJ...837....1Y,2018MNRAS.478.4162P}, have been discovered that show helium lines initially, but evolve to more closely resemble \IcBL{supernovae} later on.
This is the inverse to what is seen in \supernova{2008D} and in \supernova{2019odp}, where initially there was no visible helium lines, but they appeared later on.
\supernova{2017ens} \citep{2018ApJ...867L..31C} is another supernova showing characteristics of a \IcBL{supernova} early on, but then changing its class to a \IIn{supernova}.
On the other hand there are normal \Ib{supernovae}, such as iPTF13bvn, that have been discovered at similarly early phases 
%
that show no hints of broad lines.
\cite{2022ApJ...930...31B} argue for a split in the \Ib{class}, which might explain these different behaviours.

%
%
%
%
%
%
%
%

%
%

%


%
%
%





%
%
%





%
%
\subsubsection{Helium Velocity Evolution}
\label{sec:ana:evo:velocity}

%
%
%
%
%
%

%
We use the nested sampler \textit{dynesty} to fit the following P-Cygni model function $M_\lambda$ to the individual helium features:
\begin{equation}
  M_\lambda = C_\lambda + E~\mathcal{G}_\lambda(\Lambda+\Delta\Lambda_E,\sigma_E)-A~\mathcal{G}_\lambda(\Lambda+\Delta\Lambda_A, \sigma_A),
\end{equation}
where $C_\lambda$ is the linear continuum function, $\mathcal{G}_\lambda$ is the (normalized) Gaussian function, $E$ is the amplitude of the emission feature, $A$ is the amplitude of the absorption feature, $\Lambda$ is the rest-wavelength of the feature, $\Delta_{A,E}$ are the velocity-offsets of the absorption and emission peak respectively and, $\sigma_{A,E}$ are the widths of the absorption/emission Gaussians.
The measured velocity evolution for \supernova{2019odp} and the comparison \Ib{supernovae} are shown in \autoref{fig:spec:he:velocity}.


%
%
%



We estimate the \ion{He}{I} $\lambda\,5876$ line velocity at peak by fitting the following exponential model to the individual velocity estimates using a GP kernel as likelihood function:
\begin{equation}
  v_\text{abs}(t) = v_0\,\exp\left(t-t_0\right)^\alpha,
\end{equation}
where $v_0$, $t_0$ and $\alpha$ are free parameters (within reasonably chosen priors).
We only include significant measurements in the time range from $-15.5$ d to 30 d. %
%
%
%
%
%
%
%
Our estimate for the absorption velocity at peak is thus:
\begin{equation}
  v_\text{abs}(\ion{He}{I}\,5876 \AA) = 10977 \pm 400~\kms
\end{equation}


%
%
%
%
%
%
%
%
%
%
%
%




%
%
\newpage
\FloatBarrier








%
%
%
\section{Modelling}
\label{sec:model}


\subsection{Photospheric Phase}
\label{sec:model:main}

%

During the photospheric phase of the supernova the ejecta is assumed to be optically thick.
%
We first introduce the models under consideration, followed by a description of the parameter estimation methods and then present the derived parameters of all models in the final sub section.

%
%
\subsubsection{Arnett Model Description}
\label{sec:model:main:arnett}

The most used analytic model for estimating ejecta properties for supernovae from the %
lightcurve peak is the \citet[][hereafter A82]{1982ApJ...253..785A} model.
%
The model is based on the following assumptions:
\begin{enumerate}
\item Homologous expansion of the ejecta:
  \begin{equation}
    R(t) \simeq R(t=0) + v_\text{sc}\,t
  \end{equation}
\item The ejecta is a radiation-dominated gas
\item The diffusion approximation applies
\item The opacity $\kappa_\text{opt}$ is constant throughout the ejecta and also constant in time
\item Spherical symmetry
\item Volume emission of radioactive decay energy is proportional to the radiation energy per unit volume.
%
\end{enumerate}

Apart from these assumptions further approximations can be made, such as the commonly used approximation that the initial radius $R(t=0)$ is small and thus $R(t) \simeq v_\text{sc}\,t$.

Using the formalism from \citet[][their eq. 11\footnote{We use $Q_\text{dep}$ instead of $L_\text{heat}$ and $\tau_m$ instead of $\tau_d$.}]{2019ApJ...878...56K} we can state the luminosity as follows:
%
\begin{equation}
  L(t) = \frac{2}{\tau_m^2} \exp^{-\left(t / \tau_m\right)^2} \int_0^t t^\prime Q_\text{dep}(t) \exp^{\left({t^\prime}/\tau_m\right)^2} dt^\prime,
\end{equation}
where $\tau_m$ is the diffusion timescale and $Q_\text{dep}(t)$ is the time-dependant heating term.

The diffusion timescale relates to the ejecta mass and scale-velocity $v_\text{sc}$ in the following way 
%
%
\citep[][eqs. 18 and 22]{1982ApJ...253..785A}:

\begin{equation}
  \tau_m^2 = \frac{2\kappa_\text{opt} M_\text{ej}}{\beta\,c\,v_\text{sc}},
\end{equation}
where $M_\text{ej}$ is the ejecta mass, $\beta$ is a density-profile integration constant and $\kappa_\text{opt}$ is the opacity.

Since the scale velocity is not a quantity that can be measured directly we need to find some proxy for it.
We can use the ``representative'' mean expansion rate $v_m$ from \cite{2016MNRAS.458.1618D} to try to estimate the mean-squared velocity $<v^2>$ in the Arnett model:
\begin{equation}
  <v^2> = v_m^2 = \frac{2 E_K}{M_\text{ej}}, %
\end{equation}
where $E_K$ is the total kinetic energy of the explosion.

We use \citet[their eqn. 31]{1980ApJ...237..541A} to relate the mean-square velocity to the scale velocity:
\begin{equation}
  <v^2> = \zeta^2 v_\text{sc}^2,
\end{equation}
where $\zeta$ is a density-profile dependent integration constant\footnote{
\cite{1980ApJ...237..541A} calculate $\zeta^2 \equiv I_K/I_M$ for uniform and different exponential density distributions.
%
%
\cite{2018ApJ...868L..24L} provides analytic expressions for broken power-law distributions.
}.


%
%
%
%
We use the following relation between \ion{He}{I}\,$\lambda\,5876$ line velocity $v_\text{abs}$ (see \autoref{sec:ana:evo:velocity}) and the mean expansion velocity $v_m$ from \citet[their sec.~5.3]{2016MNRAS.458.1618D}:
\begin{equation}
  \frac{v_\text{abs}(\ion{He}{I}\,\lambda5876)}{1000~\kms} = 2.64 + 0.765 \frac{v_m}{1000~\kms},
\end{equation}
we estimate the expansion velocity of \supernova{2019odp} at light curve peak to be $v_m = 10912 \pm 1435$ \kms.


%
%
%
%
%
%

Thus the ejecta mass and kinetic energy can be given in terms of the mean expansion rate $v_\text{M}$:
\begin{eqnarray}
  M_\text{ej} &=& \frac{\tau_m^2 \,\beta c v_\text{M}}{2 \zeta \kappa_\text{opt}} \\
  E_K &=&  \frac{\tau_m^2 \,\beta c v_\text{M}^3}{4 \zeta \kappa_\text{opt}}
\end{eqnarray}

%
%
%
%
%
Assuming a power-law density profile (with a limited range of the power-law index around uniform density) we approximate $\beta / \zeta$ as a constant value ($17.8$ for this paper\footnote{This corresponds to the often used $\beta=13.8$ and $\zeta^2=\frac{3}{5}$ for uniform density.}), and
%
%
%
%
%
%
%
%
%
%
%
%
adopt a mean opacity $\kappa_\text{opt} = 0.07$ $\text{cm}^2 \text{g}^{-1}$.
%
%

%

%
%

{
  \renewcommand{\arraystretch}{1.2}
  \input{tabs/nucdata.tex}
}


We use the formalism for the heating function from \cite{2019MNRAS.484.3941W} for the radioactive decay heating of \element[][Ni]{56} and \element[][Co]{56} (their eqn. 11 and 12):

%
\begin{equation}
  Q_\gamma(t) = M_\text{Ni} \left( q_\text{Ni} \exp^{-t/\tau_\text{Ni}} + q_{\text{Co},\gamma} \exp^{-t/\tau_\text{Co}} \right) %
  %
\end{equation}
%
\begin{equation}
  Q_{e^+}(t) = M_\text{Ni} ~ q_{\text{Co},e^+} \left( \exp^{-t/\tau_\text{Co}} - \exp^{-t/\tau_\text{Ni}} \right),
\end{equation}
where $\epsilon_\text{Ni}$ is the specific heating rate for Nickel decays, $\epsilon_{\text{Co},\gamma}$ is the gamma-ray specific heating rate for Cobalt decays, $\epsilon_{\text{Co},e^+}$ is the positron specific heating rate for Cobalt decays, $\tau_\text{Ni,Co}$ are the decay timescales.
The used physical constants for the heating function(s) are summarized in \autoref{tab:nucdata}.
The total heating function is given by:
\begin{equation}
  Q_\text{dep}(t) = Q_\gamma(t) + Q_{e^+}(t)
\end{equation}

We use the parameter estimating method described in \autoref{sec:mod:phot:fitting}.
%
The used priors for the model are shown in \autoref{tab:mod:phot:arnett:r0small:prior}.
Since the model does not contain any treatment for gamma-ray leakage we restrict the fitting range to roughly the diffusion timescale.
The resulting parameter estimates for \supernova{2019odp} and the comparison objects for all models are shown in \autoref{tab:mod:phot:results} (we also include literature values where available as a consistency check).

\begin{table}[hb]
  \begin{tabular}{|c|c|c|c|}
    \hline
    Parameter & Symbol & Unit & Prior \\
    \hline
    \hline
    Nickel Mass & \Mni & $M_\odot$ & $\mathcal{U}(0.01,1.4)$ \\
    %
    %
    Diffusion Timescale & $\tau_m$ & d & $\mathcal{U}(5,55)$ \\
    %
    Explosion Epoch & $t_\text{expl}$ & d & $\mathcal{U}(t_\text{min},t_\text{detect})$ \\
    \hline
  \end{tabular}
  \caption{Priors for the small $R_0$ Arnett model Fit. The root-mean-square velocity values are different per object: For \supernova{2019odp} the value can be found in \autoref{sec:ana:evo:velocity} and for the comparison objects they are taken from \autoref{tab:ana:comparison:params}. For \supernova{2019odp} we use the explosion epoch prior given in \autoref{sec:discovery} and for the comparison objects the one listed in \autoref{tab:ana:comparison:params}. }
  \label{tab:mod:phot:arnett:r0small:prior}
\end{table}



\subsubsection{Large Initial Radius}
\label{sec:model:main:arnett:large}

Another variant of the A82 model does not assume a negligible initial radius $R_0 \equiv R(t=0)$.

Introducing an additional timescale:
\begin{equation}
  \tau_r = \frac{v_\text{sc} \tau_m^2}{2 R_0}
\end{equation}

and then following the approach from \cite{2012ApJ...746..121C} (but using the more generalized notation from before) we get the following function for the luminosity:
\begin{equation}
  L(t) = \frac{2}{\tau_m^2} \exp^{-t^2 / \tau_m^2 - t / \tau_r} \int_0^t (t^\prime+\frac{R_0}{v_\text{sc}}) Q_\text{dep}(t) \exp^{{t^\prime}^2/\tau_m^2 + t^\prime/\tau_r} dt^\prime
\end{equation}




\subsubsection{Fitting Framework}
\label{sec:mod:phot:fitting}

%

We here compare the different models using a bayesian framework.
%
%
%
%
%
%
%
We use the python nested sampling framework \textit{dynesty} to both estimate the posterior as well as the evidence of the different models under consideration. The methodology includes
%
propagating all the correlated uncertainties %
into the derived posterior, and is
insensitive to time-range selection effects, due to the changing number of observational data points included in the fit. %
%
%

In the likelihood function we sample the bolometric lightcurve based on the interpolated lightcurves\footnote{Since the likelihood function is evaluated millions of times during the nested sampling process we pre-generate 12000 samples of the interpolated lightcurve and then randomly select among them in the likelihood function.} and each sampled lightcurve contains the correlated uncertainties mentioned above.
Each sampled lightcurve consists of 50 sample points randomly sampled within the defined model time-range (with some further constraints imposed by the underlying observations).

Even though the number of sample points is fixed the information content is not.
In the most extreme case the 50 points may only span the time range of one day, in which case most models will fit reasonably well.


\subsubsection{Results}
\label{sec:mod:phot:results}

{
  \renewcommand{\arraystretch}{1.2}
  \begin{table*}[ht]
    \begin{tabular}{|c|c|c|c|c|c|c|c|}
      \hline
      SN Name & Model/Reference & Phase fitted & $\tau_m$ & \Mni & $M_\text{ej}$ & $E_\text{K}$ & $R(t=0)$ \\
      & & (d) & (d) & $(M_\odot)$ & $(M_\odot)$ & $(10^{51}$~erg)  & $(R_\odot)$ \\
      \hline
      \hline
      SN2019odp & A82-c & -11 -- 25 & $18.7 \pm 2$ & $0.246 \pm 0.04$ & $5.4 \pm 1.5$ & $6.4 \pm 1.5$ & \\
      SN2019odp & A82-e & -11 -- 25 & $18.9 \pm 2$ & $0.253 \pm 0.04$ & $5.7 \pm 1.2$ & & $9_{-9}^{+9}$ \\
      %
      %
      \hline
      iPTF13bvn & \cite{2016MNRAS.457..328L} & -9 -- 10 & $12.5-13.4$ & $0.06_{-0.01}^{+0.02}$ & $1.7_{-0.4}^{+0.5}$ & $0.7_{-0.2}^{+0.3}$ & \\
      iPTF13bvn & A82-c & -13 -- 30 & $11.8 \pm 1.2$ & $0.0676 \pm 0.02$ & $1.6 \pm 0.4$ & $1.1 \pm 0.3$ & \\
      iPTF13bvn & A82-e & -15 -- 25 & $12.3 \pm 1.1$ & $0.0746 \pm 0.02$ & $1.8 \pm 0.3$ & & $8_{-8}^{+7}$ \\
      %
      %
      \hline
    \end{tabular}
    \caption{Parameter Estimation Results. We also include literature comparison values in this table (paper reference takes the place of the model name). The models are: \textbf{A82-c} (c for compact) for small $R_0$ and \textbf{A82-e} (e for extended) for large $R_0$.}
    \label{tab:mod:phot:results}
  \end{table*}
}

We summarize the parameter estimation results in \autoref{tab:mod:phot:results}, where we 
also include values from the literature for the comparison objects.
%
Compared to other samples of Type Ib supernovae, such as \cite{2018A&A...609A.136T} or \cite{2016MNRAS.457..328L}, \supernova{2019odp} is near the edge of the distribution, but there are objects in these samples that have similar ejecta masses ($M_\text{ej} \sim 5~M_\odot$) and nickel masses ($M_\text{Ni} \sim 0.25~M_\odot$).
However the inferred kinetic energy ($E_K \sim 6\times 10^{51}$~erg) is significantly higher than for other \Ib{supernovae} and is more comparable to values seen in \IcBL{supernovae}.
While the models including an initial radius $R_0$ are not very constraining they do rule out things like super-giant stars and point more towards compact objects as a progenitor.
We investigate the progenitor radius in the context of shock cooling models in \autoref{sec:model:plateau}.

For comparison purposes we also calculate the ejecta mass and kinetic energy under the (often used) assumption of $v_\text{sc} = v_\text{ph}(t_\text{peak})$.
This yields a lower ejecta mass of $\sim 4.2\,M_\odot$ and kinetic energy of $\sim 3.8 \times 10^{51}$\,erg.
We note that both estimates exceed the values commonly derived in theoretical works for neutrino driven explosions, which do not exceed an explosion energy of around $2-3\times10^{51}$\,erg \citep{2020ApJ...890...51E}.

%

%
%


\subsection{Early Plateau}
\label{sec:model:plateau}

As noted in \autoref{sec:evo:phot}, the first few observations 
%
show an excess or plateau %
rather than a smoothly rising lightcurve.
Other supernovae that have showed an early excess or lightcurve ``bump'' include the \Ib{\xrfsn{2008D}}, 
%
the \IcBL{\grbsn{2006aj}} and the \IIb{\supernova{2016gkg}} \citep{2017ApJ...836L..12T,2017ApJ...837L...2A}.
Common features among these three are blue colors, strong UV emission, high temperatures ($T\gtrsim 12000$~K) that is decreasing right from discovery, and the early excess is shaped like an additional (usually smaller) early peak in the lightcurve.
While \supernova{2019odp} does show a very blue color (\autoref{sec:evo:color}; \autoref{fig:lc:color:evo}) and high temperatures early on (\autoref{sec:evo:bb}; \autoref{fig:evo:bb:comparison}), it neither shows strong UV emission initally (the $U-r$ color in fact gets bluer instead of redder) nor is the initial lightcurve similar (no early peak, but an actual plateau; \autoref{sec:evo:phot}).

One commonly invoked scenario to explain this early excess is shock cooling emission \citep{2008ApJ...683L.135C,2017ApJ...837L...2A}.
Several (semi-)analytical shock cooling emission models have been developed to explore the UV/optical lightcurve \citep{2010ApJ...725..904N,2011ApJ...728...63R,2021ApJ...909..209P}.
As the shock cools, at some point the temperature will drop below the recombination temperature of the shocked material \citep{2011MNRAS.414.2985D,2011ApJ...728...63R} and then
%
the luminosity starts to plateau until radioactive energy input becomes significant \citep{2013ApJ...769...67P}.
Since we do not see any excess UV emission in \supernova{2019odp} and the luminosity plateaued right after discovery, we conclude that in this scenario we have missed the shock cooling emission itself and are only seeing emission from the recombination phase.
Based on the numerically recalibrated shock model by \cite{2010ApJ...725..904N}, \cite{2013ApJ...769...67P} use the plateau luminosity and explosion parameters to estimate the progenitor radius $R_0$ (their eqn. 5 solved for $R_0$):
\begin{equation}
  R_0 \approx \left( \frac{L_P}{7\times10^{40}~\text{erg}\text{s}^{-1}} \frac{ \left( \frac{\kappa}{0.2 \text{cm}^2 \text{g}^{-1}} \right)^{0.69} \left( \frac{M_\text{ej}}{1~M_\odot} \right)^{0.67} }{ \left( \frac{E_K}{10^{51} \text{erg}} \right)^{0.85}} \right)^{1.28} R_\odot
  \label{eqn:model:plateau:piro:r0}
\end{equation}
%
The predicted start of the plateau after the explosion for a $< 10~R_\odot$ progenitor and the estimated explosion parameters in \autoref{sec:model:main:arnett} is between 20 hours and 4 days - both of which fit easily in the observation gap before first light.
Using the estimated plateau luminosity (\autoref{sec:evo:qbol}) we use \autoref{eqn:model:plateau:piro:r0} to estimate the progenitor radius to be $0.6 - 1.4~R_\odot$.
This is comparable to the estimate of $R_0 \approx 2~R_\odot$ for \supernova{2008D} by \cite{2011ApJ...728...63R}.
This value is also compatible with the upper limit of $18~R_\odot$ (\autoref{tab:mod:phot:results}) derived using the large-radius formulation of the Arnett equation (\autoref{sec:model:main:arnett:large}).
%
%


%
%



%
%

%

%
%


%

%
%

%
%
%
%
%
%

%
%
%
%
%

%
%
%
%
%



Another possible scenario is imperfect mixing of the nickel throughout the ejecta \citep{2019ApJ...872..174Y}.
Depending on the mixing fraction they argue that different lightcurve plateaus or ``pre-bumps'' are possible.
Lack of nickel in the outer part of the ejecta would also be consistent with the helium absorption lines only becoming visible later on (\autoref{sec:evo:spec}) due to the lack of nonthermal excitation of the helium by the nickel decays \citep{1991ApJ...383..308L}.
\cite{2015A&A...574A..60T} explores plateau duration, luminosity and magnitude difference to peak ($\Delta M \equiv M_\text{plat} - M_\text{peak}$) using a small grid of hydrodynamical models.
While the inferred ejecta mass and energy for \supernova{2019odp} (\autoref{sec:mod:phot:results}) fall far outside the model grid, the observed plateau duration of $2-5$\,d, plateau luminosity $\log L_\text{plat} = 41.3$ $[\log(\text{erg}\,\text{s}^{-1})]$ and magnitude difference $\Delta M \approx 3.3$\,mag (\autoref{sec:evo:qbol}), fall well into the range of values seen in their model grid.
Extrapolating the trend seen for the ejecta mass and nickel mixing beyond the model grid suggests that very low nickel mixing scenarios are not an obvious candidate, since both low nickel mixing and high ejecta mass increase the duration of the plateau.




%

%

%
%
%
%
%
%
%
%
%
%
%
%
%
%


%

%
%
%
%
%
%
%
%
%
%
%

%
%
%
%
%
%
%

%

%
%

%
%
%

%
%

%
%

%

%
%
%
%
%
%
%



%
%

%
%



%
%
%

%

%



%
%

%
%
%




%

\subsection{Constraining the Oxygen Mass}
\label{sec:oxygen}

%
%
The progenitors of supernova explosions directly connect to stellar evolution models and the different channels leading to the supernova (binary stars vs. massive stars for example).
%
One technique to estimate the Zero-Age Main Sequence (ZAMS) mass of the progenitor is to use the oxygen mass as a proxy, as it has good sensitivity to the pre-explosion mass in simulations \citep{2003ApJ...592..404L,2010ApJ...724..341H}.
%
%
%
%
%
%
%
A method to estimate an upper limit on the oxygen mass is described in \cite{2014MNRAS.439.3694J}.
%
For this we integrate the flux in a $100~\AA$ window around the $[\ion{O}{I}]~\lambda5577$ line and the $[\ion{O}{I}]~\lambda\lambda6300,6364$ lines\footnote{With the range starting $50~\AA$ blueward of $6300~\AA$ and ending $50~\AA$ redward of $6364~\AA$.} while subtracting a background baseline.
Based on these line luminosities we estimate a lower limit for the temperature of $3888\,\text{K}$ and an upper limit of $4\,M_\odot$ for the oxygen mass.
While this value does not conflict with the previously estimated total ejecta mass, it is a quite significant fraction and only a few transients have previously been estimated to have such large oxygen masses.
%

Thus we expand upon the method used in \cite{2014MNRAS.439.3694J}.
We first describe the analytic models we use in \autoref{sec:oxygen:model}, and in \autoref{sec:oxygen:fitting} we describe the fitting method employed to actually apply the improved model.
%
In \autoref{sec:oxygen:results} we describe the results of this methodology.

%
\subsubsection{Model Description}
\label{sec:oxygen:model}


%
%
%
%

The most important oxygen emission lines for this are the $[\ion{O}{I}]\,\lambda\lambda6300,6364$ ($u_1=2s^2 2p^4 ({}^1 D) \rightarrow g=2s^2 2p^4({}^3P)$) doublet lines as well as the $[\ion{O}{I}]\, \lambda 5577$ ($u_2=2s^2 2p^4 ({}^1 S) \rightarrow u_1=2s^2 2p^4 ({}^1 D)$) line.
In the Sobolev approximation and assuming a uniform density distribution the total line luminosity for the transition $\lambda$ ($u \rightarrow l$) is given by \citep{2017hsn..book..795J}:
\begin{equation}
  L_\lambda = N_u A_\lambda h \frac{c}{\lambda} \beta_\lambda,
\end{equation}
where $A_\lambda$ is the radiative decay rate for the transition, $\beta_\lambda$ is the Sobolev escape probability and, $N_u$ is the total number of ions in the excited state $u$.

The first difference in our method is that we treat the two $[\ion{O}{I}]\,\lambda\lambda6300,6364$ doublet lines seperately.
Since both share the same source state and only differ in the split ground-state (which is in LTE) they only differ by the radiative decay rate $A$ as well as in the escape probability $\beta$.
We assume all oxygen line emission to come from the same environmental conditions and thus we can state the $[\ion{O}{I}]\, \lambda 6364$ optical depth in terms of the $[\ion{O}{I}]\, \lambda 6300$ optical depth \citep{2011AcA....61..179E}:%
\begin{equation}
  \tau_{6364} = \frac{\tau_{6300}}{3}
\end{equation}
Since we fit both lines of the doublet simultaneously we can use the amplitude ratio between the two lines to constrain the optical depth of both lines.
This replaces the fixed assumption of $\beta_{6300,6364} \approx 0.5$ ($\tau_{6300,6364} \approx 2$) in \cite{2014MNRAS.439.3694J}.
%
We specify all optical depths in relation to the $[\ion{O}{I}]\, \lambda 6300$ optical depth: $\tau \equiv \tau_{6300}$.



%
The Sobolev escape probability $\beta$ in terms of the optical depth $\tau$ is defined as follows \citep{2017hsn..book..795J}:
\begin{equation}
  \beta_\lambda = \frac{1 - \exp^{-\tau_\lambda}}{\tau_\lambda}
  \label{eqn:sobolev:beta}
\end{equation}



Assuming LTE conditions we can approximate the excited state numbers as follows \citep{2017hsn..book..795J}:
\begin{equation}
  N_u = N \frac{g_u}{Z(T)} \exp \frac{-E_u}{k_B\,T},
\end{equation}
where $N$ is the total number of atoms/ions, $g_u$ is the statistical weight of the excited state, $Z(T)$ is the partition function and $E_u$ is the energy level of the excited state.
In the case of state $u_2$ we allow this population number to fall below the LTE estimate ($N_2^\text{LTE} \rightarrow d_2 N_2^\text{LTE}$ where $d_2$ is the LTE departure coefficient).
Temperatures in the emission regions in the nebular phase are typically assumed to be below $5000$\,K.
We adopt a more conservative prior range of $1000-8000$\,K, since it is difficult to define any particular cut-off point for the temperature.
%

%
We approximate the partition function with the statistical weight $g_g$ of the ground state\footnote{Below $T_e=1$\,eV this is a quite good approximation, since the partition function is dominated by the split ground state.} and state the equation in terms of oxygen mass $M_\text{OI}$ using $N = M_\text{OI}\, \mu^{-1} m_p^{-1}$ %
and restate the line luminosities:
%
\begin{equation}
  L_\lambda = \Lambda_{\lambda} \frac{\beta_\lambda M_\text{OI} }{\exp\left(T_\lambda / T\right)},
\end{equation}
where $T_\lambda = \frac{E_u}{k_B}$ and all the physical constants are contained in $\Lambda_\lambda$.
%
\begin{equation}
  \Lambda_{\lambda} = \frac{A_\lambda ~h ~ c}{\mu ~ m_p ~ \lambda} \frac{g_u}{g_g},
\end{equation}
where $\mu=16$ is the mean atomic weight of oxygen, $m_p$ is the mass of the proton, $A_\lambda$ is the radiative decay rate of the transition, $g_u$ is the statistical weight of the upper state and $g_g$ is the statistical weight of the lower state.

%






%
%
%
%

%

If we assume the first excited state $u_1$ to be in LTE we can state the optical depth of $[\ion{O}{I}]\, \lambda 5577$ relative to the $[\ion{O}{I}]\, \lambda 6300$ optical depth:
\begin{equation}
  \frac{\tau_{5577}}{\tau} = \frac{g_2}{g_1} d_2 \frac{A_{5577}}{A_{6300}} \frac{5577^3}{6300^3} \exp{\left(\frac{E_1}{k_B T}\right)} \frac{1- \exp{\frac{-\Delta E_{2\rightarrow1}}{k_B T}}  }{1-\exp{\frac{-E_1}{k_B T}}},
\end{equation}
where $d_2$ is the NLTE deviation fraction for the second excited state $u_2$ and $\Delta E_{2 \rightarrow 1} = E_2 - E_1$.
In \cite{2014MNRAS.439.3694J} the analog for this is the assumed ratio of $\beta_{5577}/\beta_{6300,6364} \approx 1.5$.
The LTE departure coefficient denotes by how much the number density of the $u_2$ state falls below the LTE estimate.
\cite{2014MNRAS.439.3694J} find a range for $d_2$ of 0.8 to 0.3 over the time range of 250 to 450 days post-explosion from their modelling efforts for Type IIP supernovae.
We adopt a prior range of $0.1-1.0$ for $d_2$.


Combined with \autoref{eqn:sobolev:beta} we can calculate $\beta_{5577} (d_2, T, \tau)$ and state the $[\ion{O}{I}]\, \lambda 5577$ line luminosity as follows
%
\citep[based on][their eqn. 2]{2014MNRAS.439.3694J}:
%
%
\begin{eqnarray}
  \frac{L_{5577}}{L_{6300}} &=& d_2\, \frac{g_{u_2}}{g_{u_1}} \cdot \exp^{\frac{-\Delta E_{2 \rightarrow 1}}{k_BT}} \frac{A_{5577} \beta_{5577} (d_2, T, \tau)}{A_{6300} \beta_{6300}} \frac{6300}{5577} \\
  &=& d_2 \cdot 51 \cdot \exp^{-25789.8/T} \frac{\beta_{5577} (d_2, T, \tau)}{\beta_{6300}},
\end{eqnarray}
with the physical constants given in \autoref{tab:mod:neb:oxygen:constants}.
%

%
%
%
%

%

%
%
%
%
%
%
%

%
%
%
%

%
%
%

%

\begin{table*}
  \begin{tabular}{|c|c|c|c|}
    \hline
    Description & Symbol & Value & Unit \\
    \hline
    \hline
    $2s^2 2p^4 ({}^1 S)$ Energy Level & $E_2/k_B$ & 48620 & K \\
    $2s^2 2p^4 ({}^1 D)$ Energy Level & $E_1/k_B$ & 22830 & K \\
    Statistical weight of $u_2$ & $g_{u_2}$ & 1 & \\
    Statistical weight of $u_1$ & $g_{u_1}$ & 5 & \\
    Statistical weight of ground state $g$ & $g_g$ & 9 & \\
    Radiative Decay Rate of $[\ion{O}{I}]\, \lambda 5577$ & $A_{5577}$ & 1.26 & $\text{s}^{-1}$ \\
    Radiative Decay Rate of $[\ion{O}{I}]\, \lambda 6300$ & $A_{6300}$ & $5.63\cdot10^{-3}$ & $\text{s}^{-1}$ \\
    Radiative Decay Rate of $[\ion{O}{I}]\, \lambda 6364$ & $A_{6364}$ & $1.83\cdot10^{-3}$ & $\text{s}^{-1}$ \\
    %
    \hline
  \end{tabular}
  \caption{
    Physical Constants used in the oxygen analysis.
    %
    References: \cite{NIST_ASD, 2014MNRAS.439.3694J, 2017hsn..book..795J}.
  }
  \label{tab:mod:neb:oxygen:constants}
\end{table*}
    



\subsubsection{Fitting Method}
\label{sec:oxygen:fitting}

\begin{table}
  \begin{tabular}{|c|c|c|c|}
    \hline
    Parameter & Symbol & Unit & Prior \\
    \hline
    \hline
    Oxygen Mass & $M_\ion{O}{I}$ & $M_\odot$ & $\mathcal{U}(0, 6)$ \\
    Oxygen Temperature & $T$ & K & $\mathcal{U}(1000,8000)$ \\
    %
    Distance & $D$ & cm & $\mathcal{U}(D_\text{min}, D_\text{max})$ \\
    $[\ion{O}{I}]\, \lambda 6300$ Opt. Depth & $\log \tau$ & & $\mathcal{U}(-5, 1)$ \\
    %
    %
    LTE Departure & $d_2$ & & $\mathcal{U}(0.1, 1)$ \\
    %
    %
    %
    %
    %
    %
    %
    %
    %
    \hline
  \end{tabular}
  %
  \caption{Priors for the second stage of the oxygen mass estimation fit.}
  \label{tab:mod:neb:oxygen:priors}
\end{table}



While our method adds to \cite{2014MNRAS.439.3694J}, it does require knowing the line profile function $\mathcal{P}$.
This stems from the need of disentangling the flux from the $[\ion{O}{I}]\,\lambda 6300$ and the $[\ion{O}{I}]\,\lambda 6364$ lines, which overlap due to the large velocities present in supernovae.
%
%
We estimate the line fluxes $\{F\}$ using empirical spectral models, and %
then use those measurements to derive the physical parameter vector $\theta$ we are actually interested in.

%
%

%
We use the nested sampler \textit{dynesty} to fit the parameter vector $\Xi$.
%
Since in the early nebular spectra the $\ion{O}{I}\,\lambda7774$ recombination line is still present, we use this line to estimate the line profile of the forbidden oxygen lines for those epochs. 
We project a section around the $\ion{O}{I}\,\lambda7774$ line into velocity space, normalize it and then use it as an empirical line profile function $\mathcal{P}_\lambda$.
For the last ($+348\,$d) spectrum the recombination line is no longer visible and we use a parametric Gaussian as the line profile function instead:
\begin{equation}
  \mathcal{P}_\lambda = \mathcal{G}_\lambda (\lambda_c, \sigma)
\end{equation}

To this central line profile function $\mathcal{P}$ we add a thick shell function $\mathcal{S}$ to model any additional emission in the outer regions of the supernova ejecta, since the simple Gaussian does not capture all of the flux of the line complex:
\begin{equation}
  \mathcal{P}^\prime_\lambda (\lambda_c, \Xi) = F_{6300}\,\mathcal{P}_\lambda(\lambda_c, \Xi) + F_\text{shell}\, \mathcal{S}_\lambda(\lambda_c, \Xi),
\end{equation}
where $F$ are the line fluxes.
The line profile function for the thick shell is approximated by an elongated Gaussian function:
\begin{equation}
  \mathcal{S}_\lambda(\lambda_c,\Xi) = \frac{1}{k} \frac{1}{\sigma\,\sqrt{2\pi}} 
  \begin{cases}
    \exp\left( \frac{-\left(\lambda-\lambda_c+\lambda_s\right)^2}{2\sigma^2} \right) & \lambda \le -\lambda_s \\
    \exp\left( \frac{-\left(\lambda-\lambda_c-\lambda_s\right)^2}{2\sigma^2} \right) & \lambda \ge \lambda_s \\
    1 & -\lambda_s < \lambda < \lambda_s
  \end{cases},
\end{equation}
where $\lambda_c$ is the center position, $\lambda_s$ is the elongation width (corresponds to the inner cut-off velocity of the shell), $\sigma$ is the Gaussian width (corresponds to the width of the shell), and $k$ is the numercially derived normalization constant.

We segment the spectra into two spectral regions: the $[\ion{O}{I}]\, \lambda 5577$ region and the $[\ion{O}{I}]\, \lambda\lambda 6300,6364$ region.
These line profile functions are then (re)projected onto the observed wavelength grid around the $[\ion{O}{I}]\, \lambda 5577$ region and the $[\ion{O}{I}]\, \lambda\lambda 6300,6364$ regions.
%
We allow for a global wavelength offset $\Delta\lambda$.
For the $[\ion{O}{I}]\, \lambda\lambda 6300,6364$ region we have the following model spectral flux function:
\begin{equation}
  M_{\lambda-\Delta\lambda}(\Xi) = \mathcal{P}_\lambda^\prime (6300, \Xi) + \mathcal{R}_6\, \mathcal{P}_\lambda^\prime(6364, \Xi) + C_\lambda,
\end{equation}
with $\mathcal{R}_6 \equiv F_{6364}/F_{6300}$, which is constrained to the range between fully optically thin ($\mathcal{R}_6=1/3$) and fully optically thick ($\mathcal{R}_6=1$).
For the $[\ion{O}{I}]\, \lambda 5577$ region we have the following model spectral flux function:
\begin{equation}
  M_{\lambda-\Delta\lambda}(\Xi) = \mathcal{R}_5\, \mathcal{P}_\lambda^\prime(5577, \Xi) + C_\lambda,
\end{equation}
with $\mathcal{R}_5 \equiv F_{5577}/F_{6300}$.
%
%
For each region we assume a separate linear continuum:
\begin{equation}
  C_\lambda = \alpha_R + \beta_R\cdot\left(\lambda - \lambda_\text{RC}\right),
\end{equation}
where $\lambda_\text{RC}$ is the center of the region ($5577~\AA$ and $6330~\AA$ respectively).

%
%
%
%
%
We marginalize over all nuisance parameters (all except the luminosities) to yield a 3 dimensional posterior distribution and calculate the mean and covariance matrix for this.

For the second stage Bayesian model the parameter vector $\theta$ only consists of a few parameters: the oxygen mass $M_{OI}$, temperature $T$, optical depth $\tau$, distance $D$ and the LTE departure coefficient $d_2$.
While this is quite a few more parameters than input values (which is just the three line fluxes) we are not aiming to constrain all of them, we are only really interested in the oxygen mass and marginalize over all the other parameters.
This allows us to take into consideration any prior information for these parameters, without having to assume specific values.
We use the equations in \autoref{sec:oxygen:model}.
The priors on the physical parameters are stated in \autoref{tab:mod:neb:oxygen:priors}.
We use a multivariate Gaussian log-likelihood function, where we use the derived mean and covariance matrix from the previous stage.
We then use the nested sampler \textit{dynesty} to estimate the posterior distribution.



%



\subsubsection{Results}
\label{sec:oxygen:results}

We fit the three early to late nebular phase spectra ($+128\,$d, $+138\,$d, $+348\,$d) using the algorithm and models described in \autoref{sec:oxygen:fitting}.
The results of the first stage (spectral fitting) are summarized in \autoref{tab:mod:neb:oxygen:fluxes} and the detailed fitting results (corner plot and the line fits) can be found in \autoref{appendix:oxygen:spectralfits}.
In the $+348~$d spectrum the detection of the $[\ion{O}{I}]\, \lambda 5577$ line is only an upper limit and absent any secondary priors on the temperature or on the NLTE deviation we cannot constrain the oxygen mass.

%
%
Using the measured line fluxes, we then estimate the physical parameters.
We show the posterior oxygen mass-temperature distributions for the $+138\,$d and $+348\,$d spectra in \autoref{fig:mod:neb:oxygen:moit}.
The detailed fitting results for the second stage of the procedure can be found in \autoref{appendix:oxygen:physfits}.
While the distribution is fairly broad we can state without any additional constraints\footnote{Which we may have since the earlier nebular spectrum shows quite a number of other oxygen lines, which may be used to further constrain the temperature and/or the electron density. A qualitative estimate of the LTE departure coefficient $d_2$ based on oxygen recombination lines can be found in \autoref{sec:a:oxygen:nlte}.}: %
\begin{equation}
  %
  %
  \min M_\text{OI}(T) = 0.47\,M_\odot
\end{equation}


This low oxygen mass limit corresponds to the high temperature end of our prior.
The LTE departure coefficient of $0.1$ corresponds to an electron number density $n_e$ of around $10^7\,\text{cm}^{-3}$ \citep{2007ApJ...666.1069M}.
Asuming close to LTE conditions (and thus higher $n_e$ and larger $d_2$) the minimum oxygen mass is above $3\,M_\odot$.
%
%
Since it is quite common in literature to just assume the temperature at the nebular phase to be in the range of $4000 - 5000\,K$, we include the minimum oxygen mass using the same assumption for comparison purposes:
\begin{equation}
  %
  %
  \min_{T<5000\,\text{K}} M_\text{OI}(T) = 2.5\,M_\odot
\end{equation}

%


%


%
%
%
%
%
%

%
%

\subsubsection{ZAMS Mass}
\label{sec:oxygen:discuss}


%
We try to estimate the progenitor ZAMS mass based on different nucleosynthesis studies:
\begin{enumerate}
\item \cite{2021A&A...656A..58L} compares the single massive star scenario to the binary evolution scenario and provides yields for both. In the massive star scenario the strict lower limit of the oxygen mass is compatible with all models more massive than $12\,M_\odot$ (for $T_\ion{O}{I} < 5000\,\text{K} \rightarrow M_\text{ZAMS} \ge 21\,M_\odot$). In the binary scenario all models more massive than $13\,M_\odot$ are compatible with the oxygen mass (for $T_\ion{O}{I} < 5000\,\text{K}$ none are compatible - the most massive model has $M_\text{OI} \sim 2\,M_\odot$).
  However none of the binary stripped star models less massive than $18\,M_\odot$ are compatible with our ejecta mass estimate (since their pre-explosion mass is already below the ejecta mass).
  None of the massive stars are massive enough to fully strip their hydrogen.
  %
\item \cite{1993ApJ...411..823W} studies the evolution of 6 Wolf-Rayet models of varying ZAMS mass ($35 - 85\,M_\odot$).
  While all models are consistent with the strict oxygen mass limit, only the $M_\text{ZAMS} > 35\,M_\odot$ models manage to loose their hydrogen and are compatible with the inferred compact radius (\autoref{sec:model:plateau}) of the progenitor.
\item Assuming a binary-evolution model for Wolf-Rayet stars, \cite{2011MNRAS.414.2985D} calculates several models for a ZAMS mass of $18\,M_\odot$ and $25\,M_\odot$, which produce from $0.5\,M_\odot$ to $1.78\,M_\odot$ of oxygen (however only one of the $25\,M_\odot$ models matches the observed ejecta mass).
Given the limited sampling of the model grid (5 models), this points to a ZAMS mass of $25\,M_\odot$ (for $T_\ion{O}{I} < 5000\,\text{K} \rightarrow M_\text{ZAMS} > 25\,M_\odot$).
\item Assuming a binary-evolution model for helium stars \cite{2020A&A...642A.106D} calculates models for progenitor masses ranging from $4\,M_\odot$ to $12\,M_\odot$ (which corresponds a ZAMS range of $14-32\,M_\odot$) which cover a oxygen yield of $0.15\,M_\odot$ to $1.84\,M_\odot$.
  While all except the two least-massive models are consistent with our estimated oxygen mass (suggesting a $M_\text{ZAMS}$ range of $23 - 36\,M_\odot$), none of the models are consistent with the observed ejecta mass (the largest model has $M_\text{ej}=3.69\,M_\odot$).
  Assuming $T_\ion{O}{I} < 5000\,\text{K}$ none of the models are compatible with the higher oxygen limit.
\item Assuming a binary-evolution model for helium stars with mass-loss, \cite{2020ApJ...890...51E} calculates explosion parameters for helium stars in the mass range $2.5 - 40\,M_\odot$ (corresponds to $M_\text{ZAMS} = 13.5 - 91.7\,M_\odot$).
  However since oxygen yield was only quantified averaged across models, we actually take the values from \cite{2021A&A...656A..61D}, which is based on the same models (except it is missing the models where $M_\text{He} > 12\,M_\odot$).
Based on the lower limit on the oxygen mass any helium star ($M_\text{He}$) more massive than $4.5\,M_\odot$ ($T_\ion{O}{I} < 5000\,\text{K} \rightarrow M_\text{He} > 6\,M_\odot$) is compatible.
However only the two most massive helium star models \texttt{he8p0} ($M_\text{He}=8\,M_\odot, M_\text{O}=1.7\,M_\odot, M_\text{ej}=4\,M_\odot$) and \texttt{he12p0} ($M_\text{He}=12\,M_\odot, M_\text{O}=3\,M_\odot, M_\text{ej}=5.3\,M_\odot$) match both the oxygen mass estimate as well as the estimated total ejecta mass.
This corresponds to a lower limit on the ZAMS mass of $28-35\,M_\odot$.
However our \Mni~ estimate is factor two higher than any model in \cite{2020ApJ...890...51E}.
\end{enumerate}





\begin{figure}
  %
  %
  %
  \includegraphics[width=\linewidth]{plots/oxygen/temp_moi_nlte_colored.png}
  
  \caption{Scatter plot of the marginalized posterior distribution showing the oxygen mass as function of the temperature for the last two observed spectra (the left-most trace corresponds to the very-late time spectrum at $+348$\,d). The color denotes the LTE departure coefficient. One can see that the earlier spectrum provides a lower mass constraint, while the late one does not. }
  \label{fig:mod:neb:oxygen:moit}
\end{figure}

%
%
%
%

%
%
%
%
%



{
  \renewcommand{\arraystretch}{1.3}
  \begin{table}
    \centering
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %

    \begin{tabular}{|c|c|c|c|}
      \hline
      Line & Luminosity & Luminosity & Luminosity \\
      Phase & $+127.9$d & $+138.2$d & $+348.5$d \\
      & $(10^{38}\,\text{erg}\,\text{s}^{-1})$ & $(10^{38}\,\text{erg}\,\text{s}^{-1})$ & $(10^{38}\,\text{erg}\,\text{s}^{-1})$ \\
      \hline
      \hline
      Profile Model & 7774 & 7774 & Gaussian \\
      \hline
      $[\ion{O}{I}]\, \lambda 5577$ & $13.5_{-3.9}^{+7.9}$ & $26_{-15.3}^{+21.9}$ & $0.18_{-0.11}^{+0.58}$ \\
      $[\ion{O}{I}]\, \lambda 6300$ & $127_{-14.1}^{+29.5}$ & $129_{-19.8}^{+40.8}$ & $8_{-1.6}^{+4.1}$ \\
      $[\ion{O}{I}]\, \lambda 6364$ & $44_{-5.2}^{+10.9}$ & $44_{-7.5}^{+22.2}$ & $3_{-0.66}^{+2.33}$ \\
      \hline
    \end{tabular}
    
    \caption{Inferred line luminosities for the nebular phase spectra obtained. Distance uncertainty is folded in.}
    \label{tab:mod:neb:oxygen:fluxes}
  \end{table}
}
  
%
%










%
%
%
\section{Summary and Conclusions}
\label{sec:summary}

We have presented photometric and spectroscopic observations of the peculiar \Ib{\supernova{2019odp}}.

\begin{enumerate}
  %
\item Based on the identification of helium absorption features in spectroscopic observations near peak we reclassify \supernova{2019odp} to be a \Ib{supernova} (\autoref{sec:classification}).
  The pre-peak spectra however have great spectral similarity to \IcBL{supernovae} as well as other transitional supernovae (\supernova{2008D}, \supernova{2016coi}, \supernova{2017ens}).
  This may suggests a common scenario for all these supernovae early on.
\item Using optical photometric observations we construct a (pseudo-)bolometric lightcurve (\autoref{sec:evo:qbol}) and estimate the peak luminosity to be $44_{-7}^{+10} \times 10^{41} \ergs$ ($M_\text{qbol} \simeq -17.9$~mag).
  %
\item Using analytic bolometric lightcurve models we estimate the \supernova{2019odp} ejecta mass to be $5.4\pm1.5~M_\odot$ with a Nickel yield of $0.25\pm0.04~M_\odot$ and a kinetic energy of $6.4\pm1.5 \times 10^{51} \erg$ (\autoref{sec:mod:phot:results}).
\item We identify the presence of an pronounced plateau in the early lightcurve of $2 - 5$~d in duration (\autoref{sec:evo:phot}) and $2.1_{-0.4}^{+0.4} \times 10^{41} \ergs$ in luminosity (\autoref{sec:evo:qbol}).
  Using analytic shock cooling models we identify this plateau as the recombination plateau following an undetected shock cooling peak (\autoref{sec:model:plateau}).
  Based on this we estimate the progenitor radius to be $\sim 1~R_\odot$.
\item We expand upon existing methods for estimating oxygen masses from nebular spectra and derive a strict range of $0.5 - 5~M_\odot$ for \supernova{2019odp} (\autoref{sec:oxygen:results}).
  Based on studies on single massive star evolution this points to a ZAMS mass of $40-60~M_\odot$ -- for binary star evolution to a ZAMS mass of $18-38~M_\odot$ (\autoref{sec:oxygen:discuss}).
  
\item Many observational sample papers \citep{2014MNRAS.437.3848L, 2018A&A...609A.136T} have found rather low ejecta masses for Type Ib/Ic supernovae, which in combination with stellar evolution models hinted towards low ZAMS masses and binary progenitors for those objects.
  However due to the large inferred ZAMS mass for \supernova{2019odp} the single massive star scenario cannot be ruled out.
\end{enumerate}



%
%
%
%
%
%
%





\section*{Acknowledgements}

%

%
We thank Jakob Nordin for additional comments.
Based on observations obtained with the Samuel Oschin Telescope 48-inch and the 60-inch Telescope at the Palomar Observatory as part of the Zwicky Transient Facility project.
ZTF is supported by the National Science Foundation under Grant No. AST-1440341 and a collaboration including Caltech, IPAC, the Weizmann Institute of Science, the Oskar Klein Center at Stockholm University, the University of Maryland, the University of Washington, Deutsches Elektronen-Synchrotron and Humboldt University, Los Alamos National Laboratories, the TANGO Consortium of Taiwan, the University of Wisconsin at Milwaukee, and Lawrence Berkeley National Laboratories.
Operations are conducted by COO, IPAC, and UW.
%
SED Machine is based upon work supported by the National Science Foundation under Grant No. 1106171.
This work was supported by the GROWTH project \citep{2019PASP..131c8003K} funded by the National Science Foundation under Grant No 1545949.
%
%
Part of the funding for GROND (both hardware as well as personnel) was generously granted from the Leibniz-Prize to Prof. G. Hasinger (DFG grant HA 1850/28-1).
Based on observations made with the Nordic Optical Telescope, owned in collaboration by the University of Turku and Aarhus University, and operated jointly by Aarhus University, the University of Turku and the University of Oslo, representing Denmark, Finland and Norway, the University of Iceland and Stockholm University at the Observatorio del Roque de los Muchachos, La Palma, Spain,
of the Instituto de Astrofisica de Canarias.
Some of the data presented here were obtained in part with ALFOSC, which is provided by the Instituto de Astrofisica de Andalucia (IAA) under a joint agreement with the University of Copenhagen and NOT.
Some of the data presented herein were obtained at the W. M. Keck Observatory, which is operated as a scientific partnership among the California Institute of Technology, the University of California and the National Aeronautics and Space Administration.
The Observatory was made possible by the generous financial support of the W. M. Keck Foundation.
M.~W.~Coughlin acknowledges support from the National Science Foundation with grant numbers PHY-2010970 and OAC-2117997.
P.~Rosnet acknowledges the support received from the Agence Nationale de la Recherche of the French government through the program ANR-21-CE31-0016-03.
% run http://astrofrog.github.io/acknowledgment-generator/
This research has made use of the NASA/IPAC Infrared Science Archive, which is operated by the Jet Propulsion Laboratory, California Institute of Technology, under contract with the National Aeronautics and Space Administration.
This research has made use of NASA's Astrophysics Data System.
The acknowledgements were compiled using the Astronomy Acknowledgement Generator.
This research has made use of the NASA/IPAC Extragalactic Database (NED) which is operated by the Jet Propulsion Laboratory, California Institute of Technology, under contract with the National Aeronautics and Space Administration.
This research has made use of the VizieR catalogue access tool, CDS, Strasbourg, France.
This research made use of Astroquery \citep{2019AJ....157...98G}.
This research made use of Astropy, a community-developed core Python package for Astronomy \citep{2018AJ....156..123A, 2013A&A...558A..33A}.
PyRAF is a product of the Space Telescope Science Institute, which is operated by AURA for NASA.
This research made use of APLpy, an open-source plotting package for Python hosted at \url{http://aplpy.github.com}.
This research made use of SciPy \citep{Virtanen_2020}.
This research made use of NumPy \citep{harris2020array}.
IRAF is distributed by the National Optical Astronomy Observatory, which is operated by the Association of Universities for Research in Astronomy (AURA) under cooperative agreement with the National Science Foundation \citep{1993ASPC...52..173T}.
This research made use of matplotlib, a Python library for publication quality graphics \citep{Hunter:2007}.
This work made use of the IPython package \citep{PER-GRA:2007}.
We acknowledge the use of public data from the Swift data archive. 

\section*{Data Availability}

The final reduced and flux-calibrated spectra are available on \texttt{WISeREP}\footnote{\url{https://wiserep.weizmann.ac.il/}} \citep{2012PASP..124..668Y}.
The code and (most) data reduction inputs are available at \url{https://gitlab.com/welterde/ccsn-sn2019odp} (with a snapshot archived on Zenodo at \url{https://zenodo.org/record/7568627}).
The data reduction products are available on Zenodo at \url{https://zenodo.org/record/7554926}.

\begin{table*}[h!]
  \centering
  \begin{tabular}{|c|c|c|c|c|}
    \hline
    Telescope/Instrument & Bands & Filter System & Reference System & Calibration Source \\
    \hline
    \hline
    P48/ZTF & $gri$ & ZTF & AB & PS1/Internal \\
    Swift/UVOT & UBV\,M2\,W1\,W2 & Custom & Vega & Internal \\
    MPG 2.2m/GROND & $g^\prime r^\prime i^\prime z^\prime$ & Sloan/Custom & AB & SDSS DR12 \\
    MPG 2.2m/GROND & $JH K_s$ & Johnson/Custom & Vega & 2MASS All-Sky DR \\
    P60/SEDM-RC & $ugri$ & Sloan/Astrodon & AB & SDSS/PS1 \\
    NOT/ALFOSC & $gri$ & Sloan & AB & PS1 \\
    \hline
  \end{tabular}
  \caption{Overview of facilities used for photometric followup observations as well as their respective native filter systems and calibration sources.}
\end{table*}

%
\begin{figure*}[p]
  %
  \includegraphics[width=0.8\linewidth]{plots/specs/seq_plateau.png}
  \caption{
    Spectral sequence of obtained spectra from discovery to before peak.
    The observation phase of each spectrum is denoted on the right of each spectrum.
    Rest wavelengths of strong \ion{He}{I} features have been marked in green, and the position of Balmer lines are denoted in blue.
    A Telluric absorption feature has been denoted with a shaded region and a $\oplus$ symbol.
  }
  \label{fig:specs:seq:breakout}
\end{figure*}
\begin{figure*}[p]
  %
  \includegraphics[width=0.8\linewidth]{plots/specs/seq_photospheric.png}
  \caption{
    Spectral sequence of obtained spectra around the photospheric phase.
    The notation is the same as in \autoref{fig:specs:seq:breakout}, but here we have also marked the wavelengths of several intermediate mass elements. 
  }
  \label{fig:specs:seq:photospheric}
\end{figure*}

\begin{figure*}[p]
  %
  \includegraphics[width=0.8\linewidth]{plots/specs/seq_prenebular.png}
  \caption{
    Spectral sequence of obtained spectra in the pre-nebular phase.
    The notation is the same as in \autoref{fig:specs:seq:breakout}, but here we have also marked the wavelengths of several intermediate mass elements. 
  }
  \label{fig:specs:seq:prenebular}
\end{figure*}

\begin{figure*}[p]
  \includegraphics[width=0.8\linewidth]{plots/specs/seq_nebular.png}
  \caption{Spectral sequence of \supernova{2019odp} in the nebular phase. We have marked several of the $\ion{O}{I}$ lines as well as some $\ion{Ca}{II}$ lines.
  }
  \label{fig:specs:seq:nebular}
\end{figure*}
