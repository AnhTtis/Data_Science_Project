% MACROS.TEX contains generally useful macros, but not those specifically 
%            useful for paper formats.
%
\newcount\figureno  \newcount\tableno
\figureno=0         \tableno=0
%
\newbox\tablebox    \newdimen\tablewidth
%
\newbox\marginbox
\def\strutdepth{\dp\strutbox}
\def\strutheight{\ht\strutbox}
%
\def\smallformat{\hsize=5.5truein\hoffset=0.5truein
    \vsize=8truein\voffset=0.5truein\parskip=1pt}
\def\largeformat{\hsize=6.5truein\hoffset=0.0truein
    \vsize=8.5truein\voffset=0.0truein}
%
\newcount\sectionnumber \newcount\subsectionnumber 
\newcount\subsubsectionnumber
\sectionnumber=0 \subsectionnumber=0 \subsubsectionnumber=0
%
\def\secno{\ifcase\sectionnumber\or
     I\or II\or III\or IV\or V\or VI\or VII\or VIII\or IX\or
     X\or XI\or XII\fi}
\def\subsecno{\ifcase\subsectionnumber\or
     a\or b\or c\or d\or e\or f\or g\or h\or i\or j\or k\or l\fi}
\def\subsubsecno{\ifcase\subsubsectionnumber\or
     i\or ii\or iii\or iv\or v\or vi\or vii\or viii\or ix\or x\fi}
%
\def\section#1\par{\advance\sectionnumber by 1 \subsectionnumber=0
    \vskip 14pt plus 3pt minus 3pt\goodbreak
    \centerline{{\sc\secno.\ #1}}\nobreak\medskip}
\def\subsection#1\par{\advance\subsectionnumber by 1 \subsubsectionnumber=0
    \ifdim\lastskip=\medskipamount\nobreak\vskip 8.5pt plus 2pt minus 2pt
       \else \vskip 8.5pt plus 2pt minus 2pt\goodbreak\fi
    \centerline{{\it\subsecno\/})\ {\it #1}}\nobreak\medskip}
\def\subsubsection#1\par{\advance\subsubsectionnumber by 1
    \ifdim\lastskip=\medskipamount\nobreak\vskip 8.5pt plus 2pt minus 2pt
       \else \vskip 8.5pt plus 2pt minus 2pt\goodbreak\fi
    \centerline{{\eightrm\subsubsecno)}\ {\it #1}}\nobreak\medskip}
%
\def\today{\ifcase\month\or
    January\or February\or March\or April\or May\or June\or
    July\or August\or September\or October\or November\or December\fi
    \space\number\day, \number\year}
%
\def\sol{\ifmmode _{\mathord\odot}
         \else $_{\mathord\odot}$\fi}
\def\deg{\ifmmode ^{\circ}
         \else $^{\circ}$\fi}
\def\pdeg{\ifmmode $\setbox0=\hbox{$^{\circ}$}\rlap{\hskip.11\wd0 .}$^{\circ}
          \else \setbox0=\hbox{$^{\circ}$}\rlap{\hskip.11\wd0 .}$^{\circ}$\fi}
% Tony's definitions
\def\vs6{{\vskip 6pt \noindent}}
\def\vs15{{\vskip 15pt \noindent}}
%
\def\arcs{\ifmmode {^{\scriptscriptstyle\prime\prime}}
          \else $^{\scriptscriptstyle\prime\prime}$\fi}
\def\arcm{\ifmmode {^{\scriptscriptstyle\prime}}
          \else $^{\scriptscriptstyle\prime}$\fi}
\newdimen\sa  \newdimen\sb
\def\parcs{\sa=.07em \sb=.03em
     \ifmmode $\rlap{.}$^{\scriptscriptstyle\prime\kern -\sb\prime}$\kern -\sa$
     \else \rlap{.}$^{\scriptscriptstyle\prime\kern -\sb\prime}$\kern -\sa\fi}
\def\parcm{\sa=.08em \sb=.03em
     \ifmmode $\rlap{.}\kern\sa$^{\scriptscriptstyle\prime}$\kern-\sb$
     \else \rlap{.}\kern\sa$^{\scriptscriptstyle\prime}$\kern-\sb\fi}
%
\def\s#1{{\sc #1}}
\def\et{\hbox{\it et al.}}
\def\ET{{\it ET AL.}}
\def\expo#1{\ifmmode \times 10^{#1}
            \else $\times 10^{#1}$\fi}
\def\page{\vfill\eject}
\def\leaderfil{\leaders\hbox to 5pt{\hss.\hss}\hfil}
%
\def\mo{\ifmmode ^{-1}
        \else $^{-1}$\fi}
\def\sup#1{$^{\rm #1}$}
\def\mag{\sup{m}}
\def\muK{\,$\mu$\hbox{K}}
\def\,{\thinspace}
\def\tc#1{3C\,#1}
\def\dots{\relax\ifmmode \ldots
          \else $\ldots$\fi}
\def\WHzsr{\ifmmode $W\,Hz\mo\,sr\mo$
           \else W\,Hz\mo\,sr\mo \fi}
\def\mKs{\ifmmode $\,mK\,s$^{-1/2} 
         \else \,mK\,s$^{-1/2}$ \fi}
\def\microns{\ifmmode \,\mu$m$
             \else \,$\mu$m\fi}
\def\micron{\microns}

%
\def\gsim{\lower.6ex\hbox{$\buildrel>\over\sim$}}
\def\lsim{\lower.6ex\hbox{$\buildrel<\over\sim$}}
\def\ra[#1 #2 #3.#4]{#1\sup{h}#2\sup{m}#3\sup{s}\llap.#4}
\def\dec[#1 #2 #3.#4]{#1\deg#2\arcm#3\arcs\llap.#4}
\def\deco[#1 #2 #3]{#1\deg#2\arcm#3\arcs}
%
\def\refindent{\hangindent=1em \hangafter=1 \noindent}
\def\ref #1;#2;#3;#4\par{\refindent #1,{\it #2},{\bf #3},#4.\par}
\def\ajref #1;#2;#3;#4\par{\refindent #1. #2 {\bf #3},#4.\par}
\def\vref #1\par{\refindent #1.\par}
\def\cref #1;#2;#3;#4;#5\par{\refindent #1, in{\it #2}, 
                             \hbox{ed.}#3 #4, \hbox{p.} #5.\par} 
\def\bref #1;#2;#3\par{\refindent #1, {\it #2} (#3).\par}
%
%
\def\tabl #1\par{\centerline{TABLE \number\tableno}
                 \vskip 7pt
                 \centerline{#1}\nointerlineskip\noindent}
\def\endtable{\tablewidth=\wd\tablebox 
    $$\hss\copy\tablebox\hss$$
    \vskip-\lastskip\vskip -2pt}
\def\tablenote#1 #2\par{\begingroup \parindent=0.8em
    \abovedisplayshortskip=0pt\belowdisplayshortskip=0pt
    \noindent
    $$\hss\vbox{\hsize\tablewidth \hangindent=\parindent \hangafter=1 \noindent
    \hbox to \parindent{\sup{\rm #1}\hss}\strut#2\strut\par}\hss$$
    \endgroup}
\def\tablenotenoindent #1 #2\par{\begingroup \parindent=0.8em
    \abovedisplayshortskip=0pt\belowdisplayshortskip=0pt
    \noindent
    $$\hss\vbox{\hsize\tablewidth \hangindent=0pt \hangafter=1 \noindent
    \hbox to \parindent{\sup{\rm #1}\hss}\strut#2\strut\par}\hss$$
    \endgroup}
\def\tablenotes #1\par{
            \iftform \goodbreak\topinsert{
                 \centerline{NOTES TO TABLE \number\tableno}
                 \vskip .3cm\noindent
                 \eightpoint\input #1 }\endinsert
            \else \iftabsopen\relax
                  \else\immediate\openout\tabs=junk1\tabsopentrue\fi
                \vskip .5cm
                \centerline{NOTES TO TABLE \number\tableno} \vskip .5cm
                \immediate\write\tabs{\string\etable\space#1\string\par}
            \fi}
\def\doubleline{\vskip 3pt\hrule \vskip 1.5pt \hrule \vskip 5pt}
%
% macros for marginal stuff
%
\def\marginstuff#1{\setbox\marginbox=\vtop{
    \hsize=60pt\tolerance=10000\hbadness=10000
%    \hsize=70pt\tolerance=10000\hbadness=10000
    \parindent=0pt\eightpoint#1\par}\strut}
\def\setmarginal{\strut\vadjust{\kern-\strutdepth\kern-\ht\marginbox\vtop{%
    \moveleft 70pt\hbox{\copy\marginbox}}\kern-\dp\marginbox\kern\strutdepth}}
%    \moveleft 80pt\hbox{\copy\marginbox}}\kern-\dp\marginbox\kern\strutdepth}}
%
% macro for absolute positioning on a page
%
\newdimen\offset 
\newdimen\unita \newdimen\unitb
\newdimen\mina  \newdimen\minb 
%
\unita=1.0cm \mina=0.0cm
\unitb=1.0in \minb=0.0in
%
%
\def\point #1 #2 #3;{\offset=#1\unitb\advance\offset by \minb%
    \rlap{\lower\offset\hbox{\hglue #2\unitb #3}}}%
%
% macros for memos
%
\font\ssq=cmssq8 at 7pt \font\ssbx=cmssbx10 at 12pt 
\setbox0=\hbox{\ssq ATENDEES \rm\quad}
\newdimen\atndwd \atndwd=\wd0
\def\file{}
\def\memo{\hsize=5.875in \hoffset=0.3125in
    \vsize=9in     \voffset=0in
    \elevenpoint
    \vglue -0.8in
    \line{\ssq\hfil INTEROFFICE MEMORANDUM\hfil \llap{\twelvepoint\bf\file}}
    \vskip 10pt
    \centerline{\hbox to 5.4in{\ssbx C A L I F O R N I A\hskip 12pt
                I N S T I T U T E\hskip 12pt O F\hskip 12pt 
                T E C H N O L O G Y}}
    \vskip 30pt}
\def\to#1{\line{\ssq TO \rm\quad #1\hfil\today}
          \vskip 12pt}
\def\from#1{\line{\ssq FROM \rm\quad C. R. Lawrence#1\hfil
                  \ssq EXTENSION \rm\quad 4976\quad\quad
                  \ssq MAIL CODE \rm\quad 105-24}
            \vskip 12pt}
\def\subject#1{\line{\ssq SUBJECT \rm\quad#1\hfil}
               \vskip 12pt}
\def\attendees#1{\hangindent=\atndwd \hangafter=1 \noindent
                \ssq ATENDEES \rm\quad#1
                \vskip 24pt}
\def\OVRO#1{\def\file{OVRO 5m \rlap{#1-87}}}
