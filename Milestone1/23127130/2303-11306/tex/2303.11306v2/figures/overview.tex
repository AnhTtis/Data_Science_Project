\begin{figure*}
    \centering
    \includegraphics[width=\textwidth]{images/architecture.pdf}
    \caption{
    Given a reference image, and its corresponding denoising process, our full pipeline consists of three main building blocks.
    We perform Mix-and-Match in the timestamp intervals $[T, T_3], [T_3, T_2], [T_2, 0]$ using the prompt $P(w)$. For example, during the intervals $[T, T_3], [T_2, 0]$ we set $w=\text{``basket''}$, while during the interval $[T_3, T_2]$ we set $w=\text{``tray''}$. 
    During the denoising process, we apply our attention-based shape localization technique to preserve other objects' structures (here, ``table''). We do so by selectively injecting the self-attention map from the reference denoising process.
    At $t=T_1$, we apply controllable background preservation by segmenting the reference and the newly generated images, blend them, and proceed the denoising process.
    }
    \vspace{-12pt}
    \label{fig:overview}
\end{figure*}
