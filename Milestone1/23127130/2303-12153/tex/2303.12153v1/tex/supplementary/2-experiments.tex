\section{Experiment Details}
\label{sec:experiment-details}

\input{tables/supplementary/tasks.tex}

We refer to Table.~\ref{table:text2motion-domains} for an overview of the tasks in the TableEnv Manipulation suite.
Task 6 is demonstrated on a real-robot (details Sec.~\ref{sec:demos}).

\subsection{Scene descriptions as symbolic states}
\label{sec:scene-descr-symbolic}
To provide scene context to Text2Motion and the baselines, we take a heuristic approach to converting a geometric state $s$ into a basic symbolic state $\mathfrak{s}$.
Symbolic states are comprised of three spatial relations: \graytext{on(a, b)}, \graytext{under(a, b)}, and \graytext{inhand(a)}. \graytext{inhand(a) = True} when the object a's z value is above a predefined height threshold. \graytext{on(a, b) = True} when i) a is above b (determined by checking if a's axis-aligned bounding box is greater than b'x axis-aligned bounding box) ii) a's bounding box intersects b's bounding box  iii) a is not inhand iv) the z distance between a and b is below a certain threshold. \graytext{under(a, b) = True} when a is not above b and a's bounding box intersects b's bounding box.

% For two objects a and b, \graytext{on(a, b)} evaluates to true if is_above(a, b) is_intersecting(a, b)
% and not is_inhand(obj_a, sim=sim)
% and abs(obj_a.aabb(sim=sim)[0, 2] - obj_b.aabb(sim=sim)[1, 2]) < on_distance

The proposed goal proposition prediction technique is also constrained to predict within this set of predicates.
We highlight that objects are neither specified as within or beyond the robot workspace, as we leave it to the skill value functions to determine the feasibility of the primitives  (Sec.~\ref{sec:learning-models}). 

We note that planning in high-dimensional observation spaces is not the focus of this work. 
Thus, we assume knowledge of objects in the scene and use hand-crafted heuristics to detect spatial relations between objects. 
There exists several techniques to distill high-dimensional observations into scene descriptions, such as the one used in \cite{zeng2022socratic}.
We leave exploration of these options to future work.

\subsection{In-Context Examples}
\label{sec:suppl-incontext-examples}

For all experiments and methods, we use the following in context examples.

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'hook', 'rack', 'yellow box', 'blue box', 'red box']\\
Object relationships: ['inhand(hook)', 'on(yellow box, table)', 'on(rack, table)', 'on(blue box, table)']\\
Human instruction: How would you push two of the boxes to be under the rack?\\
Goal predicate set: [['under(yellow box, rack)', 'under(blue box, rack)'], ['under(blue box, rack)', 'under(red box, rack)'], ['under(yellow box, rack)', 'under(red box, rack)']]\\
Top 1 robot action sequences: ['push(yellow box, hook, rack)', 'push(red box, hook, rack)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'cyan box', 'hook', 'blue box', 'rack', 'red box']\\
Object relationships: ['on(hook, table)', 'on(rack, table)', 'on(blue box, table)', 'on(cyan box, table)', 'on(red box, table)']\\
Human instruction: How would you push all the boxes under the rack?\\
Goal predicate set: [['under(blue box, rack)', 'under(cyan box, rack)', 'under(red box, rack)']]\\
Top 1 robot action sequences: ['pick(blue box)', 'place(blue box, table)', 'pick(hook)', 'push(cyan box, hook, rack)', 'place(hook, table)', 'pick(blue box)', 'place(blue box, table)', 'pick(hook)', 'push(blue box, hook, rack)', 'push(red box, hook, rack)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'cyan box', 'red box', 'hook', 'rack']\\
Object relationships: ['on(hook, table)', 'on(rack, table)', 'on(cyan box, rack)', 'on(red box, rack)']\\
Human instruction: put the hook on the rack and stack the cyan box above the rack - thanks\\
Goal predicate set: [['on(hook, rack)', 'on(cyan box, rack)']]\\
Top 1 robot action sequences: ['pick(hook)', 'pull(cyan box, hook)', 'place(hook, rack)', 'pick(cyan box)', 'place(cyan box, rack)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'rack', 'hook', 'cyan box', 'yellow box', 'red box']\\
Object relationships: ['on(yellow box, table)', 'on(rack, table)', 'on(cyan box, table)', 'on(hook, table)', 'on(red box, rack)']\\
Human instruction: Pick up any box.\\
Goal predicate set: [['inhand(yellow box)'], ['inhand(cyan box)']]\\
Top 1 robot action sequences: ['pick(yellow box)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'blue box', 'cyan box', 'hook', 'rack', 'red box', 'yellow box']\\
Object relationships: ['inhand(hook)', 'on(red box, rack)', 'on(yellow box, table)', 'on(blue box, table)', 'on(cyan box, rack)', 'on(rack, table)']\\
Human instruction: could you move all the boxes onto the rack?\\
Goal predicate set: [['on(yellow box, rack)', 'on(blue box, rack)']]\\
Top 1 robot action sequences: ['pull(yellow box, hook)', 'place(hook, table)', 'pick(yellow box)', 'place(yellow box, rack)', 'pick(blue box)', 'place(blue box, rack)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'blue box', 'red box', 'hook', 'rack', 'yellow box']\\
Object relationships: ['on(hook, table)', 'on(blue box, table)', 'on(rack, table)', 'on(red box, table)', 'on(yellow box, table)']\\
Human instruction: situate an odd number greater than 1 of the boxes above the rack\\
Goal predicate set: [['on(blue box, rack)', 'on(red box, rack)', 'on(yellow box, rack)']]\\
Top 1 robot action sequences: ['pick(hook)', 'pull(blue box, hook)', 'place(hook, table)', 'pick(blue box)', 'place(blue box, rack)', 'pick(red box)', 'place(red box, rack)', 'pick(yellow box)', 'place(yellow box, rack)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'cyan box', 'hook', 'red box', 'yellow box', 'rack', 'blue box']\\
Object relationships: ['on(hook, table)', 'on(red box, table)', 'on(blue box, table)', 'on(cyan box, table)', 'on(rack, table)', 'under(yellow box, rack)']\\
Human instruction: How would you get the cyan box under the rack and then ensure the hook is on the table?\\
Goal predicate set: [['under(cyan box, rack)', 'on(hook, table)']]\\
Top 1 robot action sequences: ['pick(blue box)', 'place(blue box, table)', 'pick(red box)', 'place(red box, table)', 'pick(hook)', 'push(cyan box, hook, rack)', 'place(hook, table)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'cyan box', 'hook', 'yellow box', 'blue box', 'rack']\\
Object relationships: ['on(hook, table)', 'on(yellow box, rack)', 'on(rack, table)', 'on(cyan box, rack)']\\
Human instruction: set the hook on the rack and stack the yellow box onto the table and set the cyan box on the rack\\
Goal predicate set: [['on(hook, rack)', 'on(yellow box, table)', 'on(cyan box, rack)']]\\
Top 1 robot action sequences: ['pick(yellow box)', 'place(yellow box, table)', 'pick(hook)', 'pull(yellow box, hook)', 'place(hook, table)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'cyan box', 'hook', 'rack', 'red box', 'blue box']\\
Object relationships: ['on(hook, table)', 'on(blue box, rack)', 'on(cyan box, table)', 'on(red box, table)', 'on(rack, table)']\\
Human instruction: Move the warm colored box to be underneath the rack.\\
Goal predicate set: [['under(red box, rack)']]\\
Top 1 robot action sequences: ['pick(blue box)', 'place(blue box, table)', 'pick(red box)', 'place(red box, table)', 'pick(hook)', 'push(red box, hook, rack)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'blue box', 'hook', 'rack', 'red box', 'yellow box']\\
Object relationships: ['on(hook, table)', 'on(red box, table)', 'on(blue box, table)', 'on(yellow box, rack)', 'on(rack, table)']\\
Human instruction: Move the ocean colored box to be under the rack and ensure the hook ends up on the table.\\
Goal predicate set: [['under(blue box, rack)']]\\
Top 1 robot action sequences: ['pick(red box)', 'place(red box, table)', 'pick(yellow box)', 'place(yellow box, rack)', 'pick(hook)', 'push(blue box, hook, rack)', 'place(hook, table)']\\}}}}}

\noindent\fbox{\parbox{0.97\linewidth}{\small{\texttt{{\\Available scene objects: ['table', 'cyan box', 'hook', 'rack', 'red box', 'blue box']\\
Object relationships: ['on(hook, table)', 'on(cyan box, rack)', 'on(rack, table)', 'on(red box, table)', 'inhand(blue box)']\\
Human instruction: How would you set the red box to be the only box on the rack?\\
Goal predicate set: [['on(red box, rack)', 'on(blue box, table)', 'on(cyan box, table)']]\\
Top 1 robot action sequences: ['place(blue box, table)', 'pick(hook)', 'pull(red box, hook)', 'place(hook, table)', 'pick(red box)', 'place(red box, rack)', 'pick(cyan box)', 'place(cyan box, table)']\\}}}}}

\vspace{10pt}