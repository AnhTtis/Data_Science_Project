
\begin{tikzpicture}
\tikzstyle{A0} = [-, >={stealth}, rounded corners]
\tikzstyle{A1} = [->, >={stealth}, rounded corners]
\tikzstyle{A1learn} = [->, >={stealth}, rounded corners, color=uniblue2, line width=0.1mm]
\tikzstyle{A1paramupdate} = [->, >={stealth}, rounded corners, color=unired2, line width = 0.5mm]
\tikzstyle{A2} = [<->, >={stealth}, rounded corners]
\tikzstyle{selfloop} = [looseness=4]

\tikzstyle{every node}=[font=\footnotesize]

\newcommand{\xshift}{0.5}
\newcommand{\yshift}{0.1}

\node (origin)
    at (0.0, 0.0)
    []
    {};

\node (preprocessing)
    [right= \xshift of origin]
    {Pre-Processing};

\node (actor)
    [right= \xshift of preprocessing]
    {Actor \( \actornetworkvec \)};

\node (reshapeprecoder)
    [right= \xshift of actor]
    {Reshape};

\node (commsystem)
    [right = \xshift of reshapeprecoder, align=center]
    {Sum Rate\\Calculation \refeq{eq:sumRate}};

\node (buffer)
    [below right = \yshift of actor, align=center]
    {Exp.\\Buffer};

\node (learningmodule)
    [left = \xshift of buffer, align=center]
    {Learning\\Module};

\node (critic)
    [left = \xshift of learningmodule, align=center]
    {Critic \( \criticnetworksca \)};


\draw [A1]
    (origin)
        to node [above, align=center] {\( \tilde{\csimatrix}_{\timeindex} \)}
    (preprocessing);

\draw [A1]
    (preprocessing)
        to node [above, align=center] {\( \statevec_{\timeindex} \)}
    (actor);

\draw [A1]
    (actor)
        to node [above, align=center] {\( \actionvec_{\timeindex} \)}
    (reshapeprecoder);

\draw [A1]
    (reshapeprecoder)
        to node [above, align=center] {\( \precodingmatrix_{\timeindex} \)}
    (commsystem);

\draw [A1learn]
    (commsystem.south)
        |- node [right, align=center, color=black] {\( \sumrate_{\timeindex} \)}
    (buffer);

\draw [A1learn]
    (buffer)
        to
    (learningmodule);

\draw [A1learn]
    (preprocessing.east)
        to
    (buffer);

\draw [A1learn]
    (actor.east)
        to
    (buffer);

\draw [A1learn]
    (critic.east)
        to [bend left, looseness=1.2]
    (learningmodule.west);

\draw [A1paramupdate]
    (learningmodule.north)
        to 
    ([xshift=-0.1cm, yshift=-0.1cm]actor);

\draw [A1paramupdate]
    (learningmodule.west)
        to [bend left, looseness=1.2]
    (critic.east);

\end{tikzpicture}

% Relative coordinates:
%	+(0.1, 2.0) relative coordinate that does not update the current position
%	++(0.1, 2.0) relative coordinate that DOES update current position


%\node (node1)
%	%at (+0.0*\xshift, +0.0*\yshift)
%	at (0, 0)
%	[draw]
%	{text};

%\draw[A0]
%	(node1) to (+1.0, +1.0);

%\draw[A1]
%	(node1)
%		edge []
%		node [below, align=center] {}
%	(-1.0, -1.0);

% ---
