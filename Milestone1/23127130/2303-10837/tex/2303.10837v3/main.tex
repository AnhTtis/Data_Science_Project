%%%%%%%% mlsys 2024 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%

\documentclass{article}

% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx}
%\usepackage{subfigure}
\usepackage{booktabs} % for professional tables

% hyperref makes hyperlinks in the resulting PDF.
% If your build breaks (sometimes temporarily if a hyperlink spans a page)
% please comment out the following usepackage line and replace
% \usepackage{mlsys2023} with \usepackage[nohyperref]{mlsys2023} above.
\usepackage{hyperref}

% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}

% Use the following line for the initial blind version submitted for review:
% \usepackage{mlsys2024}

% If accepted, instead use the following line for the camera-ready submission:
\usepackage[accepted]{mlsys2024}

\usepackage[ruled,algo2e]{algorithm2e}
\usepackage{textcomp}
\pagestyle{plain} % removes running headers

%\usepackage{algpseudocode}

\usepackage{xspace}
\usepackage{makecell}
\usepackage{float}

\usepackage{enumitem}
\let\proof\relax
\let\endproof\relax
\usepackage{amsmath,amsthm}
\usepackage{amssymb}
\usepackage{soul}
\usepackage{subcaption}


\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

\usepackage{wrapfig}

\usepackage{ulem}

\usepackage[capitalize,noabbrev]{cleveref}
% \usepackage{xcolor}
\usepackage{anyfontsize}
\newcommand{\tsref}[1]{\textsection\ref{#1}\xspace}
\usepackage{mdframed}
% \usepackage[framemethod=TikZ]{mdframed}
% \mdfdefinestyle{myframe}{%
%     linecolor=gray!15!white,
%     outerlinewidth=0.5pt,
%     roundcorner=2pt,
%     innertopmargin=2pt,%\baselineskip,
%     innerbottommargin=2pt,
%     innerrightmargin=2pt,
%     innerleftmargin=2pt,
%     backgroundcolor=gray!15!white
% }

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}


\newcommand\review[1]{
{\color{red}
{\textbf{Review:}
{\em#1}}}}
\newcommand\resolve[1]{
{\color{cyan}
{\textbf{Resolve:}
{\em#1}}}}

\newcommand{\weizhao}[1]{{\color{red}[Weizhao: #1]}}
\newcommand{\chaoyang}[1]{{ \color{red}[Chaoyang: #1]}}
\newcommand{\yuhang}[1]{{ \color{red}[Yuhang: #1]}}
\newcommand{\carlee}[1]{{ \color{red}[Carlee: #1]}}
\newcommand{\salman}[1]{{\color{red} [Salman: #1]}}
\newcommand{\sri}[1]{{ \color{red}[Sri: #1]}}
\newcommand{\shanshan}[1]{{\color{blue} [Shanshan: #1]}}

\newcommand{\switch}[1]{%
   \ifthenelse{\equal{#1}{0}}{\renewcommand{\review}[1]{}}{}
   \ifthenelse{\equal{#1}{0}}{\renewcommand{\resolve}[1]{}}{}}
\switch{1}
 \usepackage{comment}
\crefname{section}{\S}{\S\S}



% The \mlsystitle you define below is probably too long as a header.
% Therefore, a short form for the running title is supplied here:
\mlsystitlerunning{FedHE: An Efficient Homomorphic-Encryption-Based Privacy-Preserving Federated Learning System}

\begin{document}

\twocolumn[
\mlsystitle{FedML-HE: An Efficient Homomorphic-Encryption-Based Privacy-Preserving Federated Learning System}

% It is OKAY to include author information, even for blind
% submissions: the style file will automatically remove it for you
% unless you've provided the [accepted] option to the mlsys2023
% package.

% List of affiliations: The first argument should be a (short)
% identifier you will use later to specify author affiliations
% Academic affiliations should list Department, University, City, Region, Country
% Industry affiliations should list Company, City, Region, Country

% You can specify symbols, otherwise they are numbered in order.
% Ideally, you should not use this facility. Affiliations will be numbered
% in order of appearance and this is the preferred way.
\mlsyssetsymbol{equal}{*}

\begin{mlsysauthorlist}
\mlsysauthor{Weizhao Jin}{equal,usc}
\mlsysauthor{Yuhang Yao}{equal,cmu}
\mlsysauthor{Shanshan Han}{uci}
\mlsysauthor{Jiajun Gu}{cmu}
\mlsysauthor{Carlee Joe-Wong}{cmu}
\mlsysauthor{Srivatsan Ravi}{usc}
\mlsysauthor{Salman Avestimehr}{fedml}
\mlsysauthor{Chaoyang He}{fedml}
\end{mlsysauthorlist}

\mlsysaffiliation{usc}{University of Southern California}
\mlsysaffiliation{cmu}{Carnegie Mellon University}
\mlsysaffiliation{fedml}{FedML Inc.}
\mlsysaffiliation{uci}{University of California Irvine}

\mlsyscorrespondingauthor{Chaoyang He}{ch@fedml.ai}
\mlsyscorrespondingauthor{Weizhao Jin}{weizhaoj@usc.edu}
\mlsyscorrespondingauthor{Yuhang Yao}{yuhangya@andrew.cmu.edu}

% You may provide any keywords that you
% find helpful for describing your paper; these are used to populate
% the "keywords" metadata in the PDF but will not be shown in the document
\mlsyskeywords{Machine Learning, MLSys}

\vskip 0.3in

\input{abstract}
]

\printAffiliationsAndNotice{\mlsysEqualContribution} % otherwise use the standard text.


% {
% \color{red}
% Todo:
% \begin{itemize}
%     \item Better Introduction (limitations of DP, MPC)
%     \item Threshold/Multi Key Management with security proofs
%     \item A Pipeline figure
%     \item Pipeline Evaluation of Parameter Efficiency and Parameter Selection
%     \item more model and data poisoning attacks and more datasets
%     \item The Algorithm 1 HE-Based Federated Aggregation must include in the main paper (actually, Figure 1(b) can move to the appendix).
%     \item however, MPC is also used in the form of outsourced MPC for distributed aggregators, and does not suffer from things like drop outs or inter-client synchronisation steps.
% \end{itemize}
% }


\input{intro}

\input{design}
\input{proofs}
\input{evaluation}
\input{background}
\input{conclusion}

\newpage
\bibliography{refs}
\bibliographystyle{mlsys2024}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SUPPLEMENTAL CONTENT AS APPENDIX AFTER REFERENCES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{supp}


\end{document}