\documentclass{article}


% if you need to pass options to natbib, use, e.g.:
%     \PassOptionsToPackage{numbers, compress}{natbib}
% before loading neurips_2023


% ready for submission
\usepackage{neurips_2023}


% to compile a preprint version, e.g., for submission to arXiv, add add the
% [preprint] option:
%     \usepackage[preprint]{neurips_2023}


% to compile a camera-ready version, add the [final] option, e.g.:
%     \usepackage[final]{neurips_2023}


% to avoid loading the natbib package, add option nonatbib:
%    \usepackage[nonatbib]{neurips_2023}


\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{xcolor}         % colors

\usepackage{algorithm}
\usepackage[ruled,algo2e]{algorithm2e}
\usepackage{textcomp}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
 % Removes citation information below abstract
%\renewcommand\footnotetextcopyrightpermission[1]{} % removes footnote with conference information in first column
\pagestyle{plain} % removes running headers

\usepackage{algpseudocode}
\usepackage{graphicx}
\usepackage{xspace}
\usepackage{makecell}

\usepackage{enumitem}
\setlist[itemize]{leftmargin=*, noitemsep, nolistsep, topsep=0pt}
\setlist[enumerate]{leftmargin=*, noitemsep, nolistsep, topsep=0pt}

% \usepackage{caption}
% \DeclareCaptionFormat{myformat}{#3}
% \captionsetup[algorithm]{format=myformat}

\setlength{\emergencystretch}{10pt}
\usepackage{hyperref}
\usepackage{enumitem}
\let\proof\relax
\let\endproof\relax
\usepackage{amsmath,amsthm}
%\setlength{\itemsep}{10pt}
%\setlength{\listsep}{0pt}
\usepackage{soul}

\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

\usepackage[compact]{titlesec}
	\titlespacing{\section}{0pt}{2ex}{1ex}
	\titlespacing{\subsection}{0pt}{1ex}{0ex}
	\titlespacing{\subsubsection}{0pt}{0.5ex}{0ex}
%\titlespacing{\section}{0pt}{*0}{*0}
%\titlespacing{\subsection}{0pt}{*0}{*0}
%\titlespacing{\subsubsection}{0pt}{*0}{*0}


\usepackage[
	font=footnotesize,
	labelfont=bf,
	textfont=,
%	justification=centering,
	aboveskip=2pt,
	belowskip=0pt,
]{caption}


%\usepackage{mdwlist}

\usepackage{wrapfig}

\usepackage{subcaption}
\usepackage{geometry}
\geometry{
	left=1in,
	right=1in,
	top=1in, 
	bottom=1in,
% textwidth=15cm,  % llncs has 12.2cm
% textheight=24cm, % llncs has 19.3cm
  heightrounded,   % integer number of lines
  hratio=1:1,      % horizontally centered
  vratio=1:1,      % not vertically centered
}

\setlength{\parskip}{0pt}
\setlength{\parindent}{1em}
\setlength{\parsep}{0pt}
%\setlength{\headsep}{0pt}
\setlength{\topskip}{0pt}
%\setlength{\topmargin}{0pt}
\setlength{\topsep}{0pt}
\setlength{\partopsep}{0pt}

\usepackage[capitalize,noabbrev]{cleveref}

\usepackage{anyfontsize}
\newcommand{\tsref}[1]{\textsection\ref{#1}\xspace}

\usepackage[framemethod=TikZ]{mdframed}
\mdfdefinestyle{myframe}{%
    linecolor=gray!15!white,
    outerlinewidth=0.5pt,
    roundcorner=2pt,
    innertopmargin=2pt,%\baselineskip,
    innerbottommargin=2pt,
    innerrightmargin=2pt,
    innerleftmargin=2pt,
    backgroundcolor=gray!15!white
}

\usepackage[framemethod=TikZ]{mdframed}
\mdfdefinestyle{mydefframe}{%
    linecolor=cyan!10!white,
    outerlinewidth=0.5pt,
    roundcorner=10pt,
    innertopmargin=10pt,%\baselineskip,
    innerbottommargin=\baselineskip,
    innerrightmargin=10pt,
    innerleftmargin=10pt,
    backgroundcolor=cyan!10!white
}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}


\newcommand\review[1]{
{\color{red}
{\textbf{Review:}
{\em#1}}}}
\newcommand\resolve[1]{
{\color{cyan}
{\textbf{Resolve:}
{\em#1}}}}

\newcommand{\weizhao}[1]{{\color{orange} [Weizhao: #1]}}
\newcommand{\chaoyang}[1]{{\color{red} [Chaoyang: #1]}}
\newcommand{\yuhang}[1]{{\color{blue} [Yuhang: #1]}}
\newcommand{\carlee}[1]{{\color{red} [Carlee: #1]}}
\newcommand{\salman}[1]{{\color{red} [Salman: #1]}}
\newcommand{\sri}[1]{{\color{red} [Sri: #1]}}
\newcommand{\ssh}[1]{{\color{blue} [Shanshan: #1]}}

\newcommand{\switch}[1]{%
   \ifthenelse{\equal{#1}{0}}{\renewcommand{\review}[1]{}}{}
   \ifthenelse{\equal{#1}{0}}{\renewcommand{\resolve}[1]{}}{}}
\switch{0}
 \usepackage{comment}
\crefname{section}{\S}{\S\S}

\title{FedHE: An Efficient Homomorphic-Encryption-Based Privacy-Preserving Federated Learning System}


% The \author macro works with any number of authors. There are two commands
% used to separate the names and addresses of multiple authors: \And and \AND.
%
% Using \And between authors leaves it to LaTeX to determine where to break the
% lines. Using \AND forces a line break at that point. So, if LaTeX puts 3 of 4
% authors names on the first line, and the last on the second line, try using
% \AND instead of \And before the third author name.


\author{%
  David S.~Hippocampus\thanks{Use footnote for providing further information
    about author (webpage, alternative address)---\emph{not} for acknowledging
    funding agencies.} \\
  Department of Computer Science\\
  Cranberry-Lemon University\\
  Pittsburgh, PA 15213 \\
  \texttt{hippo@cs.cranberry-lemon.edu} \\
  % examples of more authors
  % \And
  % Coauthor \\
  % Affiliation \\
  % Address \\
  % \texttt{email} \\
  % \AND
  % Coauthor \\
  % Affiliation \\
  % Address \\
  % \texttt{email} \\
  % \And
  % Coauthor \\
  % Affiliation \\
  % Address \\
  % \texttt{email} \\
  % \And
  % Coauthor \\
  % Affiliation \\
  % Address \\
  % \texttt{email} \\
}


\begin{document}
\maketitle


% {
% \color{red}
% Todo:
% \begin{itemize}
%     \item \url{https://docs.google.com/document/d/1YgayY8rShucMbwDQiA7HadP1_F7BjH969lrbH2j7VBM/edit?usp=sharing}
%     \item If multi-key HE is also used, the problem of how to use a model encrypted with a multi-key also becomes non-trivial.
%     \item who does the key management
%     \item security proofs (or any proof sketch) and privacy guarantees discussion 
%     \item effectiveness on Parameter efficiency?
%     \item more model and data poisoning attacks and more datasets
%     \item an anonymous link to code repository
%     \item The Algorithm 1 HE-Based Federated Aggregation must include in the main paper (actually, Figure 1(b) can move to the appendix).
%     \item however, MPC is also used in the form of outsourced MPC for distributed aggregators, and does not suffer from things like drop outs or inter-client synchronisation steps.
% \end{itemize}

% }

\input{abstract}


\input{intro}
\input{background}
%\input{threatmodel}
\input{design}
\input{implementation}
\input{opt}
\input{evaluation}
%\input{related}
\input{conclusion}


% % \begin{ack}

% % \end{ack}



% \newpage
% \bibliography{refs}
% \bibliographystyle{ACM-Reference-Format}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{supp}
\bibliography{refs}
\bibliographystyle{ACM-Reference-Format}

\end{document}