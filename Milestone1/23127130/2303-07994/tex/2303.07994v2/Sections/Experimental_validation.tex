\section{Performance Improvement on an Interventional X-ray System}
\label{sec:experimental_validation}
The OP-regularized PGNN is validated on the interventional X-ray setup described in Section \ref{sec:problem_formulation}. It is shown that the PGNN improves the tracking performance by a factor of 5 (Section \ref{subsec:performance_increase}), and that the physical model and neural network contributions are complementary due to OP-regularization (Section \ref{subsec:complementarity}).

\subsection{Hyperparameters and Optimization Details}
An input-output dataset consisting of input $u$ and corresponding plant output $\theta$ for nominal operating conditions of the interventional X-ray is generated using feedback control, and split into 80$\%$ train, 10$\%$ test and 10$\%$ validation. Based on a hyperparameter study, the neural network has $L=2$ hidden layers with 30 neurons each and $\tanh$ activation functions. The PGNN is trained with OP-regularization using ADAM \citep{Kingma2015} with minibatching and early stopping based on the validation set with a patience of 5 minibatches. The physical model parameters are initialized corresponding to the best approximation using only the physical model. The trained feedforward controllers are evaluated based on the root-mean-square norm $\textrm{RMS}(s) = \textrm{sqrt} (N^{-1}\sum_{k=1}^N s(k)^2)$, mean absolute norm $\textrm{MA}(s) = N^{-1} \sum_{k=1}^N \abs{s(k)}$ and max absolute norm $\norm{s}_\infty = \max_{k=1}^N \abs{s(k)}$.

\subsection{Performance Improvement over Physical-Model-Based Feedforward Control}
\label{subsec:performance_increase}
\begin{figure}[b]
	\centering
	\includegraphics[]{./Figures/roll_f_target_model_hybrid.pdf}
	\caption{The PGNN feedforward controller generates input (\protect \drawlinelegend{morange}) that matches the required input $\hat{u}$ (\protect \drawlinelegend{dashed, mblue}), learning the friction and cable forces that change as a function of the configuration (scaled velocity \protect \drawlinelegend{dashed,black}). In contrast, the physical-model-based feedforward controller (\protect \drawlinelegend{mred}) does not include these hard-to-model phenomena, instead generating an input with a similar average slope, resulting in predictable residuals.}
	\label{fig:f_dataset_roll}
\end{figure}
The PGNN feedforward parametrization \eqref{eq:parallel_feedforward} significantly improves the performance over a purely physical-model-based approach, both in terms of matching the required input $\hat{u}$ from a dataset, as well as decreasing tracking errors during realtime evaluation, as detailed next.

\subsubsection{Performance on Dataset}
Fig. \ref{fig:f_dataset_roll} shows the generated input $f$ for the PGNN and a purely physical-model-based approach, and compares it to the required input $\hat{u}$. The increased match between $f$ and $\hat{u}$ obtained by learning the configuration-dependent friction and cable characteristics is substantiated by Table \ref{table:f_residual_norm}, illustrating that the PGNN has a of factor 10 smaller input residuals. 
% The PGNN is able to accurately match $\hat{u}$, capturing configuration-dependent friction and cable characteristics, in contrast to the physical model that leaves reproducible residuals.

\subsubsection{Realtime Performance}
\begin{figure}[b]
	\centering
	\includegraphics[]{./Figures/roll_e_noFF_model_hybrid.pdf}
\caption{The PGNN feedforward controller (\protect \drawlinelegend{morange}) compensates almost all dynamics, resulting in a tracking error of a few encoder counts (indicated in the inset). In contrast, the physical-model-based feedforward controller (\protect \drawlinelegend{mred}) improves upon the feedback only case (\protect \drawlinelegend{mpurple}), but still contains predictable errors from uncompensated dynamics. All approaches suffer from transient errors after stationary periods (\protect \drawrectanglelegend{darkgray}) with zero velocity reference (\protect \drawlinelegend{dashed,black}), potentially caused by stick-slip behaviour.}	
	\label{fig:e_realtime_roll}
\end{figure}
Fig. \ref{fig:e_realtime_roll} compares the tracking errors of the PGNN, purely physical-model-based, and no feedforward controller for a trajectory different from the training data, but with similar maximum velocity and acceleration. The reduction in tracking error due to the inclusion of a neural network is quantified by Table \ref{table:e_realtime_norm_roll} which summarizes the performance norms of the tracking error. The PGNN feedforward controller improves the tracking error by a factor of 5 compared to a physical-model-based approach in terms of MA and RMS norm. The Inf norm is unaltered, as both approaches suffer from transients after stationary periods that cause these errors.
%  Although the physical model improves the tracking error w.r.t. feedback only, it still contains predictable dynamics. By learning the configuration-dependent cable and friction characteristics, the PGNN is able to achieve tracking errors within a few encoder counts.

%Table \ref{table:e_realtime_norm_roll} summarizes the performance norms of the tracking error, illustrating that the PGNN feedforward controller improves the tracking error by a factor 5 compared to a physical-model-based approach in terms of MA and RMS norm. The Inf norm is unaltered, as both approaches suffer from transients after stationary periods that causes these errors. 
\input{./Tables/e_realtime_norm_roll.tex}

\subsection{Complementarity of Neural Network}
\label{subsec:complementarity}
In addition to improving performance, the orthogonal projection-based regularization \eqref{eq:OP_regularization} also ensures complementarity between the physical model and neural network in PGNN parametrization \eqref{eq:parallel_feedforward}. Fig. \ref{fig:f_LS_hybrid_components} shows the physical model and neural network component of the PGNN for the same interval as Fig. \ref{fig:f_dataset_roll}, for both a PGNN trained with $J_{LS}$ in \eqref{eq:LS_costs} (default PGNN), and one trained with OP-regularized criterion $J_{OP}$ in \eqref{eq:J_OP} (PGNN-OP), from which it follows that a least-squares criterion indeed can result in non-complementary contributions, resulting in an uninterpretable physical model that cannot be used as a baseline.

\begin{figure}[t]
	\centering
	\includegraphics[]{./Figures/roll_f_Hybrid_2x30Np_2x30Nr_NONE_l1_model_too_big_NN_opposing2_f_M_f_C.pdf}
		\includegraphics[]{./Figures/roll_f_RegularizedParallelHybrid_f_M_f_C.pdf}
	\caption{The PGNN feedforward parametrization $\mathcal{F}_{\zeta,\phi}$ is unidentifiable, i.e., there exists multiple parameter sets $\zeta,\phi$ resulting in different physical model (\protect \drawlinelegend{mgreen}) and neural network (\protect \drawlinelegend{mcyan}) contributions that together (\protect \drawlinelegend{morange}) generate the required input $\hat{u}$ (\protect \drawlinelegend{mblue, dashed}). Consequently, training with a least-square criterion (upper) can result in non-complementary contributions and an uninterpretable physical model. In contrast, training with orthogonal projection-based regularization (lower) results in complementary contributions, such that the physical model component remains interpretable and can be used as a baseline. (\protect \drawlinelegend{dashed,black}) represents the scaled velocity reference.}
	\label{fig:f_LS_hybrid_components}
\end{figure}

Table \ref{table:f_residual_norm} shows that both the default PGNN and PGNN-OP can generate the required input $\hat{u}$ up to the same accuracy, but the PGNN-OP requires significantly less neural network contribution due to the regularization enforcing complementarity.

\input{./Tables/f_residual_norm_roll.tex}
