\pdfoutput=1
\documentclass[sigconf,nonacm,natbib=false]{acmart}
%
%
%
%
%
%
\setcopyright{none}
\settopmatter{printacmref=false}
\settopmatter{printfolios=true}


\usepackage{import}
\import{./lib/}{boilerplate_pdflatex.tex}
\import{./lib/}{colors.tex}
\import{./lib/}{tikzpgfplot.tex}
\import{./lib/}{tikzpgfplot_parulalinestyles.tex}
\import{./lib/}{tikzpgfplot_plotstyles.tex}
\import{./lib/}{tikzpgfplot_blockchainstructures.tex}
\import{./lib/}{tables.tex}
\import{./lib/}{algorithms.tex}
\import{./lib/}{spacinghacks.tex}
\import{./lib/}{lateplate_pdflatex.tex}

\input{custom_commands}


%
\usepackage[datamodel=acmdatamodel,style=acmnumeric]{biblatex}
\addbibresource{references.bib}


\begin{document}

%
%
%
%
%
%
%
%
%
%
%
%
\title{Security of Blockchains at Capacity}
%


\author{Lucianna Kiffer}
\email{lkiffer@ethz.ch}
\affiliation{\country{}}
%
\author{Joachim Neu}
\email{jneu@stanford.edu}
\affiliation{\country{}}
%
\author{Srivatsan Sridhar}
\email{svatsan@stanford.edu}
\affiliation{\country{}}
%
\author{Aviv Zohar}
\email{avivz@cs.huji.ac.il}
\affiliation{\country{}}
%
\author{David Tse}
\email{dntse@stanford.edu}
\affiliation{\country{}}

\thanks{LK, JN, SS and AZ are listed alphabetically.}

%
\newcommand{\gitSourceUrl}[0]{\url{https://github.com/avivz/finitebwlc}}


\begin{abstract}
    Given a network of nodes with certain communication and computation capacities,
    what is the maximum rate at which a blockchain can run securely?
    We study this question for proof-of-work (PoW) and proof-of-stake (PoS) longest chain protocols under a `bounded bandwidth' model which
    %
    captures queuing and processing delays due to high block rate relative to capacity, bursty release of adversarial blocks, and in PoS, spamming due to equivocations.
    %
    %

    We demonstrate that security of both PoW and PoS longest chain, when operating at capacity, requires carefully designed scheduling policies that correctly prioritize which blocks are processed first,
    as we show attack strategies tailored to such policies.
    In PoS, we show an attack exploiting equivocations,
    %
    which highlights that
    %
    the
    throughput
    %
    of the PoS longest chain protocol
    with a broad class of scheduling policies
    %
    must decrease as the desired
    %
    security error probability
    decreases.
    %
    %
    At the same time, through an improved analysis method,
    our work is the first to
    %
    identify block production rates under which PoW longest chain is secure in the bounded bandwidth setting.
    %
    We also present the first PoS longest chain protocol, \sapos, which is secure with
    a block production rate
    %
    independent of the security error probability, by using an `equivocation removal' policy to prevent equivocation spamming.
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
    %
\end{abstract}


\maketitle

\input{01_introduction.tex}
\input{01b_attacks.tex}
\input{02_modelprotocol.tex}
\input{03_analysis.tex}
\input{04_pow.tex}
\input{05_pos.tex}
\input{06_throughputloss.tex}
\input{08_outlook.tex}


%
\begin{acks}
    We thank
    %
    Lei Yang, Mohammad Alizadeh,
    Ertem Nusret Tas,
    Ghassan Karame,
    Florian Tschorsch,
    and
    George Danezis
    for fruitful discussions.
    The work of LK, JN, and AZ
    was conducted in part
    during Dagstuhl Seminar \#22421.
    JN is supported by the Protocol Labs PhD Fellowship.
    JN and SS are supported by a gift from
    the Ethereum Foundation.
    LK is supported by the
    armasuisse Science and Technology CYD Distinguished Postdoctoral Fellowship.
    AZ is supported by grant \#1443/21 from the Israel Science Foundation.
\end{acks}


%
%
%

%
\printbibliography%


\appendix

\input{A01_pseudocode_helpers.tex}
\input{A03_experiment_details.tex}
\input{A05_security_proof_details.tex}
\input{A06_pow_proofs.tex}
\input{A07_pos_proofs.tex}
\input{A04_proof_details.tex}
\input{A02_pos_attack.tex}

%



%
%
%


%
%
%
%


\end{document}