%\begin{proof}
    The proof follows by induction over $t$:
    \begin{itemize}
        \item Case $t = y$. Then we have to consider two cases:
        \begin{itemize}
            \item Case $t = y \not= x$. Then, $t \subs{x}{v} = y$. Let $\Gam_v = \eset$, $\M = \emul$, $b_v = 0$, and $s_v = 0$. Then, $\Phi_v$ is derivable using rule ($\ruleMany$). We also take $\Phi_t = \Phi_{t \subs{x}{v}}$, so that, in particular $\Gam_t = \Gam_{t \subs{x}{v}}$. Then, we conclude with $\Gam_{t \subs{x}{v}} = \Gam_t + \Gam_v = \Gam_t$, $b = b_t + b_v = b_t$, and $s = s_t + s_v = s_t$.
            \item Case $t = y = x$. Then, $t \subs{x}{v} = v$. Let $\Gam_t = \eset$, $b_t = 0$, and $s_t = 0$. Now, we have to consider two cases depending on the last rule used in $\Phi_{t \subs{x}{v}}$: 
            \begin{itemize}
                \item Case $\Phi_{t \subs{x}{v}}$ ends with rule ($\ruleAx$), then $\tau = \sig$. Let $\Gam_v = \Gam_{t \subs{x}{v}}$, $\M = \mul{\sig}$, $b_v = b$, and $s_v = s$. Then, we can build derivation $\Phi_v$ as follows:
                \[ \begin{prooftree}
                    \hypo{\Phi_{t \subs{x}{v}} \tr \seqi{\Gam_{t \subs{x}{v}}}{v}{\sig}{(b,s)}}
                    \infer1[(\ruleMany)]{\seqi{\Gam_{t \subs{x}{v}}}{v}{\mul{\sig}}{(b,s)}}
                \end{prooftree} \]
                Let $\Gam_t = \eset$, $b_t = 0$, and $s_t = 0$. Then, $\Phi_t \tr \seqi{x : \mul{\sig}}{x}{\sig}{(0,0)}$ is given by rule ($\ruleAx$). So we can conclude with $\Gam_{t \subs{x}{v}} = \Gam_v = \Gam_t + \Gam_v$, $b = b_v = b_t + b_v$, and $s = s_v = s_t + s_v$.
                \item Case $\Phi_{t \subs{x}{v}}$ ends with rule ($\ruleMany$), then $\tau = \mul{\sig_i}_{\iI}$, for some $I$. Let $\Gam_t = \eset$, and $\M = \mul{\sig_i}_{\iI}$. Then, we can build $\Phi_t$ as follows:
                \[ \begin{prooftree}
                    \infer0[(\ruleAx)]{(\seqi{x : \mul{\sig_i}}{x}{\sig_i}{(0,0)})_{\iI}}
                    \infer1[(\ruleMany)]{\seqi{x : \mul{\sig_i}_{\iI}}{x}{\mul{\sig_i}_{\iI}}{(0,0)}}
                \end{prooftree} \] 
                Then, we can take $\Phi_v = \Phi_{t \subs{x}{v}}$, so that $\Gam_v = \Gam_{t \subs{x}{v}}$, $b_v = b$, and $s_v = s$. And we can conclude $\Gam_{t \subs{x}{v}} = \Gam_v = \Gam_t + \Gam_v$, $b = b_v = b_t + b_v$, and $s = s_v = s_t + s_v$.
            \end{itemize}
        \end{itemize}
        \item Case $t = \lam y.u$. Then $t \subs{x}{v} = (\lam y.u) \subs{x}{v} = \lam y.(u \subs{x}{v})$ and we have to consider three cases:
        \begin{itemize}
            \item Case $\Phi_{t \subs{x}{v}}$ ends with rule (\ruleLam), then it must be of the following form:
            \[ \begin{prooftree}
                \hypo{\Phi_{u \subs{x}{v}} \tr \seqi{\Gam_{u \subs{x}{v}}; y : \M'}{u \subs{x}{v}}{\tau'}{(b, s)}}
                \infer1[(\ruleLam)]{\seqi{\Gam_{u \subs{x}{v}}}{\lam y.(u \subs{x}{v})}{\M' \ta \tau'}{(b, s)}}
            \end{prooftree} \]
            where $\tau = \M' \ta \tau'$, and $\Gam_{t \subs{x}{v}} = \Gam_{u \subs{x}{v}}$. By the \ih, we have the following derivations $\Phi_u \tr \seqi{\Gam_u; y: \M'; x : \M}{u}{\del}{(b_u, s_u)}$ and $\Phi_v \tr \seqi{\Gam_v}{v}{\M}{(b_v, s_v)}$, such that $\Gam_{u \subs{x}{v}} = \Gam_u + \Gam_v$, $b = b_u + b_v$, and $s = s_u + s_v$. And we can build $\Phi_{\lam y.u}$ as follows:
            \[ \begin{prooftree}
                \hypo{\Phi_u \tr \seqi{\Gam_u; y : \M'; x : \M}{u}{\tau'}{(b_u, s_u)}}
                \infer1[(\ruleLam)]{\seqi{\Gam_u; x : \M}{\lam y.u}{\M' \ta \tau'}{(b_u, s_u)}}
            \end{prooftree} \]
            So we can pick $\Phi_t = \Phi_{\lam y.u}$, and conclude with $\Gam_{t \subs{x}{v}} = \Gam_{u \subs{x}{v}} = \Gam_u + \Gam_v$, $b = b_u + b_v$, and $s = s_u + s_v$.
            \item Case $\Phi_{t \subs{x}{v}}$ ends with rule (\ruleLamP), then is must be of the following form:
            \[ \begin{prooftree}
                \infer0[(\ruleLamP)]{\seqi{}{\lam y.(u \subs{x}{v})}{\tabs}{(0,0)}}
            \end{prooftree} \]
            where $\tau = \tabs$, $\Gam_{t \subs{x}{v}} = \eset$, $b = 0$, and $s = 0$. Let $\Gam_t = \eset$, $\M = \emul$, $b_t = 0$, and $s_t = 0$. Then, we can build $\Phi_t$ as follows:
            \[ \begin{prooftree}
                \infer0[(\ruleLamP)]{\seqi{}{\lam y.u}{\tabs}{(0,0)}}
            \end{prooftree} \]
            Let $\Gam_v = \eset$, $b_v = 0$, and $s_v = 0$. Then $\Phi_v$ can be constructed by using rule (\ruleMany) with no premises. So we can conclude with $\Gam_{t \subs{x}{v}} = \eset = \Gam_t + \Gam_v$, and $b = 0 = b_t + b_v$, and $s = 0 = s_t + s_v$.
            \item Case $\Phi_{t \subs{x}{v}}$ ends with rule ($\ruleMany$). Then $t \subs{x}{v}$ and $t$ are values, and $\Phi_{t \subs{x}{v}}$ must be of the following form:
            \[ \begin{prooftree}
                \hypo{(\Phi_i \tr \seqi{\Gam_i}{t \subs{x}{v}}{\sig_i}{(b_i,s_i)})_{\iI}}
                \infer1[(\ruleMany)]{\seqi{+_{\iI} \Gam_i}{t \subs{x}{v}}{\mul{\sig_i}_{\iI}}{(+_{\iI} b_i, +_{\iI} s_i)}}
            \end{prooftree} \]
            where $\tau = \mul{\sig_i}_{\iI}$, $\Gam_{t \subs{x}{v}} = +_{\iI} \Gam_i$, $b = +_{\iI} b_i$, and $s = +_{\iI} s_i$. By the \ih over each $\Phi_i$, we have the following derivations $\Phi^i_t \tr \seqi{\Gam^i_t; x : \M_i}{t}{\sig_i}{(b^i_t, s^i_t)}$ and $\Phi^i_v \tr \seqi{\Gam^i_v}{v}{\M_i}{(b^i_v, s^i_v)}$, such that $\Gam_i = \Gam^i_t + \Gam^i_v$, $b_i = b^i_t + b^i_v$, and $s_i = s^i_t + s^i_v$,for each $\iI$. So we can build $\Phi_t$ as follows:
            \[ \begin{prooftree}
                \hypo{(\Phi^i_t \tr \seqi{\Gam^i_t; x : \M_i}{t}{\sig_i}{(b^i_t, s^i_t)})_{\iI}}
                \infer1[(\ruleMany)]{\seqi{+_{\iI} \Gam^i_t; x : \sqcup_{\iI} \M_i}{t}{\mul{\sig_i}_{\iI}}{(+_{\iI} b^i_t, +_{\iI} s^i_t)}}
            \end{prooftree} \]
            such that $\Gam_t = +_{\iI} \Gam^i_t$, $\M = \sqcup_{\iI} \M_i$, $b_t = +_{\iI} b^i_t$, and $s_t = +_{\iI} s^i_t$. By~\cref{lem:merge-values}, we can take the following derivation $\Phi_v \tr \seqi{+_{\iI} \Gam^i_v}{v}{\M}{(+_{\iI} b^i_v, +_{\iI} s^i_v)}$. And we can conclude with $\Gam_{t \subs{x}{v}} = +_{\iI} \Gam_i = +_{\iI} (\Gam^i_t + \Gam^i_v) = +_{\iI} \Gam^i_t +_{\iI} \Gam^i_v = \Gam_t + \Gam_v$, $b = +_{\iI} b_i = +_{\iI} (b^i_t + b^i_v) = +_{\iI} b^i_t +_{\iI} b^i_v = b_t + b_v$, and $s = +_{\iI} s_i = +_{\iI} (s^i_t + s^i_v) = +_{\iI} s^i_t +_{\iI} s^i_v = s_t + s_v$.
        \end{itemize}
        \item Case $t = up$. Then $t \subs{x}{v} = (u \subs{x}{v}) (p \subs{x}{v})$ and we have to consider three cases:
        \begin{itemize}
            \item Case $\Phi_{t \subs{x}{v}}$ ends with ($\ruleApp$), then it must be of the following form:
            \[ \begin{prooftree}
                \hypo{\Phi_{u \subs{x}{v}} \tr \seqi{\Gam_{u \subs{x}{v}}}{u \subs{x}{v}}{\M' \ta \tau}{(b', s')}}
                \hypo{\Phi_{p \subs{x}{v}} \tr \seqi{\Gam_{p \subs{x}{v}}}{p \subs{x}{v}}{\M'}{(b'', s'')}}
                \infer2[(\ruleApp)]{\seqi{\Gam_{u \subs{x}{v}} + \Gam_{p \subs{x}{v}}}{(u \subs{x}{v})(p \subs{x}{v})}{\tau}{(1+b'+b'', s'+s'')}}
            \end{prooftree} \]
            where $\Gam_{t \subs{x}{v}} = \Gam_{u \subs{x}{v}} + \Gam_{p \subs{x}{v}}$, $b = 1+b'+b''$, and $s = s' + s''$. By the \ih over $\Phi_{u \subs{x}{v}}$, we have the following derivations $\Phi_u \tr \seqi{\Gam_u; x : \M_1}{u}{\M' \ta \tau}{(b_u,s_u)}$ and $\Phi^1_v \tr \seqi{\Gam^1_v}{v}{\M_1}{(b^1_v,s^1_v)}$, such that $\Gam_{u \subs{x}{v}} = \Gam_u + \Gam^1_v$, $b' = b_u + b^1_v$, and $s' = s_u + s^1_v$. And by the \ih over $\Phi_{p \subs{x}{v}}$, we have the following derivation $\Phi_{p} \tr \seqi{\Gam_p; x : \M_2}{p}{\M'}{(b_p,s_p)}$ and $\Phi^2_v \tr \seqi{\Gam^2_v}{v}{\M_2}{(b^2_v,s^2_v)}$, such that $\Gam_{p \subs{x}{v}} = \Gam_p + \Gam^2_v$, $b'' = b_p + b^2_v$, and $s'' = s_p + s^2_v$. By~\cref{lem:merge-values}, we can take the following derivation $\Phi_v \tr \seqi{\Gam^1_v + \Gam^2_v}{v}{\M_1 \sqcup \M_2}{(b^1_v+b^2_v, s^1_v + s^2_v)}$, such that $\Gam_v = \Gam^1_v + \Gam^2_v$, $b_v = b^1_v + b^2_v$, and $s_v = s^1_v + s^2_v$. And we can build $\Phi_{up}$ as follows:
            \[ \begin{prooftree}
                \hypo{\Phi_u \tr \seqi{\Gam_u; x : \mul{\sig_i}_{\iI_1}}{u}{\M' \ta \tau}{(b_u,s_u)}}
                \hypo{\Phi_{p} \tr \seqi{\Gam_p; x : \mul{\sig_i}_{\iI_2}}{p}{\M'}{(b_p,s_p)}}
                \infer2[(\ruleApp)]{\seqi{(\Gam_u + \Gam_p); x : \mul{\sig_i}_{\iI}}{up}{\tau}{(1+b_u+b_p, s_u+s_p)}}
            \end{prooftree} \]
            such that $\Gam_t = \Gam_u + \Gam_p$, $b_t = 1+b_u + b_p$, and $s_t = s_u + s_p$. So we can pick $\Phi_t = \Phi_{up}$, and conclude with $\Gam_{t \subs{x}{v}} = \Gam_{u \subs{x}{v}} + \Gam_{p \subs{x}{v}} = \Gam_u + \Gam^1_v + \Gam_p + \Gam^2_v = (\Gam_u + \Gam_p) + (\Gam^1_v + \Gam^2_v) = \Gam_t + \Gam_v$, $b = 1+b'+b'' = 1+b_u + b^1_v + b_p + b^2_v = 1 + (b_u + b_p) + (b^1_v + b^2_v) = b_t + b_v$, and $s = s_u + s^1_v + s_p + s^2_v = (s_u + s_p) + (s^1_v + s^2_v) = s_t + s_v$.
            \item Case $\Phi_{t \subs{x}{v}}$ ends with (\ruleAppPOne) and (\ruleAppPTwo). These cases are very similar to the case where $\Phi_{t \subs{x}{v}}$ ends with rule (\ruleApp).
        \end{itemize}
    \end{itemize}
%\end{proof}