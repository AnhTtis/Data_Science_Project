%\begin{proof}
    By simultaneous induction on the following claims: \begin{enumerate}
        \item \label{lem:typ-comp-nfs:1} If $t \in \neutral$, then $\Phi \tr \seqi{\Gam}{t}{\stype \ra \tneutral \tim \stype}{(0,0,d)}$ tight, such that $d = \size{t}$, for any tight $\stype$.
        \item \label{lem:typ-comp-nfs:2} If $t \in \normal$, then $\Phi \tr \seqi{\Gam}{t}{\stype \ra \tightt \tim \stype}{(0,0,d)}$ tight, such that $d = \size{t}$, for any tight $\stype$.
    \end{enumerate}
    \begin{enumerate}
        \item By induction on $t \in \neutral$: \begin{itemize}
            \item Case $t = xu$, such that $u \in \normal$. By the \ih (\cref{lem:typestatesnfs}.\ref{lem:typ-comp-nfs:2}), we have $\Phi_u \tr \seqi{\Gam_u}{u}{\tcomptype{\stype}{\tightt}{\stype}}{(0,0,d_u)}$ tight, such that $d_u = \size{u}$, for any tight $\stype$. Therefore, we can build $\Phi$ is as follows:
            \[ \begin{prooftree}
                \hypo{\seqi{\Gam_u}{u}{\tcomptype{\stype}{\tightt}{\stype}}{(0,0,d_u)}}
                \infer1[(\ruleAppPOne)]{\seqi{(x : \mul{\tvar}) + \Gam_u}{xu}{\tcomptype{\stype}{\tneutral}{\stype}}{(0,0,1+d_u)}}
            \end{prooftree} \]
            And we can conclude with $\Gam = (x : \mul{\tvar}) + \Gam_u$ tight and $d = 1+d_u = 1 + \size{u} = 1 + \size{x} + \size{u} = \size{xu}$.
            \item Case $t = (\lam x.p)u$, such that $u \in \neutral$. By the \ih (\cref{lem:typestatesnfs}.\ref{lem:typ-comp-nfs:1}), we have $\Phi_u \tr \seqi{\Gam}{u}{\tcomptype{\stype}{\tneutral}{\stype}}{(0,0,d_u)}$ tight, such that $d_u = \size{u}$, for any tight $\stype$. Therefore, we can build $\Phi$ is as follows:
            \[ \begin{prooftree}
                \hypo{\Phi_u \tr \seqi{\Gam}{u}{\tcomptype{\stype}{\tneutral}{\stype}}{(0,0,d_u)}}
                \infer1[(\ruleAppPTwo)]{\seqi{\Gam_u}{(\lam x.p)u}{\tcomptype{\stype}{\tneutral}{\stype}}{(0,0,1+d_u)}}
            \end{prooftree} \]
            And we can conclude with $d = 1 + d_u = 1 + \size{u} = 1 + \size{\lam x.p} + \size{u} = 1 + \size{(\lam x.p) u}$.
        \end{itemize}
        \item By induction on $t \in \normal$:
        \begin{itemize}
            \item Case $t \in \val$:
            \begin{itemize}
                \item Assume $t = x$. Then we can build $\Phi_t$ as follows:
                \[ \begin{prooftree}
                    \infer0[(\ruleAx)]{\seqi{x : \mul{\nott{\tneutral}}}{x}{\nott{\tneutral}}{(0,0,0)}}
                    \infer1[(\ruleLift)]{\seqi{x : \mul{\nott{\tneutral}}}{x}{\tcomptype{\stype}{\nott{\tneutral}}{\stype}}{(0,0,0)}}
                \end{prooftree} \]
                for any $\stype$ tight. And we can conclude with $\Gam = (x : \mul{\nott{\tneutral}})$ tight, and $b = m = d = 0 = \size{x}$.
                \item Assume $t = \lam x.u$. Then we can build $\Phi_t$ as follows:
                \[ \begin{prooftree}
                    \infer0[(\ruleLamP)]{\seqi{}{\lam x.u}{\vl}{(0,0,0)}}
                    \infer1[(\ruleLift)]{\seqi{}{\lam x.u}{\tcomptype{\stype}{\vl}{\stype}}{(0,0,0)}}
                \end{prooftree} \]
                for any $\stype$ tight. And we can conclude with $\Gam = \eset$ tight, $b = m = d = 0 = \size{\lam x.u}$.
            \end{itemize}
            \item Case $t \not\in \val$. Then $t \in \neutral$, and this case is subsumed by the previous cases.
        \end{itemize}
    \end{enumerate}
%\end{proof}
