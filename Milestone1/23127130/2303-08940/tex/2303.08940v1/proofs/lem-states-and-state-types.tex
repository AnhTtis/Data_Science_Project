\begin{proof}
    We proceed by proving the following stronger version of the statement: 
    
    Let $\Phi_s \tr \seqi{\Del_s}{s}{\stype_s}{(b_s,m_s,d_s)}$. If $l \in \dom{\stype_s}$, then $s \equivstate \upd{l}{v}{q}$, for some value $v$ and store $q$.
    
    The proof follows by induction on $\Phi_s$: 
    \begin{itemize}
        \item Case $\Phi_s$ ends with ($\ruleEmp$). Then the conclusion is vacuously true.
        \item Case $\Phi_s$ ends with ($\ruleUpd$). Then $\Phi_s$ is of the following form: 
        \[ \begin{prooftree}
            \hypo{\Phi_v \tr \seqi{\Gam_v}{v}{\M}{(b_v,m_v,d_v)}}
            \hypo{\Phi_q \tr \seqi{\Del_q}{q}{\stype_q}{(b_q,m_q,d_q)}}
            \infer2[(\ruleUpd)]{\seqi{\Gam_v + \Del_q}{\upd{l'}{v}{q}}{\conj{l' : \M}; \stype_q}{(b_v+b_q,m_v+m_q,d_v+v_q)}}
        \end{prooftree} \]
        where $\Del_s = \Gam_v + \Del_q$, $s = \upd{l'}{v}{q}$, $\stype_s = \conj{l' : \M}; \stype_q$, $b_s = b_v + b_q$, $m_s = m_v + m_q$, and $d_s = d_v + d_q$. Now we consider two  cases: 
        \begin{itemize}
            \item Case $l = l'$. Then we are done.
            \item Case $l \not= l'$. Since we are assuming that $l \in \dom{\stype_s}$, then it must be case that $l \in \dom{\stype_q}$. But, then by the \ih, we have $q \equivstate \upd{l}{w}{q'}$, for some value $w$ and store $q'$. Therefore, $s \equivstate \upd{l'}{v}{\upd{l}{w}{q'}} \equivstate \upd{l}{w}{\upd{l'}{v}{q'}}$.
        \end{itemize}
    \end{itemize}
    The correctness of the original statement now follows easily from the fact that, clearly, if $s \equivstate \upd{l}{v}{q}$, then $l \in \dom{s}$, by Definition~\ref{def:domainS}.
\end{proof}
