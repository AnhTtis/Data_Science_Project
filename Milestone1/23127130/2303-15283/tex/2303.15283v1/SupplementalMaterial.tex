\documentclass[preprint,aps,prb,nofootinbib,floatfix,superscriptaddress]{revtex4-2}
\usepackage[utf8]{inputenc}
%\DeclareUnicodeCharacter{FB01}{fi}

\usepackage{amsmath}    % need for subequations
\usepackage{graphicx}   % need for figures
\usepackage{verbatim}   % useful for program listings
\usepackage{color}      % use if color is used in text
\usepackage{epstopdf}  % use for side-by-side figures
\usepackage{upgreek} %for non-italic greek letters (units)
\usepackage[hidelinks]{hyperref}   % use for hypertext links, including those to external documents and URLs
\usepackage{textcomp} %Trademark symbol
\usepackage[separate-uncertainty=true, multi-part-units=single]{siunitx}
\usepackage{dcolumn}
%\usepackage{sidecap}
\usepackage[capitalise]{cleveref}

\raggedbottom           % don't add extra vertical space
%\newcommand{\Neel}{NÃ©el}
\newcommand{\MuMax}{MuMax$^{3}$}
\newcommand{\Ne}{N\'{e}el}
\newcommand{\Ga}{Ga$^{+}$}
\newcommand{\He}{He$^{+}$}
\newcommand{\ie}{\textit{i.e.}}
\newcommand{\eg}{\textit{e.g.}}
\newcommand{\ea}{\textit{et al.}}
%\newcommand{\figref}[1]{Fig.~\ref{#1}}
%\newcommand{\tabref}[1]{Table~\ref{#1}}
%\newcommand{\verref}[1]{eq.~\eqref{#1}}
%\newcommand{\onlinecite}[1]{\hspace{-1 ex} \nocite{#1}\citenum{#1}}

\renewcommand{\thesection}{S\Roman{section}}
\renewcommand{\theequation}{S\arabic{equation}}
\renewcommand{\thefigure}{S\arabic{figure}}
\renewcommand{\thetable}{S\arabic{table}}
\renewcommand{\bibnumfmt}[1]{[S#1]}
\renewcommand{\citenumfont}[1]{S#1} 

\begin{document}

\title{Supplemental Material: Controlling skyrmion nucleation with Ga$^{+}$ ion irradiation}
\author{Mark C.H. de Jong}
\affiliation{Department of Applied Physics, Eindhoven University of Technology, P.O. Box 513, 5600 MB Eindhoven, the Netherlands}
\author{Bennert H.M. Smit}
\affiliation{Department of Applied Physics, Eindhoven University of Technology, P.O. Box 513, 5600 MB Eindhoven, the Netherlands}
\author{Mari\"{e}lle J. Meijer}
\affiliation{Department of Applied Physics, Eindhoven University of Technology, P.O. Box 513, 5600 MB Eindhoven, the Netherlands}
\author{Juriaan Lucassen}
\affiliation{Department of Applied Physics, Eindhoven University of Technology, P.O. Box 513, 5600 MB Eindhoven, the Netherlands}
\author{Henk J.M. Swagten}
\affiliation{Department of Applied Physics, Eindhoven University of Technology, P.O. Box 513, 5600 MB Eindhoven, the Netherlands}
\author{Bert Koopmans}
\affiliation{Department of Applied Physics, Eindhoven University of Technology, P.O. Box 513, 5600 MB Eindhoven, the Netherlands}
\author{Reinoud Lavrijsen}
\affiliation{Department of Applied Physics, Eindhoven University of Technology, P.O. Box 513, 5600 MB Eindhoven, the Netherlands}

\date{\today}

\maketitle

\section{Variation in the threshold current between devices}
\begin{figure*}[ht]
    \includegraphics{Figures/Figure_SM_c1.pdf}
    \caption{\label{fig:Figure_1} The measurement shown in Fig. 2 in the main text is shown again in blue. The red data points and fit with Eq. 2 from the main text is data obtained by performing the same measurement of a different, but nominally identical device.}
\end{figure*}

To confirm that the change in the nucleation-threshold current measured in the main text is not caused by naturally occurring differences between devices we have repeated the experiment highlighted in Fig. 2 of the main text on a different but nominally-identical device grown during a second deposition run. Both data sets are plotted in \cref{fig:Figure_1}. We find that there is a small difference in the nucleation threshold of $2{\%}$ relative to the threshold current reported in the main text. This is an order of magnitude lower than the observed change in the threshold current due to {\Ga} ion irradiation for the highest doses and we therefore attribute the observed changes to the effect of the {\Ga} ions.

\section{Skyrmion nucleation as a function of field and current density}
\begin{figure*}[ht]
    \includegraphics[width=\textwidth]{Figures/Figure_SM_c3.pdf}
    \caption{\label{fig:Figure_2} Phase diagrams showing the final magnetization state after applying a sequence of 2000 bipolar current pulses (pulse length: \SI{10}{ns}, delay between pulses: \SI{10}{\micro\second}). Before the pulses are applied the magnetization is saturated in the negative z-direction, after which a bias field is applied in the positive z-direction (the magnetic field on the horizontal axis). This is done for two different devices: (a) a nonirradiated device and (b) a device which has been irradiated with a dose of $d=10\times10^{12}$ {\Ga} ions \SI{}{cm^{-2}}. The dashed black lines indicate the field where the measurements in the main text are performed.}
\end{figure*}

In this section, we show how the nucleation of skyrmions in our devices depends on both the applied-magnetic field and the current density. This measurement is performed with a different pulse generator than in the main text (Picosecond Pulse Labs model A10,070A). The length of the applied current pulses is \SI{10}{ns} and the time between pulses is \SI{10}{\micro\second} to prevent cumulative heating. The results are summarized in \cref{fig:Figure_2} for a nonirradiated device in (a) and a device irradiated with $d=10\times10^{12}$ ions \SI{}{cm^{-2}} in (b). Plotted is the phase diagram where the final state in the device has been labelled for each pair of current density and applied bias field. We distinguish between five different cases: (i) No change from the initial saturated state (magnetization anti-parallel to the applied field); (ii) a multidomain state without skyrmions; (iii) one or more skyrmions in the device (can be in combination with larger worm-like domains); (iv) a device where the magnetization is aligned with the applied field everywhere; and (v) a broken device. 

For small magnetic-bias fields and low current densities the magnetization of the devices is not affected by the applied current pulses. If either the current density or the field is increased the magnetization becomes sufficiently unstable and a multidomain state is formed. For even larger magnetic fields the magnetization switches fully and aligns parallel to the applied bias field. For a small range of low bias fields and high current densities a state with skyrmions can be reliably reached in both the nonirradiated device and the irradiated device. We note that the phase diagrams shown here are qualitatively similar to those measured in Ref. \cite{Scarioni2021}.

Although the overall characteristics of the two phasediagrams is similar there are several differences. (i) The magnetization of the irradiated device is less stable at zero field, where the current density required to reach a multidomain state is significantly reduced. (ii) The switched state is reached with lower current densities for fields below the coercive field in the case of the irradiated device. (iii) The minimum current density where skyrmions form in the devices is lower in the irradiated device compared to the nonirradiated device, for all bias fields. All three of these observations indicate that changes in the magnetization are easier in the case of the irradiated device compared to the nonirradiated device. Finally, the nucleation of skyrmions appears to occur at lower fields in \cref{fig:Figure_2}(b) compared to (a). However, the resolution of the field axis is higher in \cref{fig:Figure_2}(b) compared to (a) and therefore this cannot be used as proof that skyrmions can be nucleated at smaller bias fields in irradiated devices.

\section{MFM data and counting skyrmions}\label{sec:counting}
All MFM images in the main paper are processed using the Gwyddion software. We first crop the data so that only the narrow current line of the devices remains. Next, a plane is fitted to several regions of the data belonging to the same domain and then subtracted from the data. Next, we correct for small horizontal scars using the Gwyddion function with the same name and finally a Gaussian blur is applied with a 2px standard deviation. The original size of all MFM images is \SI{10}{\micro\metre} $\times$ \SI{2.5}{\micro\metre} and the number of pixels is $1024 \times 256$ pixels, making the size of each pixel approximately \SI{9.8}{nm} $\times$ \SI{9.8}{nm}.

To count the number of skyrmions in our MFM images we use a procedure based on Ref. \cite{Tan2020}. Using MatLab we apply a Gaussian blur with a sigma of 3.5 px to the MFM data before binarizing the image using Imbinarize() with an adaptive threshold. Skyrmions in all our data sets appear as white regions in this binarized image. Regions that are smaller than 50 pixels are discarded to remove noise from the binarized images. All the white regions in the binarized image are then collected using the bwboundaries() function and analyzed using regionprops() to find the centroid position, circularity as well as the minor and major axis lengths.

\begin{figure*}[ht]
    \includegraphics{Figures/Figure_SM_c2.pdf}
    \caption{\label{fig:Figure_3} The measurement shown in Fig. 2 (b-d) analyzed using the script outlined above. The regions circulated in red in the black and white figures are counted as skyrmions.}
\end{figure*}

Next, we loop through all the regions and test for the following conditions to determine if it should be considered as a skyrmion:

\begin{itemize}
\item The major axis length $l_{\text{M}}$ must be within the following interval
\begin{equation*}
50 \text{nm} < l_{\text{M}} < 2 * R_{\text{S}},
\end{equation*}
\noindent where $R_{\text{S}}$ is the radius predicted by the model of B{\"u}ttner {\ea} in Ref. \cite{Buettner2018}. This length was chosen to eliminate objects too large to be considered skyrmions and because we observed that most of the circular domains were smaller than would be predicted by this model. The minimum length is chosen to exclude artifacts of the binarization process.
\item The center of the region (the centroid) must be further that 15 pixels from the edge of the scan. This is used to eliminate regions that are attached to the edges of the device.
\item The circularity of the region $C$, defined as the ratio between $4 \pi A$ ($A$ is the area) and the circumference squared and one for a perfect circle, should satisfy $C > 0.6$.
\item The ratio of the major and minor axis $r$ (the longest and shortest straight line through the region) should satisfy $r < 1.75$
\end{itemize}

The cut-off value for the last two conditions were determined by Tan {\ea} in Ref. \cite{Tan2020} to maximize the accuracy of the counting procedure. In \cref{fig:Figure_3} we show several examples of this procedure. The domains that are counted as skyrmions are labelled in red.

\section{MFM images corresponding to Fig. 3 in the main text}
In \cref{fig:Figure_4} we show MFM images that correspond to the nucleation events reported in Fig. 3 of the main text. For each combination of dose and current density, we only show one of the three scans that were used in the analysis. The other two scans were qualitatively similar. Here we report the voltage that was set on the pulse generator instead of the current density to make the position of the MFM scans in the figure easier to determine. Due to small differences in the resistance between devices the current densities corresponding to the voltage can differ by a few percent ($\Delta R / R < 4 \%$). These differences have been taken into account in the main text. 

\begin{figure*}
    \includegraphics[width=\textwidth]{Figures/Figure_SM_c4.png}
    \caption{\label{fig:Figure_4} MFM images corresponding to Fig. 3 in the main text.}
\end{figure*}

In \cref{fig:Figure_5}(a, b) we also show the sum of the binarized images used in Fig. 3(a) in the main text for the nonirradiated device and the device irradiated with $d=35\times10^{12}$ ions \SI{}{cm^{-2}}, respectively. Only those images taken for curents larger than the threshold current were used to ensure that the majority of the domains are skyrmions. The colour of each pixel in such an image indicates how often a skyrmion was present on that pixel after nucleation. Apart from some preferential nucleation sites the domains and skyrmions appear to generate randomly throughout the devices.

\begin{figure}
    \includegraphics[width=\textwidth]{Figures/Figure_SM_c5.pdf}
    \caption{\label{fig:Figure_5}(a) Sum of the binarized MFM images that were used in the analysis of Fig. 3(a) in the main text, \textit{i.e.} the nonirradiated device. (b) The same plot but for the device irradiated with $d=35\times10^{12}$ ions \SI{}{cm^{-2}}.}
\end{figure}

\newpage

\bibliography{References}
%\bibliography{library,Addition}
\end{document}
