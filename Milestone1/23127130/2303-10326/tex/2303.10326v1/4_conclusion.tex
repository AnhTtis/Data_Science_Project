\section{Conclusion}
%In this paper, we propose a novel 3D medical segmentation method, dubbed as Diff-UNet, based on the diffusion probabilistic model.   
%Compared with other diffusion-based segmentation methods, this method achieves multi-target segmentation by modeling medical image segmentation as a discrete data generation task and realizes the first 3D medical image segmentation based on the Diffusion model.
In this paper, we propose the first 3D medical image segmentation method, named Diff-UNet, based on the diffusion model, which models medical image segmentation as a discrete data generation task. The proposed algorithm introduces a generic end-to-end 3D medical image segmentation approach, leveraging the advantages of the Diffusion model to improve segmentation robustness. Experimental results on different benchmark datasets demonstrate the superiority of our Diff-UNet over state-of-the-art approaches.
Overall, our work presents a significant contribution to the field of medical image segmentation, demonstrating the effectiveness of the Diffusion model in the 3D medical image segmentation task. The proposed method has the potential to facilitate more precise and accurate diagnosis and treatment of medical conditions, ultimately leading to improved patient outcomes.
 
% First, Diff-UNet uses one-hot encoding to convert multi-target segmentation labels into multiple one-hot labels for the multi-target segmentation problem and adds random noise to the converted labels.
% After that, we concatenate the original 3D medical images with noisy one-hot tags in the channel dimension and input them to Denoising-UNet's encoder for feature extraction. Meanwhile, to enhance the feature representation capability of Denoising-UNet, we add an image encoder to extract the multiscale features of the original image and fuse them with the encoder of Denoising-UNet.
% The output of the Denoising-UNet decoder is supervised by DICE loss, BCE loss, and MSE loss to learn the denoising process.
% Finally, we propose a novel SUF module that computes fusion weights based on prediction steps and model output uncertainty to achieve more robust segmentation results.

% \input{Tables/ablation_2}