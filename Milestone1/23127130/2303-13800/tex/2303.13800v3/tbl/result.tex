\begin{table*}[t]
    \centering
    \small
    \newcolumntype{Z}{>{\centering\arraybackslash}X}
    \caption{Results comparing model alternatives. Performance on cropped \emph{step} diagrams is denoted by S and entire \emph{pages} from the manual by P. For fair comparison, the backbone for encoders is kept the same and only the loss and post-processing are varied. \textsc{CosSim} uses cosine similarity loss and CLIP uses infoNCE loss on paired features. \dag{} AUROC values below 0.5 come from the fact that not every step or page diagram has a corresponding video segment in the test set, i.e., some queries have no positives.}
    \resizebox{\linewidth}{!}{
        \begin{NiceTabularX}{\linewidth}{
                @{}
                w{l}{5em}
                *{4}{Z}
                |
                *{6}{Z}
            }
            \toprule
            \Block{3-1}{Method}
            & \Block{1-4}{Video to diagram retrieval}
            &
            &
            &
            & \Block{1-6}{Diagram to video retrieval}
            \\
            & \Block{1-2}{Top1 Acc.\%$\uparrow$}
            &
            & \Block{1-2}{AIE$\downarrow$}
            &
            & \Block{1-2}{R@1$\uparrow$}
            &
            & \Block{1-2}{R@3$\uparrow$}
            &
            & \Block{1-2}{AUROC$\uparrow$}
            \\
            \cmidrule(lr){2-3}\cmidrule(lr){4-5}\cmidrule(lr){6-7}\cmidrule(lr){8-9}\cmidrule(lr){10-11}
            & S
            & P
            & S
            & P
            & S
            & P
            & S
            & P
            & S
            & P
            \\
            \midrule
            Random
            & 5.664
            & 5.107
            & 9.334
            & 8.131
            & 6.576
            & 3.393
            & 19.90
            & 10.16
            & 0.375
            & 0.244
            \\
            \textsc{CosSim}
            & 11.89
            & 11.06
            & 4.360
            & 4.368
            & 12.43
            & 6.780
            & 32.90
            & 20.93
            & 0.561
            & 0.336
            \\
            CLIP
            & 19.61
            & 19.05
            & 4.274
            & 4.180
            & 16.94
            & 10.25
            & 38.67
            & 23.45
            & 0.590
            & 0.373
            \\\midrule
            Ours
            & 28.62
            & 34.55
            & 3.734
            & 2.928
            & 22.30
            & 16.48
            & 45.00
            & 32.20
            & 0.617
            & \hphantom{${}^\dag{}$}0.390${}^\dag{}$
            \\
            \quad w/o SPRF
            & 21.73
            & 27.08
            & 6.018
            & 4.485
            & 16.90
            & 13.17
            & 36.07
            & 26.70
            & 0.558
            & 0.357
            \\
            \quad w/ DTW
            & 31.45
            & 36.20
            & \textbf{3.382}
            & \textbf{2.752}
            & 23.20
            & 17.32
            & 32.45
            & 17.55
            & 0.467
            & 0.310
            \\
            \quad w/ OT
            & \textbf{31.61}
            & \textbf{36.71}
            & 3.458
            & 2.816
            & \textbf{26.62}
            & \textbf{18.28}
            & \textbf{49.11}
            & \textbf{32.28}
            & \textbf{0.626}
            & \textbf{0.401}
            \\\bottomrule
        \end{NiceTabularX}
    }
    \label{tbl:result}
\end{table*}