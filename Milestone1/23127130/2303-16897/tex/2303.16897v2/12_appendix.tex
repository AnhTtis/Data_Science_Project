% \input{_constants}
% \cameraready % \review OR \cameraready

%\documentclass[10pt,twocolumn,letterpaper]{article}
% \documentclass[10pt,letterpaper]{article}
% \input{cvpr_header}
% \myexternaldocument{_main}
% \begin{document}
%% TITLE
% \title{Supplementary Material for ``Physics-Driven\\ Diffusion Models for Impact Sound Synthesis from Videos"
% }
% \author{\authorBlock}
% \maketitle
\appendix
\label{sec:appendix}
\section{Generated Samples}
Please see the \textbf{attached video for a short overview and generated impact sound samples using our physics-driven diffusion models.} Please turn \textbf{Audio ON} and use \textbf{headphones} for best perception of the audio.

\section{Fixed Physics Priors}
As we mentioned in the main paper, while we use the physics latent from training set, we can still generate novel sound since the diffusion model also takes additional visual features as input. To show that, we fix one type physics priors and use various video inputs to synthesize impact sounds. We found that the synthesized sounds are strongly impacted by the physics priors but different visual inputs can still introduce the diversity of the sounds. Please check out the videos with prefix \textbf{fix\_physics\_priors\_type\_sample\_num.mp4}.

\section{Physics Priors Editing}
Since the physics priors are transparent, we can manipulate them to control the synthesized sounds. In the first experiment, we decrease values of power and decay rate in the lowest $200$ modes to reduce low frequency components and we also set the residual parameters be zero for better visualization. The generated spectrogram results are shown in Fig.~\ref{fig:remove_low_freq}. In addition, we also try highlighting the low frequency components by tuning up the power and decay values of the lowest $200$ modes. The generated spectrogram results are shown in Fig.~\ref{fig:add_low_freq}. Both results demonstrate that the transparency of the physics priors.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\linewidth]{figs/remove_low_freq.png}
    \caption{Spectrogram examples of removing low frequency parts by manipulating physics priors.}
    \label{fig:remove_low_freq}
\end{figure}
\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\linewidth]{figs/add_low_freq.png}
    \caption{Spectrogram examples of adding low frequency parts by manipulating physics priors.}
    \label{fig:add_low_freq}
\end{figure}
\section{Additional Implementation Details}
\subsection{Physics Priors Representation \& Encoder}
We provide more details of how physics parameters and residual parameters are scaled and fitted into the diffusion model. For each estimated frequency feature $f$, we compute the distance to the corresponding central frequency of the spectrogram bin and then normalize the distance by the bin resolution (21Hz in our case) to obtain a value between $-1$ and $1$. The power feature $p$ is extracted in dB scale. We normalize it by $2p/(-80) - 1$ where $-80$dB indicates the silence. The decay feature $\lambda$ is also applied min-max normalization to map the value to the range of $-1$ and $1$. For residual parameters, we use a transformer spectrogram encoder to learn $w$ and $\gamma$ by applying a sigmoid function to outputs of two linear projection layers. We then use a physics priors encoder to take produce the physics latent. The details of the physics priors encoder are shown in Fig.~\ref{fig:physics_priors_enc}.

\subsection{Diffusion Model Details}
The architecture is a U-Net~\cite{ronneberger2015u} based on a Wide ResNet~\cite{zagoruyko2016wide}. Our models use four feature map resolutions and each resolution level contains two convolutional residual blocks and a spatial attention module. The channel dimensions increase from $1$ to $64$, $128$, $256$, and $512$. We use sinusoidal position embedding for diffusion time $t$ which is added into each residual block. We use cosine schedule for diffusion noise and set the sampling timesteps be $T=1000$.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.6\linewidth]{figs/physics_priors_encoder.png}
    \caption{Physics Priors Encoder Details}
    \label{fig:physics_priors_enc}
\end{figure}
% \section{}
\section{Failure case demonstration} We show an example of having an impact on rock. In the following figure, the (a, b) are common rock sounds in the training set. However, we find a rare case in the testing set shown in (c). While our approach can generate new realistic rock sound (d), it is different from the ground truth. 
\begin{figure}[h]
    \centering
    \includegraphics[width=0.85\linewidth]{figs/rebuttal_failure_case.png}
    \label{fig:failure}
\end{figure}


% {\small
% \bibliographystyle{ieee_fullname}
% \bibliography{11_references}
% }
% \end{document}
