\begin{tikzpicture}
  \node(controller)[draw=red, ultra thick, rectangle, minimum width = 2.35cm, minimum height = 0.8cm] {\color{red}{\textbf{AI}}};



  \node(switch)[draw=red, ultra thick, right = 1.25cm of controller, rectangle, minimum width = 0.8cm, minimum height = 0.8cm] {};

  \node(AIswitch)[below = 0.3cm of switch, rectangle, minimum height = 0.8cm, inner sep=0pt]  {\color{red}\begin{tabular}{c}
  threshold \\ switch
  \end{tabular}
  };

  \node(process)[draw, right = 3.4cm of switch, rectangle, minimum width = 4.0cm, minimum height = 0.8cm] {\textbf{process}};

  \node(disturbances)[above = 0.3cm of process, rectangle, minimum height = 0.8cm] {\begin{tabular}{c}
  disturbances \\ \footnotesize $(D_{(t)})$
  \end{tabular}
  };

  \node(sensor)[draw, below right = 2.75cm and 3.35cm of controller, rectangle, minimum width = 4.0cm, minimum height = 0.8cm, anchor=center] {\textbf{sensor}};

  \node(response)[right = 0.7cm of process, rectangle, minimum height = 0.8cm] {\begin{tabular}{c}
   response \\ \footnotesize $(X_{(t)})$
  \end{tabular}
  };
  \node(sum)[left = 0.3cm of controller, circle, minimum height = 0.8cm] {
  };


  \node(reference)[left = 0.5cm of sum, rectangle, minimum height = 0.8cm] {\begin{tabular}{c}
   reference \\ \footnotesize $(W_{(t)})$
  \end{tabular}
  };

  \draw [-{Latex[length=2mm, width=2mm]}, ultra thick, draw=red]($(sensor.west)+(0,0.15)$)-|($(controller.south east)-(0.75,0)$);
  \node(controller2)[draw, below = 0.4cm of controller, thick, rectangle, minimum width = 2.35cm, minimum height = 0.8cm,fill=white] {{\textbf{controller}}};
  \node(parameter)[below = 0.3cm of controller2, rectangle, minimum height = 0.8cm, fill=white, inner sep=0pt]  {\begin{tabular}{c}
  static parameters \\ \footnotesize $(K_{P},K_{I},K_{D},\ldots)$
  \end{tabular}
  };

  \node(sum2)[draw, left = 0.3cm of controller2, circle, minimum height = 0.8cm] {
  };
  \draw [thick] (sum2.north east) -- (sum2.south west)
  (sum2.north west) -- (sum2.south east);

  \draw [-{Latex[length=2mm, width=2mm]}, thick, draw=black](switch.east)--(process.west) node [above,pos=0.5] (controlVariables) {control variables} node [below,pos=0.5] {\footnotesize $(X_{1(t)},X_{2(t)},X_{3(t)},\ldots)$};
  \draw [-{Latex[length=2mm, width=2mm]}, thick, draw=black](process.east)--($(response.west)+(0.3,0)$) node (rs) [circle, pos=0.3, fill=black, inner sep=0pt,minimum size=1mm] {};

  \draw [-{Latex[length=2mm, width=2mm]}, thick, draw=black]($(reference.east)+(-0.3,0)$)--(controller.west);
  \draw [-{Latex[length=2mm, width=2mm]}, thick, draw=black]($(disturbances.south)+(0,0.1)$)--(process.north);
  \draw [-{Latex[length=2mm, width=2mm]}, thick, draw=black]($(parameter.north)-(0,0.1)$)--(controller2.south);
  \draw [thick, draw=black](rs.center)|-(sensor.east);

  \draw [-{Latex[length=2mm, width=2mm]}, thick, draw=black]($(sensor.west)-(0,0.15)$)-|(sum2.south) node [right,pos=0.9] {\textbf{--}};

  \node (rsw) [left = 0.0cm of sum.center, circle, fill=black, inner sep=0pt,minimum size=1mm, anchor=center] {};
  \draw [-{Latex[length=2mm, width=2mm]}, ultra thick, draw=red](rsw.east)--(controller.west);
  \draw [-{Latex[length=2mm, width=2mm]},  thick, draw=black](rsw.center)--(sum2.north);
  \draw [-{Latex[length=2mm, width=2mm]}, thick, draw=black](sum2.east)--(controller2.west);

  \coordinate [left = 0.6cm of switch]  (swInput);

  \draw [-{Latex[length=2mm, width=2mm]}, ultra thick, draw=red](controller.east)-|($(swInput)+(0,0.15)$)|-($(switch.west)+(0,0.15)$);

  \draw [-{Latex[length=2mm, width=2mm]}, ultra thick, draw=red](controller2.east)-|($(swInput)-(0,0.15)$)|-($(switch.west)-(0,0.15)$);

  \coordinate [left = -0.2cm of switch]  (swIn);

  \node (swU) [above = 0.15cm of swIn.center, circle, fill=red, inner sep=0pt,minimum size=1mm, anchor=center] {};
  \draw [thick, draw=red]($(swInput)+(0,0.15)$)--(swU.center);

  \node (swD) [below = 0.15cm of swIn.center, circle, fill=red, inner sep=0pt,minimum size=1mm, anchor=center] {};
  \draw [thick, draw=red]($(swInput)-(0,0.15)$)--(swD.center);

  \coordinate [right = -0.2cm of switch]  (swOut);
  \node (swO) [below = 0.0cm of swOut.center, circle, fill=red, inner sep=0pt,minimum size=1mm, anchor=center] {};
  \draw [thick, draw=red](switch.east)--(swO.center);
  \draw [thick, draw=red](swU.center)--(swO.center);

  \node(AI)[above = 2cm of controller, rectangle, minimum width = 4.0cm, minimum height = 0.8cm] {};

  \node(recordedData)[draw=red, ultra thick, left = 0.5cm of AI, rectangle, minimum width = 3.0cm, minimum height = 0.8cm] {\color{red}{\begin{tabular}{c}\textbf{recorded process}\\ \textbf{data}
  \end{tabular}
  }};





  \draw [-{Latex[length=2mm, width=2mm]}, draw=red, ultra thick] (recordedData.east)-|($(controller.north)-(0.15,0)$);

  \draw [-{Latex[length=2mm, width=2mm]}, draw=red, ultra thick, dashed] ($(disturbances.west)+(0.4,0)$)-|($(controller.north)+(0.15,0)$)node [above, pos=0.25] {\color{red}{\textbf{prediction}}};


  \end{tikzpicture}
