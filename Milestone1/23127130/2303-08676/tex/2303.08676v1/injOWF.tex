\section{Target-Collapsing from Almost Regular One-Way Functions}

\james{Putting these notes here for now. I currently don't see how to generalize this result to arbitrary or even regular OWFs, but can keep thinking about it}

\begin{itemize}
    \item Given an injective one-way function $\{f_\secp: \{0,1\}^\secp \to \{0,1\}^{\ell(\secp)}\}_\secp$ and a universal hash family $\{h_\secp : \{0,1\}^{\ell(n)} \to \{0,1\}^{\secp -1}\}_\secp$, define the function $\widehat{f}_\secp = h_\secp \circ f_\secp : \{0,1\}^n \to \{0,1\}^{n-1}$. \cite{10.5555/112331.112379} showed that this function is target collision-resistant.
    \item Since it has expected $O(1)$ number of preimages, \cite{crypto-2022-32202}'s theorem can be used to show that it is target collapsing for \emph{any} distribution.
    \item By composing with itself, we can obtain a function that is target collision-resistant and target collapsing with arbitrary compression. Thus, by our main theorem, we obtain a function that is certified everlasting targeted-collapsing.
    \item If $f_\secp$ has a trapdoor, and $h_\secp$ is efficiently invertible (we should be able to specify such an $h_\secp$), then the resulting certified everlasting target-collapsing function has a trapdoor.
\end{itemize}



\subsection{From any one-way function}


\begin{itemize}
    \item Given any compressing one-way function $\{f_\secp: \{0,1\}^\secp \to \{0,1\}^{\ell(\secp)}\}_\secp$,
    commit to bit $b$ as:
    $$ \sqrt{\frac{N_1}{N_1+N_2}} \sum_{x: f(x) = y_0} \ket{x} + (-1)^b 
    \sqrt{\frac{N_2}{N_1+N_2}}
    \sum_{x: f(x) = y_1} \ket{x}$$
    
    %and a universal hash family $\{h_\secp : \{0,1\}^{\ell(n)} \to \{0,1\}^{\secp -1}\}_\secp$, define the function $\widehat{f}_\secp = h_\secp \circ f_\secp : \{0,1\}^n \to \{0,1\}^{n-1}$. 

    
    \item Collapsing (conjecture): 
    (whenever $N_1, N_2$ are polynomially related -- not sure if we need this), the above is indistinguishable from a mixture of $\Sigma_{x: f(x) = y_0} \ket{x}$ and $\Sigma_{x: f(x) = y_1} \ket{x}$.
    This may follow from techniques in 
    \cite{crypto-2022-32202}.
    
    \item Collision-resistance:
    given $\Sigma_{x: f(x) = y_0} \ket{x}$, it is hard to find any preimage of (random) $y_1$.
    
    This should follow from the hardness of swapping (for fixed $y_0$, $y_1$), one superposition over preimages to the other. This should hold regardless of the sizes $N_1, N_2$.

    \item (Finding $b$:) for honest binding/correctness - need to parallel repeat since POVM will err with some probability.
        
    \item If $f_\secp$ has a trapdoor, then the resulting certified everlasting target-collapsing function has a trapdoor.
\end{itemize}