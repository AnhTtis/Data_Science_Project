\tikzstyle{block} = [draw, rectangle, fill=black!5, minimum height=1.em, minimum width=1em, inner sep=4pt]
\tikzstyle{newblock} = [draw, rectangle, fill=black!15, minimum height=1.em, minimum width=1em, inner sep=4pt]

\begin{tikzpicture}

% \fill[black!5] (-2.9,5.3) -- (0,0) -- (2.8,6.3) -- cycle;
\draw[fill=black!5] (0,0) circle (2.5);
\fill[black!5] (-2.5,4.5) -- (-2.5,0) -- (1.85,1.65) -- (2.5,5.5) -- cycle;
\fill[black!15] (0,0) circle (1.8);
\fill[black!15] (-1.8,4.6) -- (-1.8,0) -- (1.1,1.35) -- (1.85,5.35) -- cycle;
\draw[black!45] (0,0) circle (1.8);

\node[anchor=center,rotate=45] at (0,0) {
\begin{tikzpicture}[auto]
\node[anchor=center] (a1) at ($(0, 0)$)
    	{{\includegraphics[trim={1cm 1cm 1cm 1cm},clip,height=0.3in]{figs/turtlebot_trans.png}}};
\end{tikzpicture}
};
\draw[blue,very thick] (1.85,1.65) -- (2.5,5.5);
\draw[blue,very thick] (-2.5,0) -- (-2.5,4.5);

\draw (2.5,5.5) --++(-60:1cm);
\draw (2.5,5.5) --++(30:1cm);
\fill[pattern=north west lines,rotate around={30:(2.5,5.5)}] (2.5,5.5) rectangle ++(1,-1); 
\draw (-2.5,4.5) --++(-120:1cm);
\draw (-2.5,4.5) --++(-210:1cm);
\fill[pattern=north west lines,rotate around={-30:(-2.5,4.5)}] (-2.5,4.5) rectangle ++(-1,-1); 

\draw (2.,2.5) --++(-90:1cm);
\draw (2.,2.5) --++(0:1cm);
\draw (2.,1.5) --++(0:1cm);
\fill[pattern=north west lines,rotate around={0:(2.,2.5)}] (2.,2.5) rectangle ++(1,-1); 

\draw[color=red, very thick](0,0) circle (2.5);

\draw[->, black, ultra thick] (0,0) -- (0.5,0.5);
% \draw[black, thick, rotate around={45:(0,0)}] (-0.5,0.2) rectangle (0.5, -0.2);



\filldraw[black] (0.3,5.2) circle (3pt) node[anchor=north, yshift=1.5em] {\large $\goal$};

\filldraw[red] (0.7,1.64) circle (3pt) node[anchor=north,xshift=-2em, yshift=-0.5em,text=black] {\large $\circPt$};

\draw[black, dashed, ultra thick] (0,0) -- (0.7,1.64);
\draw[black, dashed, ultra thick] (0,0) -- (0.5,0.5);
\draw[black, dashed, ultra thick] (0.5,0.5) -- (0.85,1.1);
\draw[black, dashed, ultra thick] (0.85,1.1) -- (0.7,1.64);
\draw[brown, ultra thick] (0,0) .. controls (0.5,0.5) and (0.85,1.1) .. (0.7,1.64);
\draw[black, dashed, ultra thick] (0.7,1.64) -- (0.5,2.36);
\draw[black, dashed, ultra thick] (0.5,2.36) -- (0.3,5.2);
\draw[black, dashed, ultra thick] (0.7,1.64) -- (0.3,5.2);
\draw[cyan, ultra thick] (0.7,1.64) .. controls (0.5,2.36) .. (0.3,5.2);

\node[anchor=west, xshift=-4em] at (0,0) {\large $\pose(0)$};
\node[anchor=west, xshift=0.2em, yshift=-1.2em] at (0.5,0.5) {\large $\eleInd{\cpf}{1}$};
\node[anchor=west, xshift=0.3em, yshift=-1em] at (0.85,1.1) {\large $\eleInd{\cpf}{2}$};
\node[anchor=north, xshift=-2em, yshift=2.2em] at (0.7,1.64) {\large $\eleInd{\cps}{1}$};

\node[anchor=east, xshift=-0.5em, yshift=0.5em] at (2.5,5.5) {\large $\lgap$};
\node[anchor=west, xshift=0.2em, yshift=1em] at (-2.5,4.5) {\large $\rgap$};
\node[anchor=east, xshift=0em, yshift=2em] at (1.85,1.65) {\large $\point_l$};
\node[anchor=west, xshift=0.3em, yshift=0em] at (-2.5,0) {\large $\point_r$};
\node[anchor=east, xshift=-0.9em, yshift=0em] at (-1.6,3.3) {\large $\gapSide_r$};
\node[anchor=west, xshift=0.8em, yshift=0em] at (1.4,4.2) {\large $\gapSide_l$};

\node[anchor=south, xshift=0em, yshift=0.5em] at (0,-2.5) {\large $\gapCirc$};
\node[anchor=east, xshift=0em, yshift=0em] at (-0.3, 4.4) {\large $\gapPoly$};

% Legends
\node[block, anchor=west, xshift=0em, yshift=0em] (tri) at (-16em,3em) {};
\node[anchor=west, text centered, text width=7em] (tri_name) at ($(tri.east) + (0.5em, 0)$) {Free Space $\freeSpace$};

\node[block, anchor=west, xshift=0em, yshift=0em,pattern=north west lines] (obs) at (-16em,9.5em) {};
\node[anchor=west, text centered, text width=7em] (obs_name) at ($(obs.east) + (0.5em, 0)$) {Obstacles};

\draw[blue, very thick] (-16em, 7.5em) -- (-15em, 7.5em);
\node[anchor=south, text centered, text width=5em] (side_name) at ($(tri_name.north) + (0em, 3.5em)$) {Gap Sides};

\draw[red, very thick] (-16em, 5.5em) -- (-15em, 5.5em);
\node[anchor=south, text centered, text width=8em] (circ_name) at ($(tri_name.north) + (0em, 1.5em)$) {Gap Circle $\gapCirc$};

\node[newblock, anchor=north, xshift=0em, yshift=0em] (nf) at ($(tri.south)+(0,-1.4em)$) {};
\node[anchor=west, text centered, text width=7em] (nf_name) at ($(nf.east) + (0.5em, 0)$) {Inflated Free \\ Space $\infFreeSpace$};

\draw[black, dashed, ultra thick] (-16em, -2em) -- (-15em, -2em);
\node[anchor=north, text centered, text width=6em] (b_name) at ($(nf_name.south) + (0em, -0.8em)$) {B\'{e}zier Polygons};

\draw[brown, ultra thick] (-16em, -4.5em) -- (-15em, -4.5em);
\draw[cyan, ultra thick] (-16em, -5.5em) -- (-15em, -5.5em);
\node[anchor=north, text centered, text width=6em] (c_name) at ($(b_name.south) + (0em, -0.8em)$) {B\'{e}zier Trajectories};

\end{tikzpicture}