\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage[linesnumbered,boxed]{algorithm2e}
\usepackage[margin=20mm]{geometry} %Reduce margin size
\usepackage{amssymb}
\usepackage{latexsym}
\usepackage{listings}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{bm}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{thmtools}
\usepackage[linesnumbered]{algorithm2e}
% \usepackage{natbib}
\usepackage{biblatex}
\graphicspath{ {Figures/} } %Use images from file location
\usepackage{color}
\usepackage{standalone} %For including out-sourced code
\usepackage[table,x11names]{xcolor}
\usepackage{soul}
\usepackage{multirow}
\usepackage{multicol}			%For multicol environments
\usepackage{caption}			%USE THESE TWO FOR
\usepackage{subcaption}		%CAPTIONS AND SUBCAPTIONS
\usepackage[colorlinks]{hyperref}
\hypersetup{citecolor = {blue},pdfauthor=author}
% \usepackage{cleveref}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{sectsty}			%style package for sections
\usepackage{physics}
\usepackage{array}
\usepackage{float}
\usepackage{forest}
\usepackage{xparse}
\usepackage{lipsum}
\usepackage{multicol}
\usepackage{todonotes}

\usetikzlibrary{shapes,arrows,arrows.meta,decorations.pathmorphing,decorations.markings,decorations.pathreplacing,patterns,shapes.geometric}
\pgfplotsset{compat=1.12}
% put your command and environment definitions here
\setcounter{secnumdepth}{3}

%%%% Declare things for cmds
\DeclareMathOperator{\proj}{proj}

%%%% Document Formatting
\setlength{\parindent}{0mm} %Removes paragraph indents
\setlength{\parskip}{1em} %Remove paragraph indents

%%%% Commands
\newcommand{\numberthis}{\refstepcounter{equation}\tag{\theequation}}
\newcommand{\I}{\mathrm{i}\mkern1mu}  %Imaginary number
\newcommand{\e}[1]{\hat{e}_{#1}}  %Unit vector
\newcommand{\be}[1]{\mathbf{b}_{#1}} %Magnetic unit vector
\newcommand{\Id}[1]{\text{I}_{#1}}  %Identity matrix
\newcommand{\Ln}[2]{\norm{#2}_{#1}} %Ln norm
\newcommand{\vecproj}[2]{\proj_{#1}({#2})}  %Vector projection
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
% \newcommand{\dt}[1]{\frac{\text{d} #1}{\text{d}t}}
\newcommand{\tayterm}[3]{\frac{#1^#3 #2^#3}{#3!}}
\newcommand{\mbf}[1]{\mathbf{#1}}
\newcommand{\mB}{\mathbf{B}}
\newcommand{\mA}{\mathbf{A}}
\newcommand{\mE}{\mathbf{E}}
\newcommand{\mH}{\text{H}}
\newcommand{\vv}{\mathbf{v}}
\newcommand{\xx}{\mathbf{x}}
\newcommand{\pp}{\mathbf{p}}
\renewcommand{\qq}{\mathbf{q}}
\newcommand{\evalat}[2]{\left. #1 \right|_{#2}}


\newcommand{\half}{\frac{1}{2}}


% TABLES
\newcolumntype{C}{>{$}c<{$}}



\newtheorem{theorem}{Theorem}[section]
\theoremstyle{definition}
\newtheorem{lemma}{Lemma}

\declaretheoremstyle[
  numbered=yes,
  numberlike=theorem,
  spaceabove=1em plus 0.75em minus 0.25em,
  spacebelow=1em plus 0.75em minus 0.25em,
  qed={}%qed={end definition},%{\rule{2pt}{1em}},
]{exmpstyle}
\declaretheorem[
  style=exmpstyle,
  title=Definition,
  refname={definition,definitions},
  Refname={Definition,Definitions}
]{defn}


\newcommand{\logLogSlopeTriangle}[5]
{
    % #1. Relative offset in x direction.
    % #2. Width in x direction, so xA-xB.
    % #3. Relative offset in y direction.
    % #4. Slope d(y)/d(log10(x)).
    % #5. Plot options.

    \pgfplotsextra
    {
        \pgfkeysgetvalue{/pgfplots/xmin}{\xmin}
        \pgfkeysgetvalue{/pgfplots/xmax}{\xmax}
        \pgfkeysgetvalue{/pgfplots/ymin}{\ymin}
        \pgfkeysgetvalue{/pgfplots/ymax}{\ymax}

        % Calculate auxilliary quantities, in relative sense.
        \pgfmathsetmacro{\xArel}{#1}
        \pgfmathsetmacro{\yArel}{#3}
        \pgfmathsetmacro{\xBrel}{#1-#2}
        \pgfmathsetmacro{\yBrel}{\yArel}
        \pgfmathsetmacro{\xCrel}{\xArel}
        %\pgfmathsetmacro{\yCrel}{ln(\yC/exp(\ymin))/ln(exp(\ymax)/exp(\ymin))} % REPLACE THIS EXPRESSION WITH AN EXPRESSION INDEPENDENT OF \yC TO PREVENT THE 'DIMENSION TOO LARGE' ERROR.

        \pgfmathsetmacro{\lnxB}{\xmin*(1-(#1-#2))+\xmax*(#1-#2)} % in [xmin,xmax].
        \pgfmathsetmacro{\lnxA}{\xmin*(1-#1)+\xmax*#1} % in [xmin,xmax].
        \pgfmathsetmacro{\lnyA}{\ymin*(1-#3)+\ymax*#3} % in [ymin,ymax].
        \pgfmathsetmacro{\lnyC}{\lnyA+(-#4)*(\lnxA-\lnxB)}
        \pgfmathsetmacro{\yCrel}{\lnyC-\ymin)/(\ymax-\ymin)} % THE IMPROVED EXPRESSION WITHOUT 'DIMENSION TOO LARGE' ERROR.

        % Define coordinates for \draw. MIND THE 'rel axis cs' as opposed to the 'axis cs'.
        \coordinate (A) at (rel axis cs:\xArel,\yArel);
        \coordinate (B) at (rel axis cs:\xBrel,\yBrel);
        \coordinate (C) at (rel axis cs:\xCrel,\yCrel);

        % Draw slope triangle.
        \draw[#5]   (A) node[pos=0.5,anchor=north] {1}
                    (B)-- 
                    (C) node[xshift=0.2,yshift=0.2,pos=0.6,above] {#4};
    }
}
