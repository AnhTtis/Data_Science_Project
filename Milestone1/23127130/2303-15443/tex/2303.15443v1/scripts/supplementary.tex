\section{Performance on additional geographies}
%
%
In Table 2 in the main paper, we illustrated cross-domain drops across geographies for the case of USA$\leftrightarrow$Asia. We show that this phenomenon is not specific to these geographies, and similar cross-domain drop in accuracy can be observed in case of Africa as a new geographical domain. For this purpose, we follow a similar pipeline discussed in Section 3.1 of the main paper and collect images from Africa belonging to the 205 classes from Places-205, creating the test-set for Africa domain for \GeoP{} with 8358 images. 
% However, we couldn't conduct a similar exercise for \GeoI{} as WebVision~\cite{li2017webvision}, the original source of \GeoI{}, does not have enough images from Africa from the 700 concepts we selected. Nevertheless, 
For the case of \GeoP{}, we show in \cref{tab:source-transfer-africa} that a model trained on USA obtains only $32.2\%$ on test images from Africa with a significant drop of $24\%$, and a model trained on images from Asia only gets $26.77\%$ top-1 accuracy on Africa test images with a drop of $23\%$ compared to within-domain test accuracy. These results indicate that cross-domain transfer exhibits similar challenges across any geographically separated domains.


\input{tables/suppl_tables/source_transfers_africa.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% tSNE of context and designs %%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure*}[t]
\begin{center}
    \begin{minipage}[b]{0.23\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/tSNE/tSNE_places_bg.pdf}
        \vspace{-16pt}
        \subcaption{{\bf Context Shift in \GeoP{}} }
        \label{fig:tsne_context_places}
    \end{minipage}
    \hfill
    \begin{minipage}[b]{0.23\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/tSNE/tSNE_places_fg.pdf}
        \vspace{-16pt}
        \subcaption{{\bf Design Shift in \GeoP{}} }
        \label{fig:tsne_design_places}
    \end{minipage}
    \hfill
    \begin{minipage}[b]{0.23\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/tSNE/tSNE_imnet_bg.pdf}
        \vspace{-16pt}
        \subcaption{{\bf Context Shift in \GeoI{}} }
        \label{fig:tsne_context_imnet}
    \end{minipage}
    \hfill
    \begin{minipage}[b]{0.23\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/tSNE/tSNE_imnet_fg.pdf}
        \vspace{-16pt}
        \subcaption{{\bf Design Shift in \GeoI{}} }
        \label{fig:tsne_design_imnet}
    \end{minipage}

    % \vspace{-0.1cm}
    \captionsetup{width=\textwidth, font=footnotesize}
    \caption{{\bf tSNE Visualizations of context and design shifts in \Ours{}}. As shown, there is a notable separation between the context and design features between USA (in orange) and Asia (in blue) in both \GeoP{} and \GeoI{}.}
    \label{fig:tSNE}
    % \vspace{-3em}
\end{center}
\end{figure*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% tSNE of context and designs %%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \begin{figure*}[t]
% \begin{center}

%     \begin{minipage}[b]{0.23\textwidth}
%         \centering
%         \includegraphics[width=\textwidth]{figures/tSNE/tSNE_places_bg_cdan.pdf}
%         \vspace{-16pt}
%         \subcaption{{\bf Context Shift in \GeoP{} with CDAN} }
%         \label{fig:tsne_context_places_cdan}
%     \end{minipage}
%     \hfill
%     \begin{minipage}[b]{0.23\textwidth}
%         \centering
%         \includegraphics[width=\textwidth]{figures/tSNE/tSNE_places_fg_cdan.pdf}
%         \vspace{-16pt}
%         \subcaption{{\bf Design Shift in \GeoP{} with CDAN} }
%         \label{fig:tsne_design_places_cdan}
%     \end{minipage}
%     \hfill
%     \begin{minipage}[b]{0.23\textwidth}
%         \centering
%         \includegraphics[width=\textwidth]{figures/tSNE/tSNE_imnet_bg_cdan.pdf}
%         \vspace{-16pt}
%         \subcaption{{\bf Context Shift in \GeoI{} with CDAN} }
%         \label{fig:tsne_context_imnet_cdan}
%     \end{minipage}
%     \hfill
%     \begin{minipage}[b]{0.23\textwidth}
%         \centering
%         \includegraphics[width=\textwidth]{figures/tSNE/tSNE_imnet_fg_cdan.pdf}
%         \vspace{-16pt}
%         \subcaption{{\bf Design Shift in \GeoI{} with CDAN} }
%         \label{fig:tsne_design_imnet_cdan}
%     \end{minipage}

%     % \vspace{-0.1cm}
%     \captionsetup{width=\textwidth, font=footnotesize}
%     \caption{tSNE Visualizations of context and design shifts in \Ours{} after adaptation with {\bf MDD}. As shown, domain adaptation methods have minimal effect on bridging the context and design shifts encountered in geographical adaptation.}
%     \label{fig:tSNE}
%     % \vspace{-3em}
% \end{center}
% \end{figure*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


    

\section{Visualization of Context and Design Shifts}
%
We provide deeper insight into the cross-domain shifts in contexts and designs induced by the geographies by visualizing their tSNE feature representations~\cite{van2008visualizing}. To this end, we first recall that
% definitions of the \textit{context} and \textit{design} from Section 3.4 in the main paper. Specifically, 
we defined context of an image $x$ as $b_x$ representing the background regions in an image, and design $f_x$ as the foreground objects (Section 3.4 in the main paper). However, we do not have box or mask annotation corresponding to the images in \Ours{}, so it is not possible to directly infer the context and foreground in each image. Instead, we rely on a state-of-the-art object detector Mask-RCNN trained on COCO dataset~\cite{lin2014microsoft} for this purpose. Specifically, we train a class-agnostic Mask-RCNN on the COCO dataset by mapping all the class labels to a single foreground class.
We then identify all the masks detected by the network on our images, so that these masks then correspond to the foreground objects, while the other parts of the image corresponds to the background. To compute the feature representation of the foreground objects, we element-wise multiply the binary foreground mask with the deep feature map from the backbone Resnet-50, followed by a global pool. In other words, we use the binary foreground mask to select the area from the feature map corresponding to the foreground, and take an average of the locations to obtain a 2048-dimensional foreground feature vector per image. We similarly obtain a 2048-dimensional background vector by using the negation of the binary foreground mask as the background mask. Therefore, we end up with two feature representations per image pertaining to the foreground (design) and background (context) respectively. We repeat this for both domains USA and Asia from both the \GeoP{} and \GeoI{} splits of our dataset. We then project this 2048 dimensional vector into a 2-dimensional vector using tSNE reduction and visualize the embeddings in \cref{fig:tSNE}. 

\noindent {\bf Context Shift} The pronounced distinction in the contexts between the two domains from \GeoP{} is highlighted in \cref{fig:tsne_context_places}, where we show minimum overlap between the features corresponding to the background regions in USA and Asia. Similar observations also hold for the case of \GeoI{} in \cref{fig:tsne_context_imnet}. Since the background or the context plays a major role in identifying places or objects, this shift invariably results in drop in accuracy under cross-geography transfer.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% Geographic Distribution %%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure*}[t]
\begin{center}
    \begin{minipage}[b]{0.48\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/ColorMaps/us_places.jpg}
        % \vspace{-8pt}
        \subcaption{{\bf \GeoP{}: USA Images} }
        \label{fig:map_places_usa}
    \end{minipage}
    \hfill
        \begin{minipage}[b]{0.48\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/ColorMaps/us_imnet.jpg}
        % \vspace{-8pt}
        \subcaption{{\bf \GeoI{}: USA Images} }
        \label{fig:map_imnet_usa}
    \end{minipage}
    
    \begin{minipage}[b]{0.48\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/ColorMaps/asia_places.jpg}
        % \vspace{-8pt}
        \subcaption{{\bf \GeoP{}: Asia Images} }
        \label{fig:map_places_asia}
    \end{minipage}
    \hfill
    \begin{minipage}[b]{0.48\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/ColorMaps/asia_imnet.jpg}
        % \vspace{-8pt}
        \subcaption{{\bf \GeoI{}: Asia Images}}
        \label{fig:map_imnet_asia}
    \end{minipage}
    
    \vspace{-0.1cm}
    \captionsetup{width=\textwidth, font=footnotesize}
    \caption{{\bf Geographical Distribution of images from USA and Asia domains}. We show the images per geographical sub-region in both domains on \Ours{}. As shown, in Asia, a majority of images are from Japan, India, Korea, China and Taiwan while in USA, a majority of images are from populous regions like California and New York. Note that the color-bar scale is linear for USA and log-scale for Asia.}
    \label{fig:worldmaps_dist}
\end{center}
\end{figure*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent {\bf Design Shift} The tSNE features of the foreground regions is shown in \cref{fig:tsne_design_places} for the case of \GeoP{} and in \cref{fig:tsne_design_imnet} for \GeoI{}. Minimum overlap is observed between the features corresponding to the foreground, or design of the objects, in each case indicating the presence of notable design shift between the domains. % which also shown in the poor cross-geography transfer.

We also note that datasets like COCO are predominantly US-biased, so the use of COCO in analyzing distribution shifts on Asia images is not completely fair. To this end, manually annotating images with finer-grained foreground and context labels in both geographies would yield more accurate analysis, which is left as a future work.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% Unsupervised Adaptation %%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure*}[t]
\begin{center}
    \begin{minipage}[b]{0.9\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/DA_analysis/da_source_only.jpg}
        \vspace{-16pt}
        \subcaption{{\bf Source-Only Training} }
        \label{fig:da_plain}
    \end{minipage}

     \vspace{.2cm}
     \begin{minipage}[b]{0.9\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/DA_analysis/da_cdan.jpg}
        \vspace{-16pt}
        \subcaption{{\bf CDAN Adaptation} }
        \label{fig:da_cdan}
    \end{minipage}

    \vspace{.2cm}
    \begin{minipage}[b]{0.9\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/DA_analysis/da_toalign.jpg}
        \vspace{-16pt}
        \subcaption{{\bf ToAlign Adaptation} }
        \label{fig:da_toalign}
    \end{minipage}
    
    \vspace{.2cm}
    \captionsetup{width=\textwidth, font=footnotesize}
    \caption{{\bf Per-class accuracy drops} on USA$\rightarrow$Asia transfer for a plain source-only model as well as post-adaptation using CDAN~\cite{CDAN} and ToAlign~\cite{wei2021toalign} adaptation methods. Note that the trend of per-class accuracy drops is the same before and after the adaptation indicating the limited benefit offered by existing state-of-the-art adaptation methods in bridging geographical shifts.} 
    \label{fig:perclass_accuracies}
\end{center}
\end{figure*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% Large-scale training    %%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure*}[t]
\begin{center}
    \begin{minipage}[b]{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/ViT-places-au.pdf}
        \vspace{-8pt}
        \subcaption{{\bf Asia$\rightarrow$USA on \GeoP{}} }
        \label{fig:vit_places_au}
    \end{minipage}
    \hfill
     \vspace{.2cm}
     \begin{minipage}[b]{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/ViT-imnet-au.pdf}
        \vspace{-8pt}
        \subcaption{{\bf Asia$\rightarrow$USA on \GeoI{}}}
        \label{fig:vit_imnet_au}
    \end{minipage}
    \captionsetup{width=\textwidth, font=footnotesize}
    \caption{{\bf Large-Scale pre-training on \Ours{}} We show that most architectures and pre-training strategies exhibit significant cross-domain drops when fine-tuned on geographically biased datasets. Shown for Asia$\rightarrow$USA on \GeoP{} in \cref{fig:vit_places_au} and \GeoI{} in \cref{fig:vit_imnet_au}, refer main paper for other transfer settings.} 
    \label{fig:vit_asia2usa}
    \vspace{-3em}
\end{center}
\end{figure*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Geographic Distribution of Images}

While we broadly categorize Asia and USA to be the two major geographical domains, not all sub-regions in these geographies have equal representation. We show the geographic distribution over respective geographies in \cref{fig:worldmaps_dist}, by leveraging the per-image GPS metadata provided in \Ours{}. For images from Asia from \cref{fig:map_places_asia} for \GeoP{} and \cref{fig:map_imnet_asia} for \GeoI{},  we observe a large fraction of images from Japan, India, Korea, China and Taiwan, while some countries are more sparsely represented. Likewise, in USA in \cref{fig:map_places_usa} and \cref{fig:map_imnet_usa}, we observe a significant share of images from California, New York and Florida than other regions. These distributions reflect the larger user demographic biases in photo-sharing websites like Flickr from where all our images have been taken from.  

\section{Error Analysis of Unsupervised Adaptation}

While we show in the main paper (Table 3) that existing unsupervised adaptation approaches yield limited benefit for geographical adaptation, we conduct a deeper analysis into the per-class accuracy post-adaptation in \cref{fig:perclass_accuracies} for the case of USA$\rightarrow$Asia on \GeoP{}. Specifically, we first take a model trained only on USA images, and compute the drop in per-class accuracy suffered by direct cross-domain transfer on Asia test images. We show this in \cref{fig:da_plain}, where classes like \textit{mausoleum}, \textit{assembly line} and \textit{kitchen} suffer the largest drops in accuracy. Next, we carry the same analysis using a model trained with CDAN~\cite{CDAN} adaptation method. From \cref{fig:da_cdan}, we observe that the trends in per-class accuracy drops are mostly similar with or without using CDAN adaptation, indicating that the benefit achieved using an adaptation method is negligible on all the categories. Similar observations also hold for the case of adaptation using ToAlign~\cite{wei2021toalign}, underlining the fact that existing state-of-the-art adaptation methods cannot handle geographic shifts across most categories. 

\section{Data De-duplication}

Since a lot of users tend to upload multiple pictures of the same scene on sites like Flickr, we carry a data de-duplication exercise so that there are no such duplicate copies of same images in train and test sets which would unfairly improve within-domain accuracy. We first group all the images in the train and test sets which belong to the same geographical location, by discretizing the GPS coordinates within one degree. Then, within each group, we first resize the images to 32x32x3, and compute a histogram of the images along the RGB channels. We also flatten the image and compute the euclidean distance between all pairs of images within the same group and remove all images from the training set which are ``similar'' to images in test set, where two images are similar if they belong to the same GPS group, and have RGB histogram, euclidean distance lower than preset thresholds. 

\section{Large-scale pre-training on \Ours{}}

In \cref{fig:vit_asia2usa}, we show the effect of large-scale pretraining on the transfer setting Asia$\rightarrow$USA from \GeoP{}(\cref{fig:vit_places_au}) and \GeoI{}(\cref{fig:vit_imnet_au}). We make similar observations as the transfer setting from USA$\rightarrow$Asia in the main paper. Specifically, we show that transformers outperform Resnets, pre-training using billion-scale datasets like SWAG~\cite{singh2022revisiting} outperforms ImageNet-pretraining and all models still have significant gap with the target supervised accuracy indicating the limitations of these models in bridging cross-geography domain shifts.

\section{Effect of label-cleaning on \GeoI{}}
\input{tables/geoimnet_prefilter}

Before the current version of \GeoI{} with 600 classes, we created a slightly larger, albeit more noisy 700 class version. We then observed that although these concepts have been selected from ImageNet, there were many ambiguous classes (like \texttt{fancy dress, frozen yogurt, prey, flash, walking stick}) etc. So, we removed 100 such classes with ambiguous concept meanings, and created a newer version with 600 classes, which is eventually used in benchmarking and release. In \cref{tab:prefilter}, we show the cross-domain accuracies with the older version. We observed that while the cross-domain drops remain the same, the absolute accuracy themselves are much higher using a cleaner version of the dataset. 

% \section{Dataset Details}

% The category list in Places-205 dataset, which we also use in our \GeoP{} benchmark, along with the list of concepts used in our \GeoI{} benchmark, which are a strict subset of the ILSVRC-21 dataset~\cite{deng2009imagenet} are provided as attachments along with the supplementary pdf material.

\section{Sample Images} We show few sample images from selected classes across both USA and Asia domains in \GeoP{} benchmark in \cref{fig:sample_images_1}, \cref{fig:sample_images_2} and \GeoI{} benchmark in \cref{fig:sample_images_3}, \cref{fig:sample_images_4}.

\input{scripts/sample_images}

\clearpage