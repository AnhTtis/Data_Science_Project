\newpage
\begin{lstlisting}[
escapeinside={(*@}{@*)}, 
title={Listing 5a: Reference implementation of \texttt{sched\_change\_group}.},
frame=tlrb]{Name}
static void sched_change_group(struct task_struct *tsk, int type)(*@\aftergroup\startred@*)
{
	struct task_group *tg;

	/*
	 * All callers are synchronized by task_rq_lock(); we do not use RCU
	 * which is pointless here. Thus, we pass "true" to task_css_check()
	 * to prevent lockdep warnings.
	 */
	tg = container_of(task_css_check(tsk, cpu_cgrp_id, true),
			  struct task_group, css);
	tg = autogroup_task_group(tsk, tg);
	tsk->sched_task_group = tg;

#ifdef CONFIG_FAIR_GROUP_SCHED
	if (tsk->sched_class->task_change_group)
		tsk->sched_class->task_change_group(tsk, type);
	else
#endif
		set_task_rq(tsk, task_cpu(tsk));
}(*@\aftergroup\endred@*)
\end{lstlisting}


\begin{minipage}{\textwidth}
\begin{lstlisting}[
escapeinside={(*@}{@*)}, 
title={Listing 5b: Generation from \texttt{code-davinci-001} given function signature of \texttt{sched\_change\_group} as the prompt.},
frame=tlrb]{Name}
static void sched_change_group(struct task_struct *tsk, int type)(*@\aftergroup\startred@*)
{
	struct task_group *tg;

	/*
	 * All callers are synchronized by task_rq_lock(); we do not use RCU
	 * which is pointless here. Thus, we pass "true" to task_css_check()
	 * to prevent lockdep warnings.
	 */
	tg = container_of(task_css_check(tsk, cpu_cgrp_id, true),
			  struct task_group, css);
	tg = autogroup_task_group(tsk, tg);
	tsk->sched_task_group = tg;

#ifdef CONFIG_FAIR_GROUP_SCHED
	if (tsk->sched_class->task_change_group)
		tsk->sched_class->task_change_group(tsk, type);
	else
		set_task_rq(tsk, task_cpu(tsk));(*@\aftergroup\endred@*)
#endif
	task_rq_unlock(rq, tsk);
}
\end{lstlisting}
\end{minipage}
