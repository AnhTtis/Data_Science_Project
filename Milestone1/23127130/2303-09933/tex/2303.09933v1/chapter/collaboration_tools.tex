\section{Collaboration Theory and Tools}
\label{sec:collaboration}

This section provides an overview of theory and tools for collaborative work.
First, we give a general overview of the challenges of collaboration.
Then, we summarize \ac{WYSIWYG} tools such as Microsoft Word, LibreOffice Writer, or Google Docs.
Further, we discuss tools which distinguish plain text input from the rendered output document such as Markdown, AsciiDoc, and LaTeX.

\subsection{Collaboration Theory}

The benefits of collaborative writing are widely recognized~\cite{storch2019collaborative}.
Computer-supported collaborative work has been studied since the introduction of computers~\cite{grudin1994computer}.
Schutzler~et~al.~\cite{schuetzler2019learning} have further shown the benefit of using collaboration via \git for teaching and learning new concepts.
The field of collaboration engineering focuses on the design of efficient collaboration processes that can be repeatedly applied by non-expert practitioners~\cite{de2019program}.
In this paper, we do not design a new process or contribute to the theory of collaboration, but focus on which tools are most suitable for the established process of collaborative writing.
An important component when designing tools for this task is to consider the human factor in collaboration.
Some works highlight the importance of not dividing human attention too much, but to ensure that each collaborator can focus on a single task at hand~\cite{arias2000transcending}.
The proposed workflow allows each contributor to be assigned specific issues and only work on their own version of the document.
Works such as~\cite{edwards2004implementing} discuss the significant challenges of virtual teamwork, regardless of which tools are used.
While Muri\'{c}~et~al.~\cite{muric2019collaboration} show that the first few additional collaborators increase the productivity of each individual, they also demonstrate that the productivity decreases for larger groups due to communication and process overhead.
The question of whether technologies such as \git and AsciiDoc are the right approach for the general task of collaborative writing is a typical example of task-technology fit~\cite{goodhue2006task}.
We argue that to overcome the challenges of virtual teamwork, using tools developed over decades of successful software engineering collaboration is the most promising direction.

\subsection{Local \ac{WYSIWYG} with Microsoft Word}

Microsoft Word is a proprietary \ac{WYSIWYG} application, first published in 1983 and continuously improved until its latest version Word 2021.
Word is a suitable representative since Microsoft's Office suite, with Word being one of the major tools, had an \SI{87.5}{\percent} market share in 2018~\cite{schwartz_microsoft_2020}.
It is available for all major desktop and mobile \acp{OS}, with the exception of Linux-based \acp{OS}.
The latest version provides a comprehensive featureset, covering needs from font modification, layout options, referencing, bibliography management, to complex mathematical equations.
It is used as a universal tool for a great variety of document types, e.g. school essays, books, scientific articles, patents, international standards, meeting reports, and quick notes.

Word has the following relevant characteristics:

\subsubsection{Beginner Friendliness}

The graphical user interface allows for straightforward discovery of the available features.
Further, it provides templates for typical documents such as curricula vitae, calendars, and letters.
Such features allow for less experienced users to quickly achieve results.
This beginner friendliness, combined with the close resemblance to sheets of paper, explains why Word is often taught as a first tool for creating documents.

\subsubsection{Collaboration Tools}

The user can toggle a review mode in which all changes are tracked.
In this mode, the user can add comments on the selected text.
Collaborators can respond to comments, but given the simple design of Word comments, extensive, complex discussions cannot take place there.
Once comments are resolved, a list of all resolved comments can be displayed in a dedicated view.
For comparing two versions of the same document, Word provides a difference view.

\subsubsection{File Structure}

One document is a single \docx file.
It contains all text and images in a proprietary format which does not interface with other applications.
Applications such as LibreOffice Writer or Pandoc can parse and create \docx files, but interfacing is imperfect and can result in layout or content errors.
The single-file approach renders navigating long Word documents cumbersome.
Word offers a navigation pane with links to sections to alleviate this issue.

\subsubsection{Correctness}

Autocorrection detects spelling as well as grammatical errors and suggests improvements, which informs the user and enhances the quality of the text created.

\subsection{Online \ac{WYSIWYG}}
\label{ssec:word-online}

Web-based \ac{WYSIWYG} tools such as \wftw and Google Docs resolve many of the issues of collaborating with manually shared files.
Such tools do not require collaborators to download a file and open a standalone application.
Instead, the file resides on a shared (cloud-)storage, to which all collaborators must have access.
Online \ac{WYSIWYG} tools are web applications, requiring only a modern browser for editing the document.
As a representative, we introduce \wftw in more detail in the following.

When \docx files are stored in online storage such as OneDrive or SharePoint, they can be edited with \wftw as well as the standalone Word application.
\wftw mirrors most of the Word standalone application's user experience, with some notable differences.
\wftw lacks equations, advanced table tools, SmartArt, charts, signature, drawing and design dialogs, bibliography and captions, and many more.

By itself, each of these differences is not a significant issue.
However, given the large number of discrepancies, the lack of tools in \wftw will force users to go back to the standalone application for various tasks.
\wftw offers several features which are not found in the standalone application.
First, it allows for live collaborative editing in the same document.
When editing a shared document with the web and the desktop versions simultaneously, merge conflicts arise immediately after edits from different applications.
Second, a reuse-files tool allows searching through existing files in OneDrive/SharePoint to avoid duplicate text or writing.
Finally, all files are versioned automatically.
\wftw automatically saves a file upon new changes and offers a file version history.
However, the user has no control over when versions are created.
The versions can only be identified by date and time.
There is no possibility for annotating versions with meaningful messages.

Given the differences between the web and standalone applications, collaboration using both application types requires switching between the applications to get access to all features.
Additionally, manual resolution of unnecessary merge conflicts created by the tool is required.

\subsection{Version Control}

Engineering leaders at Google state: "\textit{Perhaps no software engineering tool is quite as universally adopted throughout the industry as version control. One can hardly imagine any software organization larger than a few people that doesn`t rely on a formal Version Control System (VCS) to manage its source code and coordinate activities between engineers.}"~\cite{winters_software_2020}

Fundamentally, software engineering is a collaborative project on a set of documents, the source code files.
Thus, adopting version control for other kinds of collaborative document editing might entail similar benefits as seen in the software industry.

Version control has seen tremendous adoption rates in software engineering over the past two decades, most notably \git~\cite{german_continuously_2016}.
Additionally, other fields such as scientific research adopt version control for its benefits in transparency, collaboration features, reproducibility, and time savings \cite{ram_git_2013, lowndes_our_2017}.

\subsubsection{\git Workflow}
\label{sec:git}

The open source tool \git~\cite{chacon_pro_2014} is the de facto standard for file version control in open source~\cite{openhub_git_2021} and commercial projects.
\git supports distributed collaboration and is highly secure and efficient.

Branches are an integral part of a typical \git workflow.
If a contributor wants to change something, a branch is created based on the latest accepted version of the files which is called \textit{trunk}, \textit{head}, \textit{master}, or \textit{main}.
Next, the contributor can perform all changes on that branch in their isolated environment.
Other collaborators and the \textit{head} are not affected by those actions.
Once all changes are implemented, the contributor requests to merge the changes back into the main branch.
Depending on the platform, such requests are either called \ac{MR} or \ac{PR}.
At this point, \ac{PR} reviews, further detailed in the next section, come into play.
When the changes are merged, the branch is discarded.
New branches can then be created for the next work packages.
As the process of merging is a core feature of \git, this is highly optimized and can be performed automatically in many cases.
Other workflows with non-main branches merging into each other are also possible.

Further, \git is a decentral, distributed \ac{VCS} in which each collaborator has their own complete set of files.
No connection to a central server is required while working on the files.
To ease coordination, projects usually choose a central hosting server such as \gh or \gl as the root repository containing the latest accepted changes.

Versioning in \git is done via commits.
From a user perspective, a commit contains a change to one or more files.
Contributors create commits when they think that they have completed a unit of their work package.
A commit contains a timestamp, commit message, unique commit hash, author, and additional metadata.
A \git history is simply a sequence of commits on one or more branches.
Given complete control over commit creation, teams usually create expressive \git histories that can be navigated efficiently.
Modern editors such as VS Code~\cite{vs_code} provide a deep integration of \git features.
For instance, the latest commit including some meta information that affected a certain line of text can be displayed.
This can drastically reduce the time of error tracing.

\subsubsection{\gh}
\label{sec:github}

Depending on the project needs, a \git project can be hosted publicly or on a private/company server.
\gh is a popular service for hosting document collections in projects, which are separate \git repositories.
Each project can be managed individually, e.g. in terms of user access level.
In \cite{longo_use_2015}, the authors already analyzed that \gh is used beyond classical software engineering projects and a well-suited solution for open collaboration on text documents.
Here, we summarize the key features of \gh that are most important for collaborative document creation.

One of the major features of \gh are \acfp{PR}.
A collaborator opens a \ac{PR} to merge a work branch into the repository's main branch.
PRs allow structured discussions that are permanently visible.

Reviewers can be explicitly assigned to request their review.
Other interested contributors can also review the \ac{PR}.
Reviewers see the changes of one work branch in isolation, which allows them to focus on the task at hand.
If required, they can access the entire document at the latest change for more context.
Multiple \acp{PR} may take place in parallel, but they are isolated from each other.
Each discussion is focused on one topic.
Difference views are independent of each other.
Avoiding double work might require some coordination through the management tools presented in the next subsubsection.
When a reviewer comments on a line, a discussion thread starts below that comment.
When the collaborators involved in the discussion agree on a solution, the comment is marked as resolved.
The solution can be a modification to the proposed change, a follow-up task, or an agreement in the discussion.
All comments and the related \acp{PR} remain visible and easily accessible through permanent \acp{URL}.
This provides traceability, which is required in some contexts and useful in most projects in order to see the history and reasons for past decisions.
If all comments of a reviewer are resolved, the reviewer accepts the changes and marks the \ac{PR} as \textit{approved}.
Different repository policies are possible, such as requiring one or two approvals before a proposed change can be merged into the main branch.

\gh provides management tools to streamline collaboration.
Workloads are organized using \textit{issues}.
An issue can be a discussion thread, a proposal for new content or a problem in the existing document, for example.
When the related work package is clear, an assignee is appointed and starts working on the issue.
In the process, the assignee can open multiple \acp{PR} and link to them, again providing traceability.
One or more labels can be assigned to issues and \acp{PR} for the organization of workloads into topics.
Labels can be used as filters.
Finally, milestones are used to group issues.

\subsection{Lightweight Markup Languages}

In markup languages, a plain text document can be annotated with elements that are syntactically different from the text.
When the plain text document is processed for display, these elements act as instructions to format the text rather than a direct visualization.
Examples for markup languages are HTML, \LaTeX, Markdown, and AsciiDoc.
As an example, we show the following Markdown plain text:

\begin{lstlisting}
# First Heading
## Second Heading
Markdown can do **bold** and *italic* text,
see [Wikipedia](www.wikipedia.de).
\end{lstlisting}

This text can be, depending on the Markdown toolchain, rendered to

\noindent
\fbox{\begin{minipage}{\columnwidth}
        \begin{flushleft}
            {\LARGE \underline{1.
                    First Heading}}

            {\large 1.2 Second Heading}

            Markdown can do \textbf{bold} and \textit{italic} text, see \href{www.wikipedia.de}{\color{blue}{Wikipedia}}.
        \end{flushleft}
    \end{minipage}}

Symbols such as \#, **, * and patterns such as []() are markup instructions that control formatting and are not shown in the displayed text.

With formatting instructions that are deliberately easy to use and memorable, markup languages targeting human usage such as Markdown and AsciiDoc create an efficient framework for text processing~\cite{thomas2019pragmatic}.
Some markup languages have fewer formatting options compared to Word, but they still suffice for most documents and can even prevent antipatterns, such as putting overly complex layout elements into table cells.
In particular, AsciiDoc seems to have found a good balance between simplicity of usage and a sufficient feature set for many use cases.
AsciiDoc's semantics are similar to Markdown and offer some more built-in features such as \LaTeX-based equations.
AsciiDoc has been used to write books~\cite{chacon_pro_2014, ramalho_fluent_2015}, extensive software documentation such as the Khronos\textsuperscript{\textregistered} Vulkan\textsuperscript{\textregistered} API~\cite{leech_khronos_2021}, and is used in some open source projects for documentation.
Further, Marquardson~et~al.~\cite{marquardson_learning_2019} used AsciiDoc together with \gh in education, where students should collaboratively create a tutorial for a certain topic.

Markup languages are furthermore easily extensible, e.g., via \ac{CSS} to support special use cases.
A prominent example is the Markdown-based bitstream specification~\cite{google_draco_bitstream_2021} of Google's Draco 3D compression library~\cite{google_draco_2021}.
For the table-based syntax elements of Draco's specification, Google created a \ac{CSS} element to display simple plain text bitstream specifications as tables.

Given that markup languages are plain text documents, any editor can be used to process them.
There are widely used editors such as VS Code~\cite{vs_code}, which have built-in support for previewing the rendered document while editing it.
Collaboration platforms such as \gh or \gl provide a preview of the rendered markup directly inside the browser.

\subsection{Collaboration Scenarios}

Next, we discuss common collaboration scenarios and the conventional workflow used in those collaborations.

\subsubsection{Standards and Intellectual Property Documents}
\label{sec:standards-workflow}

Collaborations on international standards for submission to \ac{ISO} such as \ac{MPEG} standards typically use the Word desktop applications.
Word files are exchanged per email or by hosting several file versions on a central NAS drive owned by the company.
Due to strict \ac{IP} company guidelines, the same process is commonly used for \ac{IP} relevant documents such as invention reports or patent applications.
Hence, online solutions such as \wftw are not allowed by the company guidelines.
To apply changes to an existing document, a collaborator usually follows the steps summarized in \autoref{fig:workflow_sota}.

\begin{figure}[ht!]
    \centering
    \resizebox {.85\columnwidth} {!}{\input{drawings/workflow_sota.tex}}
    \caption{Overview of the conventional workflow used for applications such as \ac{ISO} standards.}
    \label{fig:workflow_sota}
\end{figure}

"Who would work this way?", the attentive reader might ask.
These processes occur even in highly technical environments with well-educated employees.
There is significant potential for human error in this process, as humans need to undertake laborious tasks that can be automated.
Standardization efforts are a prominent example in which multiple companies with \ac{IP} right concerns collaborate on documents.
Their company policies often prohibit taking the risk of collaborating on shared document platforms with competitors, so the employees resort to the rather inefficient process of exchanging Word files.

\subsubsection{Research}

Researchers have a wide variety of backgrounds and significant liberties in designing their work environment.
Hence, they commonly apply varying techniques for collaborating on documents.
In research, the conventional workflow described in \autoref{sec:standards-workflow} is used as well as shared drives, \wftw, collaboration platforms such as Overleaf~\cite{overleaf_overleaf_2021}, or \magit.
A unified and efficient workflow could improve scientific collaborations and exchange of ideas.

\subsubsection{Software Development}

In professional software development, efficiency of the development process is critical for economic success.
Hence, companies scrutinize their tools and processes and strive for using efficient tools that enable their developers to work efficiently.
Successful companies rely heavily on using version control for their source code documents.
Most companies also use a variant of version control plus a markup language for documentation, such as Google's g3doc~\cite{winters_software_2020}, an internal wiki instance, or Confluence~\cite{atlassian_confluence_2021}.
Once more, this highlights that companies have found the combination of markup plus version control to be the most efficient collaborative documentation approach to date~\cite{winters_software_2020}.
We therefore next introduce an approach for efficient collaboration using a lightweight markup language and version control.
