\begin{algorithm}
\caption{Voltage parametrization update}

{\small \textbf{Require:}
$\bm{x}_0$, $\bm{T}$\\
\textbf{Initialize: } $\yparams{}^{(0)}$, $\Delta \yparams^{\max}$, $k^{\max}$
\begin{algorithmic}[1]\label{algo:parameter_update}

\While{$\Delta \yparams^{(k)} > \Delta \yparams^{\max}$ and $k < k^{\max}$}

\For{component $i = 1, \dots, m$}
\State Calculate current injections $\Bar{I}_i^{(k)} = h_i(\bm{T}, \bm{x}_{0, i}, \yparams_i^{(k)})$

\State Calculate Jacobian $\nicefrac{\partial \Bar{I}_i^{(k)}}{\partial \yparams_i^{(k)}}$

\EndFor {\bf end}

\State Calculate network injections $\Bar{Y}_N\hat{\Bar{\bm{V}}}(\bm{T}, \yparams{}^{(k)})$

\State Calculate network Jacobian $\nicefrac{\partial\Bar{Y}_N\hat{\Bar{\bm{V}}}(\bm{T}, \yparams{}^{(k)})}{\partial \yparams^{(k)}}$

\State Calculate current balance error $\varepsilon_I^{(k)}$

\State Calculate voltage parameter update $\Delta \yparams{}^{(k)}$\label{algo_step:voltage_parameter_update}

\State Update iteration $\yparams{}^{(k+1)}=\yparams{}^{(k)}+ \Delta \yparams{}^{(k)}$, $k = k + 1$

\EndWhile {\bf end}

\State \Return $\yparams{}$

\end{algorithmic}}
\end{algorithm}
