% \usetikzlibrary{patterns}
% \pgfplotsset{width=10cm, height=5cm}

% \pgfplotsset{
%     compat=1.3,
%     % define your own legend style here
%     my ybar legend/.style={
%         legend image code/.code={
%             \draw [##1] (0cm,-0.6ex) rectangle +(2em,1ex);
%         },
%     },
% }

% \pgfplotscreateplotcyclelist{line_shape}{%
% solid, every mark/.append style={solid, fill=red}, mark=diamond*\\%
% dotted, every mark/.append style={solid,  fill=gray}, mark=square*\\%
% densely dotted, every mark/.append style={solid, fill=gray}, mark=otimes*\\%
% loosely dotted, every mark/.append style={solid, fill=gray}, mark=triangle*\\%
% dashed, every mark/.append style={solid, fill=gray},mark=halfdiamond*\\%
% loosely dashed, every mark/.append style={solid, fill=gray},mark=*\\%
% densely dashed, every mark/.append style={solid, fill=gray},mark=square*\\%
% dashdotted, every mark/.append style={solid, fill=gray},mark=otimes*\\%
% dashdotdotted, every mark/.append style={solid},mark=star\\%
% densely dashdotted,every mark/.append style={solid, fill=gray},mark=diamond*\\%
% }
% \begin{tikzpicture}
% % \selectcolormodel{gray}
% \begin{axis}[
% cycle list name = line_shape,
% ylabel style={align=center}, 
% ylabel={Testing Accuracy},
% xlabel={Mixed days used in the training process},
% xticklabels={1, 2, 3, 4, 5},
% yticklabels={0, 0.05, 0.1, 0.15, 0.2},
% ytick={0, 0.05, 0.1, 0.15, 0.2},
% legend style={at={(0.5,0.3)},
% anchor=north,legend columns=3},
% xtick=data,
% mark size=2.5pt,
% xmin =0,
% xmax = 6,
% ymin=0,
% ymax = 0.2,
% % height=8cm,
% width=8cm,
% grid=major,
% ]

% \addplot coordinates { (1, 0.09 ) (2, 0.09 )  (3, 0.09) (4, 0.08 ) (5, 0.13 )};

% \addplot coordinates { (1, 0.10 ) (2, 0.11 )  (3, 0.11) (4, 0.11 ) (5, 0.12 )};
% \addplot coordinates { (1, 0.18 ) (2, 0.12 )  (3, 0.12) (4, 0.10 ) (5, 0.12 )};

% \legend{$Baseline$, $LSTM$, $ResNet$}
% \end{axis}
% \end{tikzpicture}

\pgfplotsset{compat=1.15}


\begin{filecontents}{data.csv}
Number of Days, Baseline,  LSTM,  ResNet
1, 0.09, 0.10, 0.18 
2, 0.09, 0.11, 0.12
3, 0.09, 0.11, 0.12
4, 0.08, 0.11, 0.10
% 5, 0.13, 0.12, 0.12

\end{filecontents}
\pgfplotstableread[col sep=comma,]{data.csv}\datatable

\begin{tikzpicture}
\begin{axis}[width=8.5cm, height=4.5cm,
    ybar=0.12cm,
    ylabel={Testing Accuracy\%},
    yticklabels={0, 0.05, 0.10, 0.15, 0.20},
    ytick={0, 0.05, 0.10, 0.15, 0.20},
    bar width=11pt,
    enlarge x limits=0.17,
    xlabel={Number of Days},
    xtick=data,
    xticklabels from table={\datatable}{Number of Days},
    ymajorgrids,
    legend columns=3,
    legend pos=north east,
    % legend style={at={(0.1,0.2)}},
    legend image post style={scale=1.3}  %%% <--- here
    % legend style={at={(0.97,0.03)}, anchor=north east}
             ]
    \addplot[ybar, black!50, postaction={pattern=horizontal lines, , pattern color = red!70}] table [x expr=\coordindex,y=Baseline]{\datatable};
    \addplot[ybar, black!50, postaction={pattern=vertical lines, pattern color = blue!70}] table [x expr=\coordindex, y=LSTM]{\datatable};
    \addplot[ybar, black!50, postaction={ pattern=north east lines,pattern color = brown!70}] table [x expr=\coordindex, y=ResNet]{\datatable};
    \legend{Baseline, LSTM, ResNet}
\end{axis}
\end{tikzpicture}

