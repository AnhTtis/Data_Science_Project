\documentclass[twoside,11pt]{article}
\pdfoutput=1

\usepackage[pdfa,unicode]{hyperref}
\usepackage{jair, theapa, rawfonts}
% \usepackage[english]{babel}
\usepackage{array}
\usepackage[tbtags,fleqn]{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{environ}
\usepackage{xspace}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{ifthen}
\usepackage{algorithm}
\usepackage[noend]{algorithmic}
\usepackage[capitalise, noabbrev]{cleveref}
\usepackage{subcaption}
\usepackage{placeins}
\usepackage{pifont}
\usepackage{url}
\usepackage{tabularx}
\usepackage{tikz}
\usepackage{multirow}
\usepackage[draft]{todonotes}
\usepackage[shortlabels, inline]{enumitem}

\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{positioning}
\usetikzlibrary{fit}
\input{rs_macros_general.tex}

% \jairheading{70}{2021}{1-15}{10/2020}{1/2021}
\ShortHeadings{On CNF Conversion for %
%\ignoreinlong{ Disjoint} 
SAT %\ignoreinshort{
and SMT %}  
Enumeration}
{Masina, Spallitta, \& Sebastiani}
\firstpageno{1}

\renewcommand{\topfraction}{1}
\renewcommand{\bottomfraction}{1}
\renewcommand{\textfraction}{0}
\renewcommand{\floatpagefraction}{.8}
\setcounter{topnumber}{3}
\setcounter{totalnumber}{3}
\setcounter{bottomnumber}{3}

\begin{document}


\title{On CNF Conversion for SAT
  and SMT
  Enumeration}

\author{\name Gabriele Masina \email gabriele.masina@unitn.it \\
  \name Giuseppe Spallitta \email giuseppe.spallitta@unitn.it \\
  %\addr NASA Ames Research Center, Mail Stop: 244-7,\\
  %Moffett Field, CA  94035 USA
  %\AND
  \name Roberto Sebastiani \email roberto.sebastiani@unitn.it \\
  \addr DISI, University of Trento,
  Via Sommarive 9, 38123 Povo, Trento, Italy
  %  \AND
  %  \name Philip Laird \email laird@ptolemy.arc.nasa.gov \\
  %  \addr NASA Ames Research Center,
  %  AI Research Branch, Mail Stop: 269-2,\\
  %  Moffett Field, CA  94035 USA
}



% For research notes, remove the comment character in the line below.
% \researchnote

\maketitle


\begin{abstract}
  Modern SAT %\ignoreinshort{
  and SMT %} 
  solvers are designed to handle problems expressed in
  Conjunctive Normal Form (CNF) so that non-CNF problems must be
  CNF-ized upfront, typically by using variants of either Tseitin
  or Plaisted and Greenbaum transformations.
  %converted into CNF upfront.
  % \ignore{The Tseitin transformation is a widely used procedure for this conversion, since it generates an equisatisfiable formula without causing an exponential increase in the number of clauses\ignoreinshort{, by introducing fresh Boolean atoms to label sub-formulas}.
  % This transformation can also be employed for SAT enumeration (AllSAT) by projecting the enumeration on original variables only.}
  When passing from solving to enumeration, however, the capability of
  producing partial satisfying assignments that are as small as
  possible becomes crucial, which raises the question of whether such CNF encodings are also effective for enumeration.


  In this paper, we investigate both theoretically and empirically the effectiveness of CNF conversions for
  %\ignoreinlong{disjoint} 
  SAT %\ignoreinshort{
  and SMT %} 
  enumeration.
  On the negative side, we show that:
  (i) Tseitin transformation prevents the solver from producing short partial assignments, thus seriously affecting the effectiveness of enumeration;
  (ii) Plaisted and Greenbaum transformation overcomes this problem only in part.
  On the positive side, we prove theoretically
  and we show empirically
  that combining Plaisted and Greenbaum
  transformation with NNF preprocessing upfront
  \mbox{---which} is typically not used in solving---
  can % mia aggiunta
  fully overcome the problem and can drastically %significantly
  reduce both the number of partial assignments and the execution time.
  \ignore{This analysis is validated by an experimental
    evaluation on non-CNF problems originating from both synthetic and real-world-inspired applications.}
\end{abstract}

\section{Introduction}%
\input{01-introduction.tex}

\section{Background}%
\label{sec:background}
\input{02-background.tex}

\section{The impact of CNF transformations for %\ignoreinlong{AllSAT} \ignoreinshort{
  Enumeration} %}%
\label{sec:problem}
\input{03-problem.tex}

\section{Enhancing enumeration via NNF preprocessing}%
\label{sec:solution}
\input{04-solution.tex}

\section{Experimental evaluation}%
\label{sec:experiments}
\input{05-experiments.tex}


% \ignoreinshort{
\section{Related work}
\label{sec:related-work}
\input{06-related-work.tex}
% }

\section{Conclusions%\ignoreinlong{ and future work}
 }%
\label{sec:conclusions}
\input{07-conclusions.tex}

% \acks{The authors wish to thank Hans-Martin Adorf, Don Rosenthal, 
% Richard Franier, Peter Cheeseman and Monte Zweben for their assistance
% and advice.  We also thank Ron Musick and our anonymous reviewers for
% their comments.  The Space Telescope Science Institute is operated by
% the Association of Universities for Research in Astronomy for NASA.
% }


% \acks{We acknowledge the support of the MUR PNRR project FAIR --
%   Future AI Research (PE00000013), under the NRRP MUR program funded
%   by the NextGenerationEU. The work was partially supported by the
%   project ``AI@TN'' funded by the Autonomous Province of Trento.
%   This research was partially supported by TAILOR, a project funded
%   by the EU Horizon 2020 research and innovation program under GA No 952215.
% }
\FloatBarrier

% \ignoreinshort{
\newpage
\renewcommand{\theHsection}{A\arabic{section}}
\appendix
\input{appendix.tex}
% }


% \vskip 0.2in
\newpage
\bibliography{jair-allsat-cnfs}
\bibliographystyle{theapa}

\end{document}
