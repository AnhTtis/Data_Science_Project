\usepackage{mathtools}
\usepackage{xcolor}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}{Corollary}[theorem]

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{xca}[theorem]{Exercise}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

\numberwithin{equation}{section}

\usepackage{wrapfig}
\usepackage{graphicx} % Required for including pictures


% AMS's preferred absolute value notation
\newcommand{\abs}[1]{\lvert#1\rvert}


%----------------------------------------------------------------------------------------
%	Comments
%----------------------------------------------------------------------------------------

\usepackage[draft]{pdfcomment}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=magenta,
}

\usepackage[subrefformat=parens]{subcaption}
\captionsetup{compatibility=false}

\newcommand{\COMMENT}[3]{\textcolor{#2}{{[\textbf{#1:} \textsl{#3}}]}}  % For work in progress using in-text comments
\newcommand{\TODO}[1]{\COMMENT{TODO}{red}{#1}}
\newcommand{\cSI}[1]{\COMMENT{SI}{blue}{#1}}
\newcommand{\cAC}[1]{\COMMENT{AC}{olive}{#1}}
\newcommand{\cCW}[1]{\COMMENT{CW}{cyan}{#1}}


%================
% REFERENCING
%================
\newcommand{\figref}[1]{Figure~\ref{#1}}
\newcommand{\tabref}[1]{Table~\ref{#1}}
\newcommand{\teqref}[1]{Eq.~(\ref{#1})}
\newcommand{\chref}[1]{Chapter~\ref{#1}}
\newcommand{\secref}[1]{Section~\ref{#1}}
\newcommand{\appref}[1]{Appendix~\ref{#1}}
% \renewcommand{\algref}[1]{Algorithm~\ref{#1}}
\newcommand{\thmref}[1]{Theorem~\ref{#1}}
\newcommand{\lemref}[1]{Lemma~\ref{#1}}
\newcommand{\defref}[1]{Definition~\ref{#1}}
\newcommand{\propref}[1]{Proposition~\ref{#1}}
\newcommand{\corref}[1]{Corollary~\ref{#1}}
\newcommand{\exref}[1]{Example~\ref{#1}}
\newcommand{\exerref}[1]{Exercise~\ref{#1}}
\newcommand{\notref}[1]{Notation~\ref{#1}}

%=================== 
% LATINS
%===================
\def\etal{\emph{et al.}}
\def\cf{\emph{cf.}}
\def\ie{\emph{i.e.}}
\def\eg{\emph{e.g.}}
\def\etc{\emph{etc.}}
\def\etcnp{\emph{etc}}



%===================
% FONT SHORTHANDS
%===================
\def\AA{\mathbb{A}}
\def\BB{\mathbb{B}}
\def\CC{\mathbb{C}}
\def\DD{\mathbb{D}}
\def\EE{\mathbb{E}}
\def\FF{\mathbb{F}}
\def\GG{\mathbb{G}}
\def\HH{\mathbb{H}}
\def\II{\mathbb{I}}
\def\JJ{\mathbb{J}}
\def\KK{\mathbb{K}}
\def\LL{\mathbb{L}}
\def\MM{\mathbb{M}}
\def\NN{\mathbb{N}}
\def\OO{\mathbb{O}}
\def\PP{\mathbb{P}}
\def\QQ{\mathbb{Q}}
\def\RR{\mathbb{R}}
\def\SS{\mathbb{S}}
\def\TT{\mathbb{T}}
\def\UU{\mathbb{U}}
\def\VV{\mathbb{V}}
\def\WW{\mathbb{W}}
\def\XX{\mathbb{X}}
\def\YY{\mathbb{Y}}
\def\ZZ{\mathbb{Z}}

\def\bA{\mathbf{A}}
\def\bB{\mathbf{B}}
\def\bC{\mathbf{C}}
\def\bD{\mathbf{D}}
\def\bE{\mathbf{E}}
\def\bF{\mathbf{F}}
\def\bG{\mathbf{G}}
\def\bH{\mathbf{H}}
\def\bI{\mathbf{I}}
\def\bJ{\mathbf{J}}
\def\bK{\mathbf{K}}
\def\bL{\mathbf{L}}
\def\bM{\mathbf{M}}
\def\bN{\mathbf{N}}
\def\bO{\mathbf{O}}
\def\bP{\mathbf{P}}
\def\bQ{\mathbf{Q}}
\def\bR{\mathbf{R}}
\def\bS{\mathbf{S}}
\def\bT{\mathbf{T}}
\def\bU{\mathbf{U}}
\def\bV{\mathbf{V}}
\def\bW{\mathbf{W}}
\def\bX{\mathbf{X}}
\def\bY{\mathbf{Y}}
\def\bZ{\mathbf{Z}}

\def\cA{\mathcal{A}}
\def\cB{\mathcal{B}}
\def\cC{\mathcal{C}}
\def\cD{\mathcal{D}}
\def\cE{\mathcal{E}}
\def\cF{\mathcal{F}}
\def\cG{\mathcal{G}}
\def\cH{\mathcal{H}}
\def\cI{\mathcal{I}}
\def\cJ{\mathcal{J}}
\def\cK{\mathcal{K}}
\def\cL{\mathcal{L}}
\def\cM{\mathcal{M}}
\def\cN{\mathcal{N}}
\def\cO{\mathcal{O}}
\def\cP{\mathcal{P}}
\def\cQ{\mathcal{Q}}
\def\cR{\mathcal{R}}
\def\cS{\mathcal{S}}
\def\cT{\mathcal{T}}
\def\cU{\mathcal{U}}
\def\cV{\mathcal{V}}
\def\cW{\mathcal{W}}
\def\cX{\mathcal{X}}
\def\cY{\mathcal{Y}}
\def\cZ{\mathcal{Z}}

\def\sA{\mathscr{A}}
\def\sB{\mathscr{B}}
\def\sC{\mathscr{C}}
\def\sD{\mathscr{D}}
\def\sE{\mathscr{E}}
\def\sF{\mathscr{F}}
\def\sG{\mathscr{G}}
\def\sH{\mathscr{H}}
\def\sI{\mathscr{I}}
\def\sJ{\mathscr{J}}
\def\sK{\mathscr{K}}
\def\sL{\mathscr{L}}
\def\sM{\mathscr{M}}
\def\sN{\mathscr{N}}
\def\sO{\mathscr{O}}
\def\sP{\mathscr{P}}
\def\sQ{\mathscr{Q}}
\def\sR{\mathscr{R}}
\def\sS{\mathscr{S}}
\def\sT{\mathscr{T}}
\def\sU{\mathscr{U}}
\def\sV{\mathscr{V}}
\def\sW{\mathscr{W}}
\def\sX{\mathscr{X}}
\def\sY{\mathscr{Y}}
\def\sZ{\mathscr{Z}}

\def\ba{\mathbf{a}}
\def\bb{\mathbf{b}}
\def\bc{\mathbf{c}}
\def\bd{\mathbf{d}}
\def\be{\mathbf{e}}
\def\bff{\mathbf{f}}
\def\bg{\mathbf{g}}
\def\bh{\mathbf{h}}
\def\bi{\mathbf{i}}
\def\bj{\mathbf{j}}
\def\bk{\mathbf{k}}
\def\bl{\mathbf{l}}
\def\bm{\mathbf{m}}
\def\bn{\mathbf{n}}
\def\bo{\mathbf{o}}
\def\bp{\mathbf{p}}
\def\bq{\mathbf{q}}
\def\br{\mathbf{r}}
\def\bs{\mathbf{s}}
\def\bt{\mathbf{t}}
\def\bu{\mathbf{u}}
\def\bv{\mathbf{v}}
\def\bw{\mathbf{w}}
\def\bx{\mathbf{x}}
\def\by{\mathbf{y}}
\def\bz{\mathbf{z}}

%=====================
% QUATERNIONS
%=====================
\usepackage{bbm}
%%%%%makes a stylized 1%%%%%%%%%
\DeclareSymbolFont{bbold}{U}{bbold}{m}{n}
\DeclareSymbolFontAlphabet{\mathbbold}{bbold}
\newcommand{\one}{\mathbbold{1}}%%%%%%%%%makes stylized 1
% \newcommand{\ii}{\mathbbm i}
% \newcommand{\jj}{\mathbbm j}
% \newcommand{\kk}{\mathbbm k}
\newcommand{\ii}{\mkern1.5mu\mathbbold{i}\mkern1.5mu}
\newcommand{\jj}{\mkern1.5mu\mathbbold{j}\mkern1.5mu}
\newcommand{\kk}{\mkern1.5mu\mathbbold{k}\mkern1.5mu} 
%%%%%%%%%%%%%%%%%%%%

%============================
% Conjugate, Double bracket
%============================
\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\newcommand*{\conj}[1]{\overbar{#1}}

%=====================
% PROJECTIVE SPACES
%=====================
\newcommand{\RP}{\mathbb{RP}}
\newcommand{\CP}{\mathbb{CP}}
\newcommand{\HP}{\mathbb{HP}}

%=====================
% MATH OPERATORS
%=====================

% real, imaginary, and other parts of numbers
\renewcommand{\Im}{\operatorname{Im}}
\renewcommand{\Re}{\operatorname{Re}}
\newcommand{\sgn}{\operatorname{sgn}}
\DeclareMathOperator{\atan}{atan2}

% linear algebra
\def\tr {\operatorname{tr}}
\def\det{\operatorname{det}}
\def\End{\operatorname{End}}
\def\Hom{\operatorname{Hom}}
\DeclareMathOperator{\Map}{Map}
\def\im {\operatorname{im}}
\def\ker{\operatorname{ker}}
\def\spanset{\operatorname{span}}
\def\id{\operatorname{id}}
\def\adj{\operatorname{adj}}
\def\cof{\operatorname{cof}}

% optimization
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\arginf}{arginf}
\DeclareMathOperator*{\argsup}{argsup}

% Lie groups and Lie algebras
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\PSL}{PSL}
\DeclareMathOperator{\PSU}{PSU}
\DeclareMathOperator{\SO}{SO}
\DeclareMathOperator{\SU}{SU}
% \so is reserved by ams format 
% \DeclareMathOperator{\so}{\mathfrak{so}}
\DeclareMathOperator{\su}{\mathfrak{su}}
\DeclareMathOperator{\gl}{\mathfrak{gl}}
\DeclareMathOperator{\slla}{\mathfrak{sl}}
\DeclareMathOperator{\Diff}{Diff}
\DeclareMathOperator{\SDiff}{SDiff}
\DeclareMathOperator{\Spin}{Spin}


% Second fundamental form
\DeclareMathOperator{\sff}{I\!I}

% Vector Calculus
\newcommand{\grad}{\mathop{\mathrm{grad}}\nolimits}
\newcommand{\sgrad}{\mathop{\mathrm{sgrad}}\nolimits}
\newcommand{\curl}{\mathop{\mathrm{curl}}\nolimits}
\newcommand{\rot}{\mathop{\mathrm{rot}}\nolimits}
\renewcommand{\div}{\mathop{\mathrm{div}}\nolimits}
\newcommand{\LD}{\mathop{\mathscr{L}}\nolimits}
\newcommand{\Hess}{\mathop{\mathrm{Hess}}\nolimits}

% Probability
\def\Cov{\operatorname{Cov}}
\def\Var{\operatorname{Var}}

% Exterior Calculus
\def\wedgetimes{\mathbin{\underset{\times}{\wedge}}}
\def\wedgecomma{\mathbin{\hspace{0.5ex}\raisebox{-0.5ex}{,}\hspace{-1ex}{\wedge}}}

% Interior Calculus
\def\tt{\mathbbold{t}}
\def\nn{\mathbbold{n}}
\def\contract{\lrcorner}
\def\ip{i}
\def\ext{\operatorname{ext}}

% Geometry
\DeclareMathOperator{\Area}{Area}
\DeclareMathOperator{\Length}{Length}
\DeclareMathOperator{\Vol}{Vol}
\DeclareMathOperator{\Dihedral}{Dihedral}
\def\cp{\mathbbold{cp}}

% Numerics
\def\timestep{{\Deltait} t}

