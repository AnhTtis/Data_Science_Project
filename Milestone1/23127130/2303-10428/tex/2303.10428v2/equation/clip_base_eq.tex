\begin{align}
    &\boldsymbol{I}_{l}=\mathcal{F}_{V}(\boldsymbol{i}_{l}),~~~ \boldsymbol{I}_{r}=\mathcal{F}_{V}(\boldsymbol{i}_{r})\label{eq:ir_enc}\\
    %&\boldsymbol{I}_{2}=\mathcal{F}_{V}(\boldsymbol{i}_{r})\label{eq:ir_enc}\\
    &\boldsymbol{I}_{vis}=\left(\boldsymbol{I}_{l} + \boldsymbol{I}_r\right)/2\label{eq:i_mean}\\
    &\boldsymbol{I}_{text}=\left\{\begin{aligned}
\mathcal{F}_{T}\left(\boldsymbol{f}\right)& , p\geqslant0.5& \\
\mathcal{F}_{T}\left(\boldsymbol{c}\right)& , p<0.5&
\end{aligned}
\right.\label{eq:text_enc}\\
    %&\boldsymbol{I}_{text}=\mathcal{F}_{T}(\boldsymbol{f})\label{eq:text_enc}\\
    &loss=\mathcal{L}_{ctr}\left(\boldsymbol{I}_{vis}, \boldsymbol{I}_{text}\right)\label{eq:clip_base_loss}
\end{align}