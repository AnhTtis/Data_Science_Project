\begin{table}[h!]
    \centering
    \footnotesize
    \begin{tabular}{c|c|c}
        Parameter & Default value & Description \\
        \hline
        \hline
        \multicolumn{3}{c}{Script arguments}\\
        \hline
        {\tt output\_path} & {\tt ""} &
                        Output data path \\
        {\tt calc\_pt\_est} & {\tt True} & 
                        If {\tt True}, calculate point estimates \\
        {\tt apply\_dsc} & {\tt True} &
                         If {\tt True}, apply $\Delta\sigma$ cut \\
        {\tt pickle\_out} & {\tt True} &
                        If {\tt True}, pickle post-processed baseline \\
        {\tt wipe\_ifo} & {\tt True} & If {\tt True}, set interferometer strain data to 0\\
        \hline
        \multicolumn{3}{c}{Data specifics}\\
        \hline
        {\tt interferometer\_list} & {\tt ["H1", "L1"]} & List of (2) interferometers \\

        {\tt t0} & 0 & Analysis start time \\
        {\tt tf} & 100 & Analysis end time \\
        {\tt data\_type} & {\tt public} & Data accessibility \\
        {\tt channel} & {\tt GWOSC-16KHZ\_R1\_STRAIN} & Data channel name \\
        \hline
        \multicolumn{3}{c}{Pre-processing}\\
        \hline
        {\tt tag} & C00 & Descriptive data tag \\
        {\tt new\_sample\_rate} & 4096 Hz & Downsampled sample rate \\
        {\tt input\_sample\_rate} & 16384 Hz & Input sample rate \\
        {\tt cutoff\_frequency} & 11 Hz & Lower frequency cutoff \\
        {\tt segment\_duration} & 192 s & Individual segment duration \\
        {\tt number\_cropped\_seconds} & 2 s & Preprocessing cropped seconds \\
        {\tt window\_downsampling} & hamming & Downsampling window \\
        {\tt ftype} & fir & Downsampling filter \\
        {\tt time\_shift} & 0 s & Time shift duration \\
        \hline
        \multicolumn{3}{c}{Gating}\\
        \hline
        {\tt gate\_data} & {\tt False} & If {\tt True}, self-gate data \\
        {\tt gate\_tzero} & 1 s & 0 time half-width duration \\
        {\tt gate\_tpad} & 0.5 s & Gating window tapering \\
        {\tt gate\_threshold} & 50 & Gating threshold \\
        {\tt cluster\_window} & 0.5 & Gating cluster window \\
        {\tt gate\_whiten} & {\tt True} & If {\tt True}, whiten data before gating \\
        \hline
        \multicolumn{3}{c}{Spectral density estimation}\\
        \hline
        {\tt frequency\_resolution} & 1/32 Hz & Output frequency resolution \\
        %{\tt coarse\_grain} & {\tt True} &If {\tt True}, {\color{red} **} \\
        {\tt overlap\_factor} & 0.5 & Consecutive segment fractional overlap \\
        {\tt N\_average\_segments\_welch\_psd} & 2 & Average \gls{psd} segment number \\
        {\tt zeropad\_csd} & {\tt True} & If true zeropad the \gls{csd}\\
        \hline
        \multicolumn{3}{c}{FFT window specifics}\\
        \hline
        {\tt window\_fft\_dict} & {\tt hann} & FFT window parameter dictionary\\
        \hline
        \multicolumn{3}{c}{Postprocessing}\\
        \hline
        {\tt polarization} & {\tt tensor} & ORF polarization basis \\
        {\tt alpha} & 0 & Spectral index $\alpha$ \\
        {\tt fref} & 25 Hz & Reference frequency $f_{\rm ref}$ \\
        {\tt flow} & 20 Hz & Lowest frequency included \\
        {\tt fhigh} & 1726 Hz & Highest frequency included \\
        \hline
        \multicolumn{3}{c}{Data quality specifics}\\
        \hline
        {\tt notch\_list\_path} & {\tt ""} & Notch list file path \\
        {\tt calibration\_epsilon} & 0 & Calibration coefficient \\
        {\tt alphas\_delta\_sigma\_cut} & [-5, 0, 3] & List of $\Delta\sigma$ cut spectral indices \\
        {\tt delta\_sigma\_cut} & 0.2 & $\Delta\sigma$ cut cutoff value \\
        {\tt return\_naive\_and\_averaged\_sigmas} & {\tt False} & If {\tt True}, return both $\sigma$ and $\bar{\sigma}$  \\
        & & used in $\Delta\sigma$ calculation \\
        \hline
        \multicolumn{3}{c}{Output specifics}\\
        \hline
        {\tt save\_data\_type} & {\tt npz} & Output datatype \\
        \hline
        \multicolumn{3}{c}{Local data locations}\\
        \hline
        {\tt local\_data\_path\_dict} & {\tt\{\}} & Dictionary of local data paths         \end{tabular}
    \caption{Default parameters for the {\tt pygwb$\_$pipe} script as well as the {\tt Parameters} dataclass. Most of these choices reflect defaults chosen in the past when analysing LIGO and Virgo data. Notably, the default start and end times for the analysis are not meaningful and represent placeholders for the user-defined times. A default initialization file is included in the package with meaningful start and end times present in the O3 open dataset.}
    \label{tab:parameters}
\end{table}

The core script of our analysis suite, {\tt pygwb$\_$pipe}, is designed to carry out the bulk of the stochastic analysis. %
It combines the {\tt pygwb} modules in order to go from the unprocessed data to the optimally averaged $\hat{\Omega}^\alpha_{{\rm ref}, f}$ and $\sigma^\alpha_{{\rm ref}, f}$ spectra for a single baseline. % 
 To read in the analysis parameters, {\tt pygwb\_pipe} interfaces with the {\tt parameters} module, specifically designed to handle the analysis parameters, either passed through an initialization file ({\tt param\_file}) or declared in the command line. %
 The module includes the {\tt Parameters} dataclass which stores the chosen parameters. % 
 The pipeline may be run from the command line as follows.
\input{pip_snip-py}

All {\tt param\_file} parameters may be alternatively passed from the command line directly. % 
If a mixture of parameter file and command line parameters are passed, the latter will override their corresponding values stored in the parameter file. %
Additionally, a set of pipeline--specific parameters may be passed from the command line for ease of use, such as whether to apply data quality cuts. %
A full list of parameters and their description may be found in Table \ref{tab:parameters}. %


After reading in the parameters, two {\tt Interferometer} objects are created accordingly, %, using the {\tt Interferometer} method {\tt from$\_$parameters}. %
and data are loaded in and pre-processed using the {\tt preprocessing} module. %
Depending on the value of the {\tt gate\_data} parameter in the initialization file, the gating outlined in Sec.~\ref{sec:preproc} also takes place at this stage. %
Subsequently, a baseline object is created using the pair of interferometer objects. %
Recall that the {\tt baseline} module plays a central role in the pipeline and handles the computation of the various quantities of interest, including the (average) \gls{psd}s and \gls{csd}s of the baseline, relying on the {\tt spectral} module. %
This is described in more detail in Sec.s~\ref{sec:spectral} and~\ref{sec:baseline}.

The delta-sigma cut is then performed,
and optimally averaged spectra and overall point estimate are calculated with the relevant {\tt Baseline} methods. %
The delta-sigma cut is applied by default, but may also be calculated and applied at a later stage. %
Finally, the spectra, the overall point estimate, and the pickled baselines (if requested), are saved as output. %
By default, the output is in {\tt numpy} binary file format, {\tt npz}. %

In realistic scenarios, we analyze year-long datasets and running {\tt pygwb\_pipe} in series is sub-optimal. %
However, a long dataset can be split into smaller jobs and parallelized on a cluster. %
The output of each job is then combined into a single set of result spectra $\hat\Omega^\alpha_{{\rm ref}, f}$ and $\sigma_{{\rm ref}, f}$ using the {\tt pygwb\_combine} script. %
The latter simply takes a weighted average over all jobs, assuming each job is an independent measurement of the signal. %
At this stage it is possible to implement final post-processing choices, such as re-weighting the spectra to a desired $\alpha$ and $f_{\rm ref}$, as well as change the default Hubble constant $H_0$ at which results are reported. %

Details on running the pipeline and combination scripts may be found in our online documentation~\cite{docs}. %

