\section{Interaction Scenario}\label{sec:scenario}

\begin{figure*}[h!]
    \centering
    \begin{subfigure}[b]{\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio]{images/full-page-figure/overhead_view_instr.png}}
        \caption{An overhead view of a complete environment with the leader user interface.}\label{fig:scenario:env}        
    \end{subfigure}
    \begin{subfigure}[b]{0.2425\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio,clip,trim=0 30 0 20]{images/full-page-figure/houses.png}}
        \caption{A cluster of houses.}\label{fig:scenario:houses}
    \end{subfigure}
    \begin{subfigure}[b]{0.2425\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio,clip,trim=0 20 0 30]{images/full-page-figure/mountain.png}}
        \caption{A mountain with ramps.}\label{fig:scenario:moutain}
    \end{subfigure}
    \begin{subfigure}[b]{0.2425\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio,clip,trim=0 20 0 30]{images/full-page-figure/cards.png}}
        \caption{Cards in the environment.}\label{fig:scenario:cards}
    \end{subfigure}
    \begin{subfigure}[b]{0.2425\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio,clip,trim=0 30 0 20]{images/full-page-figure/leader_card_selection.png}}
        \caption{The leader selecting a card.}\label{fig:scenario:cardselect}
    \end{subfigure}
    \begin{subfigure}[b]{0.245\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio,clip,trim=0 15 0 4]{images/full-page-figure/leader.png}}
        \caption{The leader character.}\label{fig:scenario:leader}
    \end{subfigure}
    \begin{subfigure}[b]{0.245\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio,clip,trim=0 15 0 4]{images/full-page-figure/follower_3.png}}
        \caption{The follower character.}\label{fig:scenario:follower}
    \end{subfigure}
    \begin{subfigure}[b]{0.49\textwidth}
        \frame{\includegraphics[width=\linewidth,keepaspectratio,clip,trim=0 39 0 0]{images/full-page-figure/follower_pov.png}}
        \caption{The follower point of view.}\label{fig:scenario:followerpov}
    \end{subfigure}
    \begin{subfigure}[b]{\textwidth}
        \centering
        \frame{\includegraphics[width=0.49\linewidth,keepaspectratio]{images/set-examples/valid-set.png}}~\frame{\includegraphics[width=0.49\linewidth,keepaspectratio]{images/set-examples/invalid-set.png}}
        \caption{Valid (left) and invalid (right) sets of selected cards.}\label{fig:scenario:cardsets}
    \end{subfigure}
    \caption{Images of the game environment and UI. All images are taken from the same environment state.}\label{fig:scenario}
    \vspace{-10pt}
\end{figure*}

\gamename largely implements the interaction scenario introduced by \cite{Suhr2019:cerealbar} in the \cerealbar environment with several modifications. The interaction takes place in a procedurally generated spatial environment and includes two agents that collaborate together to complete card collection tasks and coordinate using natural language. \autoref{fig:scenario:env} shows an instance of the environment.

The environment is a procedurally generated 3D map made of a grid of hexagons (\autoref{fig:scenario:env}). It includes lakes, mountains (\autoref{fig:scenario:moutain}), paths, open spaces, and  landmarks. 
A new environment is generated for each game. 
\gamename includes improved visuals and generation compared to \cerealbar. 
For example, \gamename map generation includes semantic biases: houses are generated to cluster together and form towns (\autoref{fig:scenario:houses}) and paths are generated to connect between meaningful areas in the map, such as towns and mountains. 
Landmark instances vary visually to elicit richer language. For example, houses are generated with different roof colors and number of floors (\autoref{fig:scenario:houses}). 
The environment also includes randomly placed cards (\autoref{fig:scenario:cards}). 
Each card shows 1--3 copies of one of a few possible shapes in one of a few possible colors. 

The interaction involves two agents, a leader (\autoref{fig:scenario:leader}) and a follower (\autoref{fig:scenario:follower}), that collaborate together to complete tasks, but differ in their observations of the environments and abilities. 
Both the leader and the follower move in the environment, by moving between neighboring hexagons or by turning in place to change orientation. 
The agents select and deselect cards by moving over them (\autoref{fig:scenario:cardselect}). 


The goal of the agents is to select valid sets of cards. A valid set includes three cards, where each color, shape, and count are unique (\autoref{fig:scenario:cardsets}). 
The agents select sets together. When the currently selected cards form a valid set, they disappear, the agents together receive one point, three new randomly selected cards appear in random positions, and the agents receive additional turns. 
The number of turns added  diminishes with each set completion. 
Asymmetries between the two agents make collaboration critical for success. 


The leader sees a complete overhead view of the environment (\autoref{fig:scenario:env}), while the follower only sees what is ahead from a first-person view (\autoref{fig:scenario:followerpov}).  
\gamename introduces two optional observability features not present in \cerealbar. 
First, the patterns on unselected cards may be hidden from the follower, instead displaying a quesiton mark on all cards. 
Second, \gamename allows to control how far the follower sees ahead of them with a fog that is present only in the follower view. 
The observability gap means the leader is in charge of planning how the agents  operate. 
If the follower acts independently of the leader plans, the interaction will be suboptimal, because follower actions are likely to conflict with leader actions and the partial view of the environment does not allow for optimal planning of goals and movement. 

The agents move in turns, with a limited number of steps per turn. 
Turns alternate between the follower and leader. 
The follower has significantly more steps than the leader per turn. 
This means the follower is able to move further in each turn, and potentially accomplish much more in each turn. 
This ability gap makes it critical for the leader to collaborate with the follower, rather than ignore the follower and attempt to accomplish tasks on their own, a suboptimal strategy. 

\begin{figure*}[htbp]
    \centering
    \includesvg[width=\textwidth]{diagrams/client-server-architecture.svg}
    \vspace{-15pt}
    \caption{The \gamename system architecture.}\label{fig:system}
    \vspace{-10pt}
\end{figure*}



The agents coordinate via uni-directional natural language instruction. 
During a leader turn, in addition to moving in the environment, the leader can send text instructions to the follower. 
The follower executes the leader instructions, indicating when an instruction is complete. 
The leader can queue multiple instructions, but the follower only sees past instructions and the one they currently execute. 
Because the follower does not see future instructions, alignment between the actions recorded and the instruction displayed is guaranteed.

































