\ifx\mydefs\undefined\else\endinput\fi
\let\mydefs\relax

%%%%% GENERAL STUFF

\ifx\slide\undefined
  \linespread{1.1}
  \allowdisplaybreaks[2]
\fi

\ifx\loadcyr\undefined\else
\input cyracc.def
\makeatletter
\font\elvcyr=wncyr10 at 1\@ptsize pt
\font\elvcyb=wncyb10 at 1\@ptsize pt
\font\elvcyi=wncyi10 at 1\@ptsize pt
\makeatother
\def\cyr{\elvcyr\cyracc}
\def\cyb{\elvcyb\cyracc}
\def\cyi{\elvcyi\cyracc}
\fi

\hyphenation{ir-re-flex-ive}


%%%%% SYMBOLS

%%% auxiliary macros

\let\M\mathit
\def\gobble#1{}
\def\fixsup#1#2{{#1\let\dp\gobble\mathstrut}^#2_}
\let\mr\mathrel
\let\me\enskip
\def\bme{\hskip.75em\relax}
\def\clap{\mathpalette\doclap}
\def\doclap#1#2{\hbox to0pt{\hss$#1#2$\hss}}
\def\delim#1#2#3#4{\ifx X#3X\left#1#4\right#2\else\csname#3l\endcsname#1#4\csname#3r\endcsname#2\fi}

\def\extmathpalette#1{{\mathchoice
     {#1\displaystyle\scriptstyle}%
     {#1\textstyle\scriptstyle}%
     {#1\scriptstyle\scriptscriptstyle}%
     {#1\scriptscriptstyle\scriptscriptstyle}}}

%%% general logic

%\def\et{\mathbin\&}
%\let\et\land
\def\et{\mathrel\&}
\let\eq\leftrightarrow
\let\EQ\Leftrightarrow
\def\nequiv{\not\equiv}
%\def\iff{\quad\text{iff}\quad}
\let\LOR\bigvee
\let\ET\bigwedge
\let\TO\Rightarrow
\def\?{\mathbin?}
\let\nto\nrightarrow
\let\ot\leftarrow
\let\Lto\supset
\let\Leq\equiv
\def\nneg{\mathord\sim}
\let\ieq\rightleftarrows
\let\model\vDash
\let\nmodel\nvDash
\def\Par{\mathrm{Par}}
\let\eqs\bumpeq
\def\neqs{\not\eqs}
\def\bool{\mathcal B}
\def\mbool{\mathcal M}
\def\dual{\mathrm d}
\def\Var{\mathrm{Var}}
\def\Ex{\mathrm E}
\def\lang{\mathcal L}

\newbox\circlebox
\setbox\circlebox\hbox{$\bigcirc$}
\def\circled#1{%
  \setbox0\hbox to\wd\circlebox{\hss$#1$\hss}\wd0=0pt
  \box0\copy\circlebox}
\def\cand{\mathbin{\circled\land}}
\def\cor{\mathbin{\circled\lor}}
\def\ccir{\mathbin{\circled\circ}}
\def\cneg{\circled\neg}


%%% greek

\let\fii\varphi
\let\tet\vartheta
\let\ep\varepsilon
\let\kap\varkappa
\let\roo\varrho
\ifx\slide\undefined
  \def\greek#1{$\expandafter\greeknum\csname c@#1\endcsname$}
\else
  \def\greek#1{$\mathop{\boldsymbol{\expandafter\greeknum\csname c@#1\endcsname}}$}
\fi
\makeatletter
\def\greeknum#1{\ifcase#1\or\alpha\or\beta\or\gamma\or\delta\or\ep
      \or\digamma\or\zeta\or\eta\or\tet\or\iota\else\@ctrerr\fi}
\makeatother


%%% sets, functions, sequences

\def\p#1{\langle#1\rangle}
\newcommand\pp[2][]{\delim<>{#1}{#2}}
\def\vp#1{[#1]}
\def\lh#1{\lvert#1\rvert}
\let\abs\lh
%\def\Abs#1{\left|#1\right|}
\newcommand\LH[2][]{\delim||{#1}{#2}}
\let\Abs\LH
\def\dlh#1{\lVert#1\rVert}
\newcommand\Dlh[2][]{\delim\lVert\rVert{#1}{#2}}
%\def\cat{\mathbin\frown}%\smallsmile
%\def\cat{^\smallfrown}
\def\cat{{}^\smallfrown}
%\let\vec\overline
\let\lvec\overrightarrow
\let\bez\smallsetminus
\let\sdif\vartriangle
\let\sset\subseteq
\let\nsset\nsubseteq
\let\ssset\subsetneq
\let\Sset\supseteq
\let\nSset\nsupseteq
\let\sSset\supsetneq
\let\onto\twoheadrightarrow
\let\otno\twoheadleftarrow
\let\embed\hookrightarrow%\rightarrowtail
\def\cupd{\mathbin{\dot\cup}}
%\def\bigcupd{\mathop{\overset{\text{\large.}}{\bigcup}}} why was that?
\def\bigcupd{\mathop{\dot\bigcup}}
%\let\bigcupd\sum
\def\pw#1{\mathcal P(#1)}
\let\nul\varnothing
\def\res{\mathbin\restriction}
\let\bd\partial
\def\two{\mathbf2}
\def\lex{\mathrm{Lex}}
\let\nulstr\epsilon
%\DeclareMathOperator\id{id}
\def\id{\mathrm{id}}
\let\pto\rightharpoonup

%retraction pairs:
\newcommand\rpair[3][3em]{\mathrel{%
   \begin{matrix}%
     \strut\smash{\xrightonto{\hbox to#1{\hss$#2$\hss}}}\\[-1.7ex]%
     \strut\smash{\xleftembed[\hbox to#1{\hss$#3$\hss}]{}}%
   \end{matrix}}}
\makeatletter
%after tex/latex/amsmath/amsmath.sty:
%%\newcommand{\xrightarrow}[2][]{\ext@arrow 0359\rightarrowfill@{#1}{#2}}
%%\newcommand{\xleftarrow}[2][]{\ext@arrow 3095\leftarrowfill@{#1}{#2}}
\newcommand\xrightonto[2][]{\ext@arrow 0359\rightontofill{#1}{#2}}
\newcommand\xleftembed[2][]{\ext@arrow 3095\leftembedfill{#1}{#2}}
%%\def\leftarrowfill@{\arrowfill@\leftarrow\relbar\relbar}
%%\def\rightarrowfill@{\arrowfill@\relbar\relbar\rightarrow}
\def\leftembedfill{\arrowfill@\leftarrow\relbar\hookleftnoarrow}
\def\rightontofill{\arrowfill@\relbar\relbar\onto}
%%\renewcommand{\hookleftarrow}{\DOTSB\leftarrow\joinrel\rhook}
\def\hookleftnoarrow{\DOTSB\relbar\joinrel\rhook}
\makeatother

%%% arithmetic

\def\code#1{\ulcorner#1\urcorner}
\let\num\overline
\let\bnum\underline
\def\fl#1{\lfloor#1\rfloor}
%\def\Fl#1{\left\lfloor#1\right\rfloor}
\newcommand\Fl[2][]{\delim\lfloor\rfloor{#1}{#2}}
\def\cl#1{\lceil#1\rceil}
%\def\CL#1{\left\lceil#1\right\rceil}
\newcommand\CL[2][]{\delim\lceil\rceil{#1}{#2}}
\def\fcl#1{\lfloor#1\rceil}
\newcommand\FCL[2][]{\delim\lfloor\rceil{#1}{#2}}
%\def\div#1#2{\lfloor\frac{#1}{#2}\rfloor}
\def\fdiv{\genfrac\lfloor\rfloor{}{}}
\def\cdiv{\genfrac\lceil\rceil{}{}}
\let\div\fdiv%!!! shouldn't use
\def\tdiv{\genfrac\lfloor\rfloor{}1}
\def\dive#1#2{\fdiv{#1}{2^{#2}}}
\def\tsdive#1#2{\tdiv{#1}{2^{#2}}}
\def\tdive#1#2{\fl{#1/2^{#2}}}
\def\half#1{\fl{#1/2}}
\def\fracd#1#2{\frac{\displaystyle#1}{\displaystyle#2}}
%\def\rem{\mathbin{\mathrm{rem}}}
% adapting the definition of \bmod from latex.ltx:
\def\rem{%
  \nonscript\mskip-\medmuskip\mkern5mu%
  \mathbin{\mathrm{rem}}\penalty900\mkern5mu%
  \nonscript\mskip-\medmuskip}
\def\ljk{\genfrac(){}{}}
\def\mljk{\genfrac[]{}{}}
\def\tljk#1#2{(#1|#2)}
\def\tmljk#1#2{[#1|#2]}
\def\mbin{\genfrac[]{0pt}{}}
\mathchardef\#="2023 % \mathbin\#
\def\varsm{\mathbin{\overline\#}}
\def\tr#1{\lVert#1\rVert}
\def\str#1{[\mkern-2.7mu[#1]\mkern-2.7mu]}% \mathbb[ doesn't work
\def\mtr#1{\{\mkern-6mu\{#1\}\mkern-6mu\}}
\let\divi\mid
\let\leg\lesseqqgtr
\let\ass\leftarrow
\let\hash\looparrowright
\let\ale\precsim
\def\nale{\not\precsim}
\def\Tr{{\mathrm T}}
\def\rsuv{\M{RSUV}}
\def\bmd{\mathbin\%}
\def\dle{\mathrel{\dot\le}}
\def\tsum{\textstyle\sum}
%\def\dotminus{\mathbin{\dot{\smash-}}}
\providecommand\dotminus{\mathbin\extmathpalette\dodotminus}
\def\dodotminus#1#2{#2\dot{\smash{#1-}}}
\def\sucf{\mathrm{succ}}
\def\PM#1#2{\pm{}^{#1}_{#2}}
\def\dio{\mathrm D_}
\def\fafac#1#2{{#1}^{\underline{#2}}_{\mathstrut}}

%%% sequent calculus

%\let\seq\Longrightarrow
%\let\seq\longrightarrow
\let\seq\vdash
\def\lft#1{\hbox{$#1$-l}}
\def\rgt#1{\hbox{$#1$-r}}

\ifx\busspf\undefined\else
\usepackage{bussproofs}
\EnableBpAbbreviations
\def\fCenter{\mathstrut\seq}
\let\LL\LeftLabel
\let\RL\RightLabel
\fi

%%% modal stuff

\let\dia\Diamond
\def\diadot{{\centdot\dia}}
\def\centdot{\mathpalette\docentdot}
\ifx\symlasy\undefined
  \let\origboxdot\boxdot
  \def\boxdot{{\origboxdot}}
  \def\docentdot#1#2{%
    % NB: straightforward centering of two boxes does not work in this
    % case, due to negative depth of some of the characters. Hence the
    % \mathop business.
    \setbox0\hbox{$#1\mathop{#2}$}\dimen0 \ht0
    \setbox0\hbox{$#1#2$}\advance\dimen0 -\ht0
    \setbox2\hbox to\wd0{\hss$#1\mathop{\cdot}$\hss}\wd2=0pt
    \lower\dimen0\box2\box0 }
\else
  % lasy font metric is wrong, PR latex/3838
  \def\boxdot{{\centdot\Box}}
  \def\docentdot#1#2{%
     \setbox0\hbox{$#1#2$}%
     \raise0.206\ht0\hbox to\wd0{\hss$#1\cdot$\hss}%
     \kern-\wd0 \box0 }
\fi
\def\T{\mathsf T}
\def\bdtr{\mathsf B}
\def\reltr{\mathsf R}
\let\ad\vartriangleright
%\def\isu{\mathrel{<\llap{$\cdot$}}}
\let\isu\lessdot
\def\ru{\mathrel/}
\def\Ru{\Bigm/}
%\let\sls|
% the ^{} below ensure that subscripts are not placed too high
\def\sls{|^{}}
\def\Sls{\|^{}}
\def\nsls{\mathord\nmid^{}}
\def\nSls{\mathord\nparallel^{}}
\def\up{{\uparrow}}
\def\down{{\downarrow}}
\def\Up{{\setbox0\hbox{$\uparrow$}%
         \lower\dp0\hbox to\wd0{\hss\vrule width4pt height.4pt\hss}%
         \kern-\wd0\box0}}
\def\UP{{\setbox0\hbox{$\uparrow$}%
         \lower\dp0\hbox to\wd0{\hss\vrule width4pt height.4pt\hss}%
         \kern-\wd0\copy0\kern-\wd0\raise.35ex\box0}}
\def\Down{{\setbox0\hbox{$\downarrow$}%
         \raise\ht0\hbox to\wd0{\hss\vrule width4pt depth.4pt\hss}%
         \kern-\wd0\box0}}
\def\sgen{\subseteq\mathrel\cdot\!}
\let\for\Vdash
\let\nfor\nVdash
\def\frx{\mathrm{Fr}}
\def\clx{\lgc{Clx}}
\def\CLX{\mathrm{CLX}}
\def\pext{\mathrm{PExt}}
\def\ECI{\EC^\infty}
\def\EC{\M{EC}}
\def\bdi#1{#1^{\boxdot^{-1}}}
\let\frm\mathcal
\newcommand\unifr[3][]{U_{#2}\mathopen#1(#3\mathclose#1)}
\def\VR{\mathrm V}
\def\rrule{\mathrm R}
\def\itp{\mathrm{Itp}}

%\def\adm{\mathrel{|\mkern-8.5mu\sim}}
%\def\nadm{\mathrel{|\mkern-8.5mu\not\sim}}
\newif\ifnadm
% NB: * = not \long
\DeclareRobustCommand*\adm{\nadmfalse\doadm}
\DeclareRobustCommand*\nadm{\nadmtrue\doadm}
\def\doadm{\mathrel{%
   \setbox0 \hbox{$\mathop\vdash$}\dimen0 \ht0
   \setbox0 \hbox{$\vdash$}\advance\dimen0 -\ht0
   \vrule width.8\fontdimen8 \textfont3 height\ht0 depth\dp0
   % fontdimen 8 of the extension font family = rule thickness
   % The .8 makes it optically the same width as the \vdash stem.
   % I don't understand it, as the \vdash metafont code seems to use
   % full rule thickness.
   \mkern-1mu
   \lower\dimen0 \hbox{$\vcenter{%
      \ifnadm
        \setbox0 \hbox{$\scriptstyle\sim\mathstrut$}%
        \hbox{\hbox to\wd0{\hss$\scriptstyle/$\hss}\kern-\wd0 \box0 }%
      \else
        \hbox{$\scriptstyle\sim\mathstrut$}%
      \fi}$}}}

\def\nr#1{\extmathpalette{\nrstyle{#1}}}
\def\nrstyle#1#2#3{%
  \setbox0\hbox{$#2\bigcirc$}%
  \vcenter{\hbox to\wd0{\hss$#3#1$\hss}}%
  \kern-\wd0\box0 }

%%% rm operators

\DeclareMathOperator\dom{dom}
\DeclareMathOperator\rng{rng}
\DeclareMathOperator\im{im}
\DeclareMathOperator\bit{bit}
\DeclareMathOperator\card{card}
\DeclareMathOperator\Size{Size}
\DeclareMathOperator\Lh{lh}
\DeclareMathOperator\md{md}
\DeclareMathOperator\cls{cl}%\cl clashes
\let\Pr\relax
\DeclareMathOperator\Pr{Pr}%get rid of \displaylimits
\DeclareMathOperator\E{E}
\DeclareMathOperator\var{var}
\DeclareMathOperator\cont{cont}
\DeclareMathOperator\Log{Log}
\DeclareMathOperator\LogLog{LogLog}
\DeclareMathOperator\wit{Wit}
\DeclareMathOperator\Hard{Hard}
\DeclareMathOperator\eval{eval}
\DeclareMathOperator\Eval{Eval}
\DeclareMathOperator\Circ{Circ}
\DeclareMathOperator\Th{Th}
\DeclareMathOperator\Mod{Mod}
\DeclareMathOperator\Df{Def}
%\DeclareMathOperator\Var{Var}
\ifx\slide\undefined
  \DeclareMathOperator\Form{Form}
\fi
\DeclareMathOperator\prf{Prf}
\DeclareMathOperator\clq{Clique}
\DeclareMathOperator\clr{Colour}
\def\hard{\Hard_}
\def\avhd{\Hard^A_}
\DeclareMathOperator\Ext{Ext}
\DeclareMathOperator\NExt{NExt}
\DeclareMathOperator\su{s}
\DeclareMathOperator\Aut{Aut}
\DeclareMathOperator\Gal{Gal}
\DeclareMathOperator\sgn{sgn}
\DeclareMathOperator\Int{int}%\int clashes
\DeclareMathOperator\chull{C}
\DeclareMathOperator\rcl{rcl}
\DeclareMathOperator\acl{acl}
\DeclareMathOperator\dcl{dcl}
\DeclareMathOperator\tcl{tc}
\DeclareMathOperator\stcl{\strc{tc}}
\DeclareMathOperator\rk{rk}
\DeclareMathOperator\Res{Res}
\DeclareMathOperator\Ind{Ind}
\DeclareMathOperator\dist{dist}
%redefine the ugly Re, Im:
\let\Re\relax
\let\Im\relax
\DeclareMathOperator\Re{Re}
\DeclareMathOperator\Im{Im}
\DeclareMathOperator\tp{tp}
\DeclareMathOperator\base{bas}
\DeclareMathOperator\xcl{xcl}
\DeclareMathOperator\xcb{xcb}
\DeclareMathOperator\bdt{bd}
\DeclareMathOperator\crit{crit}
\DeclareMathOperator\Sub{Sub}
\DeclareMathOperator\sat{Sat}
\DeclareMathOperator\limd{ld_\to}
\DeclareMathOperator\inv{Inv}
\DeclareMathOperator\pol{Pol}
\DeclareMathOperator\sym{Sym}
\DeclareMathOperator\resm{r}
\DeclareMathOperator\refl{refl}
\DeclareMathOperator\diag{Diag}
\DeclareMathOperator\decp{Dec}
\DeclareMathOperator\consp{Cons}
\DeclareMathOperator\gr{gr}
\DeclareMathOperator\lcm{lcm}
\DeclareMathOperator\sol{Sol}
\DeclareMathOperator\des{d}
\DeclareMathOperator\sech{sech}
\DeclareMathOperator\csch{csch}
\DeclareMathOperator\arccot{arccot}
\DeclareMathOperator\arcsec{arcsec}
\DeclareMathOperator\arccsc{arccsc}
\DeclareMathOperator\arsinh{arsinh}
\DeclareMathOperator\arcosh{arcosh}
\DeclareMathOperator\artanh{artanh}
\DeclareMathOperator\arcoth{arcoth}
\DeclareMathOperator\arsech{arsech}
\DeclareMathOperator\arcsch{arcsch}
\DeclareMathOperator\cod{cod}

%%% complexity classes

\let\cxt\mathrm
\def\np{\cxt{NP}}
\def\conp{\cxt{coNP}}
\def\pnp{\cxt{prNP}}
\def\rp{\cxt{RP}}
\def\corp{\cxt{coRP}}
\def\bpp{\cxt{BPP}}
\def\pbpp{\cxt{prBPP}}
\def\zpp{\cxt{ZPP}}
\def\ma{\cxt{MA}}
\def\pma{\cxt{prMA}}
\def\am{\cxt{AM}}
\def\coam{\cxt{coAM}}
\def\pam{\cxt{prAM}}
\def\app{\cxt{APP}}
\def\ptime{\cxt P}
\def\prp{\cxt{prP}}
\def\ph{\cxt{PH}}
\def\fp{\cxt{FP}}
\def\CAPP{\M{CAPP}}
\def\EXP{\cxt{EXP}}
\def\NEXP{\cxt{NEXP}}
\def\coNEXP{\cxt{coNEXP}}
\DeclareMathOperator\poly{poly}
\def\wpwit{\M{WPHPWIT}}
\def\fnp{\cxt{FNP}}
\def\tfnp{\cxt{TFNP}}
\def\mfpp{\cxt{MFRP}}
\def\frp{\cxt{FRP}}
\def\tfrp{\cxt{TFRP}}
\def\pptm{\M{PPTM}}
\def\tfzpp{\cxt{TFZPP}}
\def\ppa{\cxt{PPA}}
\def\ppad{\cxt{PPAD}}
\def\ppp{\cxt{PPP}}
\def\pwpp{\cxt{PWPP}}
\def\nc{\cxt{NC}}
\def\nci{\nc^1}
\def\nca{\nci_*}
\def\psp{\cxt{PSPACE}}
\def\tc{\cxt{TC}^0}
\def\Ac{\cxt{AC}^0}
\def\LT{\cxt{DLOGTIME}}
\def\task#1{{\normalfont\textsc{#1}}}
\def\pig{\task{Pigeon}}
\def\wpig{\task{WeakPigeon}}
\def\lone{\task{Lonely}}
\def\fac{\task{Factoring}}
\def\sroot{\task{Root}}
\def\prpty#1{\mathrm{#1}}
\def\tpt{\cxt{\Theta}^\ptime_2}
\def\stp{\cxt S^P_2}

%%% theories

\let\thry\mathsf
\def\sig{\Sigma^b_}
\def\pii{\Pi^b_}
\def\delt{\Delta^b_}
\def\delz{\Delta_0}
\def\Sig{\Sigma^B_}
\def\Pii{\Pi^B_}
\def\Delt{\Delta^B_}
\def\st{\expandafter\hat}
\def\sih{\st\sig}
\def\pih{\st\pii}
\def\sigp{\Sigma_1^*}
\def\piip{\Pi_1^*}
\def\io{\thry{IOpen}}
\def\idz{\thry{I\delz}}
\def\idze{\idz+\thry{EXP}}
\def\idzw{\idz+\thry{\Omega_1}}
\def\dicr{\thry{\delt1\text-CR}}
\def\bas{\thry{BASIC}}
\def\btc{\thry{BTC^0}}
\def\pv{PV}
\def\tpv{\thry{\pv_1}}
\def\sss{\thry{S^1_2}}
\def\ttt{\thry{T^0_2}}
\def\tv{\thry{TV^0}}
\def\vtc{\thry{VTC^0}}
\def\Div{\thry{DIV}}
\def\imul{\thry{IMUL}}
\def\vtcim{\vtc+\imul}
\def\vl{\thry{VL}}
\def\vnl{\thry{VNL}}
\def\vnc{\thry{\!VNC}^1}
\def\vnca{\thry{\!VNC}^1_*}
%\def\vncba{\overline{\M{VNC}}\setbox0\hbox{$\textstyle{\M{C}}$}\setbox2\null\ht2=\ht0\dp2=\dp0\box2^1_*}
\def\vncba{\overline{\M{\!VNC}}{\def\mathpalette##1{##1{}}\vphantom{C}^1_*}}
\def\lvncba{L_{\overline{\M{\!VNC}}{\def\mathpalette##1{##1{}}\vphantom{\scriptstyle C}^1_*}}}
\def\BB{\thry{BB}}
\def\bbs{\BB\sig1}
\def\php{\M{PHP}}
\def\sphp{\M{sPHP}}
\def\iphp{\M{iPHP}}
\def\rphp{\M{rPHP}}
\def\mphp{\M{mPHP}}
\def\wphp{\thry{WPHP}}
\def\swphp{\thry{sWPHP}}
\def\iwphp{\thry{iWPHP}}
\def\rwphp{\thry{rWPHP}}
\def\mwphp{\thry{mWPHP}}
%\newcount\savefam
%\def\apc#1{\savefam\the\fam\M{APC_{\fam\savefam#1}}}
\def\apc#1{\expandafter\doapc\expandafter{\expandafter\fam\the\fam\relax#1}}
\def\doapc#1{\thry{APC_{#1}}}
\def\thard{\thry{HARD}_}
\def\tavhd{\thry{HARD^A}}%!!! _}
\def\bt{\tpv+\swphp(\pv)}
%\def\bts{T^1_2+\php(\fp^{\sig1})}
\def\bts{\thry{T^1_2}+\swphp(\pv_2)}%\pv(\sig1))}
\def\btr{\thry{T^1_2}+\rwphp(\pv_2)}%\pv(\sig1))}
\def\bta{\tpv(\alpha)+\swphp(\pv(\alpha))}
\def\fpsa{\pv_2(\alpha)}%\pv(\sig1(\alpha))}
\def\btsa{\thry{T^1_2}(\alpha)+\swphp(\fpsa)}
\def\btra{\thry{T^1_2}(\alpha)+\rwphp(\fpsa)}
\def\sch#1{\ensuremath{\thry{#1}}}
\def\lhmin{\sch{LMIN}}
\def\lhmax{\sch{LMAX}}
\def\Min{\sch{MIN}}
\def\lind{\sch{LIND}}
\def\ind{\sch{IND}}
\def\pind{\sch{PIND}}
\def\indf{\sch{IND^-}}
\def\pindf{\sch{PIND^-}}
\def\indr{\sch{IND^R}}
\def\pindr{\sch{PIND^R}}
\def\ppind{\sch{(P)IND}}
\def\ppindf{\sch{(P)IND^-}}
\def\ppindr{\sch{(P)IND^R}}
\def\llmin{\sch{(L)MIN}}
\def\comp{\sch{COMP}}
\def\ac{\sch{AC}}
%\def\acr{\sch{CR}}
\def\acr{\sch{AC^R}}
\def\coun{\thry{Count}}
\def\open{\M{Open}}
\def\PA{\thry{PA}}
\def\tQ{\thry Q}
\def\rcf{\thry{RCF}}
\def\rfn{\mathrm{RFN}}
\def\ec{\M{EC}}
\def\teq{\mathrm{eq}}
\def\MF{\mathrm}
\def\Divf{\MF{Div}}
\def\powm{\MF{pow}}
\def\imulm{\MF{imul}}
\def\cyc{\M{Cyc}}
\def\prm{\M{Prime}}
\def\tot{\M{Tot}}
\def\rec{\MF{Rec}}
\def\vs{\thry{\!VS}}

%%% logics, proof systems

\let\lgc\mathbf
\let\ax\mathrm
\def\pfsys#1#2{\ifx\relax#2\relax\else#2\text-\fi\mathrm{#1}}
\def\EF{\pfsys{EF}}
\def\SF{\pfsys{SF}}
\def\CF{\pfsys{CF}}
\def\Fr{\pfsys{F}}
\def\SCF{\pfsys{SCF}}
\def\TL#1#2{#1{#2}^*}
\def\CPC{\lgc{CPC}}
\def\IPC{\lgc{IPC}}
\def\kiv{\lgc{K4}}
\def\MTL{\lgc{MTL}}
\def\BL{\lgc{BL}}
\def\bckw{\mathrm{BCKW}}
\def\luk{\textbf{\textup\L}}
\def\cf#1#2{\alpha(#1,#2)}
\def\qcf#1#2{\alpha^\bullet(#1,#2)}
\def\I{{\bullet}}
\def\R{{\circ}}
\def\RI{{*}}
\let\F\sharp
%\let\sng\widehat
\def\sng#1{\lowercase{#1}^}
\def\mon{{\mathbf m}}
\def\mlk{\M{MLK}}
\def\lk{\M{LK}}
\def\mclk{\M{MCLK}}
\def\G{G}
\def\stG{\hat G}
\def\siq{\Sigma^q_}
\def\piq{\Pi^q_}
\def\FL#1{\lgc{FL_{#1}}}
\def\DP{\mathrm{DP}}
\let\clsop\operatorname
\let\lead\longrightarrow
\def\leadt{\stackrel*\lead}

%%% structures

\def\N{\mathbb N}
\def\Q{\mathbb Q}
\def\Z{\mathbb Z}
\def\RR{\mathbb R}%\R clashes
\def\C{\mathbb C}
\def\qlog{\Q_{\Log}}
%\def\zg{\fixsup\Z*}
\def\zg#1{(\Z/#1\Z)^\times}
\def\cg#1{C(#1)}
%\def\GF#1{\M{GF}(#1)}
\def\GF#1{\mathbb F_{#1}}
\def\FG{\fixsup{\mathbb F}*}
\let\stm\N
\def\rn{\M{RN}}
%\let\pres\parallel
%\let\npres\nparallel
\let\pres\triangleright
\let\npres\ntriangleright
\let\strc\mathbf
\def\monster{\mathbb M}
\def\bintr{\mathrm{BT}}
\def\Op{\mathrm{Op}}
\def\Rel{\mathrm{Rel}}
\def\cln#1{\mathrm{#1}}
\def\plog{\mathrm{pl}}
\def\RCL#1{\tilde{#1}^\mathrm{real}}
\def\emb{\mathrel{\widetilde\sset}}%\to
\def\nemb{\mathrel{\widetilde\nsset}}%\nto
\def\MN{\strc N}
\def\ML{\strc L}
\def\MZ{\strc Z}
\def\MQ{\strc Q}
\def\MR{\strc R}
\def\MC{\strc C}
\def\MZL{\MZ_\ML}
\def\MQL{\MQ_\ML}
\def\MRL{\MR_\ML}
\def\MCL{\MC_\ML}
\def\DML{\down\ML}

%based on https://tex.stackexchange.com/a/42111
\newcommand\indep[1][]{\doindep\vert{#1}}
\newcommand\nindep[1][]{\doindep\nvert{#1}}
\def\doindep#1#2{\mathrel{\mathop{\vcenter{%
        \hbox{\oalign{\noalign{\kern-.3ex}\hfil$#1$\hfil\cr
              \noalign{\kern-.7ex}%
              $\smile$\cr\noalign{\kern-.3ex}}}}}\displaylimits_{#2}}\nobreak}
%\def\nvert{\not\vert}
%\let\nvert\nmid
%\let\nvert\nshortmid
%\def\nvert{{\setbox0\hbox{$\smallsetminus$}\hbox to\wd0{\hss$\vert$\hss}\kern-\wd0\box0}}
%\def\nvert{{\setbox0\hbox{$\scriptstyle\diagup$}\hbox to\wd0{\hss$\vert$\hss}\kern-\wd0\box0}}
\def\nvert{{\setbox0\hbox{$\smallsetminus$}\hbox to\wd0{\hss$\vert$\hss}\kern-\wd0\reflectbox{\box0}}}
%\def\nvert{{\setbox0\hbox{$\vert$}\hbox to\wd0{\hss\reflectbox{$\smallsetminus$}\hss}\kern-\wd0\box0}}


%%% misc

%-\def\ast{\mathord*}% redef.!
\mathcode`\*="0203
\let\ob\overline
\def\tria{{\vartriangle}}
\mathchardef\mhyphen="2D
\def\cput(#1)#2{\put(#1){\hbox to0pt{\hss#2\hss}}}
\def\txto{${}\to{}$}
%reverse definition of \ddots from fontmath.ltx:
\makeatletter
\def\iddots{\mathinner{\mkern1mu\raise\p@\hbox{.}\mkern2mu
        \raise4\p@\hbox{.}\mkern2mu\raise7\p@\vbox{\kern7\p@\hbox{.}}\mkern1mu}}
\makeatother

%%%%% THEOREMS

\ifx\slide\undefined

\def\noproof{\leavevmode\unskip\bme\vadjust{}\nobreak\hfill$\qed$\par}
\let\qed\Box
\newenvironment{Pf}[1][]
  {\par\noindent\textit{Proof\optpar{#1}:}\bme\ignorespaces}
  {\noproof\pagebreak[2]\vskip\medskipamount\ignorespacesafterend}
%\def\optpar#1{\ifx\relax#1\relax\else\/ (#1)\fi}
\def\optpar#1{\ifx\relax#1\relax\else\ #1\fi}
%UWAGA: \medskip -> \vspace\medskipamount -> ... ->
%       ->  \vskip\medskipamount \vskip 0pt  a to nechci
\def\qedhere{\relax\ifmmode\eqno\qed\expandafter\aftergroup
                   \else\noproof\fi\noqed}
\def\noqed{\let\noproof\relax}

\theoremstyle{plain}
\ifx\shortthm\undefined
\newtheorem{Thm}{Theorem}[section]
\else
\newtheorem{Thm}{Theorem}
\fi
\newtheorem{Prop}[Thm]{Proposition}
\newtheorem{Cor}[Thm]{Corollary}
\newtheorem{Lem}[Thm]{Lemma}
\newtheorem{Fact}[Thm]{Fact}
\newtheorem{Obs}[Thm]{Observation}
\newtheorem{Conj}[Thm]{Conjecture}
\newtheorem{Que}[Thm]{Question}
\newtheorem{Prob}[Thm]{Problem}
\newtheorem{Ass}[Thm]{Assumption}
\newtheorem{FThm}[Thm]{False theorem}
\newtheorem{Cl}{Claim}[Thm]
\ifx\shortthm\undefined
\ifx\hiercl\undefined
\def\theCl{\arabic{Cl}}
\fi\fi
\def\qedCl{\Box\hbox{ (Claim \theCl)}}
\theorembodyfont\upshape
\newtheorem{Def}[Thm]{Definition}
\newtheorem{Rem}[Thm]{Remark}
\newtheorem{Exm}[Thm]{Example}
\newtheorem{Expl}[Thm]{Explanation}
\newenvironment{Pf*}{\let\qed\qedCl\Pf}\endPf

\fi%slide

\def\theequation{\arabic{equation}}
\def\numberthis{\addtocounter{equation}{1}\tag{\theequation}}


%%%%% HACKS

%%% references with automatic theorem names:
\ifx\slide\undefined
  \usepackage[reftex]{theoremref}
\fi
%oh dear, proc jsem tam ty $ $ daval???
\makeatletter
\def\thmref@flush{%
   \ifx\thmref@last\empty\else
      \ifthmref@comma, \thmref@finaltrue\fi \thmref@commatrue
      \thmref@last \ifx\thmref@stack\empty\else s\fi \thmref@num 0
      \let\do\thmref@one \thmref@stack
      \ifcase\thmref@num\or\space and\else\thmref@finaltrue, and\fi
      ~\ref{\thmref@head}\let\thmref@stack\empty\fi}
\def\thmref@one#1{\ifnum\thmref@num>0,\fi
   \space\ref{#1}\advance\thmref@num 1\relax}
\makeatother


%%% URLs:
\begingroup \lccode`\~=`\/ \lowercase{ \endgroup
  \providecommand\url{\begingroup \catcode`\~=12 \catcode`\_=12 \catcode`\/=13 \let~\beginslash \finishurl}
  \def\finishurl#1{\texttt{#1}\endgroup}
  \def\beginslash{/\futurelet\nexttoken\finishslash}
  \def\finishslash{\ifx\nexttoken~\else\penalty\relpenalty\fi}
}


%%% algorithms:
\newif\iflinenumbers
\linenumberstrue
\newenvironment{algo}[1][20em]{\catcode`\^^I=13 \obeylines\doalgo{#1}}{}
{\catcode`\^^I=13 \catcode`\^^M=13
\gdef\doalgo#1#2\end#{\hbox to\hsize{\hss \let^^I\qquad%
  \def\\^^M{\nobreak\hfil\break\vadjust{}\qquad}%
  \def\>{{\everypar{}\indent}}%
  \def\<{{\everypar{}\noindent}}%
  \fboxsep1em \linenum0 \parindent1.2em%
  \fbox{\hsize#1\vbox{%
  \everypar{\iflinenumbers\advance\linenum1 \llap{$\scriptstyle\the\linenum$\hskip.6em}\fi}%
  #2}}\hss}\end}}
\newcount\linenum
\def\comment#1{\emph{/* #1 */}}
\def\lcomment#1{\>\emph{// #1}}
\def\key{\relax\ifmmode\expandafter\mathbf\else\expandafter\textbf\fi}
%\def\key#1{{\bf#1}} breaks at the beginning of a line
\def\proc{\relax\ifmmode\expandafter\mathrm\else\expandafter\textrm\fi}


%%% upshape parentheses:

\def\allowhyphens{\nobreak\hskip0pt\relax}
\def\hyph{\allowhyphens-\hskip0pt\relax}
\DeclareRobustCommand*\magiclparen{\ifmmode(\else\textup(\allowhyphens\fi}
\DeclareRobustCommand*\magicrparen{\ifmmode)\else\textup)\fi}
\let\lparen=(  \let\rparen=)
\def\magicparon{\catcode`\(\active\catcode`\)\active}
\def\magicparoff{\catcode`\(12 \catcode`\)12 }
%%%active parens break preview-latex.el:
%%\AtBeginDocument{\ifx\ifPreview\iftrue\else\magicparon\fi}
\AtBeginDocument{\magicparon}
\magicparon
\let (=\magiclparen  \let )=\magicrparen

%%% labels etc.: here because it uses ( )
\ifx\sameenum\undefined
  \def\theenumi{\roman{enumi}}
  \ifx\enumup\undefined
    \def\labelenumi{(\textit\theenumi)}
  \else
    \def\labelenumi{(\theenumi)}
  \fi
  \def\theenumii{\greek{enumii}}
  \def\labelenumii{(\theenumii)}
\else
  \makeatletter
  \ifx\enumup\undefined
     \def\theenumi{\ifnum\@enumdepth=\@ne(\roman{enumi})\fi}
  \else
     \def\theenumi{\ifnum\@enumdepth=\@ne\textup{(\roman{enumi})}\fi}
  \fi
  \makeatother
  \def\theenumii{(\greek{enumii})}
  \def\labelenumi{\theenumi}
  \def\labelenumii{\theenumii}
\fi
%\def\DT#1{(in $#1$)}
\def\DT#1{(in $#1$)\pretolerance-1\nobreak\hfil\penalty1000\hfilneg}
%(\hfil in a line forces zero badness, which essentially means that
%TeX would never make it into pass 2, and will choose to break the
%line badly after the \DT even if better solution exists with hyphenation.
%Hence the \pretolerance=-1. The alternative of using finite
%stretchability seems to do more harm than good.)

\magicparoff


%%% allow line breaks after commas, for use in longish \p{...}

\def\cmb{\mathcode`\,"8000 }
\mathchardef\comma=\mathcode`\,
{\catcode`\,=\active \gdef,{\comma\penalty\relpenalty}}


%%%%% FRONT MATTER

\ifx\slide\undefined

\providecommand\dedic{%
  \message{^^JWARNING: embed explicit dedication in the paper!^^J}%
  \thanks{Supported by the Czech Academy of Sciences (RVO 67985840)
      and GA \v CR project 23-04825S.}}

\author{Emil Je\v r\'abek\dedic\\[\medskipamount]
Institute of Mathematics, Czech Academy of Sciences\\
\small \v Zitn\'a 25,
115\:67 Praha 1,
Czech Republic,
email: \texttt{jerabek@math.cas.cz}
%URL: \texttt{https://math.cas.cz/\string~jerabek}
}

\else\ifx\setbeamertemplate\undefined % prosper

\author{Emil Je\v r\'abek}
\email{jerabek@math.cas.cz\\[-1em]https://math.cas.cz/\string~jerabek/}
\institution{Institute of Mathematics, Czech Academy of Sciences}

\else % beamer

%\author[Emil Je\v r\'abek]{Emil Je\v r\'abek\\[\medskipamount]
%   \scriptsize\texttt{jerabek@math.cas.cz}\\\texttt{https://math.cas.cz/\string~jerabek/}}
%\institute{Institute of Mathematics, Czech Academy of Sciences}

\author{Emil Je\v r\'abek}
\institute{Institute of Mathematics\\Czech Academy of Sciences\\\texttt{jerabek@math.cas.cz}\\\texttt{https://math.cas.cz/\string~jerabek/}}

\fi\fi

\endinput
