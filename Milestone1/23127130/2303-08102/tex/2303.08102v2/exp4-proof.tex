\begin{proof}
    For a policy $\theta$, we define a modified version of the loss at time $t$ as $\zeta_t (\theta) = \sum_{j=1}^K (\theta(j) - q(j)) \ell_t(j)$, where $q(j) = \min_{\theta' \in \Theta} \theta'(j)$. Notice that for any two policies $\theta_i$ and $\theta_j$, $\zeta_t(\theta_i) - \zeta_t(\theta_j) = \ell_t(\theta_i) - \ell_t(\theta_j)$. An estimate for this modified loss can be constructed in a standard manner:  $\hat{\zeta}_t (\theta) = (\theta(A_t)-q(A_t)) \frac{\ell_t (A_t)}{\psi_t (A_t)}$, where $\psi_t(j)=\sum_{\theta' \in \Theta} P_{t} (\theta') \theta'(A_t)$ is the probability of playing arm $j$ at time $t$ given $P_t$. Let $\E_{t-1}$ be the expectation conditioned on the events up to round $t-1$, it can be verified\footnote{See the proof of Theorem 4.2 in \cite{bubeck2012regret} for similar arguments.} that (for any $\theta$) $\mathbb{E}_{t-1}\hat{\zeta}_t (\theta)
= \zeta_t (\theta)$ and  $\mathbb{E}_{t-1}\zeta_t (\theta_t)
= \mathbb{E}_{t-1}\sum_{\theta \in \Theta}  P_t(\theta) \hat{\zeta}_t (\theta)$. Hence, we have that
\begin{align}
    R_T &= \E\left[ \sum\nolimits_t \zeta_t (\theta_t) -  \sum\nolimits_t \zeta_t (\theta^*) \right] \nonumber\\ \label{upper:alt-losses:regret}
        &= \E\left[ \sum\nolimits_t \sum\nolimits_{\theta \in \Theta}  P_t(\theta) \hat{\zeta}_t (\theta) -  \sum\nolimits_t \hat{\zeta}_t (\theta^*)\right].
\end{align}
Notice that:
    $
        \sum_{s=1}^{t-1} \hat{\ell}_s (\theta) = \sum_{s=1}^{t-1} \hat{\zeta}_s (\theta) + \sum_{s=1}^{t-1} q(A_s) \frac{\ell_s (A_s)}{\psi_s (A_s)}.
    $
    And since the second sum does not depend on $\theta$, we can rewrite\footnote{Like $\hat{\ell}_0(\theta)$, we initialize $\hat{\zeta}_0(\theta)$ as zero.} $P_t$ as follows:
    \begin{equation*}
        P_{t}(\theta) = \frac{\exp(-\eta\sum_{s=0}^{t-1} \hat{\zeta}_s (\theta))}{\sum_{\theta' \in \Theta}  \exp(-\eta\sum_{s=0}^{t-1} \hat{\zeta}_s (\theta'))}.
    \end{equation*}
    One can then bound (\ref{upper:alt-losses:regret}) using a standard manipulation (see, for example, Theorem 1.5 in \cite{hazan}) to yield that:\footnote{This requires that $\hat{\zeta}_t(\theta)$ is non-negative, which is indeed the case. 
    %Moreover, the $1/2$ factor in front of the second moment term is achieved by bounding $e^{-\eta \hat{\zeta}_t(\theta)}$ by $1-\eta \hat{\zeta}_t(\theta)+\frac{\eta^2}{2} \hat{\zeta}^2_t(\theta)$ instead of $1-\eta \hat{\zeta}_t(\theta)+\eta^2 \hat{\zeta}^2_t(\theta)$ as in the proof of Theorem 1.5 in \cite{hazan}.
    }
    \begin{equation} \label{upper:alt-losses:hedge}
        R_T \leq  \frac{\eta}{2} \E \sum\nolimits_t \sum\nolimits_{\theta \in \Theta}  P_t(\theta) \hat{\zeta}^2_t (\theta) + \frac{\log N}{\eta}.
    \end{equation}
    Define $s(j) = \max_{\theta \in \Theta} \theta(j)$, we now bound the second moment term at step $t$:
     \begin{align*}
         &\mathbb{E}_{t-1}\sum\nolimits_{\theta\in\Theta}  P_t(\theta) \hat{\zeta}^2_t (\theta)\\ &= \mathbb{E}_{t-1}\sum\nolimits_{\theta\in\Theta} P_t(\theta) (\theta(A_t)-q(A_t))^2 \frac{\ell^2_t (A_t)}{\psi^2_t (A_t)}  \\
         &\leq \mathbb{E}_{t-1}(s(A_t)-q(A_t)) \frac{\ell^2_t (A_t)}{\psi_t (A_t)} \frac{\sum_{\theta\in\Theta} P_t(\theta) (\theta(A_t)-q(A_t)) }{\sum_{\theta\in\Theta} P_t(\theta) \theta(A_t)}  \\
         &\leq \mathbb{E}_{t-1}(s(A_t)-q(A_t)) \frac{\ell^2_t (A_t)}{\psi_t (A_t)}  \\
         & = \sum\nolimits_j (s(j)-q(j)) \ell^2_t (j) \leq \mathcal{S}^*(\Theta).
     \end{align*}
     Combining this with \eqref{upper:alt-losses:hedge} and the specified choice of $\eta$ concludes the proof.
\end{proof}