\vspace{-0.1cm}
\section{Introduction}
\label{sec:introduction}

Breakthroughs in Artificial Intelligence (AI) and Machine Learning (ML) have considerably advanced the degree to which interactive systems can augment our lives~\cite{riedl2019human,li2020artificial}.
As black-box ML models are increasingly being employed, concerns about humans misusing AI and losing control have led to the need to make AI and ML algorithms easier for users to understand~\cite{mohseni_multidisciplinary_2021,barredo_arrieta_explainable_2020}.
This, in turn, has spurred rapidly growing interest into \textit{Explainable AI (XAI)} within academia~\cite{liao_questioning_2020, abdul_trends_2018, ehsan2021explainable} and industry~\cite{meta_ai, google_cloud_model_cards,arya2019one}, and by regulatory entities~\cite{gdpr_2019,gunning2017explainable,gunning2019darpa}.
\review{Earlier XAI research aims to help AI/ML developers on model debugging (\eg~\cite{Ribeiro2016,liu2017analyzing,zeiler2014visualizing,ribeiro2018anchors,kaur_interpreting_2020}) or assist domain experts such as clinicians by revealing more information such as causality and certainty (\eg~\cite{liao_personalized_2020,wang_designing_2019,eiband_bringing_2018,xie2020chexplain}).
Recently, there has been a growing amount of XAI research focusing on the non-expert end-users~\cite{jiang_who_2022,ehsan2021explainable,bhatt2020explainable}.}
Existing studies have found that XAI can help end-users resolve confusion and build trust~\cite{pu2006trust,dhanorkar_who_2021}.
Industrial practitioners have started to integrate XAI into everyday scenarios and improve user experiences, \eg by displaying the match rate of point-of-interest suggestions on map applications~\cite{google_map_match_rate_2018}.
% There is less XAI research on non-expert end-users, who represent a dominant body of audience potentially interested in XAI for intelligent interactive systems and have significantly different needs and goals~\cite{jiang_who_2022,ehsan2021explainable}.
% For instance, end-users may lose faith in the system and abandon products when they don't understand AI outcomes.
% XAI can help end-users resolve concerns and build trust~\cite{pu2006trust} when they encounter unexpected results~\cite{dhanorkar_who_2021} or seek additional information~\cite{burrell2016machine}.
% Industrial practitioners started to explore simple approaches to bring XAI to everyday living and improve user experience, \eg displaying the match rate of point-of-interest suggestions on map applications~\cite{google_map_match_rate_2018}, showing reasons for product recommendations on shopping websites~\cite{zhang_explainable_2020}. However, the study of XAI design for end-users is still at an early stage nowadays.

Alongside the surge of interest into XAI, \textit{Augmented Reality (AR)} is another technology making its way into everyday living~\cite{microsoft_hololens,google_glass}.
\review{Advances in more lightweight, powerful, and battery-efficient Head-Mounted Displays (HMDs) have brought us closer to the vision of pervasive AR~\cite{grubert2016towards}.}
As AI techniques are needed to enable context-aware, intelligent, everyday AR~\cite{cipresso2018past,rese2017augmented,abrash2021creating}, XAI will be essential because end-users will interact with outcomes of AI systems.
XAI could be used to make intelligent AR behavior interpretable, resolve confusion or surprise when encountering unexpected AI outcomes, promote privacy awareness, and build trust.
Therefore, we aim to answer the following research question: \textbf{How do we create effective XAI experiences for AR in everyday scenarios?}

% To answer our research question, a framework is needed as guidance for the design.
Researchers have developed several design spaces and frameworks to guide the design of XAI outside the context of AR~\cite{dhanorkar_who_2021,wang_designing_2019,mohseni_multidisciplinary_2021,barredo_arrieta_explainable_2020}.
% For example, Lim and Dey investigated end-users' preferences about different types of explanations and provided an XAI framework for intelligible context-aware systems~\cite{lim_assessing_2009}.
However, most previous work focused on identifying a taxonomy of explanation types or generation techniques. They did not consider everyday AR-specific factors such as
% Moreover, the majority of these frameworks are not targeted at non-expert end-users.
the rich sensory information that AR technologies have about users and contexts, and its always-on, adaptive nature.
These factors can not only support more personalized explanations, but also affect the design of an explanation interface. For example, one could render in-place explanations on related objects (\eg explaining a recipe recommendation by highlighting ingredients in the fridge).
In this paper, we provide a framework to guide the design of XAI in AR.
% To our knowledge, there is no previous work that aims to address the design of XAI in AR in a systematic way.

\input{tex_fig_tab_alg/fig_xair}

To answer the aforementioned research question, a design space analysis~\cite{qoc_1999} was used to break down the main research question into three sub-questions: 1) \textit{When to explain?}, 2) \textit{What to explain?}, and 3) \textit{How to explain?}
Previous research from the XAI and HCI communities has focused on one or two of these sub-questions (\eg when~\cite{pielot2017beyond,robbins2019misdirected}, what~\cite{liao_questioning_2020,barredo_arrieta_explainable_2020}). Although not within the context of AR, many of these findings can inform the design of XAI in AR.
\review{
Therefore, we first summarized related literature to identify the most important dimensions under each sub-question, as well as the factors that determine the answers to these questions, such as users' goals for having explanations (\ie why explain).
}
Then, we conducted two complementary studies to obtain insights from the perspectives of end-users and experts.
Specifically, we carried out a large-scale survey including over 500 end-users with different levels of knowledge of AI to collect user preferences about the timing (related to \textit{When}), content (related to \textit{What}), and modality (related to \textit{How}) of explanations in multiple AR scenarios.
In addition, we ran three workshops with twelve experts (\ie four experts per workshop) from different backgrounds, including algorithm developers, designers, UX professionals, and HCI researchers to iterate on the dimensions and generate guidelines to answer the \textit{When/What/How} questions.

Merging the insights obtained from these two studies, we developed the \textbf{XAIR} (e\underline{\textbf{X}}plainable \underline{\textbf{AI}} for Augmented \underline{\textbf{R}}eality) framework (Fig.~\ref{fig:xair}).
The framework can serve as a comprehensive reference that connects multiple disciplines across XAI and HCI. It also provides a set of guidelines to assist in the development of XAI designs in AR.
XAI researchers and designers can use the guidelines to enhance their design intuition and propose more effective and rigorous XAI designs for AR scenarios.

% We provide a few design examples to illustrate how to apply XAIR to various real-life AR scenarios.
We further conducted two user studies to evaluate XAIR.
To verify its utility to support designers, the first study focused on designers' perspectives. Ten designers were invited to use XAIR and design XAI experiences for two real-life AR scenarios.
To demonstrate its effectiveness in guiding the design of an actual AR system, a second study was conducted from the perspective of end-users. We implemented a real-time intelligent AR system based on the designers' proposals in the previous study using XAIR. The study measured the usability of the AR system with 12 end-users.
\review{
The results indicated that XAIR could provide meaningful and insightful support for designers to propose effective designs for XAI in AR, and that XAIR could lead to an easy-to-use AR system that was transparent and trustworthy.
}
% We end our paper by providing a series of additional design examples of various real-life AR scenarios using XAIR, followed by a series of discussions of our framework.

The contributions of this research are:
\begin{s_itemize}
\item \review{We summarized literature from multiple domains and identified the important dimensions for the when/what/how questions in the problem space when designing XAI in AR.}
\item Drawing the results from a large-scale survey with over 500 users and an iterative workshop study with 12 experts, we developed XAIR, the first framework for XAI design in AR scenarios. We also proposed a set of guidelines to support designers in their design thinking process.
% We applied XAIR to a series of everyday AR scenarios to illustrate its capability and practicality.
\item The results of design workshops with 10 designers indicated that XAIR could provide meaningful and insightful creativity support for designers. \review{The study with 12 end-users who used a real-time AR system showed that XAIR led to the design of AR systems that were transparent and trustworthy.}
\end{s_itemize}


