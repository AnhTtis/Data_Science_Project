%.............................................................
%...my macro and definitions
%.............................................................

\def\xxx{{\red xxx~}}
\def\abs#1{\left|#1\right|}
\def\blockdiag{\mathop{\rm blockdiag}}
\let\dst=\displaystyle
\def\cond{\mathop{\rm cond}}
\def\diag{\mathop{\rm diag}}
\def\etal{{\it et al.\ \/}}
\def\Matlab{{\sc Matlab}}
\def\Simulink{{\sc Simulink}}
\def\Scilab{{\sc Scilab}}
\def\Scicos{{\sc Scicos}}
\def\Octave{{\sc Octave}}
\def\Freemat{{\sc Freemat}}
\def\mt{^{-\rm T}}
\def\norm#1{\left\|#1\right\|}
\def\Rv{\bfR_v^{-1}}
\def\sat{\mathop{\rm sat}}
\def\sign{\mathop{\rm sign}}
\def\sinc{\hbox{sinc}}
\def\smallbfW{{\raise1.5pt\hbox{\mbox{\boldmath $_W$}}}}
\def\t{^{\rm T}}
\let\ts=\thinspace
\def\what{\widehat}
\def\wt{\widetilde}

\def\Re{\hbox{I}\!\hbox{R}}
\def\Na{\hbox{I}\!\hbox{N}}
\def\Qu{{\cal Q}}
\def\calB{{\cal B}}
\def\calW{{\cal \bf W}}
\def\calH{{\cal \bf H}}
\def\caly{{\cal \bf y}}
\def\calv{{\cal \bf v}}
\def\cale{{\cal \bf e}}

\def\red{\color{red}}
\def\green{\color{green}}
\def\black{\color{black}}
\def\blue{\color{blue}}
\def\mygray{\color[gray]{0.3}}

\newenvironment{texdraw}{\leavevmode\btexdraw}{\etexdraw}
% *****************************************************
% Texdraw macro
\def\bdot{\fcir f:0 r:0.05
}
\def\sumcircle{\bsegment
                    \savepos(0.5 0)(*ex *ey)
                    \move(.25 0)\fcir f:0.9 r:0.25
                    \textref h:C v:C \htext{$\small\sum$}
                \esegment
                \move (*ex *ey)}
\def\crosscircle{\bsegment
                    \savepos(0.4 0)(*ex *ey)
                    \move(.2 0)\fcir f:0.9 r:0.2
                    \textref h:C v:C \htext{$\bigotimes$}
                 \esegment
                 \move (*ex *ey)}
\def\plus {\rmove(0.1 0) \lellip rx:0.1 ry:0.1 \rmove(0.1 0)
}
% mybox #1 testo del box; #2 meta' del lato x; #3 meta' del lato y
\def\mybox#1#2#3{\bsegment
                 \rlvec(0 #3)\rlvec(#2 0)\rlvec(#2 0)
                 \rlvec(0 -#3)\savecurrpos(*ex *ey)\rlvec(0 -#3)
                 \rlvec(-#2 0)\rlvec(-#2 0)\rlvec(0 #3)
                 \textref h:C v:C \htext (#2 0){#1}
                 \esegment
                 \move (*ex *ey)
}
% myboxinverted #1 testo del box; #2 meta' del lato x; #3 meta' del lato y
\def\myboxinverted#1#2#3{\bsegment
                 \rlvec(0 #3)\rlvec(-#2 0)\rlvec(-#2 0)
                 \rlvec(0 -#3)\savecurrpos(*ex *ey)\rlvec(0 -#3)
                 \rlvec(#2 0)\rlvec(#2 0)\rlvec(0 #3)
                 \textref h:C v:C \htext (-#2 0){#1}
                 \esegment
                 \move (*ex *ey)
}
\def\tbox #1{\bsegment
               \lvec (0 +0.3)    \lvec (1.4 +0.3)
               \lvec (1.4 -0.3) \lvec (0 -0.3) \lvec (0 0)
               \textref h:C v:C \htext (.7 0){#1}
               \savepos (1.4 0)(*ex *ey)
             \esegment
             \move (*ex *ey)
}
\def\sumbox #1{\bsegment
               \lvec (0 1.5)    \lvec (1 1.5)
               \lvec (1 -1.5) \lvec (0 -1.5) \lvec (0 0)
               \textref h:C v:C \htext (.5 0){#1}
               \savepos (1 0)(*ex *ey)
             \esegment
             \move (*ex *ey)
}
% *****************************************************

\def\myfigurehere#1#2#3#4#5{
        \begin{figure}[htb]
           \begin{center}
              {\leavevmode
              \epsfxsize=#1 true cm
              \epsffile{#2.eps}
           }
           \end{center}
           \vspace{#3}
           \caption{#4}
           \label{#5}
        \end{figure}
}

\def\myemptyfigurehere#1#2#3#4{
        \begin{figure}[htb]
           \begin{center}
              {\leavevmode
              \vskip#1 true cm
           }
           \end{center}
           \vspace{#2}
           \caption{#3}
           \label{#4}
        \end{figure}
}


\def\mypsfrag#1#2#3#4#5{
        \begin{figure}[htp]
           \begin{center}
              {\leavevmode
                 %\resizebox{#1truecm}{!}{\includegraphics{#2.eps}}
                 {\includegraphics[width=#1truecm]{#2.eps}}
              }
           \end{center}
           \vspace{#3}
           \caption{#4}
           \label{#5}
        \end{figure}
}

\def\mypsfragtwocolumn#1#2#3#4#5{
        \begin{figure*}[htp]
           \begin{center}
              {\leavevmode
                 %\resizebox{#1truecm}{!}{\includegraphics{#2.eps}}
                 {\includegraphics[width=#1truecm]{#2.eps}}
              }
           \end{center}
           \vspace{#3}
           \caption{#4}
           \label{#5}
        \end{figure*}
}

\def\mydoublepsfrag#1#2#3#4#5#6{
        \begin{figure}[htp]
        \begin{center}
        \begin{tabular}[h]{c c}
              {\leavevmode
                 {\includegraphics[width=#1truecm]{#2.eps}}
              }
              &
              {\leavevmode
                 {\includegraphics[width=#3truecm]{#4.eps}}
              }
        \end{tabular}
           \caption{#5}
           \label{#6}
        \end{center}
        \end{figure}
}

\def\my4psfrag#1#2#3#4#5#6#7#8{
        \begin{figure}[htp]
        \begin{center}
            \begin{tabular}[h]{c c}
              {\leavevmode{\includegraphics[width=#1truecm]{#2.eps}}}
              &
              {\leavevmode{\includegraphics[width=#1truecm]{#3.eps}}} \\
              {\leavevmode{\includegraphics[width=#1truecm]{#4.eps}}}
              &
              {\leavevmode{\includegraphics[width=#1truecm]{#5.eps}}}
         \end{tabular}
           \vspace{#6}
           \caption{#7}
           \label{#8}
        \end{center}
        \end{figure}
}

\def\mydouble4psfrag#1#2#3#4#5#6#7#8{
        \begin{figure*}[htp]
        \begin{center}
            \begin{tabular}[h]{c c}
              {\leavevmode{\includegraphics[width=#1truecm]{#2.eps}}}
              &
              {\leavevmode{\includegraphics[width=#1truecm]{#3.eps}}} \\
              {\leavevmode{\includegraphics[width=#1truecm]{#4.eps}}}
              &
              {\leavevmode{\includegraphics[width=#1truecm]{#5.eps}}}
         \end{tabular}
           \vspace{#6}
           \caption{#7}
           \label{#8}
        \end{center}
        \end{figure*}
}


\def\mytriplepsfrag#1#2#3#4#5#6#7#8#9{
        \begin{figure*}[htp]
        \begin{center}
            \begin{tabular}[h]{c c c}
              {\leavevmode{\includegraphics[width=#1truecm]{#2.eps}}}
              &
              {\leavevmode{\includegraphics[width=#3truecm]{#4.eps}}}
        &
              {\leavevmode{\includegraphics[width=#5truecm]{#6.eps}}}
         \end{tabular}
           \vspace{#7}
           \caption{#8}
           \label{#9}
        \end{center}
        \end{figure*}
}

\def\mymatrix#1{\left[\begin{matrix}#1\end{matrix}\right]}
