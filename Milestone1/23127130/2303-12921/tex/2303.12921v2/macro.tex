\newcommand{\notes}{0} % set to 0 to disable notes
%%% macros from other overleaf ('DP => reproducibility', created by Satchit)

%%% Commands to add comments and footnotes
\ifnum\notes=1
\newcommand{\mb}[1]{{\color{blue} MB:#1}}
\newcommand{\mg}[1]{{\color{magenta} MG:#1}}
\newcommand{\sstext}[1]{{\color{red} SS:#1}}
\newcommand{\mh}[1]{{\color{purple} MH:#1}}
\newcommand{\jess}[1]{\textcolor{teal}{[JS: #1]}}
\newcommand{\maxh}[1]{\textcolor{red}{[MH: #1]}}
%\newcommand{\rexl}[1]{\textcolor{green}{[RL: #1]}}
\newcommand{\rexnote}[1]{\textcolor{cyan}{[RL: #1]}}
\newcommand{\toni}[1]{\textcolor{purple}{[TP: #1]}}
\newcommand{\chris}[1]{\textcolor{purple}{[CY: #1]}}


\else % notes just appear white
\newcommand{\mb}[1]{}
\newcommand{\mg}[1]{}
\newcommand{\sstext}[1]{}
\newcommand{\mh}[1]{}
\newcommand{\jess}[1]{}
\newcommand{\maxh}[1]{}
%\newcommand{\rexl}[1]{\textcolor{green}{[RL: #1]}}
\newcommand{\rexnote}[1]{}
\newcommand{\toni}[1]{}
\newcommand{\chris}[1]{}
\fi

\ifnum\notes=1
\newcommand{\mbnote}[1]{{\color{blue}\footnote{{\color{blue} {\bf MB:} #1}}}}
\newcommand{\mgnote}[1]{{\color{magenta}\footnote{{\color{magenta} {\bf MG:} #1}}}}
\newcommand{\ssnote}[1]{{\color{red}\footnote{{\color{red} {\bf SS:} #1}}}}
\newcommand{\mhnote}[1]{{\color{purple}\footnote{{\color{purple} {\bf MH:} #1}}}}
\else
\newcommand{\mbnote}[1]{}
\newcommand{\mgnote}[1]{}
\newcommand{\mhnote}[1]{}
\newcommand{\ssnote}[1]{}
\fi 














\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{question}[theorem]{Question}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{open}[theorem]{Open Problem}
\newtheorem{alg}[theorem]{Algorithm}
\newcommand{\R}{\mathbb{R}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\Q}{\mathcal{Q}}
\newcommand{\np}{\lambda}
\newcommand{\us}{ S}
\newcommand{\ls}{ \bar S}
\newcommand{\zo}{ \mathbf{0}}
\newcommand{\bigo}{\mathcal{O}}
\newcommand{\Hcal}{\mathcal{H}}
\newcommand{\id}[1]{\mathbbm{1}_{#1}}
\DeclareMathOperator{\ConvHull}{ConvHull}
\DeclareMathOperator{\vol}{Vol}
\DeclareMathOperator{\cone}{Cone}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\poly}{poly}
\DeclareMathOperator{\polylog}{polylog}
\DeclareMathOperator{\gtnc}{GTNC}
\DeclareMathOperator{\tnc}{TNC}
\DeclareMathOperator{\bin}{Bin}
\newcommand\underrel[2]{\mathrel{\mathop{#2}\limits_{#1}}}
\newcommand{\yields}[1]{\underrel{#1}{\implies}}
\newcommand{\e}[1]{\exp\left\{{#1}\right\}}
\newcommand{\q}[1]{``{#1}''}
\newcommand\inner[2]{|\langle #1, #2 \rangle|}
\newcommand\uinner[2]{\langle #1, #2 \rangle}
\newcommand{\Ncal}{\mathcal{N}}
\newcommand{\ind}{\mathbbm{1}}
\newcommand{\floor}[1]{\left\lfloor {#1} \right\rfloor}
\newcommand{\ceil}[1]{{\left\lceil {#1} \right\rceil}}
\newcommand{\supp}{\mathtt{supp}}


\newcommand{\h}{\mathbf{H}}
\newcommand{\s}{\mathbb{S}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Hyp}{\ensuremath{H}}
\newcommand{\dtv}{d_{\mathrm TV}}
%\newcommand{\pr}{\mathop{\mathbf{Pr}}}
\renewcommand{\Pr}{\mathbf{Pr}}

% new macros for PTF related stuff
\newcommand\norm[1]{\left\lVert#1\right\rVert}
\newcommand{\trace}{\mathrm{trace}}
\newcommand{\Acal}{\mathcal{A}}
\newcommand{\Bcal}{\mathcal{B}}
\newcommand{\Ical}{\mathcal{I}}
\newcommand{\ED}{\text{ED}}
\newcommand{\MD}{\text{MD}}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\pe}[1]{\tilde{\mathbb{E}}\left[ {#1} \right]}
\newcommand{\gup}[1]{g_{\uparrow {#1}}}
\newcommand{\gdown}[1]{g_{\downarrow {#1}}}
\newcommand{\fup}[1]{f_{\uparrow {#1}}}
\newcommand{\fdown}[1]{f_{\downarrow {#1}}}
\newcommand{\restrict}[2]{{#1}|_{#2}}
\newcommand{\localize}[2]{{#1}_{#2}}
\newcommand{\lazy}{\text{lazy}}
\newcommand{\stab}{\text{Stab}}
\newcommand{\var}{\text{Var}}
\newcommand{\eps}{\varepsilon}
\newcommand{\E}{\mathbb{E}}
\newcommand{\ip}[1]{\langle #1 \rangle}

%-------------------------
% Comms
%-------------------------


%-------------------------
% Jess/Rex macros
%-------------------------

\newcommand{\X}{\mathcal{X}}
\newcommand{\VVV}{\mathcal{V}}
\newcommand{\SSS}{\mathcal{S}}
\newcommand{\lap}{\text{Lap}}
\newcommand{\eqdef}{\stackrel{{\mathrm {\scriptstyle def}}}{=}}
\newcommand{\C}{\mathcal{C}}
%\newcommand{\emprisk}{R_{\mathtt{emp}}}
\newcommand{\emprisk}[1]{err_{\ensuremath{#1}}}
\newcommand{\distrisk}[1]{err_{\ensuremath{#1}}}


\newcommand{\rFinite}{\mathtt{rFiniteLearner}}

\newcommand{\risky}{\mathtt{Risky}}
\newcommand{\safe}{\mathtt{Safe}}

%-------------------------
% FHE macros
%-------------------------

\newcommand{\LWE}{\ensuremath{\mathsf{LWE}}}
\newcommand{\RLWE}{\ensuremath{\mathsf{RingLWE}}}
\newcommand{\GSW}{\ensuremath{\mathsf{GSW}}}
\newcommand{\RGSW}{\ensuremath{\mathsf{RGSW}}}
\newcommand{\FHEW}{\ensuremath{\mathsf{FHEW}}}
\newcommand{\ModSwitch}{\ensuremath{\mathsf{ModSwitch}}}
\newcommand{\KeySwitch}{\ensuremath{\mathsf{KeySwitch}}}
\newcommand{\KeyGen}{\ensuremath{\mathsf{KeyGen}}}
\newcommand{\LWEerr}{\ensuremath{\mathsf{err}}}
\newcommand{\HomNAND}{\ensuremath{\mathsf{HomNAND}}}
\newcommand{\NAND}{\operatorname{\bar{\land}}}
\newcommand{\PackLWE}{\ensuremath{\mathsf{PackLWE}}}
\newcommand{\key}{\mathcal{K}}
\newcommand{\packingkey}{\key^P}
\newcommand{\modswitch}[3]{\schemefont{ModSwitch(#1)_{#2:#3}}}
\newcommand{\RingDecrypt}{\schemefont{RingDecrypt}}
\newcommand{\Decrypt}{\schemefont{Dec}}
\newcommand{\msbextract}{\schemefont{msbExtract}}
\newcommand{\lwesample}{\textbf{a}, b}
\newcommand{\encode}[1]{\schemefont{encode}({#1})}
\newcommand{\encbox}[1]{\llbracket #1 \rrbracket}
\newcommand{\slowmult}{\schemefont{SlowMult}}
\newcommand{\constmult}{\schemefont{ConstMult}}
\newcommand{\nussmult}{\schemefont{NussMult}}
\newcommand{\Refresh}{\ensuremath{\mathsf{Refresh}}}
\newcommand{\msbExtract}{\ensuremath{\mathsf{msbExtract}}}
\newcommand{\escheme}{\ensuremath{\mathcal{E}}}
\newcommand{\Dec}{\ensuremath{\mathsf{Dec}}}
\newcommand{\Enc}{\ensuremath{\mathsf{Enc}}}

\newcommand{\MajEval}{\ensuremath{\mathsf{MajEval}}}
\newcommand{\sk}{\mathbf{sk}}
\newcommand{\pk}{\mathbf{pk}}
\newcommand{\ctxt}{\mathbf{c}}
\newcommand{\San}{\ensuremath{\mathsf{Sanitize}}}
\newcommand{\Ran}{\ensuremath{\mathsf{Rerandomize}}}

\newcommand{\randkey}{\mathbf{z}}
\newcommand{\freshkey}{\ensuremath{\textbf{rk}}}
\newcommand{\enckey}{\ensuremath{\textbf{ek}}}

\newcommand{\negl}{\mathrm{negl}}







%\newtheorem{theorem}{Theorem}
%\newtheorem*{theorem*}{Theorem}
%\newtheorem{fact}[theorem]{Fact}
%\newtheorem{lemma}[theorem]{Lemma}
%\newtheorem{claim}[theorem]{Claim}
%\newtheorem{corollary}[theorem]{Corollary}
%\newtheorem{definition}[theorem]{Definition}
%\newtheorem{remark}[theorem]{Remark}
%\newtheorem{conjecture}[theorem]{Conjecture}

%\newcommand{\R}{\mathbb{R}}
%\newcommand{\N}{\mathbb{N}}
%\newcommand{\eps}{\varepsilon}
\newcommand{\universe}{\ensuremath{\mathcal{U}}\xspace}
\newcommand{\class}{\ensuremath{\mathcal{C}}\xspace} % class of all distributions with support of size k
%\newcommand{\cB}{\ensuremath{\mathcal{B}}\xspace} 
%\newcommand{\cBB}{\ensuremath{\cB_{[\frac 13,\frac 23]}}\xspace}
\newcommand{\ca}{\ensuremath{\class^{\alpha}}\xspace}
\newcommand{\cA}{\ensuremath{\class^{\alpha*}}\xspace}
\newcommand{\carb}{\ensuremath{\class_{\alpha, 2k+1}}\xspace} % class of distributions with mass $1-\alpha$ on an arbitrary element, and the remaining mass uniform over a size-$k$ subset of [2k+1] not containing that element.}

\newcommand{\distr}{\ensuremath{P}\xspace}
\newcommand{\sampler}{\ensuremath{\mathcal{A}}\xspace}
% for full dataset
\newcommand{\Datarv}{\ensuremath{\mathbf{X}}\xspace}
\newcommand{\Datarvy}{\ensuremath{\mathbf{Y}}\xspace}
\newcommand{\Datarvz}{\ensuremath{\mathbf{Z}}\xspace}
\newcommand{\datarvy}{\ensuremath{Y}\xspace}
\newcommand{\datarvz}{\ensuremath{Z}\xspace}
\newcommand{\Datafixed}{\ensuremath{S}\xspace}
\newcommand{\Datafixedy}{\ensuremath{\mathbf{y}}\xspace}
\newcommand{\Datafixedz}{\ensuremath{\mathbf{z}}\xspace}
% for indexing into a dataset
\newcommand{\datarv}{\ensuremath{X}\xspace}
\newcommand{\datafixed}{\ensuremath{s}\xspace}
\newcommand{\datafixedy}{\ensuremath{y}\xspace}
\newcommand{\coins}{\ensuremath{\text{coins}(\sampler)}\xspace}
\newcommand{\rand}{\ensuremath{\mathcal{R}}\xspace} %randomness of A
\newcommand{\el}{\ensuremath{s}\xspace}
\newcommand{\me}{\ensuremath{\mathcal{M}}\xspace}
\newcommand{\bsc}{\ensuremath{BSC_{1/3}}\xspace} % binary symmetric channel with bias 1/3
\newcommand{\indicator}{\ensuremath{\mathbbm{1}}\xspace}
\newcommand{\distroutput}[1]{\ensuremath{Q_{#1}\xspace}}
\newcommand{\cbook}{\ensuremath{C}\xspace} %codebook
\newcommand{\cw}{\ensuremath{\mathbf{c}}\xspace} % codeword
\newcommand{\clen}{\ensuremath{d}\xspace} %codeword length
\newcommand{\gencb}{\ensuremath{Gen}\xspace} %Generate codebook algorithm
\newcommand{\tracecw}{\ensuremath{Trace}\xspace} %Trace algorithm output by Gen
\newcommand{\avgcw}{\ensuremath{\overline{\mathbf{c}}}\xspace} % average codeword
\newcommand{\coalition}{\ensuremath{S}\xspace} %coalition of colluding users
\newcommand{\combine}{\ensuremath{\adv_{pirate}}\xspace} %combine algorithm of colluding users

\newcommand{\Biasesfixed}{\ensuremath{\mathbf{p}}\xspace} % d-dim vector of fixed Bernoulli biases
\newcommand{\biasesfixed}{\ensuremath{p}\xspace} % single fixed Bernoulli bias
\newcommand{\Biasesrv}{\ensuremath{\mathbf{P}}\xspace} % d-dim random variable vector of Bernoulli bias
\newcommand{\biasesrv}{\ensuremath{P}\xspace} % single RV Bernoulli bias
\newcommand{\biasdistr}{\ensuremath{{\cal D}}\xspace} %distribution that Bernoulli biases are sampled from
\newcommand{\cwdistr}{\ensuremath{P_{code}}\xspace} % distribution over codewords
%% events
\newcommand{\trunc}{\ensuremath{T}\xspace} % no truncation in any rounds or any p_j's 
\newcommand{\bucket}{\ensuremath{B}\xspace} % successful bucketing event
\newcommand{\clipped}{\ensuremath{C}\xspace} % something gets clipped in its final round

%\DeclareMathOperator*{\argmin}{arg\,min}

% distributions
\newcommand{\Po}{\ensuremath{\mathsf{Po}}\xspace}
\newcommand{\Lap}{\mathsf{Lap}}
\newcommand{\Ber}{\ensuremath{\mathsf{Ber}}\xspace} %Bernoulli distribution
\newcommand{\Gauss}{\ensuremath{\mathcal{N}}\xspace} %gaussian distribution
%\newcommand{\berprod}[1]{\ensuremath{\Ber(#1)}\xspace}
\newcommand{\Bin}{\ensuremath{\mathsf{Bin}}\xspace}
\newcommand{\Mult}{\ensuremath{\mathsf{Mult}}\xspace}
\newcommand{\berprod}{\ensuremath{\mathsf{BerProd}}(\Biasesfixed)\xspace}
\newcommand{\Berprod}{\ensuremath{\mathsf{BerProd}}(\Biasesrv)\xspace}
\newcommand{\alphakary}[1]{\ensuremath{\mathcal{\class}^{#1}}}
%\DeclareMathOperator*{\E}{\mathbb{E}}

\newcommand{\set}[1]{{\left \{  {#1} \right\} }}
\newcommand{\bit}[1]{{\{0,1\}^{#1}}}

\newcommand{\paren}[1]{{\left ( {#1} \right)}}
\newcommand{\bparen}[1]{{\big ( {#1} \big)}}
\newcommand{\Bparen}[1]{{\Big ( {#1} \Big)}}
%\newcommand{\ceil}[1]{{\left \lceil {#1} \right\rceil}}


\newcommand{\clip}[1]{{\left [ {#1} \right]_0^1}}
\newcommand{\clipab}[1]{{\left [ {#1} \right]_a^b}}
\newcommand{\clipquarter}[1]{{\left [ {#1} \right]_{1/4}^{3/4}}}
\newcommand{\reduction}{\ensuremath{\mathcal{R}}}
%\usepackage{eqparbox}
% Sampling algorithms
\newcommand{\fpsampler}{\ensuremath{\mathcal{A}_{\text{FCB}}}\xspace} % fingerprint-based sampler
\newcommand{\posampler}{\ensuremath{\mathcal{A}_{\Po}}\xspace} %poisson sampler
\newcommand{\karysampler}{\ensuremath{\mathcal{A}_{\class_k}}\xspace} % K-ary upper bound sampler
\newcommand{\bernest}{\ensuremath{\me_{\Ber}}\xspace} % marginal estimator for products of bernourlli's

\newcommand{\err}{{\ensuremath{\mathtt{err}}}}
% Use this macro for stuff that should be changed once the stronger bound for arbitrary product distributions is written. 
% \newcommand{\strongerbounds}[1]{\color{red} \sf #1}
\newcommand{\strongerbounds}[1]{{\color{green} {#1}}}


%Macros for one-way function inverter implies correlated sampling argument

%algorithm S_{C,\beta} in russell notaiotn
\newcommand{\correlatedsampler}{\mathtt{CorrSamp}}
\newcommand{\correlatedsamplerfull}{\mathtt{CorrSamp}(C, \nu; r)}

%algorithm B in russell notation
\newcommand{\elementfindershort}{\mathtt{EF}}
\newcommand{\elementfinder}{\mathtt{ElemFind}}
\newcommand{\elementfinderfull}{\mathtt{ElemFind}_{C, \nu, \ell, \beta}(H_1, u; r)}

%algorithm A in russell notation
\newcommand{\hashchecker}{\mathtt{HashCheck}}
\newcommand{\hashcheckerfull}{\mathtt{HashCheck}_{C, \nu, \ell, H_1, u}(H_2,v; r)}


\newcommand{\Fcircuit}{F_{C,\ell, H_1, H_2}}
\newcommand{\coin}{\text{coin}}


\newcommand{\score}{\operatorname{score}}


