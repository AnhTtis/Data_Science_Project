\begin{figure}[t]
\begin{subfigure}[b]{\linewidth}
\centering
\begin{tikzpicture}
\begin{scope}[every node/.style={circle,thick,draw,align=center,inner sep=0.1mm}]
    \node[] (v1) at (-1, 0) {\footnotesize$v_1$\\[-0.3em]\footnotesize 100GB};
    \node[] (v2) at ($(v1) + (1.0, 0)$) {\scriptsize $v_2$\\[-0.3em]\scriptsize 10GB};
    \node[] (v3) at ($(v2) + (1.0, 0)$) {\footnotesize$v_3$\\[-0.3em]\footnotesize 100GB} ;
    \node[] (v4) at ($(v1) + (0.5, 1.0)$) {\scriptsize $v_4$\\[-0.3em]\scriptsize 10GB} ;
    \node[] (v5) at ($(v4) + (1.0, 0)$) {\scriptsize $v_5$\\[-0.3em]\scriptsize 10GB} ;
    \node[] (v6) at ($(v4) + (0.5, 1.0)$) {\scriptsize $v_6$\\[-0.3em]\scriptsize 10GB} ;
\end{scope}

\begin{scope}[>={Stealth[black]},
              every node/.style={fill=none,circle},
              every edge/.style={draw=black, thick}]
    \path [->] (v1) edge node {} (v4);
    \path [->] (v2) edge node {} (v4);
    \path [->] (v2) edge node {} (v5);
    \path [->] (v3) edge node {} (v5);
    \path [->] (v4) edge node {} (v6);
    \path [->] (v5) edge node {} (v6);
\end{scope}

% red path
\begin{scope}[>={Stealth[black]},
              every node/.style={fill=none,circle},
              every edge/.style={draw=ExampleColor2,line cap=round}]
    \node[] (r1) at (-1.7, -0.2) {};
    \node[] (r2) at (0.5, -0.2) {};
    \node[] (r3) at (0.5, 0.1) {};
    \node[] (r4) at (-0.1, 1.0) {};
    \node[] (r5) at (0, 1.2) {};
    \node[] (r6) at (0.1, 1.2) {};
    \node[] (r7) at (0.1, 1.4) {};
    \node[] (r8) at (-0.8, 2.6) {};
    \path [line width = 0.75mm] (r1.south) edge[] node {} (r2.south);
    \path [line width = 0.75mm] (r2.south) edge[bend right =60] node {} (r3.south);
    \path [line width = 0.75mm] (r3.south) edge[] node {} (r4.south);
    \path [line width = 0.75mm] (r4.south) edge[bend left = 60] node {} (r5.south);
    \path [line width = 0.75mm] (r5.south) edge[] node {} (r6.south);
    \path [line width = 0.75mm] (r6.south) edge[bend right = 60] node {} (r7.south);
    \path [line width = 0.75mm, arrows={->[ExampleColor2]}] (r7.south) edge node {} (r8.south);
\end{scope}
\node[text=red] (txt1) at (-0.9, 2.6) {\footnotesize Order 1 ($\tau_1$)} ;

% % red nodes
% \begin{scope}[every node/.style={circle,align=center,fill=ExampleColor2,draw=Redborder, inner sep=0cm, minimum width = 3mm}]
%     \node[] at (-1.55, -0.35) {};
%     \node[] at (0, -0.35) {};
%     \node[] at (1.4, -0.35) {};
%     \node[] at (0.3, 1.65) {};
%     \node[] at (0.85, 1.8) {};
%     \node[] at (-0.1, 3.1) {};
% \end{scope}

% blue
\begin{scope}[>={Stealth[black]},
              every node/.style={fill=none,circle},
              every edge/.style={draw=ExampleColor1,line cap=round}]
    \node[] (b1) at (-1.7, 0.5) {};
    \node[] (b2) at (-0.3, 0.5) {};
    \node[] (b3) at (-0.2, 0.6) {};
    \node[] (b4) at (-0.4, 0.8) {};
    \node[] (b5) at (-0.3, 0.9) {};
    \node[] (b6) at (1.1, 0.5) {};
    \node[] (b7) at (1.2, 0.7) {};
    \node[] (b8) at (0.1, 2.6) {};
    \path [line width = 0.75mm] (b1.south) edge[] node {} (b2.south);
    \path [line width = 0.75mm] (b2.south) edge[bend right = 45] node {} (b3.south);
    \path [line width = 0.75mm] (b3.south) edge[] node {} (b4.south);
    \path [line width = 0.75mm] (b4.south) edge[bend left = 60] node {} (b5.south);
    \path [line width = 0.75mm] (b5.south) edge[] node {} (b6.south);
    \path [line width = 0.75mm] (b6.south) edge[bend right =60] node {} (b7.south);
    \path [line width = 0.75mm, arrows={->[ExampleColor1]}] (b7.south) edge[] node {} (b8.south);
\end{scope}
\node[text=blue] (txt2) at (0.7, 2.6) {\footnotesize Order 2 ($\tau_2$)} ;

% % blue nodes
% \begin{scope}[every node/.style={circle,align=center,fill=ExampleColor1,draw=Blueborder, inner sep=0cm, minimum width = 3mm}]
%     \node[] at (-1.55, 0.35) {};
%     \node[] at (0, 0.35) {};
%     \node[] at (0.2, 1.2) {};
%     \node[] at (2, 0.45) {};
%     \node[] at (1.35, 2) {};
%     \node[] at (0.65, 3.55) {};
% \end{scope}

% labels
\begin{scope}[every node/.style={rectangle,thick, anchor=east}]
    \node[align=right,text=red] (label1) at (6.5, 2.5) {\small Order 1};
    \node[align=right] (label2) at (4, 2.6) {\footnotesize Memory usage};
    \node[align=right] (label3) at (3.5, 2.3) {\footnotesize 100GB} ;
    \node[align=right,text=blue] (label4) at (6.5, 0.8) {\small Order 2};
    \node[align=right] (label5) at (4, 0.9) {\footnotesize Memory usage};
    \node[align=right] (label6) at (3.5, 0.6) {\footnotesize 100GB} ;
    \node[align=right] (label7) at (6.8, 1.3) {\footnotesize Node};
    \node[align=right] (label8) at (6.8, -0.4) {\footnotesize Node} ;
\end{scope}
    \node[text=blue] at (3.9, -0.4) {\small 1};
    \node[text=blue] at (4.3, -0.4) {\small 2};
    \node[text=blue] at (4.7, -0.4) {\small 4};
    \node[text=blue] at (5.1, -0.4) {\small 3};
    \node[text=blue] at (5.5, -0.4) {\small 5};
    \node[text=blue] at (5.9, -0.4) {\small 6};
    
    \node[text=red] at (3.9, 1.3) {\small 1};
    \node[text=red] at (4.3, 1.3) {\small 2};
    \node[text=red] at (4.7, 1.3) {\small 3};
    \node[text=red] at (5.1, 1.3) {\small 4};
    \node[text=red] at (5.5, 1.3) {\small 5};
    \node[text=red] at (5.9, 1.3) {\small 6};

% plot lines
\begin{scope}[>={Stealth[black]},
              every node/.style={fill=none,circle},
              every edge/.style={draw=black}]
    \draw[dashed] (3.5, 2.3) -- (6.5,2.3);
    \draw[dashed] (3.5, 0.6) -- (6.5,0.6);
    \draw[] (3.9, 1.5) -- (3.9, 1.45);
    \draw[] (4.3, 1.5) -- (4.3, 1.45);
    \draw[] (4.7, 1.5) -- (4.7, 1.45);
    \draw[] (5.1, 1.5) -- (5.1, 1.45);
    \draw[] (5.5, 1.5) -- (5.5, 1.45);
    \draw[] (5.9, 1.5) -- (5.9, 1.45);
    \draw[] (3.9, -0.2) -- (3.9, -0.25);
    \draw[] (4.3, -0.2) -- (4.3, -0.25);
    \draw[] (4.7, -0.2) -- (4.7, -0.25);
    \draw[] (5.1, -0.2) -- (5.1, -0.25);
    \draw[] (5.5, -0.2) -- (5.5, -0.25);
    \draw[] (5.9, -0.2) -- (5.9, -0.25);
    \draw[->] (3.5, 1.5) -- (3.5,2.5);
    \draw[->] (3.5, -0.2) -- (3.5,0.8);
    \draw[->] (3.5,1.5) -- (6.5, 1.5);
    \draw[->] (3.5,-0.2) -- (6.5, -0.2);
\end{scope}

    \node[draw,fill=ExampleColor2,anchor=south west,minimum width = 1.6cm, minimum height = 0.8cm,fill opacity = 0.6,text opacity=1] at (3.5, 1.5) {\large $v_1$};
    \node[draw,fill=ExampleColor2,inner sep=0.05cm,anchor=south west,minimum width = 0.8cm, minimum height = 0.1cm,fill opacity = 0.6,text opacity=1] at (5.1, 1.5) {\scriptsize $v_5$};
    \node[draw,fill=ExampleColor2,inner sep=0.05cm,anchor=south west,minimum width = 0.4cm, minimum height = 0.1cm,fill opacity = 0.6,text opacity=1] at (5.5, 1.75) {\scriptsize $v_6$};
    
    \node[draw,fill=ExampleColor1,anchor=south west,minimum width = 1.2cm, minimum height = 0.8cm,fill opacity = 0.6,text opacity=1] at (3.5, -0.2) {\large $v_1$};
    \node[draw,fill=ExampleColor1,anchor=south west,minimum width = 0.8cm, minimum height = 0.8cm,fill opacity = 0.6,text opacity=1] at (4.7, -0.2) {\large $v_3$};
    \node[draw,fill=ExampleColor1,inner sep=0.05cm,anchor=south west,minimum width = 0.4cm, minimum height = 0.1cm,fill opacity = 0.6,text opacity=1] at (5.5, -0.2) {\scriptsize $v_6$};


\end{tikzpicture}
\end{subfigure}
\vspace{-5mm}
\caption{Execution order matters: $v_1$ and $v_3$ cannot both be flagged under $\tau_1$, but can under $\tau_2$. The larger the combined size of flagged nodes, the better.}
\label{fig:toyexample}
\vspace{-4mm}
\end{figure}
