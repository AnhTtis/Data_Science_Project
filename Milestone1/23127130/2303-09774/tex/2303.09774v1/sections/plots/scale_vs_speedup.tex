\begin{figure}[t]
\vspace{-2mm}
\begin{subfigure}[b]{0.48\linewidth}

\begin{tikzpicture}
\definecolor{TraditionalColor}{HTML}{ABDDA4}
\definecolor{MemcontainerColor}{HTML}{38A528}
%\definecolor{rendering}{HTML}{2B83BA}

\pgfplotstableread[]{
name
10
25
50
100
1000
}\datatable

\begin{axis}[
    ybar stacked,
                     legend style={ legend columns=4,
                                at={(-0.1,1.3)},anchor=south west,
                                column sep=0.1cm},  
    xtick=data,
    width=45mm,
    height=37mm,
    bar width=3mm,
    ymin=0,
    axis y line*=none,
    axis x line*=none,
    xticklabels from table={\datatable}{name},
    x tick label style={anchor=west,xshift=-2.2ex, yshift = -1ex},
    ytick={1.0, 1.25, 1.5, 1.75, 2},
    yticklabels={1$\times$, 1.25$\times$, 1.5$\times$, 1.75$\times$, 2$\times$},
    ymax = 2,
    ymin = 1,
    xmax = 6,
    xmin = 0,
    tick label style={font=\footnotesize},
    legend style={font=\footnotesize,yshift=-6ex},
    label style={font=\footnotesize},
    ylabel={Speedup},
    y label style={
        at={(axis description cs:-0.3,.5)},anchor=south
    },
    xlabel={TPC-DS scale (GB)},
    xlabel style={yshift = 1ex},
    area legend
    ]    
    
    \node[anchor=south west, rotate = 45] at (axis cs: 0.65, 1.48) {\scriptsize 1.58$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 1.65, 1.58) {\scriptsize 1.68$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 2.65, 1.61) {\scriptsize 1.71$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 3.65, 1.53) {\scriptsize 1.63$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 4.65, 1.48) {\scriptsize 1.58$\times$};
    
    \addplot [SCColor,fill=SCColor] table[x=Setting,y=speedup] {sections/plots/scale_tpcds.txt};

    \end{axis}
\end{tikzpicture}

\vspace{-3mm}
\caption{\tpcds}
\label{fig:scale_sweep_a}
\end{subfigure}
\hfill
\begin{subfigure}[b]{0.48\linewidth}
\hspace{-2mm}
\begin{tikzpicture}
\definecolor{TraditionalColor}{HTML}{ABDDA4}
\definecolor{MemcontainerColor}{HTML}{38A528}
%\definecolor{rendering}{HTML}{2B83BA}

\pgfplotstableread[col sep=comma,]{
name
10
25
50
100
 1000
}\datatable

\begin{axis}[
    ybar stacked,
                     legend style={ legend columns=4,
                                at={(-0.1,1.3)},anchor=south west,
                                column sep=0.1cm},  
    xtick=data,
    width=45mm,
    height=37mm,
    bar width=3mm,
    ymin=0,
    axis y line*=none,
    axis x line*=none,
    xticklabels from table={\datatable}{name},
    x tick label style={anchor=west,xshift=-2.28ex, yshift = -1ex},
    ytick={1, 2, 3, 4, 5},
    yticklabels={1$\times$, 2$\times$, 3$\times$, 4$\times$, 5$\times$},
    ymax = 5,
    ymin = 1,
    xmax = 6,
    xmin = 0,
    tick label style={font=\footnotesize},
    legend style={font=\footnotesize,yshift=-6ex},
    label style={font=\footnotesize},
    ylabel={Speedup},
        y label style={at={(axis description cs:-0.2,.5)},anchor=south},
    xlabel={TPC-DS scale (GB)},
    xlabel style={yshift = 1ex},
    area legend
    ]    
    
    \node[anchor=south west, rotate = 45] at (axis cs: 0.5, 1.71) {\scriptsize 2.31$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 1.5, 2.93) {\scriptsize 3.53$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 2.5, 3.50) {\scriptsize 4.10$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 3.5, 3.52) {\scriptsize 4.12$\times$};
    \node[anchor=south west, rotate = 45] at (axis cs: 4.5, 3.66) {\scriptsize 4.26$\times$};
    
    \addplot [SCColor,fill=SCColor] table[x=Setting,y=speedup] {sections/plots/scale_tpcds_date.txt};

    \end{axis}
\end{tikzpicture}

\vspace{-3mm}
\caption{\tpcdsdate}
\label{fig:scale_sweep_b}
\end{subfigure}
\caption{\system's optimization achieves consistent speedup on a range of dataset scales. \memory set to 1.6\% data size.
}
\vspace{-4mm}
\label{fig:scale_sweep}
\end{figure}