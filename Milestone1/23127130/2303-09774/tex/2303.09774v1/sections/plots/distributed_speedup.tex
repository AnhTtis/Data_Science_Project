% %!TEX root = main.tex

% \begin{figure}[t]

% \pgfplotsset{accfig/.style={
%     width=43mm,
%     height=35mm,
%     xmin=10,
%     ymin=0,
%     ymax=150,
%     xlabel=$\#$ Presto nodes,
%     ylabel=RMS Error,
%     xlabel near ticks,
%     ylabel near ticks,
%     ylabel style={align=center},
%     xtick={0, 10, ..., 100},
%     % xticklabels={80\%, 85\%, 90\%, 95\%, 99\%, 99.5\%},
%     ytick={0, 30, 60, 90, 120, 150},
%     yticklabels={0\%, 30\%, 60\%, 90\%, 120\%, 150\%},
%     % xticklabel style={rotate=30,yshift=-2mm,anchor=east,xshift=1.5mm},
%     % yticklabels={0 hr, 0.5 hr, 1 hr, 1.5 hr, 2.0 hr},
%     % extra y ticks={10, 20, 30, 40},
%     % extra y tick style={yticklabels={}},
%     ylabel shift=-2pt,
%     xlabel shift=-2pt,
%     xlabel style={yshift = 0.5ex},
%     ylabel style={yshift = -1ex},
%     legend style={
%         at={(-0.5, 1.1)},anchor=south west,column sep=2pt,
%         draw=black,fill=none,line width=.5pt,
%         /tikz/every even column/.append style={column sep=0.1pt},
%         font=\scriptsize
%     },
%     legend columns=3,
%     every axis/.append style={font=\footnotesize},
%     % ymajorgrids,
%     % yminorgrids,
%     minor grid style=lightgray,
%     % nodes near coords,
%     % every node near coord/.append style={font=\footnotesize,anchor=west,rotate=60}
% }}

% \pgfplotsset{timefig/.style={
%     width=58mm,
%     height=32mm,
%     xmin=10,
%     xmax=100,
%     ymin=0,
%     ymax=60,
%     xlabel=Number of Queries,
%     ylabel=Runtime (sec),
%     xlabel near ticks,
%     ylabel near ticks,
%     ylabel style={align=center},
%     xtick={0, 10, ..., 100},
%     % xticklabels={80\%, 85\%, 90\%, 95\%, 99\%, 99.5\%},
%     ytick={0, 10, ..., 60},
%     % yticklabels={0\%, 10\%, 20\%, 30\%},
%     % xticklabel style={rotate=30,yshift=-2mm,anchor=east,xshift=1.5mm},
%     % yticklabels={0 hr, 0.5 hr, 1 hr, 1.5 hr, 2.0 hr},
%     % extra y ticks={10, 20, 30, 40},
%     % extra y tick style={yticklabels={}},
%     ylabel shift=-2pt,
%     xlabel shift=-2pt,
%     legend style={
%         at={(0, 1)},anchor=south west,column sep=2pt,
%         draw=black,fill=none,line width=.5pt,
%         /tikz/every even column/.append style={column sep=5pt}
%     },
%     legend columns=4,
%     every axis/.append style={font=\footnotesize},
%     % ymajorgrids,
%     % yminorgrids,
%     minor grid style=lightgray,
%     % nodes near coords,
%     % every node near coord/.append style={font=\footnotesize,anchor=west,rotate=60}
% }}

% \begin{subfigure}[b]{0.48\linewidth}
% \centering
% \begin{tikzpicture}
% \begin{axis}[accfig,
% ylabel=Time (s),
% ymin=0,
% ymax=1600,
% ytick={400,800,1200,1600},
% yticklabels={400,800,1200,1600},
% xmin = 0.5,
% xmax=5.5,
% xtick={1, 2, 3, 4, 5},
% xticklabels={1, 2, 3, 4, 5},
% ymajorgrids,
%     ]

% \addplot[mark=star,mark size=1.5,mark options={fill=NoOptColor,draw=NoOptColor},
% very thick,draw=NoOptColor,
% ]
% table[x=x,y=y] {
% x y
% 1 1528
% 2 868.470
% 3 656.39
% 4 545.61
% 5 487.2
% };

% \addplot[mark=*,mark size=1.5,mark options={fill=SCColor,draw=SCColor},
% very thick,draw=SCColor,
% ]
% table[x=x,y=y] {
% x y
% 1 934.2
% 2 520.63
% 3 383.07
% 4 333.46
% 5 304.2
% };

% % \node[anchor=north west,draw=black,align=left] at (axis cs: 12,19) {dataset:\\ \dmv};
% \addlegendentry{No Opt}
% \addlegendentry{\system (1.6$\%$ extra memory)}

% \end{axis}
% \end{tikzpicture}

% \vspace{-3mm}
% \caption{\tpcds}
% \label{fig:distributed_a}
% \end{subfigure}
% \hfill
% \begin{subfigure}[b]{0.48\linewidth}
% \centering
% \begin{tikzpicture}
% \begin{axis}[accfig,
% ylabel=Time (s),
% ymin=0,
% ymax=800,
% ytick={200,400,600,800},
% yticklabels={200,400,600,800},
% xmin = 0.5,
% xmax=5.5,
% xtick={1, 2, 3, 4, 5},
% xticklabels={1, 2, 3, 4, 5},
% ymajorgrids,
%     ]

% \addplot[mark=star,mark size=2,mark options={fill=NoOptColor,draw=NoOptColor},
% very thick,draw=NoOptColor,
% ]
% table[x=x,y=y] {
% x y
% 1 700
% 2 428.26
% 3 327.63
% 4 293.91
% 5 270.96
% };

% \addplot[mark=*,mark size=1.5,mark options={fill=SCColor,draw=SCColor},
% very thick,draw=SCColor,
% ]
% table[x=x,y=y] {
% x y
% 1 170
% 2 107.49
% 3 90.9
% 4 87.4
% 5 89.6
% };

% % \node[anchor=north west,draw=black,align=left] at (axis cs: 12,19) {dataset:\\ \dmv};

% \end{axis}
% \end{tikzpicture}

% \vspace{-3mm}
% \caption{\tpcdsdate}
% \label{fig:distributed_b}
% \end{subfigure}

% \vspace{1mm}
% \caption{
% Scaling \system's optimization to cluster DBs with multiple nodes on the 100GB datasets. \system's extra memory is set to 1.6$\%$ dataset size.
% }
% \vspace{-4mm}
% % The top row is for the \dmv dataset; the bottom row is for the \insta dataset.
% \label{fig:distributed}
% \end{figure}
\begin{table}[t]
\caption{Effect of \system's optimization in DB clusters on the 100GB \tpcds dataset with 1.6$\%$ \memory.}
\addtolength{\tabcolsep}{-0.5pt} 
% \begin{tabularx}{\columnwidth}{lllllll}
% \toprule
% Dataset & Runtime(s) & 1 node & 2 nodes & 3 nodes & 4 nodes & 5 nodes \\
% \midrule
% & No opt     & 1528 & 868 & 656 & 546 & 487             \\
% \tpcds & \system     & 934 & 521       & 383 & 333 & 304           \\
%  & Speedup    & 1.63$\times$ & 1.67$\times$       & 1.71$\times$ & 1.64$\times$ & 1.60$\times$    \\
% \midrule
%  & No opt     & 700 & 428       & 327 & 294 & 271       \\
% \tpcdsdate & \system     & 170 & 107       & 90 & 87 & 89  \\
%  & Speedup     & 4.12$\times$ & 4.00$\times$       & 3.63$\times$ & 3.38$\times$ & 3.04$\times$           \\
% \bottomrule
% \end{tabularx}
\begin{tabularx}{\columnwidth}{llllll}
\toprule
Metric & 1 node & 2 nodes & 3 nodes & 4 nodes & 5 nodes \\
\midrule
No opt runtime (s)     & 1528 & 868 & 656 & 546 & 487             \\
\system runtime (s)     & 934 & 521       & 383 & 333 & 304           \\
 Speedup    & 1.63$\times$ & 1.67$\times$       & 1.71$\times$ & 1.64$\times$ & 1.60$\times$    \\
\bottomrule
\end{tabularx}
\addtolength{\tabcolsep}{0.5pt}
\vspace{-2mm}
\label{tbl:distributed}
\end{table}