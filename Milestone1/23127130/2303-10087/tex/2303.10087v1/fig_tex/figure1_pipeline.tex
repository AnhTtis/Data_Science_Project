\begin{figure*}[ht]
    \centering
    \includegraphics[width=.92\linewidth]{pdf/pipeline.pdf}
    \caption{\textbf{Illustration of the pose refinement pipeline.} The query image is processed by a pose estimator $\mathcal{F}$, typically an absolute pose regressor, to obtain a coarse camera pose $\hat{P}$. Our novel feature synthesizer $\mathcal{N}$ renders a dense feature map $f^{rend}$ based on $\hat{P}$. Simultaneously, the feature extractor $\mathcal{G}$ extracts the feature map $f^{G}$ from the query image. We then compute the feature-metric error between $f^{rend}$ and $f^{G}$, denoted as $\mathcal{L}_{feature}$. This error is backpropagated to update either the parameters of $\mathcal{F}$ or the coarse pose $\hat{P}$ directly.}
    % \cs{potentially remove update P?}~
    %\YB{Need to change $f^{1}$,$f^{2}$ to $f^{rend}$,$f^{G}$ to be consistent with Section 3.1}}
    \label{fig:pipeline}
\end{figure*}