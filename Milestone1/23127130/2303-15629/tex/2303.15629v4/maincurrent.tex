\documentclass[a4paper, 12pt]{article} %{{{

% \usepackage{lineno}
% \linenumbers
\usepackage{dcolumn}
\usepackage[margin=1in]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{authblk}
% \usepackage[flushleft]{threeparttable}

%----Helper code for dealing with external references----
% (by cyberSingularity at http://tex.stackexchange.com/a/69832/226)

\usepackage[style=nature,backend=biber,sortcites=true]{biblatex}
\addbibresource{maincurrent.bib}
% Ignore irrelevant biblatex fields
\AtEveryBibitem{%
 \clearfield{url}%
 \clearfield{month}%
 \clearfield{issn}%
 \clearfield{doi}%%
 \clearfield{address}%%
}


\newcommand{\beginsupplement}{%
        \setcounter{table}{0}
        \renewcommand{\thetable}{S\arabic{table}}%
        \setcounter{figure}{0}
        \renewcommand{\thefigure}{S\arabic{figure}}%
     }

\usepackage{xcite}
% \usepackage{xr}
% \makeatletter

% \newcommand*{\addFileDependency}[1]{% argument=file name and extension
% \typeout{(#1)}% latexmk will find this if $recorder=0
% % however, in that case, it will ignore #1 if it is a .aux or 
% % .pdf file etc and it exists! If it doesn't exist, it will appear 
% % in the list of dependents regardless)
% %
% % Write the following if you want it to appear in \listfiles 
% % --- although not really necessary and latexmk doesn't use this
% %
% \@addtofilelist{#1}
% %
% % latexmk will find this message if #1 doesn't exist (yet)
% \IfFileExists{#1}{}{\typeout{No file #1.}}
% }\makeatother

% \newcommand*{\myexternaldocument}[1]{%
% \externaldocument{#1}%
% \addFileDependency{#1.tex}%
% \addFileDependency{#1.aux}%
% }
% %------------End of helper code--------------

% % put all the external documents here!
% \myexternaldocument{supplement}

% Math
\usepackage{longtable} %% for long tables
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{newtxmath}
\DeclareMathAlphabet{\mathpzc}{T1}{pzc}{m}{it}
\DeclareMathOperator*{\argmin}{\arg\!\min}
\DeclareMathOperator*{\argmax}{\arg\!\max}
\usepackage{bm}
\def\tnull{{\text{null}}}
\def\vec#1{{\bm #1}}
\def\mat#1{\mathbf{#1}}

% Figure and table captions
\usepackage[labelfont=bf]{caption}
\captionsetup{font=footnotesize}
\usepackage{floatrow}
\floatsetup[table]{capposition=top}



\newcommand{\secref}[1]{Section~\ref{sec:#1}}
\newcommand{\figref}[1]{Fig.~\ref{fig:#1}}
\newcommand{\tabref}[1]{Table~\ref{tab:#1}}
\newcommand{\todo}[1]{{\leavevmode\color{orange}[TODO: #1]}}

% abbreviations
\def\etal{\emph{et~al}.\ }
\def\eg{e.g.,~} 
\def\ie{i.e.,~}
\def\cf{cf.\ }
\def\viz{viz.\ }
\def\vs{vs.\ }


% Comments
\usepackage[dvipsnames]{xcolor}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\newcommand{\editHY}[1]{{\textcolor{dkgreen}{#1}}}
\newcommand{\noteHY}[1]{\textbf{\textcolor{dkgreen}{{\scriptsize{HY:}}#1}}}

\usepackage{xurl}
\usepackage[utf8]{inputenc}
\usepackage{changepage}

% % Figure caption
% \usepackage{setspace}
% \usepackage[font=small,labelfont=bf]{caption}
% \captionsetup[subfigure]{font={bf,small}, skip=1pt, singlelinecheck=false}

\newenvironment{sciabstract}{%
\begin{quote} \bf}
{\end{quote}}


\renewcommand\Authfont{\fontsize{15}{14.4}\selectfont}
\renewcommand\Affilfont{\fontsize{10}{9}\itshape}

% \newcommand{\figdir}{figs}
% \newcommand{\tabdir}{tabs}


\title{
   Nested Skills in Labor Ecosystems: A Hidden Dimension of Human Capital
}
% The Anatomy of Human Capital: understanding the dependency structure of skills
% The skill anatomy of human capital: understanding the dependency structure of skills
% Skill hierarchies - from human capital specificity to nestedness
% Skill hierarchies: seeing human capital through the lens of directed networks
% Skill hierarchies: understanding the dependency structure in human capability
% Bearing on Common Roots:  On the Shoulders of the Common: ...
%Unveiling the Nested Structure: A New Perspective on Skill Dependencies in Labor Ecosystems.
%"Nested Structures in Skill Landscapes: Unveiling the Hidden Complexity of Labor Ecosystems."
%Hidden Dimension to Labor Ecosystems: understanding the nested dependency in skill structures
%"Nested Hierarchies in Skills: Revealing Hidden Aspects of Labor Ecosystems."
%"Nested Dependencies in Labor Ecosystems: Unraveling the Hidden Layers of Skill Structures."
%"Human Capital Unpacked: Exploring the Nested Dependencies in Labor Skill Structures."
%"The Hidden Architecture of Labor: Understanding Nested Dependencies in Skill Structures."
%"Skills and Dependencies: Revealing Hidden Dimensions of Labor Ecosystems."
%"Beyond the Visible: Understanding Nested Skill Structures in the Labor Market."
% ``Hidden Dimension to Labor Ecosystems: understanding the nested dependency in skill structures''
%"Unraveling the Nested Structure of Skills: A New Perspective on Human Capital"
% Mind skill-gap
% "The Hidden Layers of Human Capital: Unpacking the Nested Structure of Skills"
% The Anatomy of Human Capital: understanding the dependency structure of skills
% The skill anatomy of human capital: understanding the dependency structure of skills
% Skill hierarchies - from human capital specificity to nestedness

% suggested reviewers
% Balazs Lengyel, Christopher Esposito, Lingfei Wu, James McNerney; Muhammed Yildirim; 
 

\author[1,2,3]{Moh Hosseinioun}
\author[4]{Frank Neffke}
\author[5]{Letian (LT) Zhang}
\author[1,2,6]{Hyejin Youn \thanks{Correspondence can be sent to hyejin.youn@kellogg.northwestern.edu.}}


\affil[1]{Kellogg School of Management, Northwestern University, Evanston, IL, USA}
\affil[2]{Northwestern Institute on Complex Systems, Evanston, IL, USA}
\affil[3]{Department of Information and Decision Sciences, University of Illinois, Chicago, IL, USA}
\affil[4]{Complexity Science Hub Vienna, Vienna, Austria}
\affil[5]{Harvard Business School, Harvard University, Cambridge, MA, USA}
\affil[6]{Santa Fe Institute, Santa Fe, NM, USA}

\date{\today}



\begin{document}

\maketitle
\thispagestyle{empty}


\vspace{-0.5cm}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Below is the 150-word abstract (250 is left in the main) %%%%
% Modern economies operate through globally interconnected networks. As economies become more complex, so do these networks, coordinating increasingly diverse portfolios of specialized efforts and knowledge. Here, we infer an interdependency tree underlying the fabric of skill portfolios. Hierarchically constructed, this skill tree starts from widely needed, foundational abilities, constituting the root, and extends to highly specialized, niche skills required by select jobs at the extremities. The directionality is defined by the asymmetrical conditional probabilities of the presence of one skill given the existence of another. Examining 70 million job transitions, we observe individuals tend to delve deeper into these nested specialization paths as they ascend the career ladder to enjoy higher wage premiums.  Nevertheless, the role of foundational skills for such ascent remains pivotal; without reinforcing them, the anticipated wage premiums may vanish, suggesting the critical role of foundational skills for specialization, and the need for balanced skill development strategies in complex economies. We differentiate 'nested' skills, building on common prerequisites, from others, to examine their disparities across regions and demographic groups as to wage premiums. Our temporal analyses reveal a growing fragmentation between these skill groups over the past decades, suggesting further job polarization.  
%%%% Above is the 150-word abstract (250 is left in the main) %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%      Below is the 250-word abstract                      %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{abstract} \label{sec: abstract}
%Modern economies generate immensely diverse complex goods and services through coordinating our efforts and know-how in densely interwoven networks that span across the globe. As these economies grow increasingly complex, participation in these networks grows more intricate and requires an increasingly specialized skill portfolio. With the ever-increasing complexity of these economies, these networks grow more intricate and demand an ever-expanding portfolio of specialized skills. 
%Modern economies generate a vast array of goods and services through complex, globally interdependent networks of coordinated efforts and specialized knowledge. As these economies become more complex, so do the networks, necessitating a more diverse set of specialized skills for participants to acquire.
%Modern economies, characterized by their vast output of goods and services, operate through globally interconnected networks that coordinate efforts and specialized knowledge. As economies become more complex, so do these networks, necessitating an increasingly diverse portfolio of specialized skills for network participants.
Modern economies, characterized by their vast output of goods and services, operate through globally interconnected networks. 
As economies become more complex, so do these networks, coordinating increasingly diverse portfolios of specialized efforts and knowledge. 
In this study, we analyze U.S. survey data (2005--2019) to infer an underlying interdependency tree within the fabric of skill portfolios. Hierarchically constructed, this skill tree starts from widely needed, foundational abilities, constituting the root, and extends to highly specialized, niche skills required by select jobs at the extremities. 
The directionality is defined by the asymmetrical conditional probabilities of the presence of one skill given the existence of another. 
Examining 70 million job transitions in resumes and national surveys, we observe that individuals tend to delve deeper into these nested specialization paths as they ascend the career ladder to enjoy higher wage premiums.  
Nevertheless, we find the role of foundational skills for such ascent remains pivotal; without reinforcing them, the anticipated wage premiums may vanish. 
Hence, we further differentiate \textit{nested} skills from others, with the former building on common prerequisites while the latter does not, 
and analyze disparities in these skill gaps across different genders and racial/ethnic groups. Our analysis reveals a growing and concerning fragmentation in the divide between these two skill groups over the past two decades, suggesting further polarization within the job landscape \cite{Autor2013}.
Our findings highlight the critical role of robust foundational skills as a stepping stone to specialization and the economic advantages it can confer, reinforcing the need for balanced skill development strategies in complex economies \cite{Althobaiti2022}.
%Our findings underscore the importance of a strong foundation of general skills, which are essential for specialization and the subsequent rewards it can offer.
%ones hovering on their own and lacking the foundational roots for wage premiums, and we find this divide has not only grown but also has alarmingly fragmented over two decades, potentially pointing to job market polarization. 
%%----------------------------------------------------------------------------%%
\end{abstract}
\newpage
\pagenumbering{arabic}


\section*{Introduction}
 
%  Modern economies, marked by complexity and specialization, have been on an exponential growth trajectory ever since the dawn of the first stone tool. Instead, it requires globally coordinated networks of specialized individual expertise and effort. 
% Frank_neffke's: I added references to Henrich, Boyd/Richerson, and Turchi, all about the rise of complex societies, but in the literature on cultural evolution. The division of labor argument is made by Boyd/Richersen and Henrich. For Turchin, dol is not a big deal, although he mentions it. I think we can drop him. Still, he does argue that societies are becoming more and more complex. As to reference, There is probably a better citation in the complexity literature here. This paper is a model of trade that follows an O-ring structure, meaning that the more complex the product becomes, the higher the quality of the participants in the value chain has to become to avoid failure.
% This daunting complexity isn't a recent phenomenon. 
%Everyday items like toasters or smartphones perfectly illustrate this paradigm shift. 
% This paradigm shift is exemplified by everyday items such as smartphones, toasters, and even pencils. The assembly of an iPhone, for instance, engages over 200 suppliers, each with its own workforce \cite{Barboza2016}. 
% Likewise, the Toaster Project vividly demonstrates the limitations faced by an individual when tasked with building a simple toaster from scratch in today's economy \cite{Thwaites}. 
% Indeed, as far back as 1958, the humble pencil served as a powerful testament to the intricate interdependence of global manufacturers in the creation of even the simplest items \cite{Read1958, Dubner2016}. 
% From the time humans shaped the first stone tool, the growth in technological complexity has snowballed to the point where creating and maintaining societal artifacts no longer rests within individual capabilities.
%in expansive, complex global production networks \cite{BenJ2009, Wuchty2007, BeckerG.S1992TDoL, McNerney2022, Azoulay2020, Matouschek2022,Pichler2023, VanderWouden2023}.
%As society evolves, producing and maintaining increasingly sophisticated goods, services, and infrastructure, it is no longer feasible for one to become a universal mastery across all domains to cater to these complex needs as a whole 
% interlocking supply chains. Major manufacturing firms, such as Airbus or GE, depend on production ecosystems.

Complexity and specialization are foundational to the narrative of economic growth and innovation \cite{Carneiro1986, henrich2015secret, richerson1999complex, MitchellMelanie2009}. As society advances, creating and maintaining sophisticated goods, services, and infrastructure, these socio-economic complexities have surpassed what individuals can embody and manage on their own \cite{BenJ2009, Gamble2002}. It is no longer feasible for individuals to master universal expertise across all areas. For economies, this means developing deep divisions of labor and knowledge that first distribute knowledge across people and then coordinate this distributed knowledge in teams, firms, and value chains \cite{BeckerG.S1992TDoL, Hidalgo2015, Azoulay2020, Pichler2023}.  For individuals, this means specializing, and deciding which skills to acquire over long educational and work trajectories has become increasingly important \cite{Acemoglu2020}. As such, human capital is far from an isolated entity but an interdependent ecosystem of skills and knowledge in economies.

This leads to research questions: What does the structure of these interdependencies look like? And, more importantly, what implications does this nested structure carry? Division of labor, division of knowledge, and the existence of such an interdependency web are not in doubt as they manifest in education and career paths in a way we experience every day, shaping social and economic systems \cite{Autor2013, SchwabeHenrik2020Awsa}. However, though the framework may seem intuitive, it is essential to note that the hierarchical layout of skills reflected in job roles has often been assumed rather than empirically evidenced.

Emerging research aimed at understanding the network architecture of human capital has yielded insights into the detailed tasks that individuals perform at work and the skills they require to do so \cite{AndersonKatharineA2017Snam, Borner2018, Alabdulkareem2018, Xu2021, Lin2022, Neffkeeaax3370, DelRio-Chanona2021, Frank2019, Moro2021}. Nevertheless, a granular understanding of workers' skill trajectories and their resulting impacts on individuals remains an ongoing area of exploration. Furthermore, these frameworks aim to capture complementarities or synergies between capabilities, knowledge, and skills \cite{AndersonKatharineA2017Snam, Alabdulkareem2018, Neffkeeaax3370, gomez2016explaining, hidalgo2018principle}. That is, jobs combine skills that complement one another. We contribute to these ongoing efforts by constructing a directed skill network that expresses how skills build or depend on one another, conceptualizing trajectories with conditional probability. 


In this paper, we propose that the skill composition of jobs not only reflects complementarities but also the innate cognitive constraints of how individuals learn. That is, jobs not only combine synergistic skills but also skills that build on one another. This aligns with an understanding of skill acquisition as a cumulative, sequential trajectory that builds pyramidal skill structures where higher-level skills are nested in most basic layers of expertise \cite{WilkSteffanieL1995GtJC}. Students are taught calculus only after they have mastered the basics of algebra and geometry. We infer such dependencies by analyzing how skills co-occur in jobs and the construction of asymmetric skill networks in which the directed arrows describe skill dependencies.


These dependencies turn out to integrate one of the core concepts of traditional human capital theory into the network-based complexity approach: human capital specificity. Since its inception, the distinction between general and specific skills has been a hallmark of human capital theory, explaining why market economies typically underinvest in general skills \cite{becker2009human}, why acquiring specific skills creates hold-up problems \cite{williamson2007economic}, and why workers often face earning losses when they are displaced from their jobs \cite{jacobson1993earnings}. However, this distinction also matters because general skills constitute a foundational layer in an individual's human capital, on top of which more specific skills can be developed. Just like the way mastering calculus requires a prior understanding of algebra and geometry, these education and career paths are both sequential and cumulative, building on each other, and thus create a high-dimensional space of possibilities for job opportunities \cite{WilkSteffanieL1995GtJC, Jovanovic1997}.

The sequential nature of skill trajectories has important implications for professional development and, therewith, socio-economic outcomes because they mean that certain career paths are only feasible after prior investment in foundational skills \cite{heckman2011economics, Autor2013, SchwabeHenrik2020Awsa, NelsonDylan2022, Goldin2008, Azoulay2021}. 
As a consequence, specialization entails not just an increase in the volume of learning and investments in education and training \cite{BenJ2009} but also the existence of structured, sequential, and nested cumulative paths that can either enable or restrict specific career trajectories. These structured pathways systematically shape professional development and thus the socio-economic landscape at large, leading not only to differential rewards but also differential accessibility and feasibility of career options based on earlier choices \cite{Autor2013, SchwabeHenrik2020Awsa, NelsonDylan2022, Goldin2008, Azoulay2021}. Thus, to succeed in this complex environment, individuals must acquire the right set of skills, knowledge, and abilities \cite{Mincer1974, Becker1962, Lucas1988, Neffke2013, Neffkeeaax3370, Stephany2024, Jovanovic1997}. Yet, the most sought-after skills in today's economic and social sphere are often not readily accessible but are instead nested within specific domains, requiring a progressive accumulation of knowledge and expertise to unlock.


In this paper, we show that this hierarchical network yields a description of human capital that not only recovers broad, well-established job categories but also helps predict career transitions and wage curves. To do that, we analyze skill portfolios and their underlying structures using publicly accessible national surveys complemented by a proprietary dataset. We differentiate specialized skills, those required by select occupations, from general skills, those widely required across occupations (Fig.~\ref{fig:Figure 1}). We then construct a nested hierarchical structure of skill dependencies, employing conditional probabilities of the presence of one skill given the existence of another in occupations \cite{Jo2020}. Our method reveals that not every skill is embedded in a nested structure, resulting in a partially nested hierarchical structure among skills (Fig.~\ref{fig:Figure 2}). Therefore, we quantify each skill's contribution to the overall nested architecture of the network and find that skills contributing significantly to the nested architecture are rewarded most (Fig.~\ref{fig:nestedness}), echoing the nesting nature of economic complexity \cite{Hidalgo2009, Saavedra2011}.
 
By examining three different datasets (median occupational ages, synthetic birth cohorts of individuals, and 70 million job transitions in resumes), we uncover that nested branches are evidence of specialization and career advancement. That is, as individuals progress up the career ladder, they need to acquire and apply skills on nested specialization branches (Fig.~\ref{fig:age}).  
Moreover, we find most of the wage premiums for these nested specializations are conditional on foundational, general prerequisite skills they are nested in, unlike unnested specializations without prerequisite skills (Fig.~\ref{fig:wage curves}). 
This pattern suggests deeply rooted structural disparities in race/ethnicity and gender (Fig.~\ref{fig:Figure 7}). 
Finally, we examine structural changes in the skill network over time and find a wider gap between nested and unnested branches, suggesting potential barriers to upward mobility (Fig.~\ref{fig:historical skill change}). 

Structural properties of skill nestedness in human capital can provide actionable insights. The methodologies we employ introduce a scalable metric for skill categorization, enabling our analysis to extend to more granular levels. The nestedness metric effectively captures shifts in dependency intensity, providing a nuanced view of labor market polarization. As data on workplace skills, knowledge, capabilities, and tasks become increasingly granular, our approach extends to analyzing skills at finer resolutions, evaluating their diverse contributions to nestedness. This capability to identify changes in skill requirements across occupations complements the traditional context-informed categories, which may not adjust as readily to these changes; the flexibility and adaptability of our framework are useful for understanding the evolving landscape of skills and its impact on career development and socio-economic disparities. As the labor market continues to evolve, with new skills emerging and older ones becoming obsolete, our model acts as a comprehensive and dynamic tool for tracking these shifts and their wider implications.
%\cite{AndersonKatharineA2017Snam,Neffkeeaax3370}, the impact of automation on the world of work \cite{Alabdulkareem2018} and the role of complementarity in teams of coworkers \cite{Neffkeeaax3370}.

%% directionality of investment in skills and path-dependence shows up in Arrow's Limit of Organization
% The existence of such an interdependency web is not in doubt as it manifests in education and career paths and thus shapes the social and economic systems \cite{Autor2013, SchwabeHenrik2020Awsa}.
% Unlike the latter, the former is perhaps not the kind of division of labor that Adam Smith envisioned \cite{smith1937wealth}.
%Sometimes, we have to acquire long training to get to be able to do (nested), and sometimes we are naturally capable of it. What does the structure of those look like, and what's the implication of the structure? 
%Alternative: Since the division of labor by adam smith and Alfred Marshall, tasks are divided such as to increase productivity. But what Adam Smith and Marshal did not know was the complexity also increases not only the division of labor but also the division of knowledge to share the needed functions with many different people. Toyota example?
% Unlike the first concept of division of labor, where tasks are divided in a way to be performed by anyone substitutable, even children (ref: children labor), there have been many skills and knowledge needed for jobs that need a long training. This begs the question: which skills are "nested" and which skills are not nested, and how hierarchically are they structured? 
% The directionality of skill interdependence is not only in the educational curricula but also in carrier paths.
%There is little doubt that such a structure is also influenced by external forces

% The recent studies uncovered network structure explaining fragmentation and job mobility \cite{Alabdulkareem2018, Xu2021, Lin2022, Neffkeeaax3370, DelRio-Chanona2021}. 
%Therefore, a comprehensive skill structure disentangles mechanisms of specialty, in which knowledge and technological advances increase the investment necessary to contain the depth of knowledge in an individual \cite{BenJ2009}, and diversity, in which the increasingly complex economy \cite{Hidalgo2009, Hidalgo2015, MitchellMelanie2009} requires more diverse capabilities for a unit of economic activity.


%..... may include this later part... let me think .....
%  Recent work on skill-interdependencies has modeled the skill structure as a network of co-occurrences \cite{AndersonKatharineA2017Snam, Alabdulkareem2018, Xu2021, Lin2022, Neffkeeaax3370, DelRio-Chanona2021}.
% On one hand, the hierarchical structure is well known in explaining wage premiums and so on \cite{Mincer1974, Becker1962} 
%However, because the role of specialization and diversification in shaping skill co-occurrences is rarely teased out \cite{Neffkeeaax3370}, such networks miss the directionality of skill accumulation and how it is influenced by advances in knowledge and technology.
% For instance, one cannot explain why Programming is in one cluster and not the other beyond its pattern of bundling in occupations.
% Nor can we deduct the values of skills from the relationships or the structure of the network.
% Therefore, these networks cannot capture changes in the knowledge structure or inform policy, such as education, economic development, or worker reskilling.
% Focusing on a dichotomy of skill clusters, while these skill networks have predicted wage and education, they fail to incorporate specialization and diversification, which are pivotal attributes of skill evolution.
% Therefore, we expect the skill structure not only to branch off horizontally but also to grow vertically in depth [like a growing tree, where some skills act as the root and trunk, and further, smaller branches form].


\section*{Results}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/figNHB/Figure_1_-_Apr_15_2024.png}
    \caption{\textbf{Skill Level Distributions and Dependencies.}  
    \textbf{(a-c)} Average number of occupations requiring each skill level for the three groups (see SI Section \ref{supsec:skill clustering} for details.) 
    Skills are grouped based on their characteristic skill level distribution shapes, exemplified by the insets, and labeled as \textit{General} (31 skills), \textit{Intermediate} (43 skills), and \textit{Specific} (46 skills). The shapes indicate that Specific skills (blue) are needed only in a few jobs, while most jobs require high proficiency in General skills (red).  
    \textbf{(d)} Schematic illustrating our inference method for dependency between skill pairs using the asymmetric conditional probability of one skill being required given another. 
    For example, if requiring Math skills is more probable given the presence of Programming (compared to the reverse), we infer a directional dependency: Math $\rightarrow$ Programming, weighted by the level of asymmetry (see Methods). Similarly, Oral Expression $\rightarrow$ Negotiation, but Math $\not\rightarrow$ Dynamic Flexibility, as their presences are independent events, that is, $P(\text{Math}|\text{Dyn. Flex.}) = P(\text{Dyn. Flex.}|\text{Math})$.
    }
    \label{fig:Figure 1}
\end{figure*}



\subsection*{Skill Generality (Individual Occurrences)} \label{sec: skill hierarchy}

The distinction between general and specialized skills is widely acknowledged, but a systematic quantification of this divide has been lacking \cite{Becker1962, Poletaev2008, Gathmann2010, FergusonJohn-Paul2013, Leung2014, Merluzzi2016, Byun2018, Fini2022, Byun2023, RotundoMaria2004Svgs}. 
Therefore, our study starts with examining, quantifying and classifying the generality of skills based on their breadth of application across occupations, using publicly available survey data from the U.S. Bureau of Labor Statistics (BLS).
These surveys provide detailed observations on the job requirements for thousands of occupational titles, including the importance and required level of each skill, knowledge, or ability necessary for workers to perform their occupational tasks.


Figure~\ref{fig:Figure 1} illustrates the existence of skills with varying degrees of occupational demand, characterized by their level distribution shapes across occupations with broad versus narrow applications. 
Here, demand denotes the number of occupations requiring the skill at a given level, ranging from 0 to 7. Specialized skills, such as Fine Arts and Programming (blue), are required only by select occupations, often at high levels (6 or 7), but not across a broad range of occupations.  
This leads to a distribution shape that primarily peaks at the 0-1 levels with a long tail.
In contrast, skills considered general (red), such as Oral Expression and Critical Thinking, are widely needed at elevated levels, with distributions that peak at levels 3-4, indicating their general applicability across most jobs.

To systematically classify skills, we group them based on similar level distribution shapes, which we interpret as indicators of broad versus narrow utility of skills (See Methods).
Figure~\ref{fig:Figure 1}~(a-c) show distribution shapes for the resulting skill groups, calculated by averaging the number of occupations that require the given skill levels within each group, which sketches the distinct level profile curve of that skill group.
The inset examples demonstrate that some skills are specialized, meaning they are not widely required across occupations but are critically needed at high levels in specific job contexts. These skills are identified and grouped into the \textit{specific} skill set. In contrast, skills relevant to a wide spectrum of roles are labeled as the \textit{general} skill set.

These classifications, detailed in SI-Table \ref{tab:skill_groups}, align with our common understanding of general and specialized skill categories. 
Nevertheless, we ensure the robustness of our findings by testing our results against different group sizes and clustering algorithms (see SI Sec.~\ref{supsec:skill clustering}). 
In addition to the distribution-based approach, skill generality can also be measured by the median skill levels required across occupations. For example, the median level for general skills is 3.34, for intermediate skills, it is 2.37, and for specific skills, it is 0.87, reflecting the skewed shape of niche skills.
In the following, we additionally show that these generality measures are consistent with network-based measures of generality \cite{Mones2012}.
Throughout the paper, our results are color-coded for consistency: general (red), intermediary (gray), and specific skills (blue). 



\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/figNHB/Figure_2_-_Mar_12_2024.png}
    \caption{\textbf{Skill Dependency Hierarchy.} 
    \textbf{(a-b)} Dependency hierarchy is constructed from the aggregated weighted directions of all skill pairs. Node sizes are proportional to education levels and colored by the groups in Fig.~\ref{fig:Figure 1}.  
    A node's horizontal and vertical positions are, respectively, its educational attainment and local reaching centrality. 
    Defined as the proportion of the skills reachable from each node or the number of interdependent skills, the centrality is a reasonable indicator for skill generality \cite{Mones2012}. b shows the backbone of the network for better local visualization, while c shows the full network with normalized weights.
    % The vertical line at zero separates, hereafter, nested and unnested skills.     % \textbf{(c)} Nestedness scores of specific (blue) and intermediate skills (gray) and their associated education, and automation risk indexes (size) \cite{. 
    \textbf{(c-d)} Reachability (arrival probability) from each skill to Programming, Negotiation, and Repairing (highlighted) \cite{norris1998markov}. Dark hues indicate a higher likelihood of arriving at the focal skill (see Methods). Contrary to the well-nested Programming and Negotiation, Repairing does not predominantly rely on general skills, indicating its unnested nature. 
    }
    \label{fig:Figure 2}
\end{figure*}

\subsection*{Skill Hierarchy (interdependency)} 


The disparate skill level profiles captured by our empirical generality skill groups suggest a hierarchical structure among skills, with some serving as prerequisites for others. This hierarchy has been a longstanding topic of interest in fields such as labor economics, sociology, and management, but it has not been systematically analyzed   \cite{Becker1962, Neal1995, Parent2000, Poletaev2008, Gathmann2010, FergusonJohn-Paul2013, Leung2014, Merluzzi2016, Byun2018, Fini2022, Byun2023, Leahey2007, Teodoridis2018, Heiberger2021}. 
As such, we propose a method to quantify these relations by calculating how often occupations that require niche skills also require general skills and compare this to the inverse---how often needing general skills predicts the need for certain niche skills. If general skills are indeed prerequisites for niche skills, much like how most college curricula have fundamental courses preceding specialized ones, we should expect to find an asymmetry in these probabilities.

We operationalize the pairwise dependencies between skills using the information asymmetry in occupational skill requirements, following \cite{Jo2020}. The approach involves calculating the conditional probability of requiring one skill ($skill_A$) given the presence of another skill ($skill_B$), denoted as $p(skill_A | skill_B)$, and comparing it to the reverse probability, $p(skill_B | skill_A)$. This comparison allows us to assign directionality to the skill dependencies. If skill $A$ is contingent on skill $B$, meaning that the application or acquisition of skill $A$ is dependent on that of skill $B$, then $p(skill_A | skill_B)$ will be greater than $p(skill_B | skill_A)$.

In cases where skill $A$ and skill $B$ are independent events across occupations, the direction disappears as the conditional probabilities will be equal. This is because when two events are independent, $p(skill_A | skill_B)$ is expressed as $p(skill_A)p(skill_B)$, which is then the same as $p(skill_B | skill_A)$. Similarly, if two skills are rarely applied together within occupations, both base probabilities will be close to zero, $p(skill_A, skill_B) \simeq 0$, indicating no statistical dependency between them.
In both cases, co-occurrences are purely a result of their random independent events of either occupational need or individual workers' properties and, thus, not influenced by any underlying relationship. Therefore, an asymmetry in the conditional probabilities reveals how skill $A$ relies on skill $B$ for its application or acquisition, indicating the importance of the order in which skills are acquired or applied. 

It is important to acknowledge that this directionality does not provide a detailed understanding of the underlying process. The directionality could arise from the acquisition sequence, such as the learning process, or the requirement sequence through job seniority in organizations. What's happening at the individual worker level is inferred rather than directly measured in the current study because our empirical evidence is based on occupational attributes. 
Disentangling these factors would require more micro-level analyses, yet it is a promising avenue for future research. In this study, we focus on providing a phenomenological understanding of the structure of skill dependencies and their consequences for individuals.

Figure~\ref{fig:Figure 1}~(d) illustrates our inference method using select examples. Given the skill level distributions, the conditional probability of math skills given programming skills, $p(skill_{math} | skill_{prog})$, is higher than $p(skill_{prog} | skill_{math})$, resulting in the directional dependency $math \rightarrow programming$.
This direction is consistent with our common understanding and educational curriculum; to understand the complexity of a program, we need to have a minimum knowledge of math. The same holds true for Negotiation skills being conditional on Oral Expression. Moreover, developing and applying Math skills depends on advancements in Deductive and Inductive Reasoning, which are in the general group (red) of Fig~\ref{fig:Figure 1}~(c).
These create dependency branches, suggesting we will expect more than one depth to the hierarchical network.

These cross-group dependencies resemble biological mutualistic interactions where specialist species (i.e., niche skills) preferentially interact with generalists (i.e., general skills), suggesting a nested hierarchical skill integration \cite{Bascompte2003, Saavedra2011, Saavedra2009, Staniczenko2023}. However, the result is not always obvious; not every skill exhibits such dependency chains. Some specialized skills, like Dynamic Flexibility, may not be contingent on more general skills like mathematical prowess, which is again consistent with our common understanding. This can be calculated as $p(skill_{dyn.flx} | skill_{math})$ and $p(skill_{math} | skill_{dyn.flx})$. We find these two are independent events in which both expressions equal $p(skill_{dyn.flx}) p(skill_{math})$, resulting in no directional dependency in our methodological framework.

Figure \ref{fig:Figure 2}~(a) shows the backbone of the resulting hierarchical network obtained by aggregating the empirically derived dependencies across all skill pairs. The network extends from general to specialized skills, incorporating their directional dependencies (the full network is shown in Fig.~\ref{fig:Figure 2}~b).
Nodes are colored by generality group as in Fig.~\ref{fig:Figure 1} and positioned based on educational requirements (x-axis) and Local Reaching Centrality (y-axis), a measure of skill generality denoting the number of other skills reachable from the focal skill \cite{Mones2012}. 
The network reveals distinct specialization paths and a partially nested architecture. Methods and SI Sec.~\ref{supsec:conditional dependencies} provide detailed parameters for statistical filterings and the threshold for directionality and backbone structure for Fig.~\ref{fig:Figure 2}.

Constructing a network structure from these conditional directions provides a methodologically consistent definition of general and specific skills using reaching centrality \cite{Mones2012} as an alternative measure for generality, as this can reflect the mass of interdependent nodes on the focal node (0.71 correlated). 
Chains of dependencies for select examples are also well embedded as expected, such as Deductive Reasoning to Math skills to Programming, exemplifying the nesting of skills in the skill hierarchy. Negotiation has a different set of dependencies compared to Programming, including Systems Analysis.
Supplementary Information Secs.~\ref{supsec:RN vs. NP} and \ref{supsec:hispanic skill entrapment} offer brief case studies highlighting the role of dependency chains in career progress and specialization.
Finally, we include the fully labeled visualizations of Fig.~\ref{fig:Figure 2}~(a-b) in SI Figs.~\ref{fig:figure_2b_labeled} and \ref{fig:full_figure_2b_labeled} for further examinations.
% In addition, SI-Sec.~\ref{supsec:conditional dependencies} includes the correlation between the two measures, as high as 0.71, as well as correlations among variables and additional statistical tests.

%  (1) rank skills by its average mean and median? (2) calculate a correlation with centrality (basically y-axis in Fig 2). This should give us very high correlation score (3) average of average means (and medians) within each group (general, intermediate, and specific)."Correlations (I will fill in the main text):
%average and median level: 0.98
%average level and LRC: 0.71
%median level and LRC: 0.70
%Group level info:
%Skill Groups Mean of Average Levels Mean of Median Levels Mean of LRC
%1      General               3.343942             3.3552941  0.38189874
%2 Intermediate               2.371088             2.3727907  0.10813977
%3     Specific               1.135680             0.8747436  0.04179466

% Mathematics skill, using mathematics to solve problems, is demanded across the economy, while Mathematical Reasoning, defined as the ability to choose the right mathematical methods or formulas to solve a problem, is important to certain occupations and irrelevant to others. 
% As such, our results complement existing work that has found evidence of a spectrum of human capital specificity at the individual level, e.g., \cite{Becker1962, Gathmann2010, Poletaev2008, Gibbons2004}.
% In search of a more systematic view of returns to human capital, we further examine horizontal skill interdependence.
% This is motivated by the intuition that skills closely dependent on various fundamental levels may require longer trajectories, hence requiring higher investments and leading to higher economic returns, as a result, \cite{Mincer1974, Lucas1988, Becker1962, Schultz1961}.
% node size (ranging from less than high school to post-doctorate)

%The nested skill matrix indicates that the skill structure deviates from a pure nestedness shape (triangular) when entities are sorted based on the number of their interactions, leaving us with two subtypes, the nested and un-nested skills, whose groups are aligned with the left and the right branches in Fig 2 (b). 
%In the following sections, we differentiate nested from un-nested specific skills, with the former building on general skills while the latter do not exhibit this characteristic, and examine their implications for individuals' career development, wage premiums, and skill gaps across geographic locations, genders, and racial/ethnic groups.

\subsection*{Skill Nestedness Contributions} 

\begin{figure*}[!h]
    \centering
    \includegraphics[width=0.8\textwidth]{Nature_HB_2023/figNHB/Figure_Nc_Nestedness_colored_by_category_Mar12_2024_annotated.png}
    \caption{
    \textbf{Skill Nestedness Contributions Score.} Skills' nestedness score is highly indicative of their generality (a), risk of automation  (b), and their value (c-d). Skill Nestedness Contributions are measured following \cite{Saavedra2011}. Generality is measured by Local Reaching Centrality, as in Fig.~\ref{fig:Figure 2},
    Automation risk Index and Value for each skill is calculated, following \cite{Frey2017, Frank2019, Frank2022}.
    We divide skills into \textit{nested}, positive contributions, and \textit{un-nested}, negative contributions toward the nested skill structure.
    }
    \label{fig:nestedness}
\end{figure*}

Figure \ref{fig:Figure 2} also illustrates that the alignment of skills within a nested structure is not uniform. While some skills, such as Programming and Negotiation, seamlessly integrate with general skills in a nested pattern, others break from this arrangement, creating an uneven, tree-like hierarchy.  
This reveals a \textit{partially} nested architecture in human capital, indicating that specific skills don't consistently subordinate to general skills \cite{Saavedra2011, Baldwin2014}. 

To systematically quantify and differentiate these observations on skills, we introduce the ecological measure of nestedness and individual contribution scores where specialist species engage preferentially with generalists \cite{Bascompte2003}.  This analogy extends to the skill ecosystem, where general human capital forms the bedrock for the acquisition and application of more specialized skills \cite{Saavedra2011, Saavedra2009}. 
Therefore, we first measure an overarching nested structure in human capital $N$. There are a number of different ways to measure nested structures. We employ several measures commonly used in ecology, such as the overlap index ($N_c$), checkerboard score, Temperature, and NODF, to ensure the analysis withstands the test of different nestedness measurements \cite{Stone1990, Almeida-neto2008, write1992, write1992, Saavedra2011} (See SI Sec.~\ref{suppsec:nestedness} for the full analyses and robustness tests).

Next, we calculate a skill's nestedness contribution score $c_s$ to assess its alignment with the overarching nested structure $N$ \cite{Saavedra2011}. This score is derived by comparing the actual nestedness ($N$) with a null expectation where a focal node $s$ is randomly distributed across occupations without any underlying dependencies such as $p(A|B)$, which is expressed as $c_s = (N - <N_s^{\ast}> ) / {\sigma{N_s^{\ast}}}$. 
Here, $N$ denotes the empirically observed nestedness in our survey dataset, while $<N^{\ast}s>$ and $\sigma{N^{\ast}_s}$ are the average and expected standard deviation of the nestedness of the random condition, respectively \cite{Saavedra2011}.
We conduct 5,000 simulations for $<N^{\ast}s>$ and $\sigma{N^{\ast}_s}$. In each simulation, occupations using the focal skill $s$ are randomly selected, keeping the skill degree constant. This method allows us to maintain consistency with actually observed patterns of niche and general skills but destroy the dependencies such that we identify how dependencies positively/negatively contribute to the overarching nestedness structure. 


Skills with a high nestedness contribution ($c_s$) are foundational to a hierarchical framework of human capital, suggesting a systematic progression from general to specialized skills toward layered learning paths that demand lengthy mastery effort \cite{Saavedra2011, Hausmann2011}. 
Such a pattern suggests a complex process of human capital formation characterized by interdependent skill acquisition pathways. These pathways are possibly essential for the emergence of specialized skills. In addition, they have profound implications for wages and education and contribute to disparities in demographics and opportunities \cite{Autor2014}.


Figure \ref{fig:nestedness}~(a) shows that highly specialized skills (blue) do not contribute equally to the overall nested structure and are thus divided into those with negative and positive contributions. 
As expected from Fig.~\ref{fig:Figure 2}, skills like Programming exhibit a positive impact on nestedness, indicating a strong reliance on vertical dependencies within their application domains.
In contrast, skills like Repairing, which also belong to the group blue in Fig.~\ref{fig:Figure 1}, are not heavily dependent on such structured dependencies and are quantified as having a negative contribution to nestedness.


We corroborate these findings with simulations of arrival probability from each focal skill. 
Figure \ref{fig:Figure 2}~(d-f) highlights the distinct interaction patterns among two types of specific skills: those that are primarily nested under general skills, such as Programming or Negotiation, and those that primarily interact with other niche skills, such as Repairing. We calculate arrival probabilities to the focal skill nodes and color other nodes according to their arrival probabilities to the focal node (see Methods) \cite{norris1998markov}. 
Unlike the well-nested Programming and Negotiation skills, only a handful of other skills are relatively more easily reachable from Repairing than other skills, which are mostly in the same parts of the skill tree.


Figures \ref{fig:nestedness}~(b-d) demonstrate that the nestedness score, a structural attribute, can translated into socio-economic properties. These findings suggest that skills with high nestedness contributions are more likely to be associated with lower risks of automation and higher wages, as they are integral to a deeply interconnected structure that demands considerable investment for mastery \cite{Davidson1898book, Autor2003, Frey2017}. Such skills play a crucial role in creating a distinctively hierarchical human capital with vertically intricate dependencies, fostering specialized niches that potentially affect wages, education, and demographics. In contrast, skills with negative nestedness contributions, such as Repairing, do not exhibit the same level of dependence on structured hierarchies and may be more susceptible to automation and lower wages. This highlights the importance of considering not only the generality of skills but also their position within the skill hierarchy when assessing their socio-economic implications.

The relationship between nestedness contributions and socio-economic outcomes underscores the significance of the skill hierarchy in shaping the labor market. By understanding the structural properties of skills and their interdependencies, we can better predict the impact of technological change on different skill domains and inform policies aimed at promoting skill development and mitigating the risks of job displacement.

For the remainder of this paper, we simplify the exposition by defining skills according to their skill group and the sign of their nestedness score $c_s$. Skills with $c_s > 0$ are indexed as \textit{nested}, while those with $c_s < 0$ are considered \textit{un-nested} skills.
We continue to refer to general skills as such since all skills in that group have positive nested scores.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/figNHB/Figure_Age_-_Mar_14_2024.png}
    \caption{
    \textbf{Skill Compositions with Occupational Ages and Career Trajectory.}
    \textbf{(a-c)} Average skill levels of occupations (and 95\% confidence intervals), segmented by occupations' employees' median ages. Levels of general and nested skills rise with an occupation's median age, while unnested skills do not vary across median-age groups.
    \textbf{(d-f)} Average skill levels (and 95\% confidence intervals) against age in synthetic birth cohorts. The insets isolate cohorts born in 1967, whereas the main figures average across all cohorts. Notably, general and nested skills rise markedly until around age 30, with declining unnested skills. Moreover, gender gaps also become more pronounced around 30. 
    \textbf{(g-h)} Average skill levels (and 95\% confidence intervals) over identified job sequences as documented in resumes for general, nested, and unnested skills. 
    \textbf{(i)} Changes in skill levels in consecutive job transitions. Skill profiles are typically stabilized within the initial five jobs.  The grey triangles indicate bootstrapped results where the sequences of jobs are randomized.
    }
    \label{fig:age}
\end{figure*}
    % slopes: nested specific = 0.46 + 0.018 * age, R^2 = 0.031; un-nested specific = 1.3 - 0.01 * age, R^2 = 0.0045; residualized nested specific = 0.3 - 0.01 * age, R^2 = 0.018; residualized un-nested specific = -0.8 + 0.016 * age, R^2 = 0.0015;

%%%% DONT FORGET CORRELATION BETWEEN GENERAL and NESTED, and UNNESTED. 
%% Cor(General, nested specific) = 0.646
%% Cor(General, un-nested specific) = -0.379
%% Cor(nested specific, un-nested specific) = -0.095

% Such dynamics are driven by general skills being conditional on nested-specific skills.

%% i. career trajectory: BG and age & economic return
%The degree to which general versus specific skills play a role in many occupations acknowledges a longstanding debate in labor economics, sociology, and management \cite{Becker1962, Neal1995, Parent2000, Poletaev2008, Gathmann2010, FergusonJohn-Paul2013, Leung2014, Merluzzi2016, Byun2018, Fini2022, Byun2023, Leahey2007, Teodoridis2018, Heiberger2021}. 
% using DATA: https://www.bls.gov/cps/demographics.htm\#age} 
% the median age for each occupation in 2019
%  CPS has only 2 years of observation that is overwhelmed by short-term mobility and hence part-time jobs. 
% To the extent that such learning of skills correlates with age, controlling for the pre-requisite (i.e., general skills) should account for any relationship between%. However, the vice versa should not hold: controlling for the dependent (i.e., nested specific) skills should not eradicate the relationship between age and the pre-requisite (i.e., general) skills. The dependent (i.e., nested specific skills).
% However, apart from the challenges of obtaining individual skill data, information captured in intermediately used such sources, for instance, resumes, is likely biased towards reporting specific skills. 
%Include this in data section: Compared to the Current Population Survey, the Burning Glass data is more skewed (ref the paper Daehyun provided) 
% For each move, we link the source and destination occupations to skills from O*NET in 2019.
% we have cohorts born before 1980 but show all cohorts' skill compositions in the period of 1980 and 2022.
%\subsection*{Workplace skill acquisition through career trajectories}
%\subsection*{Occupational Skill Compositions in Career Trajectories}
\subsection*{Skill Categories in Career Trajectories}

In this section, we examine how the derived skill structure uncovers individual career trajectories through three empirical observations: median ages for occupations, synthesized birth cohorts from individual surveys, and job transitions in resumes. Each data source provides unique strengths and weaknesses, which, when combined, complement each other and sketch a coherent picture of career paths.  

We begin our analysis with occupational ages, as it is reasonable to expect progression and skill development to correlate closely with age due to the substantial investment of time and the dense set of prerequisites they demand \cite{Argote1990,Jovanovic1997,Nedelkoska2015}. 
Figure \ref{fig:age}~(a-c) shows the levels of general, nested, and unnested skills in occupations, segmented by their median ages, computed using the Current Population Survey (CPS) (see Methods).  
The outcomes align consistently with our predictions \cite{Jovanovic1997}. Occupations with median ages over 30 demand high levels of both general and nested skills, while unnested skills, supposedly lacking interdependencies, do not demonstrate any significant correlations with ages.

To examine if our results hold across career trajectories, we construct synthetic birth cohorts using the CPS microdata, which provides yearly repeated cross-sectional surveys but does not allow longitudinal tracing of respondents long enough for us to trace a few decades. Therefore, we connect snapshots of surveys through their birth years to mimic career trajectories   \cite{Acemoglu2011,Hermo2022}. 
For example, we construct a 1967 cohort for Fig.~\ref{fig:age}~(d-f), excluding observations of non-full-time respondents and those below age 17 or above 55. We then repeat this for different birth cohorts. 

Figures \ref{fig:age}~(d-f) show the skill composition of synthetic birth cohorts from 1980 to 2022, with insets for the 1967 cohort. Consistent with the findings in Fig.\ref{fig:age}~(a-c), age 30 emerges as a significant transition point. General and nested skills concurrently increase sharply until around 30, when unnested skills experience a moderate decrease. After the age of 30, the rise in overall skill levels stabilizes.

The advantage of the second dataset is the information on both the age and demographics of individuals, allowing us to decompose our findings by gender. 
Differentiating skill trends by gender uncovers a gap in specializations that emerges around 30. Men continue to grow their general and nested skills until their 50s, whereas for women, the increase in these skills hits a plateau in their early 30s, the typical age range for first-time mothers in the US.
Supplementary Information Secs.~\ref{supsec:Parenthood_Male_vs_Female} and \ref{supsec:female job sorting} further investigate the influence of parenthood on male and female workers by slicing data by those with and without children as well as the influence of sorting into jobs based on schedule and working hours, respectively. 
These findings are robust to conditioning out yearly economic conditions (SI Fig.~\ref{fig:individuals' age and skill - year effects}).
In the following sections and in Fig.~\ref{fig:Skill Age Gender Race Trends - year effects}, we offer more detailed breakdowns of these gender disparity trends with respect to race and ethnicity.
Notably, education does not fully account for the growth in skill documented by our analysis.
As SI Fig.~\ref{fig:individuals' age and skill and education} shows, the share of educational attendance is negligible after the age of 30, while skill growth continues. Similar patterns, in more modest magnitudes, emerge for workers with no more than high school diplomas (SI Fig.~\ref{fig:individuals' age and skill - no college}.)

Lastly, we complement our findings using resume datasets that record individual job transitions, encompassing over 70 million job transitions documented in over 20 million resumes. While these data provide a direct record of individual workers' job sequences, they are not publicly accessible, do not include age or gender information for detailed analyses, and are known for biased sampling, favoring more nested job roles. Hence, while valuable for corroborating previous findings, they cannot replace the previous datasets.

Figures \ref{fig:age}~(g-h) show the average skill levels required in job sequences held across career paths, and Fig.~\ref{fig:age}~(i)  displays changes in skill requirements for the $i$th job transition, $\Delta_i$, excluding job transitions within the same occupation ($\Delta_{i}= 0$).  
On aggregate, career journeys unfold with increasing stocks of both general and nested skills ($c_s > 0$), suggesting that nested specialization paths require simultaneous increases in nested specific skills along with their dependency skills.  In addition, we find skill portfolios typically stabilize within the first five job transitions ($\Delta_{i > 5} \approx 0$), and in the first three jobs ($i < 3$), nested skills require more general skills than later ($\Delta^{general}_{i < 3} \gg \Delta^{nested}_{i < 3}$), after which they become comparable ($\Delta^{general}_{i > 3} \approx \Delta^{nested}_{i > 3}$). 
The continued growth in general skills across career paths suggests that these skills need to be continuously enhanced regardless of career stage. As a benchmark, we create bootstrapped job sequences (gray marks around zero) that randomize the order of jobs as if there were no career development, confirming that the observed trends are indeed attributed to career developments (see SI Sec.~\ref{supsec: bootstrapping BG} for details).


To explore nested specialization, we choose registered nurses (RNs) and nurse practitioners (NPs) by analyzing resume data to understand how skill and wage differences manifest in career trajectories. 
Supplementary Information Fig.~\ref{fig:RN vs. NP} shows the additional skills (necessary to prescribe medicine and diagnostic tests) in higher-paying NP positions appear in nested paths with growth in both general and dependent niche skills such as medicine, therapy, biology, science, and chemistry (see SI-Sec.~\ref{supsec:RN vs. NP} for the detailed analysis).  
In addition, SI Sec.~\ref{supsec:hispanic skill entrapment} makes a case wherein insufficient levels of certain general skills preclude the development of the dependent niche skills, once again highlighting how our framework teases out pathways for developing human capital.


All three empirical observations consistently depict nested specializations (i.e., growth in both general and nested skills) throughout career trajectories, while unnested skills are left relatively underdeveloped. The resume analysis offers direct evidence of a recurring yet counterintuitive pattern: valuable specialization is not just about developing niche skills; it is conditional on advancing the required more general skills. 
This suggests that the conventional model, where basic general skills precede advanced specialized skills, is not entirely accurate. Instead, career paths tend to unfold with increasing emphasis on general skills and their dependent, nested skills. While research has emphasized the role of education, Fig.~\ref{fig:age} (and SI Figs.~\ref{fig:individuals' age and skill and education} and \ref{fig:individuals' age and skill - no college}) reveal that skill advancement continues long after the age of schooling, suggesting nested specialization pathways operate through but also beyond education \cite{Jovanovic1997, Mincer1974, Arrow1962, Lucas1988, Hermo2022}, challenging the commonly held role of education in developing human capital. 

One might argue that our findings are driven by management/administration jobs, which are typically undertaken later in careers with higher wages. 
To ensure they do not drive our findings, we repeated the entire analysis without these factors and found consistent results (see SI Sec.~\ref{sec:robustness check: no managers}). Also, we repeated the entire analysis, excluding social skills, and again
our results remained robust, suggesting that our findings are attributed to the intrinsic structure of skills rather than the influence of particular social skills or managerial jobs (see SI Sec.~\ref{sec:social skills} for the full analyses).
%In essence, individuals typically experience rapid growth in general skills, followed by nested specializations, as if they are prerequisites. 
%Although swiftly diminished, however, these nested specialization paths continue to involve a strengthening of their foundational, general skills. 


%% ESTABLISH INTERDEPENDENCE
% Establish the term nested specialization
%% Wage Results: Investment pays off...
% We supplement the above analysis with an explicit examination of how nested interdependencies correlate with education and influence the value of skills.
%These relationships are commonsense \cite{Alabdulkareem2018}: occupations that possess "valued" skills command higher premiums and require more education. The question is whether specific or general skills drive this pattern.    %in two setups: unconditional and when conditioned on general skills' endowment. Comparing the unconditional and conditional coefficients for nested specific skills shows that much of their association with education and wages is due to general skills.
% Accumulating absorptive capacity in one period will permit its more efficient accumulation in the next. By having already developed some absorptive capacity in a particular area, a firm may more readily accumulate what additional knowledge it needs in the subsequent periods in order to exploit any  critical external knowledge that may become available wage premiums and require more education. 
%We analyze the differential influence of skill categories on occupational wages and investments in education. 

%Moreover, the initial wage penalties for unnested specializations have turned into small positive wage premiums.  
%A closer look at Fig. \ref{fig:Wage} (a) provides insight into this non-trivial phenomenon. 
%Unlike the monotonic decline in educational level with unnested specializations, annual wages start rising again at very high levels of un-nested specific skills. This suggests that high-level specialization eventually provides benefits surpassing what broad skills and education can offer. 
%This observation is consistent with human capital theory \cite{Becker1962}. 
%Sailors, for instance, who command ships, have a greater level of unnested skills, both raw and residualized, thus earning more than those who load the ships.

%%---------------------------------------------------------------%%
\subsection*{Skill Categories and Wage Premiums} 

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/figNHB/Figure_-_Education_-_Wage_Figure_-_Apr_1_2024.png}
    \caption{\textbf{Skill Wage Premiums and Educational Requirements}. \textbf{(a)} Occupations' average annual wage and \textbf{(b)} required education levels plotted against skill levels (with 95\% confidence intervals), 
    and their respective slopes (blue bars) in \textbf{(c-d)}, and standard errors. 
    The substantial wage premiums and higher educational requirements associated with nested specializations much reduced (shaded bars) after controlling for general skill levels (insets), implying that the bulk of investments in and returns to specialization are conditional on the accumulation of general skills. The initial wage penalty for unnested specializations turns into a wage premium once general skill levels are controlled for.  
    % slops after scaling: wage = 4.5 + 0.19 * nested specific, R^2 = 0.38; wage = 4.9 - 0.084 * un-nested specific, R^2 = 0.12; wage = 4.8 - 0.0071 * residualized nested specific, R^2 = 0.00022; wage = 4.8 + 0.023 * residualized un-nested specific , R^2 = 0.0065;
    }
    \label{fig:Wage}
\end{figure*}



Figure~\ref{fig:Wage}~(a-b) supports our premise that nested specialization patterns are associated with wage premiums. In particular, we find that educational requirements and average annual wages tend to rise with rising requirements of nested skills in an occupation. However, a closer examination of the observed wage premiums for nested skills (blue bar) in Fig.~\ref{fig:Wage}~(c) reveals that such premiums almost fully disappear when we control for the occupation's general skill requirements (shaded bar). This suggests that general skills are integral to the deployment of nested skills. In contrast, unnested skills ($c_s < 0$) seem to be associated with wage penalties. However, controlling for general skill requirements now turns this penalty into a wage premium that is comparable in magnitude to the nested skill premium. This shows that unnested skills are also valued in the labor market. However, their wage premium is not immediately apparent because unnested skills tend to correlate with an \emph{absence} of general skills.   


Further analyses in SI Sec.~\ref{supsec: add - returns to skill} demonstrate that these results are robust to controlling for education, training, and workplace experience and hold across subsamples of major occupational groups. 
Again, the results are not driven by managerial occupations or social skills, usual suspect factors in wage premium (see the results in SI-Table \ref{tab:wage reg on skill endowment}, and SI Figs.~\ref{fig:SI_education_skill_level}-\ref{fig:SI_wage_skill_level},
\ref{fig:Figure 3 full | major occupation groups}, \ref{fig:returns_to_skills_hierachy_gen_dependence_cor_no_manager}, and \ref{fig:social skills}).  

% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=0.95\textwidth]{Nature_HB_2023/figNHB/Fig 6 - Jul 11 2023.png}
%     \caption{\textbf{Spatial Distribution of Skill Categories.}
%      \textbf{(a)} General, \textbf{(b)} Nested, and \textbf{(c)} Un-nested skill levels of each county's occupational composition, using their standard score (z-score) relative to the national level (see Methods). 
%      The most populated counties in each state are enclosed in a box, and the top five and bottom five U.S. counties are highlighted in italics.
%      There is a noticeable concentration of general and nested skills in densely populated areas, while rural areas demonstrate a higher level of un-nested skills.
%      \textbf{(d)} and \textbf{(e)} illustrate the average skill levels (and 95\% confidence intervals) of each skill category in relation to population size and manufacturing industries, respectively.}
%     \label{fig:Geography}
% \end{figure*}


%Moh Hosseinioun: To form confidence intervals, I took samples of 10% from the sub-population of interest (say, when comparing the gender gap: Asian female and Asian male) and recalculated the ratio of interest, for instance, log(wage Asian female)/log(wage Asian male).)  I repeated this sampling and calculation process 10,000 times to find the distribution of the estimated value. This way, we obtain the distribution of the measure of interest. The distribution gives us the values at 95 percentiles and, hence, the 95% confidence intervals.
%To do so, we rely on CPS microData between 1980 and 2022, deriving skill endowments across race/ethnicity (White, Black, Hispanic/Latinx, and White) and gender (Female and Male) groups for full-time employed workers in each skill category.
% You: Yes! But why do we need to take a log for a ratio? Can we just do (wage asian female)/(wage asian male)? instead of log (wage Asian female)/log (wage Asian male)?
% Moh Hosseinioun: for wages, I am not sure why even ratios are log(wage_x)/log(wage_y). This is the convention.


% Such skill gaps persist even though women (apart from Asians) report higher educational attainment.


%%---------------------------------------------------------------%%
\subsection*{Disparity in Demographic Groups}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/figNHB/Figure_7_-_Demographic_Ratios_-_log-y_-_Skills,_Education,_and_Wages_-_1980-2022_-_Jul_11_2023.png}
    \caption{\textbf{Skill Disparity in Demographic Distribution of race/ethnicity and gender}
    \textbf{(a)} The relative average skill level, education level, and weekly wages for Asian, Black, and Hispanic/Latinx workers compared to White workers (expressed as a ratio).
    \textbf{(b)} The relative average skill level, education level, and weekly wages for female workers compared to male workers. 95\% confidence intervals for each estimated ratio are calculated by bootstrapping subsamples (see Methods). These differentials are robust to measurement (SI Fig.~\ref{fig:Tong et al race gender skill distribution}), follow similar age trends seen in Fig.~\ref{fig:age}, and are robust to time-variant economic factors (Fig.~\ref{fig:Skill Age Gender Race Trends - year effects}.) SI Figs. \ref{fig:Temporal Race Gaps - Skills, Education, Wages} and \ref{fig:Temporal Gender Gaps - Skills, Education, Wages}, further show the gaps have narrowed over time.  
    } \label{fig:Figure 7} 
\end{figure*}


To gain a better understanding of the role that skill differences may play in labor market inequalities, we examine how skills vary across demographic groups. Figure \ref{fig:Figure 7}~(a) compares skill, education, and wage differences across race/ethnic groups against their White peers. The results, first of all, show large wage gaps between Black and Hispanic workers on the one hand and  Asian workers and the baseline of White workers on the other hand. These wage gaps are accompanied by employment in jobs with lower requirements of nested skills for Black and Hispanic workers. However, for Hispanic workers, there is another potentially important factor: elevated unnested skill requirements. 

We explore this further in a brief case study of how language-skill requirements may keep workers out of jobs that require certain nested skills (see Supplementary Information Sec.~\ref{supsec:hispanic skill entrapment}). To do so, we leverage the hierarchical nature of our skill network. This allows us to distinguish between nested skills that depend on (general) language skills and nested skills that don't. Within the group of Hispanic workers, we find particularly large gaps in language-dependent nested skills compared to other nested skills for workers who have recently moved to the US. Such workers may instead develop un-nested skills, leading to ``skill traps'' that are associated with long-run wage penalties (SI Fig.~\ref{fig:wage curves}). Taken together, these findings indicate that closing wage gaps for Black workers may require different solutions than for Hispanic workers. 

Figure \ref{fig:Figure 7}~(b) focuses on skill gaps between men and women across social groups. The most pronounced disparities exist in nested and unnested specializations. Except for in the Asian subsample, women tend to work in occupations that require higher levels of education and general skills than men. However, this does not translate into higher levels of nested skills, where women tend to fall behind men. These disparities are likely to contribute to the well-known gender wage gap we observe in the right-most panel. Encouragingly, this gap has narrowed over time, as demonstrated in SI Fig. \ref{fig:Temporal Gender Gaps - Skills, Education, Wages}. However, the disconnect between education and general skills on the one hand and wages and nested skills on the other is puzzling. 
Supplementary Information Sections \ref{supsec:Parenthood_Male_vs_Female} and \ref{supsec:female job sorting} probe deeper into these gender gaps. This analysis suggests that parenthood, as well as the fact that women often work in jobs with more regular and predictable work schedules, impact both wages and skill development \cite{Bertrand2009, Goldin2015, Canon2016}. In fact, whereas having children is associated with reduced general and nested skills for women, men with children tend to have higher levels of general and nested skills than men without children in the household. When it comes to work schedules, Similarly, we find that the association between gender and nested skill requirements at work is reduced by over a third when we control for irregular hours and overtime in an occupation. 

Finally, Section \ref{section: add - geographical distribution of skills} of the Supplementary Information studies the geographic distribution of skills, showing that general skills concentrate in densely populated urban areas. This finding is in line with prior work that highlights the diverse and complex economic activities that are found in large urban economies \cite{Youn2016, gomez2016explaining, Hong2020, Balland2020, Bettencourt2014, Gomez-Lievano2021}. Moreover, this greater concentration of general skills in large cities can account for about one-third of the well-established urban wage premium \cite{Glaeser2001}. 



In summary, the analysis of skill categories across demographic groups reveals a complex interplay between skills, education, and wages that leave an imprint on macro-level labor market disparities between societal groups. Although a deeper analysis of the causes and consequences of these disparities is beyond the scope of the current paper, our results highlight that analyzing skill gaps solely through the lens of educational attainment overlooks aspects of human capital that have an important impact on a variety of labor market disparities. Moreover, the complex interaction between wages and skill types suggests that considering such aspects may provide valuable insights for labor market policies: addressing long-lived disparities in the labor market may require targeted interventions that go beyond traditional educational programs and instead consider how different skill categories shape labor market outcomes.


\subsection*{Widening Gap in the Skill Structures}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/figNHB/Historical_Comparison_of_Skills_-_Jul_14_2023_+_arrows.png}
    \caption{\textbf{Historical Changes in the Skill Structure}
    \textbf{(a)} Distribution of skill levels for different skill groups in 2005 and 2019. The arrow indicates the shift in average skill levels from 2005 to 2019. Unlike the positive shifts in general skills, the shift in specific skills is not as noticeable.
    \textbf{(b)} Distribution of skill levels for nested and unnested skills in 2005 and 2019. The arrow shows the shift in average skill levels from 2005 to 2019. While nested skills follow the shift in general skills, the demand for unnested skills has decreased.
    \textbf{(c)} Comparison of skill hierarchy structures between 2005 and 2019. The changes in the structure of skill hierarchies over time highlight an increasing divide in the dependencies of nested and unnested skills and the widening gap between them.} 
    \label{fig:historical skill change}
\end{figure*}
% Nested jump: social scientists and economists  on the one hand, and Telemarketers and Technical Writers on the other hand? We can mention,  as a side note, the CEO and Human resource.
% Occupations of high nested/ and changed higher over the decade: Medical and Health Services Managers become more nested while Computer User Support Specialists become unnested.  Medical and Health Services Managers(nestedness change: 1.0278089) and Computer User Support Specialists (nestedness change: -0.9725729).

The historical changes in the skill structure, as shown in Figure \ref{fig:historical skill change}, raise concerns given the important roles that nested and unnested specializations play in career progression and demographic and regional disparities. These changes reignite the debate over the widening job polarization \cite{Autor2013, Alabdulkareem2018, Althobaiti2022}. 

Figure \ref{fig:historical skill change}~(a) indicates an increase in the demand for general skills, as evidenced by the shift from the dotted to the solid distribution. This increase in demand for general skills corresponds to higher wage premiums over the recent decade, suggesting that the economy has been rewarding workers with a broad set of skills (see SI Fig.~\ref{fig:Wage and education 2003}). However, the seemingly static distribution of specific skills masks underlying changes in the application of nested and unnested skills. As shown in Figure \ref{fig:historical skill change}(b), there has been a rise in the application of nested skills and a decline in the use of unnested skills between 2005 and 2019, reiterating the importance of considering skill interdependencies when analyzing changes in the skill structure. 

These changes have led to a more nested skill structure, as indicated by the decreased checkerboard score (from 438.67 to 356.4) and temperature (from 40.07 to 31.89), and increased NODF (from 39.06 to 41.72) and $N_c$ (from 573,873 to 651,030) between 2005 and 2019 \cite{Stone1990, Almeida-neto2008}. A lower checkerboard score and temperature, along with a higher NODF, signify a more nested structure.

However, the shift towards greater overall nestedness has been uneven across different skill sets. Figure~\ref{fig:historical skill change}~(c) demonstrates this as a widening gap between the nested and unnested branches over the decades. Supplementary Fig.~\ref{fig:Figure_7_supp}~(b) shows a strengthening in the connections among nested skills, indicating their growing complexity and mutual dependence, while SI Fig.~\ref{fig:Figure_7_supp}~(d) reveals weakened dependency chains of unnested skills. All in all, this trend is observed as a broadening and deepening of nested skill branches within the hierarchy in Fig. ~\ref{fig:historical skill change}~(c), reflecting an increase in the complexity and interdependence of these specialized skill areas \cite{DemingDavidJ2020EDCJ, Tong2021}.

Indeed, the chasm between the two types of specializations has alarmingly broadened within the educational domain over the last two decades \cite{Xu2021, Lin2022, Althobaiti2022}. In response to this, the structural changes in the hierarchical tree network are concerning, given the significance of these specializations for future career developments and wage premiums.  They reveal an economy wherein the structure of valuable human capital has grown more nested, reinforcing barriers to workers without the necessary fundamental skills, who are often entrapped in unnested specialization pathways (see SI Figs.~\ref{fig:wage curves} and \ref{fig:hispanics language skills}). The widening gap between the nested and unnested specialization paths could indicate strongly rooted chronic disparity. 

The increased demand for general skills and the shifting balance between nested and unnested skills have important implications for workers and policymakers. While the rising wage premiums associated with general skills suggest that workers who invest in developing a broad skill set may be better positioned to succeed, the growing importance of nested skills and the declining use of unnested skills may exacerbate existing inequalities and create new barriers to entry for certain occupations.

As the skill structure becomes more complex and interdependent, policymakers and educators must develop strategies to ensure that individuals from all demographic groups and regions have access to fundamental skill development opportunities. Failing to do so may exacerbate disparities and hinder economic mobility for certain segments of the population. To mitigate the potential negative consequences of the changing skill structure, it is crucial to invest in education and training programs that foster both general skills and unlock valuable specialized pathways. Our results suggest that providing individuals with a strong foundation in general skills and the opportunity to develop nested specializations is essential for navigating the increasingly complex labor market and achieving better career outcomes.



% Network structure: 
% horizontal interdependencies among specific skills have remained largely unchanged.
% For instance, Biology, Medicine, and Chemistry remain in the relatively same positions, evident in the stronger concentration of general skills at the center of the nested community.
% examples, Oral Comprehension and Information Ordering, using computers?
%Despite the growing importance of social skills \cite{Liu2013}, our findings suggest that they do not drive the effect of general skills (or any other skill subtype). Instead, they hinge on a broader array of general skills (see SI Section \ref{fig:social skills}).


% specialization has increased the depth of knowledge in each domain, increasing the length of a typical learning trajectory from basic to advanced topics \cite{BenJ2009}. 
% more effort before a novice can become an expert. % increasing the depth between the basic and the advanced topics.

%%--------------------------------------------------------------------------%%
\section*{Discussion} 
%The central goal of this paper is to uncover the underlying dependency structure among skills used in the U.S. labor market by analyzing a large-scale skill survey that documents the human capital requirements of hundreds of U.S. occupations. The resulting structure with two distinct skill communities is not only in good agreement with a distinction between manual and cognitive skills but also adds a new dimension to the structure, directionality, to what had been shown in prior research \cite{Alabdulkareem2018, Frank2018, Moro2021}. Adding directionality to the network, connecting skills according to inferred prerequisite-dependency relations, yields a hierarchical network that suggests a different skill taxonomy, highlighting the difference between general skills, on the one hand, and nested and un-nested specific skills, on the other. Remarkably, this taxonomy emerges from information only on how skills co-occur within occupations, without using any substantive information on the skills or occupations themselves. The derived taxonomy therewith combines elements from a recent body of work on economic complexity that represents skill structure as networks \cite{Neffkeeaax3370, AndersonKatharineA2017Snam, Alabdulkareem2018, Xu2021, Lin2022, Althobaiti2022, DelRio-Chanona2021, Tong2021} and traditional research in economics on human capital specificity \cite{Gibbons2004, Poletaev2008, Gathmann2010, BeckerG.S1992TDoL}. 

%TheA growing literature has drawn from complexity  on skills has explained the increasing polarization of jobs in the US labor market by considering skills as a multidimensional construct usingtheories to study human capital, emphasizing the multidimensional nature of skills \cite{AndersonKatharineA2017Snam, Alabdulkareem2018, Neffkeeaax3370, Moro2021, DelRio-Chanona2021, Althobaiti2022}.
%This literature's application of co-occurrence networks to describe skills has shown promise in elucidating labor market frictions and mobility barriers.
% These skill co-occurrence networks have contributed to the debate on human capital by delineating how different types of skills shape the introspective labeling of workers. 
%However, without incorporating the directionality of skill acquisition and application, a critical topic in the economic and sociological debate on human capital, these co-occurrence networks have fallen short of uncovering the underlying mechanisms that drive careers, generate value and build resilience in labor ecosystems.


Human capital has traditionally been quantified in terms of years of schooling or work experience, yielding important insights about wage curves and returns to education \cite{Mincer1974, Becker1962}. With the arrival of detailed data on tasks that people perform at work and the skills they require to do so, a more granular assessment of human capital became feasible, juxtaposing, for instance, cognitive and manual skills, routine and non-routine skills, or STEM and social skills \cite{Autor2003, goos2007lousy, Deming2017}. However, these dichotomies are often ad hoc, tailored to test specific assumptions about trends in the labor market, such as mechanization, computerization, and the rising importance of soft skills.

In contrast, the complexity approach to human capital analyzes labor markets through network analysis, providing a more comprehensive and data-driven perspective. Understanding the network architecture in complex economic systemsspanning technology, input-output, supply-chain, trade, products, and skillshas yielded insights into socioeconomic phenomena \cite{Neffke2013, Baldwin2014, Alabdulkareem2018, McNerney2022, Mariani2019, DelRio-Chanona2021, hidalgo2018principle, Elliott2014, Acemoglu2012, Elliott2022}. These insights both corroborate and contest established theoretical frameworks, including the underlying causes of economic disparities between countries and their potential developmental trajectories by analyzing trade networks \cite{hidalgo2018principle, mcnerney2021bridging}; the pace of technological innovation and economic growth through technology networks \cite{mcnerney2011, McNerney2022}; differences in labor productivity and resilience through the lens of skill and occupation networks \cite{Neffke2013, Neffkeeaax3370}; and economic network resistance and persistence using business networks \cite{Saavedra2011, Moro2021, Frank2018, DelRio-Chanona2021}. These models and methods translate a range of structural properties into quantifiable and actionable insights.


Our empirical study aims to add a new layer to these structural properties by illustrating how connections within these networks are conditional and how structures become increasingly nested as complexity and specialization grow. This method provides structural insights into prior empirical findings that cognitive skills are clustered themselves and valued more highly than physical skills, based on patterns of co-occurrence \cite{AndersonKatharineA2017Snam, Alabdulkareem2018, Xu2021, Lin2022, Neffkeeaax3370, DelRio-Chanona2021}. Within this networked framework, we observe a system where more central nodes, or skills, are rewarded more substantially along the network's nested branches, suggesting that the value attributed to cognitive skills in previous findings is interdependent with the increasingly nested structure of the skill network. Consequently, this finding leads us to move beyond the traditional dichotomy of cognitive versus physical skills towards a structural classification of skills as either nested or unnested. 


Our research thus bridges economic theories that recognize hierarchical structures to explain progression and wage premiums \cite{Mincer1974, Becker1962} and the economic complexity model for understanding economic development \cite{hidalgo2018principle}, where the hierarchical organization of skills and their societal implications have been taken for granted rather than empirically verified \cite{Neffkeeaax3370}. Our work aims to offer an empirical framework as a network of skills in which ties capture skills' directional interdependencies, distinguishing pathways to specialization. Notably, we show that relying solely on the information embedded in the network of skills and occupations allows for a quantification of skills based on the concept of nestedness, independent of economic and social variables and without any presupposed or context-informed labeling of skills. Our analysis of wage and demographic disparities shows the predictive capability of this minimal approach for various socioeconomic factors.

The hierarchical structure and its inherent directionalities add a new dimension to the rising field of economic complexity, providing a deeper understanding of how knowledge is accumulated within a population and how its precedence relations between activities are expressed in the economic activities of a firm, city, region, or country \cite{Hidalgo2015, OClery2021, Balland2020, Hidalgo2021, Harmand2015, Hausmann2011, Hidalgo2007, Hidalgo2009,tacchella2012new, Park2019}. The directional dependencies that we propose break the symmetry in traditional co-occurrence networks for a better understanding of structural changes in economic complexity \cite{mcnerney2021bridging, OClery2021, yang2022scaling, Hong2020, hidalgo2018principle}.

In increasingly complex, large teams, social skills become crucial when specialization requires workers to coordinate with team members possessing different specialized skills \cite{Carlile2002, Wuchty2007, yoon2023, Neffkeeaax3370, Wu2019Science, Borner2018}. Our framework identifies and locates social skills embedded in the skill structure along with general and nested skills (SI Fig. \ref{fig:social skills}-a), explaining their recent growth and significant role in wage premiums (see SI Fig. \ref{fig:social skills}-b) \cite{Liu2013, Deming2017, Borghans2014, Weinberger2014, Lindqvist2011, Kuhn2005, Deming2018, Kogan2021, VanderWouden2023, Evans2024}. Nevertheless, our results go beyond the contributions of social skills and managerial occupations to wage premiums, as the results are robust to their absence in analyses (see SI Sections \ref{sec:social skills} and \ref{sec:robustness check: no managers}). Therefore, social skills are valuable not just because of their role in sociality but because of their structural properties, serving as foundational building blocks of human capital to enable further valuable specialization and more complex organizations.

The structural implications of our findings extend beyond individual careers and their associated rewards, suggesting potential consequences for not only intra-generation career mobility but also perhaps inter-generation career mobility. In this context, Figure~\ref{fig:historical skill change} presents a disconcerting trend, illustrating the widening gaps across nested branches over the span of a decade. We speculate that these growing disparities may be attributed to the increasing complexity of the economy and the deepening of individual specializations. As the skill structure becomes more intricate and the dependencies between skills more pronounced, individuals who successfully navigate these nested pathways may reap significant benefits, while those who struggle to acquire the necessary skills may face limited opportunities for advancement, potentially leading to entrenched inequalities that persist across generations. However, we acknowledge that the current study does not fully underpin these implications due to the lack of detailed datasets and a comprehensive analytical framework. Therefore, we recognize the need for further research to examine these critical questions and unravel the long-term consequences of the evolving skill structure on intra-generation and inter-generation mobility in order to inform policies and interventions aimed at promoting equitable access to skill acquisition, fostering inclusive economic growth and mitigating the potential for widening disparities within and across generations.

There are limitations in inferring the dynamics. First, our current empirical findings do not establish a causal relationship between semantic categories and structural manifestations, presenting an important question for future research using theoretical frameworks and computational models. 
Second, our analysis leverages datasets of occupational ``requirements'' of skills, that is, skills that are applied, which is not a direct measure of skill acquisition.  In essence, the manner in which skills are learned remains outside our observational scope. We assume that skills applied in the workplace have been acquired beforehand but not long before. This suggests that an individual may have competencies in arithmetic, linear algebra, and programming, which might not be fully exploited until they progress in their career. Although possible, such instances are presumed to be rare and not economically sensible, as individuals typically do not seek to acquire skills that are not immediately necessary, which probably pay less. This presumption rests on the belief that individuals strive to optimize their earnings and learning opportunities within their limited time and resources, making the phenomenon of being overqualified for job requirements relatively uncommon. Fundamentally, we suggest that there is a reluctance to engage in learning and skill development without direct application or compensation; thus, they occur relatively together. Related, our unit of analysis is jobs rather than individual employees, limiting our ability to discern the co-occurrence of learning and skill application. Future research could benefit from surveys targeting employees to gather nuanced data on individual skill portfolios as opposed to relying solely on job surveys. Finally,  our data primarily describe the U.S. labor market, which has idiosyncrasies in its education system, industrial composition, and urban structure. 
How well these findings generalize to other work settings, such as entrepreneurship \cite{Murray2023}, and economies, especially those at different stages of development \cite{Autor2022}, remains a task for future research.

Essentially, the underlying assumption is that people are less inclined to learn and develop skills unless these are directly applied or rewarded in their roles. In addition to the implicit mechanism of learning, our unit of analysis is not the employee but the job. The lack of granularity in our empirics makes it hard to identify whether learning goes together with the application of skills. In the future, conducting surveys of employees for detailed observations of individuals' skill endowments, rather than job surveys.  Finally, our data primarily describe the U.S. labor market, which has idiosyncrasies in its education system, industrial composition, and urban structure. 
How well these findings generalize to other work settings, such as entrepreneurship \cite{Murray2023}, and economies, especially those at different stages of development \cite{Autor2022}, remains a task for future research. 

In conclusion, our study introduces a novel approach to understanding the structure of skills in the labor market, shedding light on the pathways to specialization and the mechanisms driving skill value and resilience. While our study has limitations, it lays the groundwork for future research to explore the generalizability of our findings and investigate the relationships between skills, education, and socioeconomic outcomes.




 

%The nested structural categories also add a new dimension to the theory of human capital \cite{Lazear2009}. 
%By differentiating general human capital into a structured spectrum, from the most foundational and general to the most specialized, human capital is comparable at different organizational scales, which is essential for policy implications. More importantly, the nested structure reiterates the valuable insight that skills are not acquired in isolation. This perspective challenges the simplified view of acquiring general skills early in life, later supplemented by specialized skills. Life-long learning requires more than just acquiring new specialized skills; it necessitates complementing such investments with deepening one's general skills, a point echoed by recent recommendations from Stanford and Harvard bringing back math courses over applied alternatives like data science and statistics \cite{Feinstein2023}. 

% Empirical supports to the logic: 
% We would ideally observe the distinct processes of acquisition and application, yet the data reveals the result of both processes in occupational requirement of skills. We side with Reviewer 1 in that our temporal analyses of skill usage over individuals careers (the median age of occupations, occupational employment of birth cohorts as they age, and in resumes) in Fig. 3 offer evidence that the processes of acquisition and application are revealed in tandem. However, we concede that this is not a direct observation of acquisition. Our writing has been based on the understanding that given a rhetorical dependence of calculus on algebra the progression in the level at which one applies calculus implies increases in the level at which one must know algebra. We have explicated this intuition in the method section that the O*NET offers information about occupational requirement of skills, which implies the possession and the capacity for application of expertise at work, rather than learning of skills, alone. We have further revised the mentioned example, which appears early in the paper to elucidate the nature of dependencies we later derived empirically: The prerequisites for understanding and applying calculus, for instance, are grounded in the knowledge of algebra and geometry.


% Finally, just as skill acquisition at the individual level is embedded in a hierarchical web of prerequisite dependencies, so may capability acquisition at the macro level of economies such as firms, cities, and nations. This perspective bridges the micro-level of jobs and wages with the macro-level of the economic system as a whole. This intrinsic learning sequence suggests that economies may be unable to follow optimal growth trajectories \cite{FinkTMA2019Hmcw, Fink2017a, Fink2017b}. As a result, it uncovers structural disparity across different social groups that would have remained underappreciated had we relied solely on information on educational attainment or wages \cite{Autor2014}.  It also carries implications for organization and promotion, for example, explaining the failure of promotion based on performance, i.e., the Peter Principle \cite{Benson2019}. 


%%%% robust to management! %%%%
%%% mention the descriptor here and also sec 1. We identified six \textit{social skills} in the list. They are \textit{Social perceptiveness}, the skill of being aware of other's reactions and understanding why they react as they do; \textit{Coordination}, the skill to adjust actions in relation to others' actions; \textit{Persuasion}, the skill to persuade others to change their minds or behavior; \textit{Negotiation}, bringing others together and trying to reconcile differences; \textit{Instructing}, the skill to teach others how to do something; 
%and \textit{Service orientation}, actively looking for ways to help people.

% LT Zhang: A well-established concept in economics is general versus firm-specific skills. The former refers to skills that are useful across firms and the latter are those useful to only a particular firm. Our construct treats all skills on a continuum, ranging from the most foundational and general to the most nested and specialized. In our framework, firm-specific skills would include those that are extremely specialized skills, such that they only apply to a particular firm. 
% cite: Lazear, Edward P. "Firm-specific human capital: A skill-weights approach." Journal of political economy 117, no. 5 (2009): 914-940\cite{Lazear2009}
% The most interesting finding to me is perhaps the importance of combining foundational and nested/specialized skills, especially at the higher level. I believe this is an important point and resonates well with other work showing the increasing role of social skills in recent years (especially at a later stage of one's career). 
%Skilled workers represent an important class of capabilities, making understanding the process of skill acquisition, deepening, and diversification closely connected to the fundamental narrative of the literature on economic complexity.
 %The former is widely useful, while the latter raises productivity at only a particular firm, not elsewhere, thus setting up a bilateral monopoly situation between the worker and firm.
%Accumulation patterns differ across skill types: general and nested skills tend to grow over most of a workers career, while reliance on un-nested specific skills decreases with age. 


% As economic complexity grows, the nature and intensity of skill dependencies evolve correspondingly. 
% \cite{Borner2018}



%In general, job skill requirements must navigate a delicate balance. 
%They need to account for the required complexity, complementarity, and coordination among heterogeneous skills, while also considering the ease of skill acquisition by individuals. 


%One way education systems can achieve progress is by speeding up the acquisition of general skills. 
%The possibility of this will be clear to anyone who compares textbooks of basic calculus to the original texts on which they build. Simplifying the exposition in teaching basic skills will allow for the further deepening of these skills and therewith provide the basis for the nested specific skills that allow for a deepening division of labor.

% In order to produce the most complex products, national economies must accumulate a web of interdependent capabilities \cite{Hidalgo2009, Hausmann2011, Hidalgo2007}.
% There is a directionality of acquiring capabilities \cite{OClery2021, Imbs2003}
% Such capabilities allow "complex" economies to dominate the production of the most valuable products.
% Growing complexity and specialization similarly motivate examining the underlying structure of human skills \cite{DemingDavidJ2020EDCJ, Tong2021}.
% % [[Placeholder: we will analyze statistical significant link from co-occurrence data to extract interdependency out of hierarchy of abundance]]
% On the one hand, specialization has increased the depth of knowledge in each domain.
% % , expanding what we call \textit{vertical skill interdependence}.
% In other words, specialization has increased the length of a typical learning trajectory from basic to advanced topics \cite{BenJ2009}. % more effort before a novice can become an expert. % increasing the depth between the basic and the advanced topics.
% On the other hand, specialization has accompanied a growing complexity of economic tasks, requiring a diversity of skills and knowledge \cite{Hidalgo2021}.
% % Nonetheless, because job tasks often require several skills, workers must accumulate 'appropriate' bundles of skills, and as a result, horizontal skill interdependence has also intensified.
% That is, increasingly complex job tasks have necessitated the accumulation of 'appropriate' bundles of skills \cite{OClery2019, Hidalgo2018}.
% % , which we call \textit{horizontal skill interdependence}.
% % As a result, the presence of a diverse set of complementary skills, what we call \textit{horizontal skill interdependence}, has also intensified.


% In particular, we do not know if one actually acquires or advances general skills when they move up the occupation level (acquiring the more specific skills).
% The structure in Fig~\ref{fig:Figure 2} is constructed by cross-sectional conditional probability and thus does not guarantee longitudinal occurrences in individual acquisitions.

% Workers' limited attention, time, and resources force them to trade off skill diversity and specialty \cite{Leung2014}.
% [alternative paragraph (to be modified with the previous and the latter)] 
% Vitally, forces of diversity and specialty create an inherent trade-off in the choice of what skills to bundle \cite{Leung2014} which affects workers who must invest time and effort in skills, policy-makers interested in improving aggregate and individual welfare, and social and economic agents who desire an optimal and fair distribution of work.
% Knowledge and technological advances make it impossible for an individual to contain the depth of knowledge at once \cite{BenJ2009}, requiring more investment to reach advanced levels.
%On the one hand, a growing literature highlights the importance of bundling complementary skills \cite{AndersonKatharineA2017Snam, Alabdulkareem2018, Neffke2013, Balland2020}.
%On the other hand, however, the literature on specialization advocates the productivity gains of specialized skills \cite{Mincer1974, Lucas1988, Gibbons2004, smith1937wealth, Frank2018, BeckerG.S1992TDoL, Poletaev2008, Gathmann2010}.
%Further complicating matters is a stream of research that champions the importance of the less specific skills \cite{Hermo2022, Liu2013, epstein2019range}, citing the "Flynn effect" as a sign of the increasing value of more fluid skills over crystallized knowledge \cite{FlynnJamesR.2018IdaP}.
% In conclusion, uncovering the skill structure and articulating the relation between workers skills and value requires disentangling forces of complementarity and specialization.

% Existing work has discovered that performing job tasks simultaneously requires several (complementary) skills \cite{Alabdulkareem2018}, and that complementarity of skills, what we call \textit{horizontal interdependence}, increase the overall workers' value \cite{AndersonKatharineA2017Snam, Neffkeeaax3370}.
% Nonetheless, our understanding of complementarity has relied on skill's co-occurrences in occupations \cite{Alabdulkareem2018}, neglecting the asymmetry in skill dependence.
% Intuitively, the investment necessary, hence the payoff, to acquire a skill increases with the number of its prerequisites \cite{Mincer1974, Lucas1988, Becker1962, Schultz1961}.
% We call such dependency on prerequisites \textit{vertical interdependence}.



% The central goal of this paper was to uncover the underlying dependency structure among skills that are used on the US labor market. Our analyses of multiple data sources, we have empirically derived a classification of skills consistent with the notions of \textit{general} and \textit{specific} human capital \cite{Becker1962}. Moreover, we have constructed a skill hierarchy based on the conditional probabilities of skill co-occurrences across the economy. This hierarchy resembles an unbalanced tree, with general skills serving as common prerequisites for some of the more specific skills. The emergence of this skill tree stems from the semi-nested structure of occupational skills, which introduces heterogeneities in the web of dependencies across different skills. Our framework distinguishes skills such as \textit{Programming, medicine, and physics} that rely on a dense and nested web of prerequisites, from other skills like \textit{Repairing, stamina, and construction} that lack such a structure.
% Skill interdependence and nestedness also carry implications for aggregate economic growth.
% Growing complexity and specialization similarly motivate examining the underlying structure of human skills \cite{DemingDavidJ2020EDCJ, Wilmers2020, Tong2021}.
% Some knowledge requires a basis to travel from one human to another\cite{Coscia2020, VanderWouden2023}.
% While others may not need such a basis.
% While specialization creates challenges in cross-occupational communication and knowledge transfer \cite[ch. 3]{Arrow1974book}, a strong stock of general skills common among occupations, will reduce the cost of transmitting information, and as a result, collaboration and complementarity of workers of different specialties \cite[ch. 2]{Arrow1974book}.
% Our findings suggest investments in certain skills and knowledge, therefore, help further accumulate them as if \textit{capital} \cite{Becker1962, Schultz1961}.
% This is consistent with the empirically observed increases in the education premiums \cite{Janzen2022} and the role of general skills as inter-occupational complementarity \cite{Neffkeeaax3370}.
% In addition, an important part of accumulating human capital is specific to the firm \cite{BeckerG.S1992TDoL, Wilmers2020}, wherein specialized workers, among other things, learn about the firm's communication codes \cite{Arrow1974book}. 
% % Relatedly, the very basis that facilitates knowledge transfer may act as a communication channel that enables complementarity between workers endowed with the basis however different in their specialized skills \cite[ch. 2]{Arrow1974book}.
% On the one hand, growth in knowledge and know-how leads to longer chains of prerequisites within each specialty branch. 
% Suffering from a heavy knowledge burden on us \cite{BenJ2009}, we specialize to become more productive \cite{smith1937wealth, Wilmers2020} and able to make more advanced products \cite{Hidalgo2021}, increasing our bargaining power \cite{Davidson1898book, Fini2022, FergusonJohn-Paul2013}.
% %% cited work Wilmers2020, in fact, states the opposite that: certain specializations may reduce bargaining power.
% On the other hand, the products (and technologies) have become even more complex, branching off skills into many specialty prongs. Undertaking complex tasks that our modern society needs requires specialized skills, knowledge, and coordinated workforces \cite{Hidalgo2015}.  
% %Therefore, we expect the skill structure to extend both in-depth, as a tree gets taller, to represent the growth of collective knowledge, and in breadth, a branch of a tree would represent growing diversity. 



% \cite{VanDam2021} finds that in certain ecologies, two disjointed sub-ecosystems may form that share few required resources. This resembles our nested and un-nested structure. A linkage to the paper and the idea can attract people from that domain.]


% Our geographic and demographic analyses further corroborate the dependence of valuable nested skills on general skills and highlight the unequal distribution of general skills across localities and racial groups. These disparities contribute to the widening wealth distribution \cite{Hong2020} and increased rigidity of social classes \cite{Goldin2008}. Regiones and sub-populations with bundles of general and nested skills are better positioned to engage in complex activities and achieve higher economic outcomes. However, such skill bundling may create barriers to knowledge transfer in regions and demographic groups, lacking the necessary foundation for acquiring nested skills. As economic well-being becomes an increasingly important factor in education \cite{Chau2023, Li2021}, the existing distribution of skills may shape reinforcing factors in the possibility of reskilling and future wealth distribution. Therefore, policymakers must recognize the overlap between factors that create value and those that contribute to the widening gap between socioeconomic strata. %Our findings have implications for planners and policymakers seeking to mitigate the impacts of technological job changes. 


% %% complexity %%
% Complexity and specialization have been the two sides of the coin of economic growth.
% These dual forces have allowed the organization of work and distribution of knowledge so that the collective can produce more diverse and complex products and services \cite{Hidalgo2021, Hidalgo2015, Harmand2015, Hausmann2011, Hidalgo2007, Hidalgo2009}.
% Society has become so complex that not a single person can make a pencil \cite{Read1958, Dubner2016}.  
% However, they have also coincided with structural deficiencies in the form of increasingly unfair wealth distribution.
% While specialization has increased the length of a typical learning trajectory from basic to advanced topics \cite{BenJ2009}, the growing complexity of job tasks has necessitated the accumulation of more skills \cite{OClery2019, Hidalgo2018}, adding to the burden of bundling skills.
% Because workers possess a limited time budget and cognitive capacity, they must trade off specialization and diversification.

% Our skill structure bridges the findings of a recent body of work on economic complexity that represents skill structure as networks \cite{AndersonKatharineA2017Snam, Alabdulkareem2018, Xu2021, Lin2022, Althobaiti2022, Neffkeeaax3370, DelRio-Chanona2021, Balland2020} and the economic stream on human capital \cite{Mincer1974, Lucas1988, Gibbons2004, smith1937wealth, M.R.2018, BeckerG.S1992TDoL, Poletaev2008, Gathmann2010}.
% % , and the pyschological literature on intelligence \cite{} about the value of skills
% While the economic complexity stream focuses on the diversity and complementarity of skills, labor economic research emphasizes the directionality of dependence that arises from specialization.
% % In contrast to the latter, the psychological literature advocates the importance of more common components of human skills.
% Our work considers skills such as \textit{Programming, medicine, and physics} are bundled along the depth of the skill hierarchy.
% These are nested skills as they cannot be obtained without sufficient stock of their prerequisites.
% The fact that they come in together in the career journey (i.e., resumes) implies they are bundled to accomplish complex job tasks.
% Indeed, we find that the jobs that require nested skills obtain the highest economic return.
% As such, drawing from both mentioned streams, we argue jobs with nested skills carry both vertical (specialization) and horizontal (complementarity) skill interdependence.
% In contrast, jobs that mainly rely on un-nested skills lack depth, and as such, do not command high wages.


% Similarly, the skill structure has implications for science and technology regarding how science is needed for technological progress \cite{BenJ2009, Sorenson2004}.
% Put differently, there is directionality among components of the analogies such as  Lego blocks or Alphabets in the Scrabble \cite{FinkTMA2019Hmcw} for the economic building blocks.
% % analogies are not independent and equal.
% % There is a directionality among them.
% We may have to learn 'A' before learning 'Z' to solve the analog of a Scrabble game in economic growth.
% This is consistent with prior findings that national economies that can produce the most complex products also produce simpler products, while the reverse is rarely observed \cite{Hidalgo2007}.
% Furthermore, this intrinsic learning sequence may imply agents may not be able to adapt optimal growth trajectory even if they wanted \cite{FinkTMA2019Hmcw, Fink2017a, Fink2017b}.
% The nature of nestedness will introduce a nontrivial diffusion process in product space \cite{Hidalgo2009}. Knowledge cannot travel without prerequisites \cite{Balland2020, Moro2021, AndersonKatharineA2017Snam, Alabdulkareem2018, Li2021, Tong2021}. % (some knowledge should be bundled to travel, not alone). \\
% That is why in order to produce the most complex products, national economies must accumulate a web of interdependent capabilities \cite{Hidalgo2009, Hausmann2011, Hidalgo2007}.
% Such directionality in acquiring capabilities \cite{OClery2021, Imbs2003} allows "complex" economies to dominate the production of the most valuable products.






% %% limitation %%%
% Of course, our study has limitations that need to be considered. Our empirical findings may not provide a direct answer to why some skills bundle in an occupation or why some skills are needed together in an occupation [a good place to include bargaining and other micro literature on skill acquisition]. The observed skills bundled together many times in a single occupation must be the most productive recipe for economic activities under constraints. The constraints include transaction costs among the associated complementary tasks that trade-off with a single human's limited capability, such as limited attention, time, and resources \cite{Leung2014}. There is only so much we can learn within a working cycle, no matter how high the desired bundle's payoff would be. We have known that when the skills and knowledge are too complex to be bundled within a person, we form teams or firms to \textit{organize} (tacit and non-tacit) knowledge needed to accomplish tasks \cite{Ahmadpoor2019, Wu2019Science, Milojevic2014, Boerner2010, Hunter2008, Wuchty2007}. Our work shows that some types of knowledge are more similar to each other to be learned easily, such as English and German, compared to English and Korean. 

% The structure we find is incomplete and does not isolate the pre-requisition dependence of skills from other possible mechanisms. Nevertheless, we found and presented evidence that the hierarchy is a good first approximation to the hidden fundamental structure in the landscape of human capital.
% ** We should discuss the caveat that our claim that \textit{specific skills require general skills} comes with a lack of micro-level evidence of temporal acquisition of skills: do general skills come before specific skills? Ideally, we can observe this as individuals acquire skills, but we can approximate it with the survey. [include in survey LT is preparing]
% And yet our framework holds.

% % Our findings carry implications for a broad range of fields, from psychology to policy. 
% %We find that the general skills of occupations carry significant predictive power in determining wages. 
% The importance of general skills in enabling the execution of complex tasks is a factor often overlooked. Particularly, many retraining programs are designed around instilling ``valuable'' specific skills. Our results suggest stocks of specific skills on their own are insufficient to create sustained value, and thus the general skills of occupations carry significant predictive power in determining wages. Instead, a longer-term approach to facilitating education availability for acquiring general 
% and nested skills may be required. 
% We provide robust empirical evidence for the growth of general skills in individuals' careers through resume data, the increased importance and level of general skills over time when comparing occupational skills from 2005 to 2019, and an analysis of a synthetic age cohort, which reveals that occupations with a higher median worker age exhibit higher general skills. 
% The observed increase in general skills aligns with the "Flynn Effect" \cite{Hermo2022}, which describes the rise in fluid reasoning abilities in developed countries since the twentieth century. 
% Indeed, there has been a growing recognition of general skills, including education. For instance, in 2022 Stanford, and in 2023 Harvard updated their recommended preparations for their prospective applicants, emphasizing conceptual math courses such as algebra and geometry and de-emphasizing applied alternatives like data science and statistics with the reasoning that these courses are ``not equal'' in how well they prepare individuals to progress in different specialties \cite{Feinstein2023}.
% As such, we also offer an alternative explanation for the empirically observed stagnant payoff to education \cite{Pritchett2001, KruegerAlanB2001EfGW, HanushekEricA2008Troc} based on the necessary co-development of general and nested skills.


% To summarise, we have formed a topology of the skill structure, wherein skills' generality measured by total level across occupations is plotted against two different network measures of prestige (Hub score \cite{} and Pagerank \cite{} on an extracted directional backbone \cite{Jo2020}) and skill's correspondence with general skills as measured by the average Pearson correlation of the focal skills and general skills.


% Put differently, Lego Block and Alphabets in the Scrabble analogy are not independent and equal. There is a directionality among them. We may have to learn 'A' before learning 'Z'. And this intrinsic learning sequence may imply why we cannot adapt the optimum strategy even if we want \cite{FinkTMA2019Hmcw, Fink2017a, Fink2017b}. 



% It may have implications for science and technology in terms of how science is needed for technological progress (ref Ben Johns, US. Patent and Science papers). 

% 0. Implication in product space/knowledge diffusion. The nature of nestedness will introduce a nontrivial diffusion process in product space \cite{Hidalgo2009}. Knowledge cannot travel without prerequisites. % (some knowledge should be bundled to travel, not alone). \\
% Some knowledge requires a basis to travel from one human to another.
% While others may not need such a basis.
% Relatedly, the very basis that facilitates knowledge transfer may act as a communication channel that enables complementarity between workers endowed with the basis however different in their specialized skills \cite[ch. 2]{Arrow1974book}.

% 1. There are skills that are bundled in Fig \ref{fig:skills cor wage, total generality, cor gen skills} those are nested skills. The fact that they come in together in the journey of career (resume) implies they are bundled to accomplish a complex job. We find that these jobs that are bundled together give the highest economic return. This is perhaps how human species has become successful (?)\\
% 1. There are skills that are bundled along the depth of the skill hierarchy. These are nested skills as they cannot be obtained without sufficient stock of their prerequisites. The fact that they come in together in the career journey (i.e., resumes) implies they are bundled to accomplish a complex job. We find that the jobs that require nested skills give the highest economic return. %This is perhaps how human species has become successful (?)\\
% What does this mean for economic growth and equality?

% 2. Our geographic and demographic analyses show disparities in the distribution of such general skills.
% As a result, on the one hand, locality and sub-population endowed with bundles of nested skills may be in a better position to undertake complex activities and gain higher economic outcomes.
% On the other hand, such bundling may forge barriers to transferring such valuable knowledge to geographies and demographic strata that lack the required basis to obtain nested skills.
% As economic well-being becomes an increasingly important factor in education \cite{}, the existing distribution of skills may shape reinforcing factors in the possibility of reskilling and the future distribution of wealth.

% 3. potential stretch to science and technology
% Even technological advances fueled by basic science 
% \cite{Sorenson2004} %(Sorenson and Felming 2004)

% 4. Can we explain the "Flynn Effect?" Increases in fluid reasoning appear to emphasize our general skills. Find relevant info in \cite{Hermo2022}



%%
%%----------------------------------------------------------------------------%%
% https://www.bls.gov/oes/
% O*NET also includes work activity items we disregard as they associate more closely with work tasks than worker skills \cite{Nedelkoska2018}.  

\section*{Data and Methods} \label{sec: method}

%%--------------------------------------------
\subsection*{Datasets}
\textbf{Occupational Information Network (O*NET) }
includes survey records of job-oriented attributes and worker-oriented descriptors conducted by The Bureau of Labor Statistics (BLS) \cite{Peterson1999ONET}. Job-oriented attributes include educational requirements, workplace experience, and training. Worker-oriented descriptors include 120 work-relevant knowledge, abilities, and skills (labeled \textit{skills} throughout the text for brevity).
Each occupation includes a list of skills with their sophistication levels (or intensity) and the importance of those requirements, each resulting in an occupation-skill matrix. 
Our main analysis uses the level, but the other variable is highly corrected (0.94), and therefore, our findings are robust to the choice of measurements.
We have obtained two versions: 2019, to avoid concerns over contaminating data with signals from the COVID-19 pandemic, and 2005, the first version with a consistent skill topology and available education covering a significant number of occupations.

\noindent \textbf{Occupational Employment and Wage Statistics (OEWS)}
offers wages and employment information at different granularity levels (nation-wide, region-specific, and industry-specific).
We have used nationwide, region-specific data for 2005 and 2019 and combined them with their respective year from O*NET.
Note that including and aggregating data from several years before and after 2005 and 2019 does not change our results.
In the resulting combined data, occupational units were aggregated at the 6-digit SOC codes (OEWS is available at the 6-digit level, while O*NET is available at the 8-digit SOC level).


\noindent \textbf{Current Population Survey (CPS)}
is a monthly survey of households conducted by the Bureau of Census for the Bureau of Labor Statistics.
It offers a representative sample of the population obtained in each round that offers statistics on various aspects of the labor force \cite{Flood2022}.
From the Labor Force Statistics component of CPS, we obtain the median age of workers in occupations for 2019.
From the CPS microdata, we acquire employment and demographic information on households between 1980 and 2020, including occupation, wage, hours worked, gender, and race/ethnicity information.
Matching with SOC occupational units requires a crosswalk described in the corresponding section.


\noindent \textbf{Burning Glass Resume Data }
includes 70 million job sequences (8-digit SOC) documented in 20 million individuals' resumes between 2007 and 2020 from Burning Glass (also known as Lightcast).
Burning Glass applied AI tools to submitted resumes, digitizing their text and mapping them to occupational titles consistent with BLS SOC codes, allowing for easy integration with O*NET data.

%O*NET consists of job-oriented attributes and worker-oriented descriptors, respectively. Job-oriented attributes include wage, employment, educational requirements, workplace experience, and training. Worker-oriented descriptors include 120 work-relevant knowledge, abilities, and skills (labeled \textit{skills} throughout the text for brevity)

%Occupation units for both datasets follow the Standard Occupational Classification (SOC), the federal statistical standard used by federal agencies to classify workers into occupational categories. However, their granularity differs by the dataset. While BLS categorizes occupations by 6-digit SOC codes (774 unique occupations), the O*NET detailed them into 8-digit SOC codes (968 unique occupations).

%There are two ways to measure skill levels required for effective work performance: the level of sophistication (or intensity) (ranging from 0 to 7) and the importance or vitality of those requirements (ranging from 1 to 5).
%These two skill measures are highly correlated (0.94); thus, the results are robust to the choice of measurements.
%We chose the skill level for the main text because we reason the level that captures the necessary sophistication and adeptness is more consistent with our hypothesis of skill progression and hierarchy.
%Still, the correlation and the fundamental classification of skills are robust to using importance measures see supplementary information.

\subsubsection*{Skill Generality Groups} 
%%---------------Occupational-specific information is obtained from two datasets: the Bureau of Labor Statistics (BLS) and the Occupational Information Network (O*NET) \cite{Peterson1999ONET}.
%%% For example, the skill of "speaking" is important for both lawyers and paralegals. However, lawyers (who frequently argue cases before judges and juries) are required to have a higher Level of speaking skill, while paralegals only need an average Level of this skill. https://www.onetonline.org/help/online/scales#foot2
%%%%


For each skill, O*NET reports the required levels needed for workers of each occupation to perform their tasks. We call the distribution of the number of occupations that require skill at varying levels the \textit{level distribution}.
The shape of a skill's level distribution illustrates its generality across occupations, shown in Fig.~\ref{fig:Figure 1} (a). 
As such, we group skills by their similar distribution shapes by $k$-mean clustering algorithms with correlation metrics. Figure \ref{fig:Figure 1} (b) shows the characteristic shapes of each skill group.  
We provide three statistical tests for optimal $k$ and show the findings are qualitatively robust to some variations (see SI Sec.~\ref{supsec:skill clustering}). Throughout analyses, we mainly analyze the effects of general and specific skills to filter possible noises.

This group is consistent with the local reaching centrality measure, which was used to embed nodes vertically in Fig.~\ref{fig:Figure 2} (b). 
The local reaching centrality is defined as the proportion of the skill hierarchy structure that is reachable from a skill via outgoing edges \cite{Mones2012}. The higher reaching centrality in the hierarchy structure is, therefore, the more interdependent skills. As such, this measure offers additional indicators of skill generality. 
% LRC is calculated by networks global_reaching_centrality with an option for local.


%%--------------------------------------------
\subsubsection*{Conditional Probabilities for Skill Hierarchy Structure}


The conditional probability that infers the directionality operates on binary values, but skill levels are recorded in continuous variables [0,7], which makes it hard to apply the conditional probability method. We use the disparity filter to extract a statistically significant presence/absence in an occupation-skill matrix \cite{Serrano6483}.
Parameters are chosen such that i) the rank of skill terms in the strength (from the weighted network) and degree (in the binary network) is preserved, ii) the rank of occupations' skills of each category in the weighted network is preserved in the binary network.
Supplementary Information Section \ref{supsec:skill-occ} discusses details and compares the state of data before and after the transformation.

We then calculate conditional probabilities of every pair of skills in the transformed (binary) matrix to infer dependence and directions between two skills, following \cite{Jo2020}.
%% The expanded description of the method for producing the skill hierarchy (comment 1.2.)
We first account for the significance of conditional appearances, subject to a threshold, $z_{th}$.
Here, $z_{th}$ is a threshold for the extent to which we eliminate chance from two skills being used in the same occupation.
Given the significant skill pair conditional appearances, we estimate conditional probabilities $P(u|v)$ and $P(v|u)$. 
The direction of dependence $v \rightarrow u$ is set when $P(u|v)$ is \textit{substantially} greater than $P(v|u)$, subject to a parameter $\alpha_{th}$, which is differentially weighted for each pair of skills so that it accounts for heterogeneous skill node degrees (see Eq.~\ref{eq: a_th} in SI Section \ref{supsec:conditional dependencies}).
The magnitude of the dependence is a parametric function of the difference between the conditional probabilities of observing $u$ and $v$, and the null model that accounts for the estimated number of shared occupations between them, given the degrees of $u$ and $v$.as shown by Eq.~\ref{eq: dependency weight} in SI Section \ref{supsec:conditional dependencies}.
Figure \ref{fig:Figure 1} (d) broadly illustrates the intuition behind this methodology.
Figure \ref{fig:Figure 2} (a) presents a backbone structure of the aggregated all skill pairs, where the edge weights follow the magnitudes of pairwise dependencies, as described above.
Figure \ref{fig:Figure 2} (b) offers the full network.
Please see SI Section \ref{supsec:conditional dependencies} and \cite{Jo2020} for the detailed procedures and choices of parameters and thresholds. 

% First, we use a disparity filter to make a binary network of only statistically significant edges relative to randomness.
% Second, the direction and strength of the dependency using conditional probabilities $P(u|v)$ and $P(v|u)$
% for $P(u|v)<P(v|u)$ and directed edge $u \rightarrow v$ with a weight $\alpha(u,v) $.
% We exercised caution in interpreting the outcome of this step as $v$ being a dependent of $u$.
%\begin{equation} \label{eq: LRC}
    %C_R(u) = \frac{1}{N-1}\Sigma_{v:0<d^{out}(u,v)<\infty}(\frac{\Sigma_{k=1}^{d^{out}(u,v)}\alpha^{(k)}(u,v)}{d^{out}(u,v)})
%\end{equation}
%Where $N$ is the number of nodes in the network, $d^{out}(u,v)$ is the length of the directed path that goes from $u$ to $v$ via out-going edges, and $\alpha^{(k)}(u,v)$ is the weight on the $k^{th}$ edge along that path, as it is derived in the skill hierarchy.
% To calculate the number of paths of length $l$, we employ the weighted-directed adjacency matrix, $M$, and raise it to the power of $l$, yielding $M^l_{i,j}$.


\subsubsection*{Reachability with Arrival Probability} %--
To quantify what are the chances of getting to the focal skill $j$ given the pre-requisite skill $i$, we calculate reachability from one skill to a focal skill. It is basically arrival probability, or a version of hitting probability, of a random walk \textit{arriving} at $j$ from node $i$ given 
the weighted skill dependency network \cite{norris1998markov}.
For source and target skills $i \neq j$, this is numerically equivalent to first deriving the probability of random walks of length $l$ by raising the weighted-directed adjacency matrix (skill dependency network in Fig.~\ref{fig:Figure 2}), $M$, to power $l$, and then calculating  $R_{i,j} = \Sigma_l M^l_{i,j}$.
We obtain the final arrival probability by summing over a sufficient number of path lengths until reaching saturation points. To compute arrival probabilities for focal skills (such as Programming, Negotiation, and Repairing) in Fig.~\ref{fig:Figure 2} (b-f), we apply the R package \textit{markovchain} \cite{MarkovchainRPackage}.

% Note that: The package uses skill-occ, not occ-skill matrix (where skills and occupations correspond to species and sites in ecology). Note that the skill-occ matrix is the matrix after the disparity filter because the package needs binary entries. 
% Nestedness: Coordination, AdministrativNODFe & Management, Social Perceptiveness, Service Orientation.
% Given the form $c_s$ takes, we use the threshold of 0. Therefore, we designate skills with nestedness contribution beyond the threshold as \textit{nested} and others \textit{un-nested}.
% We use checkerboard score as our primary measure, but NODF also gives good agreement.

%\subsubsection*{Nested Structure in Skill Hierarchy} 
\subsubsection*{Nested and Unnested Skill Categories} 
Nestedness is a structural characteristic that describes interactions in an ecological system, where specialist species often interact with a subset of generalists. 
Unlike ecological systems, however, SI-Fig.~\ref{fig:occ_skill_nestedness_mat} shows the skill-occupation matrix is a noisy nested structure far from the perfect upper-left triangle when sorted by marginal totals (fills).
This imperfect nested structure may account for the constraints on occupations (limited carrying capacity), introducing severe competition between skill species. Indeed, SI-Fig.~\ref{fig:occ_vs_skill_importance_avg_cos} shows, unlike broad skill generality, the occupation's scope is narrowly distributed, indicating 
that the total amount of skill levels embodied in an occupation is not much different from each other, regardless of how much they are paid and how advanced education is needed (see SI Sec.~\ref{suppsec:nestedness}).


We attribute occupations' limited scope of skills to the limited attention and cognition/physiological capacity that individual workers can offer. There is only so much a single person can equip and do for a single job \cite{BenJ2009, DUNBAR1992}. Thus, individuals' capacity restricts how many skills an occupation can bundle. This constraint explains the process of specializations needed for a complex job. The structure now includes not only nested structure but also mutually exclusive presences, possibly due to competition between skills within an occupation. 
In contrast to occupations, skills do not have such constraints. Therefore, for limited occupation scope, we only consider the skills' contribution to nested structure.  

 
This constraint distinguishes the nestedness of extensive economies such as nations, regions, and urban areas from the nestedness of occupations in that specializations dominate the evolution of the labor market while others are dominated by diversification. 
As a result, the skill-occupation matrix is expected to be modular as well as nested with mutually exclusive modules. \textit{Nested-modular matrix} is a complicated structure and will be beyond our current scope \cite{Fortuna2010, VanDam2021}. Here, we will focus on individual skills' contributions to the nested structure and differentiate skills that contribute to the nested structure from those that do not. 

Therefore, we quantify a skill's contribution to the nested structure, i.e., nested score, $c_s$, defined as a deviation from a null model where the edges of a focal node $s$ to occupations are randomly reassigned, that is, $c_s = (N - <N^{\ast}_s> ) / {\sigma_{N^{\ast}_s}}$.
$N$ is a nestedness score, and $<N^{\ast}_s>$ and $\sigma_{N^{\ast}_s}$ are the means and standard deviation derived from the null model \cite{Saavedra2011}. For each focal skill $s$, we run 5,000 iterations \cite{SergeiMaslov2002}. We employ the overlap index, checkerboard score, Temperature, and NODF, nestedness scores commonly used in ecology, to quantify nestedness $N$ \cite{write1992, Stone1990, Atmar1993, Almeida-neto2008}.
In addition, we only consider skill's contribution and do not occupation's contribution.
To obtain discrete categorizes, any non-general skill with $c_s>0$ is called ''nested'' skills, and ''un-nested'' otherwise. The resulting skill categories are shown in Fig.~\ref{fig:nestedness}.
The detailed allocation of skills to these categories are outlined in SI Table \ref{tab:skill_split_C_nestedness}, and SI Sec.~\ref{suppsec:nestedness} offers details and robustness checks.

% If you mean highest in terms of nested specific skills, here are the top 5 in 2019:
%1. Physical Medicine Rehab Physicians
%2. Anthropology and Archeology Teachers (postsecondary(
%3. Biomedical Engineerings
%4. Archeologists
%5. Surgeons

%We then calculate an occupation's average nested skill, for example, as $\Sigma_{s \in nested} \; m_{o,s}$ divided by the number of nested skills where $m_{o,s}$ is the occupation-skill matrix that was used above. 
%SI Section \ref{supsec: add - returns to skill} includes additional analysis using the average of occupations' top five skills, instead of the entire skills within each category, in all analyses and found consistent results. 



% M above is a hierarchical tree where m_o,s is occupation-skill matrix. 
%Education, workplace experience, and training are available at the level of 8-digit SOC. However, wage and employment are available at 6-digit SOC codes. Therefore, to link detailed worker attributes with the former job attributes, we match BLS and O*NET data using 8-digit SOC.
%We match the two datasets by aggregating sub-occupations into the 6-digit codes to link wages, education, and employment with detailed worker attributes. 
%From O*NET, we also obtain educational requirements for occupations at 8-digit SOC codes.
%\subsubsection*{Education and Wage Information}
\subsubsection*{Educations}
Education variables in O*NET are categorized into twelve discrete grades, ranging from below high school (1) to post-doctorate (12). 
Each occupation includes the proportion to which corresponding sampled employees had to have a given educational level to be hired. 
With this information, we calculated an occupation's associated education variable as a weighted average of the employees. 
For instance, Chief Executives' expected education variable $<edu>_o$ is calculated as $\Sigma_e f_e \cdot edu_e $ where $f_e$ is a fraction of CEO whose education is $e$, and $edu_e$ is a corresponding value of education category, ranging 1 for below high school to 12 for post-doctorate.
For an educational requirement to a skill $s$, $<edu>_s$, we average the skill's education levels of occupations, $<edu>_o$, weighted by the level of skill, $\text{Level}$, that is $\frac{\Sigma_o \; <edu>_o \cdot \: \text{Level}_{o,s} }{\Sigma_o \text{Level}_{e,o}}$.

%We obtain annual wages in the years 2019 and 2005 from the BLS. However, unlik education wage information is available at the level of 6-digit SOC codes.
%Therefore, all wage analysis use annual wage information at the level of 6-digit (663 items with available wage and skill information in our 2019 sample) occupations and aggregate skills by averaging over the corresponding 8-digit occupations for which we have skill information (789 items with wage and skill information).
%For instance, Chief Executives (SOC: 11-1011) corresponds to 8-digit occupations: Chief Executives (SOC: 11-1011.00) and Chief Sustainability Officers (SOC: 11-1011.03). For all wage analysis, the skill information of Chief Executives and Chief Sustainability Officers are averaged for Chief Executives (SOC: 11-1011).


% \footnote{\tiny\url{https://www.bls.gov/cps/demographics.htm#age}}f
% BLS crosswalk https://www.census.gov/topics/employment/industry-occupation/guidance/code-lists.html
% (mapping 968 to 542 occupation codes) Out of the unmatched 628 O*NET occupations, we link 55 more occupations to their CPS counterpart using text analysis and matching of occupations' titles in O*NET and CPS. Our results are robust to the presence or absence of the latter 55 occupations. See supplementary information for more detail. # we no longer do this extra matching.
%  We aggregate occupation skills for each skill category (\textit{general, nested intermediate and specific, and un-nested intermediate and specific}). Taking an average for each US county using the county employment of occupations as weights, we derive a regional measure of skill endowment for each skill sub-type.
% For each demographic subgroup (e.g., Asian male workers), we derive a skill endowment by linking their occupation as coded in CPS to their corresponding skills in O*NET 2019.
% CPS also records education and income wages. We adjust wages for inflation, and account for the number of hours worked, also recorded by CPS, by computing an adjusted weekly wage that is more readily comparable across the population.
% Among demographic variables, Whites, Blacks, and Asians, which constitute the bulk of the sample. CPS data also contains a separate (from race) variable for identifying Hispanic individuals. 
%occupational employment for Metropolitan and nonmetropolitan areas\footnote{\tiny\url{https://www.bls.gov/oes/}} published by the Bureau of Labor Statistics (BLS) at the level of 6-digit SOC occupations.
% The geographical units in the data are Core-based Statistical Areas (CSAs).
%US counties follow the Federal Information Processing System (FIPS) taxonomy.
%To obtain employment at the level of FIPS and map skill information onto US counties, we used a crosswalk also provided by BLS\footnote{\tiny\url{https://www.bls.gov/oes/current/msa_def.htm}}.
% The data also contains the date range spent on corresponding jobs in most cases.
% We extract the start and end date from the job range field using a Python 3 package called \textit{datesparser} version 1.1.4 we preprocessed the field to improve the performance of the package.
% We omit any record without a properly extracted start and end date.
% Sorting occupations that appear in each resume based on the start and end dates allows us to form a career trajectory for each resume.
% We omit problematic job moves, including job changes where the source and target occupations are the same (i.e., moving from one company to another without changing the occupation), jobs shorter than a year, and multiple jobs (more than one job at the same time) (i.e., someone is a teacher and a technician at the same time. This is problematic for our calculation. We keep the job at which the person started first, or stayed longer).
% The decision to remove such occupations arises from the oddity we observed in most such jobs. For instance, various janitors or models became a CEO immediately or with overlapping periods.
% That leaves us with over 10 million job moves and over 5 million unique resumes.
\subsubsection*{Demographic Distribution of Skills}

Median ages of workers in each occupation are derived from the Current Population Survey (CPS) of the year 2019, and synthetic birth cohorts from individuals born in each year are created from the individuals' survey conducted jointly by the U.S. Census Bureau and the Bureau of Labor Statistics \cite{Flood2022}. Different occupational taxonomies between the two datasets are mapped by the BLS crosswalk.

\noindent\textbf{Synthetic birth cohorts}:
The Current Population Survey (CPS) conducts monthly surveys to obtain a representative sample of the population in each round \cite{Flood2022}.  However, this longitudinal survey does not span over a long period of time, which presents a challenge when attempting to analyze long-term trends. To address this issue, we employ the concept of synthetic cohorts. Synthetic cohorts are constructed by stitching together snapshots of individuals born in the same year across different survey rounds. For example, to create a synthetic cohort for those born in 1970, we first identify people whose birth year was 1970 in the CPS surveys conducted in 1995, 1996, 1997, and so on, up to 2015. We then plot the data for this cohort as if we have been following the individuals born in 1970 throughout their ages, as shown in the inset of Figure 4.

It is important to note that this cohort is referred to as a ``synthetic birth cohort'' because it is not a real cohort in the traditional sense. The individuals surveyed by CPS in each round are different, even though they were all born in the same year. By following individuals born in the same year across multiple survey rounds, we can track changes in the behaviors or characteristics of interest as people age, albeit with different individuals representing the cohort at each point in time.

While synthetic cohorts do not provide the same level of individual-level consistency as true longitudinal studies, they offer a valuable tool for analyzing long-term trends and changes within a specific age group when long-running longitudinal data is not available. This approach allows researchers to leverage the representative nature of the CPS surveys to gain insights into the evolution of various social, economic, and demographic characteristics over time, and thus a common practice across various literature \cite{Acemoglu2011, KambourovGueorgui2013ACNO, Hermo2022, Aeppli2022}.

\noindent\textbf{Demographic analysis}: CPS microdata also include gender and race/ethnicity demographic information. 
We chose four categories, Whites, Blacks, Asians, and Hispanic, as they are the bulk of the sample, and any individuals of Hispanic background are included in that category for Fig.~\ref{fig:Figure 7}. 
To avoid attrition and early retirement, we include only full-time workers employed at the time of the survey, earning at least \$10,000 annually, and between 18 and 55. 
For each demographic category, the average skill level is calculated for their occupational composition.
The microdata records individuals' wages and the number of hours worked. 
We adjust wages for inflation and account for the number of hours worked to compute an adjusted weekly wage, which is readily comparable across the population. 
The race/ethnic disparities in Fig.~\ref{fig:Figure 7} are a ratio of each demographic quantity (general level, nested level, unnested levels, education, and weekly wages) to those of White workers, following \cite{Tong2021} identifying a dominant social group, a social group if it is at least 1.5 times more likely to be employed in the focal occupation. 
Likewise, the gender gap within each race/ethnicity is measured as a ratio of those quantities to those of male workers.
Because we do not have a matched sample, we obtain 95\% confidence intervals by random sub-sampling. In each iteration, we take 10\% of the subpopulation of interest, for instance, Asian male and Asian female workers, and estimate all corresponding measures. 
Repeating this sampling and estimation process in 10,000 iterations, we obtain the distribution for each estimation and derive the 95\% confidential intervals.
The skill, education, and wage estimations of Fig.~\ref{fig:Figure 7} average over the years. Supplementary Figs.~\ref{fig:Temporal Race Gaps - Skills, Education, Wages} and \ref{fig:Temporal Gender Gaps - Skills, Education, Wages} capture temporal patterns of these factors, exhibiting the gaps have narrowed over time.
In addition, SI Figs.~\ref{fig:Skill Age Gender Race Trends} and \ref{fig:Skill Age Gender Race Trends - year effects} show the skill differentials between male and female workers that start around the age of 30 (main Fig.~\ref{fig:age}), manifest across racial and ethnic groups.


%% Geographic Data ---------------------------
% \textbf{Geographic Analysis}: To construct skill maps in Fig. 6, we calculate each category's skill levels in the U.S. county. 
% The BLS provides occupational compositions for each county, from which the average skill level is calculated. 
% We then calculate the national average and the standard deviation for each skill category to derive a standard score (also known as z-score). 
% For Fig. \ref{fig:Geography}~(d), we group cities (core-based statistical areas) by populations [$<$ 10 thousand, $<$ 50 thousand, $<$ 1 million, and $>$ one million] based on the 2010 Census population estimates.
%Figure \ref{fig:Geography}~(e), we group cities by the intensity of their manufacturing industries, using the U.S. Census County Business Patterns in 2019. 
% At the 2-digit NAICS codes, we take 31-33 as manufacturing industries and calculate the location quotient of manufacturing employment (the ratio of manufacturing employment from the metro area total employment over the nationwide ratio).
% Matching metro areas to counties, we designate counties with no manufacturing employment to group `None', and group the rest based on quotient 33\% and 66\% quantiles of the measure into bottom, middle, and top. 



\subsubsection*{Skill Compositions in Career Trajectories}
The expected skill levels of each category in the career sequences. 
We studied over 70 million job sequences (8-digit SOC) in 20 million individual resumes from Burning Glass Institute between 2007 and 2020.  
We then calculate the expected skill levels in $i$th job by averaging the skill levels of those occupations appearing in $i$th sequences, shown in Fig \ref{fig:age} (g-h). 
From these sequences of averaged skill levels, we calculate skill level changes in $i$th job transition levels, $\Delta_i$, shown in Fig. \ref{fig:age} (i).  

We exclude job transitions shorter than one year or within an occupation (i.e., moving from one company to another without changing the occupation) for our primary analyses. 
The decision to remove such occupations arises from the oddity we observed in most such jobs. For instance, various janitors or models became CEOs immediately or with overlapping periods.
Nevertheless, our findings are robust to this decision (see SI Sec \ref{supsec: skill dependencies and age} for details). 

To see if the observed trends are truly attributed to career trajectories, we shuffle job history in resumes, bootstrapping the job sequences to produce a benchmark and compare it with the skill changes we empirically observed in career moves in Fig. \ref{fig:age} (i), confirming that the empirically observed trends are unique to the career trajectories.  



\subsubsection*{Temporal Evolution of Skill Structure} 


We utilize this evolution of skill structure to demonstrate the implication of our constructed nestedness skill structure. 
We choose two sufficiently apart datasets to capture the structural difference, that is, 
version 9.0 in 2005 because it is the first version comparable to the most recent version while offering satisfactory coverage of occupational information (such as education and wage), and version 24.1 in 2019 because it is the most recent version without the potential contamination of irregular patterns due to the pandemic. 
The empirical challenge is that the classification system is continuously updated in response to technological progress, economic transformation, and social reconfiguration \cite{Park2020}. 


%2005 O*NET complies with \textit{O*NET SOC 2000}, while 2019 O*NET relies on \textit{O*NET SOC 2010}, with two other taxonomy changes in between in 2006 and 2009.
%Therefore, identically encoded occupations may not be comparable across these two years, and matching them requires a crosswalk.
%While O*NET reports crosswalks between each consecutive taxonomy, a direct crosswalk does not exist between 2005 and 2019.
We created a crosswalk between occupation classifications in 2005 and 2019 that is not immediately available but only between two consecutive years.  
Occupation codes in 2005 are matched to those in 2006, and then those in 2006 to 2009, ... to 2019. Our crosswalk automatically matches 968 occupations in 2019 skill data and 941 unique occupations in 2005 skill data, and the rest are manually matched.
Using these occupations and their skill levels in 2005, we construct the skill structure of 2005 in Fig. ~\ref{fig:historical skill change} (c), using comparable parameters and layouts for both years to make the networks most comparable (see SI). 

% We calculate the difference of the averaged skill level of a skill $s$ between the years 2005 and 2019 as in equation \ref{eq: skill change}:
%\begin{equation} \label{eq: skill change}
    %\Delta(s)_{2019,2005} = Level(s)_{2019} - Level(s)_{2005}
%\end{equation}


\section*{Acknowledgement}
H. Y. and M. H. acknowledge the support of the National Science Foundation Grant Award Number EF-2133863.
The authors are grateful to Yong-Yeol Ahn, Inho Hong, Hyunuk Kim, Balazs Lengyel, Muhammed Yildirim, James McNerney, Morgan Frank, Ljubica Nedelkoska, Christopher Esposito, Ulrich Schetter, Serguei Saavedra, James Evans, and Brian Uzzi for their valuable discussions and feedback.
F.N. gratefully acknowledges financial support from the Austrian Research Agency (FFG), project \#873927 (ESSENCSE).

% \bibliographystyle{naturemag}
% \bibliography{scibib.bib}

\printbibliography



%%%%%%%=======================================================================================================%%%%%%%
\clearpage
\beginsupplement
\fontsize{11}{12}\selectfont
%% Introduction of SI ---------------------------
\section*{Supplementary Information: Nested Skills in Labor Ecosystems: A Hidden Dimension of Human Capital}
\thispagestyle{empty}

% In this introduction, we offer a guide to the content of the supplementary informtation document and the correspondance between each section to the materials offered in the main text.


Section \ref{supsec:skill clustering} offers details on the statistical derivations and robustness checks corresponding to the results on Generality in the main text (Figs.~\ref{fig:determining_k_level}-\ref{fig:skill_level_dist_cor_k=4}), and the resulting skill groups (Tab.~\ref{tab:skill_groups}) introduced in the main Fig.~\ref{fig:Figure 1}~(a-c) and used across the paper.

Section \ref{suppsec:nestedness} expands on the nestedness of occupation-skill networks in part shown in Fig.~\ref{fig:nestedness} and used throughout the paper.
It describes the rationale for (Fig.~\ref{fig:occ_vs_skill_importance_avg_cos} and \ref{fig:occ_skill_nestedness_mat}), the methodology of measuring skill-level contribution to nestedness, alternative measurement of skills' contributions, the results based on different measures (Fig.~\ref{fig:Skill Nestedness Contribution - C}-\ref{fig:Skill Nestedness Contribution - NODF}), and the resulting split of skills based on nestedness we used throughout the paper (Tab.~\ref{tab:skill_split_C_nestedness}).
It also includes an alternative approach to splitting skills based on correlation, which yields consistent results(Tab.~\ref{tab:skill_split_alt}).


Section \ref{supsec:conditional dependencies} articulates the construction of the skill hierarchy of the main Fig.~\ref{fig:Figure 2}~(a and b).
It describes how we derive conditional probabilities between pairs of skills (which is briefly introduced in Fig.~\ref{fig:Figure 1}~(d), the choice of parameters (Figs.~\ref{fig:comparison_skill_deg_before_after_binarization}-\ref{fig:YY z-score distribution}), and sensitivity analysis (Figs.~\ref{fig:a-threshold and z-threshold sensitivity analysis}).
% -\ref{fig:YY_param_robustness_zth_5.5}).
% For a variety of parameters a similar hierarchical structure emerges, but withdrew visualizing the network with alternative parameter choices for the sake of space-- these visuals can be shared upon request.
Figs.~\ref{fig:full_figure_2b_labeled} and \ref{fig:figure_2b_labeled} show the full and backboned skill hierarchy network with all skill labels attached.
The section highlights the linkage between our skill hierarchy and a skill co-occurrence network (Fig.~\ref{fig:Network_Skill_Complementarity_RCA_modularity_colored}), and offers two cases based on comparing registered nurses with nurse practitioners (Fig.~\ref{fig:RN vs. NP}), and the skill entrapment of some immigrants (Figs.~\ref{fig:skills_of_different_Hispanics}-\ref{fig:hispanics language skills}), to showcase how the skill hierarchy captures career progress.



Section \ref{supsec: skill dependencies and age} expands on the temporal analyses reported in the main Fig.~\ref{fig:age}. We have explicated the preparation process (Figs.~\ref{fig:BG_skill_change_fig_full}-\ref{fig:BG_fullfig_cleaned} and Tab.~\ref{tab:odd job sequences}) Bootstrapping of the job sequences in resume data (Fig.~\ref{fig:BG_skill_change_single_bootstrap}-\ref{fig:BG_skill_change_bootstraps}), and included the result for all skill cateogires (Fig.~\ref{fig:BG_fullfig_dynamic}).
We also include details about the analysis of median age of workers (Fig.~\ref{fig:occupations' median age and skill - full fig}), and the analysis of synthetic birth cohorts based on CPS (Fig.~\ref{fig:individuals' age and skill - year effects}).
As robustness checks, we also show that the skill development observed in the main Fig.~\ref{fig:age} continues long after education (Fig.~\ref{fig:individuals' age and skill and education}) and also emerges for individuals without college education (Fig.~\ref{fig:individuals' age and skill - no college}).


Section \ref{supsec: add - returns to skill} expands the analyses of the main Fig.~\ref{fig:Wage}, capturing the correlation of occupational wages, educational requirement, and experience with their average levels of each skill category (Fig.~\ref{fig:SI_education_skill_level}-\ref{fig:SI_wage_skill_level}), supplements these results by robustness checks, using alternative measures of skill levels (Fig.~\ref{fig:SI_education_skill_level_top5}-\ref{fig:SI_wage_skill_level_top5}), and regression analyses (Tab.~\ref{tab:wage reg on skill endowment}).
We show the robustness of the main wage findings across major occupational groups (Fig.~\ref{fig:Figure 3 full | major occupation groups}), replicate the main Fig.~\ref{fig:Wage} based on the data of year 2005 (Fig.~\ref{fig:Wage and education 2003}), and finally show the correlation between levels of each skill categories and occupational automation risk \cite{Frey2017} (Fig.~\ref{fig:occ_FOautomation_skill}).


Section \ref{section: add - geographical distribution of skills} offers a descriptive geographic analysis of skill distribution.
We offer evidence that part of the urban wage premiums is explained by the distribution of general and nested skills (Tab.~\ref{tab:urban wage premium}, and Figs.~\ref{fig:geo_dist_level_general_skills_employment_weighted}-\ref{fig:skill_and_manufacturing_full}), but leave an in-depth study of the topic for future work.
% , and manufacturing intensity (Figs.~\ref{fig:Geography}-\ref{fig:skill_and_manufacturing_map}).


Section \ref{section: add - demographic distribution of skills} extends the demographic skill analysis of the main Fig.~\ref{fig:Figure 7}, in Fig.~\ref{fig:racial and gender skill endowments}.
Figs.~\ref{fig:Temporal Race Gaps - Skills, Education, Wages} and \ref{fig:Temporal Gender Gaps - Skills, Education, Wages} capture temporal patterns of these factors, exhibiting the gaps have narrowed over time.
Fig.~\ref{fig:Skill Age Gender Race Trends} depicts that racial/ethnic and gender differentials in skills follow similar age trends observed in the main Fig.~\ref{fig:age}, and are robust to time-variant economic factors (Fig.~\ref{fig:Skill Age Gender Race Trends - year effects}).
In Fig.~\ref{fig:Parenthood_Male_vs_Female}, we highlight the differential influence of parenthood on male and female workers, observed in the diverging growth of general and nested skills in the main Fig.~\ref{fig:age}.


Section \ref{supsec: historical skill change} expands on the changes in occupational skill requirements between 2005 and 2019 (the main Fig. \ref{fig:historical skill change}), and the resulting changes in the skill hierarchy (Figs.~\ref{fig:occupation groups historical changes to skill cluster and type levels}-\ref{fig:Figure_7_supp}). 
The section also provides a brief discussion of the changes in the occupational taxonomy (Fig.~\ref{fig:soc match coverage}).


Section \ref{supsec:robustness checks} offers a battery of robustness checks on whether administrative and managerial occupations (Figs.~\ref{fig:determining_k_kmeans_70bins_correlation_no_manager_start}-\ref{fig:skill_and_age_no_manager} and Tab.~\ref{tab:list of manager occupations}) or social skills (Figs.~\ref{fig:social skills}) derive the increasingly important role of general skills.


\clearpage
\tableofcontents

% %%----------------------------------------------------------------------------%%
%\newpage
%\section{Occupational Skills} \label{subsec:notation}
%
%One can construct for an individual $i$ a vector $H_i = [h_{s_1}, h_{s_2},...,h_{s_M}]$, where each element captures a specific aspect of human capital or skills, $s \in [s_1, s_2, ..., s_M]$, from population $M$ of skills. In this case, a system's economy is a function of 
%$\bm{H} = [H_1, H_2, ..., H_N]$
%% \begin{bsmallmatrix}
%%   H_1\\
%%   H_2\\
%%   ...\\
%%   H_N \end{bsmallmatrix}
%, in which each element denote the human capital vector of a worker $i \in [1, 2,..., N]$ from the population $N$ of workers.
%
%
%With the above perspective in mind, we delve into the occupational Information Network (O*NET) which forms the primary source of our skills.
%Accommodating O*NET data with the above model requires recognizing that occupations, as opposed to individuals, are units of observation. 
%O*NET contains 120 skill items and 968 occupations identified by 8-digit Standard Occupational Classification (SOC) codes. Cast as the model discussed above, O*NET skill data, $\bm{H} = [H_1, H_2, ..., H_{N_o}]$, 
%% \begin{bsmallmatrix}
%%   H_1\\
%%   H_2\\
%%   ...\\
%%   H_{N_o}
%% \end{bsmallmatrix},
%is the matrix formed by stacking human capital vectors of occupations, $H_o = [h_{s_1}, h_{s_2},...,h_{s_M}]$. Since occupations, as opposed to individuals, are units of observation in O*NET, each element $h_{o,s}$ of $\bm{H}$, shows the intensity with which collection of workers $i \in o$ use any one skill $s$. In O*NET, each skill is linked to every occupation, wherein the intensity of use is documented with two measures: \textit{Importance}, $H^{<Importance>}_{o,s}$, and \textit{Level}, $H^{<Level>}_{o,s}$.
%
%
%
%
%
%With the above perspective in mind, we delve into the occupational Information Network (O*NET) which forms the primary source of our skills.
%Accommodating O*NET data with the above model requires recognizing that occupations, as opposed to individuals, are units of observation. 
%O*NET contains 120 skill items and 968 occupations identified by 8-digit Standard Occupational Classification (SOC) codes. Cast as the model discussed above, O*NET skill data,
%$\bm{H} = [H_1, H_2, ..., H_{N_o}]$
%, is the matrix formed by stacking human capital vectors of occupations, $H_o = [h_{s_1}, h_{s_2},...,h_{s_M}]$. Since occupations, as opposed to individuals, are units of observation in O*NET, each element $h_{o,s}$ of $\bm{H}$, shows the intensity with which collection of workers $i \in o$ use any one skill $s$. In O*NET, each skill is linked to every occupation, wherein the intensity of use is documented with two measures: \textit{Importance}, $H^{<Importance>}_{o,s}$, and \textit{Level}, $H^{<Level>}_{o,s}$.
%
%Two projections of $\bm{H}$ are possible: 1. \textit{Occupational projection}, $\bm{H}^{<O>}$, denotes occupations' skill distributions, obtained by considering rows of $\bm{H}$ as units. This projection describes occupations' by the intensity with which they use skills. 2. \textit{Skill projection}, $\bm{H}^{<S>}$, which contains skills' usage distributions, obtained by considering the columns of $\bm{H}$ as units. They characterize skills by the intensity with which they are used across the economy. It is the second projection that we consider here.
%
%All 120 skills, knowledge, and abilities (from here on skills for short) in the O*NET data are linked to every occupation found in the skills dataseta total of 968. 
%There are two ways to measure skill levels required for effective work performance: the level of sophistication (ranging between 0 and 7), and the level of importance/vitality those requirements are (ranging between 1 and 5). These two skill levels are highly correlated ($Pearson Correlation = 0.94$).
%
%We use the level at which O*NET reports occupations use a skill to form a demand distribution for each skill by assuming that basic, general skills are broadly needed, while specialized skills are in much narrower demand.
%Hence, the shape of a skill's demand distribution will reveal its generality versus specificity.
%We chose the skill level as our main measure of relating occupations and skills because we reason the level that captures the necessary sophistication and adeptness is more consistent with our hypothesis of skill progression and hierarchy.
%Still, the correlation and the fundamental classification of skills are robust to using importance measures.
%
%%%----------------------------------------------------------------------------%%
%% By observing the shape similarity and semantics of skills, we concluded the clustering offered by the Cosine techniques is superior.

\clearpage
\pagenumbering{arabic} 
\section{Skill Groups} \label{supsec:skill clustering}

%\subsection*{Clustering Algorithms}
We obtain data-driven categories of skill generality by grouping skills based on their Level Distributions. We employ a $k$-means clustering algorithm (see Fig.~\ref{fig:Figure 1} in the main) and supplement the results with two more measures of skill generality (the average skill level and occupation counts), explained later in this and the next sections. Here, we discuss clustering skills based on their distribution shapes, as Fig. 1 shows in the main text. 


The $k$-means clustering algorithm requires two inputs, a distance metric and the number of clusters, $k$. We choose the correlation distance (as in equation 1) for the former and $k=3$ for the latter. We did not use Euclidean distance because it does not differentiate the shape distributions as inputs compared to correlation. 
Second, we choose $k=3$ because it seems to be in the range of optimal numbers (2-4) from various statistical tests shown in Fig.~\ref{fig:determining_k_level}. Finally, we provide two alternative categories of skill generality, which are consistent with the results of the $k$-means clustering. 


To measure the correlation similarity among the distribution shapes, we binned the distribution with intervals of 0.1. For instance, the skill level ranges from 0 to 7, resulting in a vector of 35 entries, each corresponding to bins of [0,0.10), [0.10, 0.20),... 
Correlation similarities are measured across these vectors. 
Table S1 shows the assignment of skills resulting from $k$-means clustering (based on correlation similarity and $k=3$) used in the main text. 

\begin{equation}
    d = 1 - \frac{\Sigma_i x_i y_i - \frac{1}{n}\Sigma_i x_i \Sigma_i y_i}
    {\sqrt{\Sigma_i x_i^2 - \frac{1}{n}(\Sigma_i x_i})^2 \sqrt{\Sigma_i y_i^2 - \frac{1}{n}(\Sigma_i y_i})^2}
\end{equation}


We use three statistical tests to determine the optimal $k$. These include the elbow method, silhouette analysis, and gap statistics, as shown in Fig.~\ref{fig:determining_k_level}. These results suggest optimal numbers from 2 to 4. We provide the clusters resulting from each choice of $k$ in Figs.~\ref{fig:skill_level_dist_cor_k=3}-\ref{fig:skill_level_dist_cor_k=4}.
 

The conventional \textit{Elbow method} calculates the within-cluster sum of squares for different numbers of clusters $k$ in order to find a sharp decline from one $k$ to another followed by a more gradual decrease in slope, where we find $k=3$ is the best. 
\textit{Silhouette analysis} \cite{ROUSSEEUW198753} measures the similarity of each observation with the cluster to which it is assigned, producing a metric that ranges from -1 (dissimilar) to 1 (similar). In determining the optimal $k$, one looks for the value at which the average (silhouette width) is maximum, providing $k=2$ for the optimal number. 
The \textit{Gap statistic} \cite{Tibshirani2001} compares the total intracluster variation for different $k$ with their expected values under a null model (i.e., a distribution with no obvious clustering, generated using (1,000 iterations of) Monte Carlo simulations of the sampling process,) wherein maximal intracluster variation is desired, providing $k=4$ for the optimal number.
To determine the optimal number of clusters, $k$, based on Gap Statistic, we used the criterion proposed by \cite{Tibshirani2001}, wherein the smallest $k$ such that the \textit{change} in intracluster variation, $f$, is smaller than an (error-adjusted) standard deviation, $s$ of the null model ($f(k+1) - f(k) \geq s_{k+1}$).


%% Determining Number of Clusters - levels
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Determining_k_-Kmeans_with_correlation-Level-_70_bins.png}
    \caption{\textbf{Statistical tests to determine the optimal $k$ for $k$-mean clustering algorithms}. The figure shows the results of Elbow method, Gap statistic, and Silhouette analysis}
    \label{fig:determining_k_level}
\end{figure*}


%% Determining Number of Clusters - importance
% I commented out this importance analysis to make the read simpler.
%\begin{figure*}[!h]
    %\centering
    %\includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/determining k - cosine - Importance - binwidth = 0.2.png}
    %\caption{Determining Number of Clusters for Skill Demand Distributions based on Importance Values.}
    %\label{fig:determining_k_importance}
%\end{figure*}


Figures \ref{fig:skill_level_dist_cor_k=3}-\ref{fig:skill_level_dist_cor_k=4} show individual skills within categories.
The number of groups does not change the order of generality of skills, which is central to our analysis. The context of our study encourages a focus on the most and the least general skills because those epitomize two skill categories of broad theoretical interest: general skills and specialized skills. Therefore, it is a practical choice for us to start with three clusters, focus primarily on the two extremes, and subject the skills in the remaining cluster to secondary examination.
Given the visual shapes of distributions and the semantic benefit of differentiating the most general and moderately general skills (so-called intermediate skills), we continue using $k=3$ in the main text.
%One can make arguments for and against other numbers of clusters.
% the one hand, using $k=2$, while theoretically appealing, appears to bundle skill distributions that are visibly different.
% the other hand, using $k=4$, enables a more fine-grained division of skills at the cost of semantic burden.
To reduce any inherent noise due to the skills between general and specifics, we choose $k=3$ and focus on general and specifics.
Table \ref{tab:skill_groups} shows the resulting split and offers some supporting statistics.

%% Distribution shapes and assignment - Cosine Regime - k = 3 (kernel width = 0.1)
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Clustering_Results_-Kmeans_with_correlation-Level-k=3-_70_bins.png}
    \caption{\textbf{Skill Level Distribution with $k = 3$.} Skills are in descending order of generality. The depicted distribution of skills is used in the main text.}
    \label{fig:skill_level_dist_cor_k=3}
\end{figure*}

%% Distribution shapes and assignment - Cosine Regime - k = 2 (kernel width = 0.1)
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.9\textwidth]{Nature_HB_2023/SI_figNHB/Clustering_Results_-Kmeans_with_correlation-Level-k=2-_70_bins.png}
    \caption{\textbf{Skill Level Distribution with $k = 2$.} Skills are in descending order of generality.}
    \label{fig:skill_level_dist_cor_k=2}
\end{figure*}


%% Distribution shapes and assignment - Cosine Regime - k = 4  (kernel width = 0.1)
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.9\textwidth]{Nature_HB_2023/SI_figNHB/Clustering_Results_-Kmeans_with_correlation-Level-k=4-_70_bins.png}
    \caption{\textbf{Skill Level Distribution with $k = 4$.} Skills are in descending order of generality.}
    \label{fig:skill_level_dist_cor_k=4}
\end{figure*}

%% Distribution shapes and assignemnt - Importance Regime - k = 2
%\begin{figure*}[!h]
    %\centering
    %\includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Ridge plot - cosine - importance - k = 2 - binwidth = 0.3 - Jun18 2023.png}
    %\caption{Skill Importance Demand Distribution and their Division by K-means given $k = 2$. Clusters and skills are organized (by order of generality) from left to right, and bottom to the top, respectively. We used a kernel width of 0.3 for the demand distributions.}
    %\label{fig:skill_importance_dist_cos_k=2}
%\end{figure*}
%
%%% Distribution shapes and assignemnt - Importance Regime - k = 3
%\begin{figure*}[!h]
    %\centering
    %\includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Ridge plot - cosine - importance - k = 3 - binwidth = 0.3 - Jun18 2023.png}
    %\caption{Skill Importance Demand Distribution and their Division by K-means given $k = 3$. Clusters and skills are organized (by order of generality) from left to right, and bottom to the top, respectively. We used a kernel width of 0.3 for the demand distributions.}
    %\label{fig:skill_importance_dist_cos_k=3}
%\end{figure*}
%
%%% Distribution shapes and assignemnt - Importance Regime - k = 4
%\begin{figure*}[!h]
    %\centering
    %\includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Ridge plot - cosine - importance - k = 4 - binwidth = 0.3 - Jun18 2023.png}
    %\caption{Skill Importance Demand Distribution and their Division by K-means given $k = 4$. Clusters and skills are organized (by order of generality) from left to right, and bottom to the top, respectively. We used a kernel width of 0.3 for the demand distributions.}
    %\label{fig:skill_importance_dist_cos_k=4}
%\end{figure*}



\clearpage
%% Resulting Skill Assignment to Groups - Table \label{tab:skill_groups}
\footnotesize
\input{Nature_HB_2023/tabsNHB/Jul_19_2023_-_Skill_Group_Assignments.tex}
\normalsize




%%----------------------------------------------------------------------------%%
\normalsize
\clearpage
\section{Skill Nestedness} \label{suppsec:nestedness}

\subsection{Nested Modular structure in Skills and Occupations}
% \label{suppsec:nestedness}

As the scope of knowledge expands, the need for specialization grows.
Unlike findings of the economic complexity about the nested landscape of national, regional, and urban capabilities \cite{Hidalgo2009, Bustos2022}, occupations often bundle few skills and therefore encompass much narrower knowledge domains.
While the main focus of our paper is revealing the underlying structure of workplace skills, noting the distinction is vital.
Here, we empirically offer evidence of the difference between occupation and skill scopes in two ways before discussing nestedness in the skill space.
We find higher variation among skills (in the number of occupations that demand a skill) than among occupations (in the number of skills an occupation demands), as seen in Fig.~\ref{fig:occ_vs_skill_importance_avg_cos}), suggesting a non-trivial nested structure (Fig.~\ref{fig:occ_skill_nestedness_mat}). 

Figure \ref{fig:occ_vs_skill_importance_avg_cos} shows the Level Distribution of skills (red) and the distribution of the total skill amounts in occupations (blue). To obtain the skill Level Distribution, one measures the demand for each skill and makes a distribution. For example, how much English skills are needed for the entire labor market or how much Physics skills are needed across occupations. The former is more broadly used (i.e., general) and therefore has a higher demand than the latter. A skill's demand is calculated by summing skill levels/importances in the occupations (red). 
Similarly, by adding the total levels/importance of each occupation, one obtains occupations' skill endowments, the total level of skills needed to undertake the job's tasks. 


Figure \ref{fig:occ_vs_skill_importance_avg_cos} shows, unlike broad skill generality, occupation's endowment is narrowly distributed. This narrow distribution indicates that the total amount of skills needed for an occupation is not much different from each other, regardless of how much they are paid and how advanced education is needed. We attribute occupations' limited scope of skills to the limited scope or attention that individual workers can offer. There is only so much a single person can equip and do. Thus, individuals' capacity restricts how many skills occupations can bundle. This constraint explains the process of specializations needed for a complex job. In contrast to occupations, skills do not have such constraints. While some skills are niche, general skills epitomize expertise of widespread demand, as they are needed in most occupations.

%% Distribution of Occupations' vs. Skill Average Importance
\begin{figure*}[!h]
    \centering
    \includegraphics[width=0.7\textwidth]{Nature_HB_2023/SI_figNHB/Comparison_of_Endowment_Density_Distribution_of_Skills_and_Occupations.png}
    \caption{\textbf{Scaled Density Distribution of Skill and Occupation Endowments.} Endowment for skills and occupations is calculated by averaging the intensity values for each column and row, respectively. We compute endowment using both intensity measures of Importance and Level. The results contrast for endowment distribution of skills from occupations. Unlike skills, occupations show closer average Importance values. This finding implies occupation's attention is constrained. Hence, they must allocate their limited attention to skills.}
    \label{fig:occ_vs_skill_importance_avg_cos}
\end{figure*}


This stark difference in the scope of occupations and skills requires quantifying the nestedness structure of the skill-occupation matrix differently. In ecological terms, there is no site/area/biome (occupation) that is large enough to nest other sites (occupations), whereas there are species (skills) that can nest other species (skills) as they can appear anywhere. 
This explains why Fig.~\ref{fig:occ_skill_nestedness_mat} shows the noisy nested structure in the skill-occupation matrix, far from the perfect nested triangle. The skill-occupation structure allows mutually exclusive presences, possibly due to competition between skills within an occupation. 

We construct and measure a nested structure of a skill-occupation matrix in Fig.~\ref{fig:occ_skill_nestedness_mat}. The original skill-occupation matrix's entry is a continuous variable (indication of the degree or point along a continuum to which a particular descriptor is required or needed to perform the occupation). But most conventional nestedness analyses require binary entries, and thus, we employ a disparity filter to make the matrix binary entries of statistically significant presences (see Sec.~\ref{supsec:skill-occ}). 
We then sort the matrix entries in descending orders of marginal totals \cite{Bascompte2003}. 
As Fig.~\ref{fig:occ_skill_nestedness_mat} shows, the result deviates from the perfect nested structure as an upper-left triangle. Nevertheless, the upper left is highly populated, indicating a nested structure. This imperfect nested structure may account for the constraints on occupations (limited carrying capacity), introducing severe competition between skill species. This constraint distinguishes the nestedness of extensive economies of nations, regions, and urban areas from occupation's nestedness, for which specializations dominate the evolution more than diversification. 
As a result, the skill-occupation matrix is expected to be modular as well as nested with mutually exclusive modules. \textit{Nested-modular matrix} is a complicated structure and will be beyond our current scope \cite{Fortuna2010}. Here, we will focus on individual skills' contributions to the nested structure and differentiates skills that contribute to the nested structure from those that do not. 
%But we would like to show here some results to build our logic for our current framework.
%The presence of specialization can be better highlighted if groups of occupations using similar skills, and groups of skills demanded by similar occupations were bundled in the matrix.
%In the right panel of Fig.~\ref{fig:occ_skill_nestedness_mat}, we first conduct Stochastic Block Model (SBM) on the skill-occupation space (to avoid the influence of binary transformation on the performance of SBM, we use the Level values as reported by O*NET as input to SBM) and then organized the blocks (and skills and occupations within those blocks) by their number of interactions.
%The result highlights specialization in non-general skills as skill-occupations blocks.
%Figure \ref{fig:occ_skill_nestedness_mat} shows that some occupations rely more heavily on general skills than others (the occupations on the left end).
%The implication of Fig.~\ref{fig:occ_skill_nestedness_mat} is that specialization plays a role in the structure of workplace skills.
%A secondary observation is the \textit{partially} nested structure, supplemented by a modularity measure.
%Nonetheless, the upper fill in both panels of \ref{fig:occ_skill_nestedness_mat} appears denser than a \textit{nested-modular matrix} \cite{Fortuna2010}.

%% skill-occupation Nestedness Matrix
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.5\textwidth]{Nature_HB_2023/SI_figNHB/Occupation-skills_Nestedness_Matrices_-_Jul_19_2023.png}
    \caption{ \textbf{The skill-occupation matrix} The occupations and skills of the matrix are arranged in descending order of their marginal fills (along the x and y axes, respectively.)}
    \label{fig:occ_skill_nestedness_mat}
\end{figure*}




% %% Skill-skill Nestedness Matrix
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Skill-skill Nestedness Matrices - Jun 21 2023.png}
%     \caption{Associations in the Skills Space.}
%     \label{fig:skill_skill_nestedness_mat}
% \end{figure*}

% %% Skill-skill Nestedness Matrix Labelled
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Nestedness Matrix with colored labels - Jun 21 2023.png}
%     \caption{Lebelled Skill Association Matrix Organized by SBM and Number of Interactions. Color coding of labels follows our skill clusters of the main Fig.~\ref{fig:Figure 1}.}
%     \label{fig:skill_skill_nestedness_mat_labelled}
% \end{figure*}


%Part of this space, likely corresponding to general skills and a subset of more specialized skills, manifests a significant degree of nestedness.
\subsection{Skill's contribution to Nestedness}

The above evidence reveals that the landscape of human capital is partially nested due to matching increasing complexity with specialization (perhaps, niche constructions), resulting in a nested-modular structure. 
We speculate that increasing complexity mainly generates nested structure, and specialization mainly generates modular structure. We think mathematical modeling of a labor ecosystem according to this insight can be extremely interesting, and we leave this for future work while we focus on empirical observations and quantifications for now. 


Due to the structural complications, described above, conventional approaches for quantifying nested structure (sorting the matrix to observe an upper triangle or calculating presences/absences accounting for a well-defined nested structure) are likely imperfect.
Instead, we look for skills' individual contributions to the current nested structure compared to their counterfactual contributions under a null model. 
For instance, \cite{Saavedra2011} proposes such an approach based on the idea of randomizing edges for a focal skill and comparing the nestedness in the simulated network with the observed value in the system. 
In our case, we create counterfactual worlds as if a focal skill can appear equally likely in any occupation. This equally probable null hypothesis randomly chooses a focal skill's occupations (edges) without considering education, domain knowledge, industrial requirements, or historical contingency, imposing the current socio-economic structure. 
Then, we measure an increase/decrease in nestedness by destroying the current imposition.  
For simplicity, this method is only available for a presence/absence bipartite network \cite{Bastolla2009, Almeida-neto2008}. We use the disparity filter \cite{Serrano6483} because the method preserves degree heterogeneity, which is crucial to distinguishing general from niche skills.
We explain this method in more detail in the supplementary section \ref{supsec:conditional dependencies}.


We use three commonly used metrics of nestedness (checkerboard score, Temperature, and NODF) to quantify nestedness $N$ at the level of the skill-occupation matrix.
Checkerboard score measures the deviation from nestedness as checkerboard appearance of fills \cite{Stone1990}. This score is consistent with the well-known nestedness index, $N_c$, counting the number of times that a species' presence at a site correctly predicts its presence at richer sites and sums these counts across species and sites \cite{write1992}. 
The presence of a checkerboard, an empty site when the nested site predicts the fill, decreases the nestedness. 
Temperature measures as the total number of ``surprises'' on the assumption of a perfectly nested matrix as temperature increases thermal noises to destroy perfect structure \cite{Atmar1993}. Although this is a great measure, this index has its underlying assumption that the system is actually following the mechanism for a perfect nested structure if there is no temperature. 
NODF quantifies nested overlaps, the notion that all species in a poor habitat are present in richer habitats, and decreasing fill (marginal totals of interactions between habitats and species) \cite{Almeida-neto2008}.


Now that we identify the null hypothesis to generate a focal skill's counterfactuals and nestedness indexes let's calculate skills' contributions to nestedness, $c_s$. 
For each skill, we run at least 1,000 simulations, wherein, the focal skills' ties to occupations are randomly shuffled, keeping the number of ties constant. Therefore, all ties of the focal skill (meaning the skill's generality) are preserved. Then, we measured a nestedness index of the generated matrix mentioned above, as $N^{\ast}$.
We quantify a skill $s$'s contribution as:

\begin{equation} \label{eq:nestedness contribution}
    c_s = \frac{N - <N^{\ast}_s>}{\sigma_{N^{\ast}_s}}
\end{equation}

$<N^{\ast}_s>$ and $\sigma_{N^{\ast}_s}$ denote the mean and standard deviation of the nestedness of the simulated matrix, in which skill $s$'s edges were randomized.




%% Skill Nestedness Contribution - RCA
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Occupation-skills_C-Score_Contribution_-_Jul_15_2023.png}
    \caption{\textbf{Nestedness Contribution of Skills based on checkerboard} \cite{Stone1990}.}
    \label{fig:Skill Nestedness Contribution - C}
\end{figure*}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Occupation-skills_Binmatnest_Contribution_-_Jul_15_2023.png}
    \caption{\textbf{Nestedness Contribution of Skills based on Temperature} \cite{Atmar1993}.}
    \label{fig:Skill Nestedness Contribution - BINMATNEST}
\end{figure*}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Occupation-skills_row_NODF_Contribution_-_Jul_20_2023.png}
    \caption{\textbf{Nestedness Contribution of Skills based on NODF}\cite{Almeida-neto2008}. Extreme values arise from large denominators for some of the skills.}
    \label{fig:Skill Nestedness Contribution - NODF}
\end{figure*}


%% ----------
\subsection{Nested and Un-nested Skills}
Figs \ref{fig:Skill Nestedness Contribution - C}, \ref{fig:Skill Nestedness Contribution - BINMATNEST}, and \ref{fig:Skill Nestedness Contribution - NODF} show the nestedness contribution of skills using checkerboard score, Temperature, and NODF, respectively.
We are particularly interested in examining the relationship between nestedness contribution and the position of skills in our hierarchy whose vertical position is a local reaching centrality and the horizontal position is education attainment. 
In addition, we would like to compare skills at the same generality level to avoid comparing apples to oranges. 
For example, it is not fair to compare general skills to specific skills as they have more edges. 
Given that general skills mass at the root of those dense dependency webs, we show more closely examine the nestedness contribution of intermediate and specific skills, and use the measurement to split them into categories of nested and un-nested. 

Table \ref{tab:skill_split_C_nestedness} shows the resulting split of skills into categories or subtypes based on the checkerboard score \cite{Stone1990} also shown in Fig.~\ref{fig:Skill Nestedness Contribution - C}.
To be clear, we refer to the result of our skill clustering based on generality \textit{skill clusters} (general, intermediate, and specific) and refer to the further split made based on nestedness \textit{skill categories} or \textit{skill subtypes} (general, nested intermediate, nested specific, un-nested intermediate, un-nested specific.). 

\footnotesize
% \label{tab:skill_split_C_nestedness}
\input{Nature_HB_2023/tabsNHB/Jul_15_2023_Skill_Split_C-score_Nestedness_Simul_Jan_2023.tex}
\normalsize


\subsection{Alternative Approach for Deriving Skill Categories} \label{supsec:alt splitting skills}
We split the skills of each cluster (general, intermediate, and specific) based on their correspondence with general skills.
We measure such correspondence $C$ by calculating the correlation between the importance of given skill $i$, and the importance of each of the general skills $j$:

\begin{equation}
    C^{<Level>}_{i,j\in <\text{general}>} = \frac{\Sigma_o(Level_{i,o}- \mu_{Level_{i}}) (Level_{j,o}- \mu_{Level_{j}})}{\sqrt{\Sigma_o(Level_{i,o}- \mu_{Level_{i}})^2 \Sigma_o(Level_{j,o}- \mu_{Level_{j}})^2}}
\end{equation}

Aggregating values of $C_{i,j}$ over general skills $j$, we obtain a measure of correspondence between skill $i$ and the set of general skills, $C_{i,<general>}$.
Then, we compare skill $i$ to other skills $l$ in the same cluster $k$ to which $i$ belongs given our assignment from supplementary section \ref{supsec:skill clustering}.
To do so, for skills $l$ of cluster $k \in \{\text{intermediate}, \text{specific} \}$, we calculate the mean correlation to general skills:

\begin{equation}
    C^{<mean>}_{k} = mean_{l \in k} {C_{i,<general>}}
\end{equation}

Finally, we suggest a skill $i$ of cluster $k \in {Specific, Intermediate}$ is nested if it depends on general skills above the mean level and call it '\textit{nested}' if $C_{i,<general>} \geq C^{<mean>}_{k}$, and suggest it is independent of general skills and call it '\textit{un-nested}', otherwise.
Table \ref{tab:skill_split_alt} shows the resulting assignment of skills based on this approach.
One obtains a similar split of skills if the Importance measure instead of Level is used.

\clearpage
%% Aug 15 - Skill Split - Correlation Dependence.tex
%% \label{tab:skill_split_alt}
\footnotesize
\input{Nature_HB_2023/tabsNHB/Jul_15_2023-_Alternative_Skill_Split-_Avg_Correlation_with_General_Skill.tex}
\normalsize








%%----------------------------------------------------------------------------%%
\clearpage
\section{Conditional Skill Dependencies} \label{supsec:conditional dependencies}

To obtain the skill structure, as seen in main Fig.~\ref{fig:Figure 2}, we extract conditional probabilities of the appearance of a skill $u$, given the appearance of another, $v$, in the skill-occupation matrix, which was used for nested structure in the previous section \cite{Jo2020}.

\subsection{Skills-Occupation Matrix} \label{supsec:skill-occ}
The original skill-occupation matrix's entry is a continuous variable (indication of the degree, or point along a continuum, to which a particular descriptor is required or needed to perform the occupation). But most conventional nestedness analyses, used in section \ref{suppsec:nestedness}, and conditional probability measures for main Fig.~\ref{fig:Figure 2}, require binary entries.
Thus, we employ a disparity filter to make the matrix binary entries of statistically significant presences \cite{Serrano6483}. 

We chose this method for two reasons.
First, it allows the user to set different restrictions on the skill and occupation sides of the bipartite network. This feature is desirable given the differences in the strength and degree distributions of occupations and skills.
Second, it accommodates heterogeneous degree distribution, which we know is a key characteristic of our skill side.
In choosing the parameters, we ensured the resulting binary network satisfied the following conditions. First, the filtered network has to remain faithful to the skill and occupation degree distributions (macro-level features). We show that the filter indeed kept the distribution shapes in Fig.~\ref{fig:comparison_skill_deg_before_after_binarization} for the skills strength distribution and Fig.~\ref{fig:comparison_occ_deg_before_after_binarization} for occupations' strength correlations.
The Pearson correlation between skills' strengths (sum of edge weights) and their transformed degree is 0.95. The ranking of skills across these two measures is also preserved (correlation is 0.97).
Note that we used comparisons between node strengths and node degrees because of our idiosyncratic empirical data structure. Each occupation includes a survey for every skill, resulting in every occupation having every skill entry with numbers ranging from 0 to 7. 
The surviving skills preserve the distribution and ranking of occupations (correlations between occupations' strength and ranking before and after transformation are 0.79, and 0.79, respectively). 



In the end, the parameter pair ($\alpha_{in} = 0.4$, $\alpha_{out} = 0.275$) results in 33,865 (29\%) edges. 
%out of 116,160 edges in the skill-occupation matrix.
We also conducted validity checks on the choice of parameters by examining the sampled results (5\% of occupations).
The test compares the survived and eliminated skills to common sense. For example, have the links between ``Surgeon" and the skill ``Medicine and Dentistry", and ``Programmer" and skill ``Programming" survived? Conversely, has the link between ``Mathematician" and "Explosive Strength", defined as \textit{The ability to use short bursts of muscle force to propel oneself (as in jumping or sprinting), or to throw an object}, been eliminated?
The goal of this exercise is to ensure the parameters are not set too strictly or too lenient, and that the retained information in ties conforms to expectations.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Skill_Dist_of_Binary_Skill-Occupation_Bipartite_-a_la_Serrano_et_al_2009-alpha_in=_0.4,alpha_out=0.275-_Jul_15_2023.png}
    \caption{\textbf{Skill Degrees as Validity Check on Choosing Parameters of Obtaining Skill-occupation Network Backbone}. The figure compares the degree distribution of skills in each skill group before and after the transformation. Our emphasis is on the distinction between the distribution of three types of skills (their overlap) and their relative position to the raw data. Indeed, the Pearson correlation between skills' strengths (sum of edge weights) and their transformed degree is 0.95. The ranking of skills across these two measures is also preserved (correlation is 0.97).}
    \label{fig:comparison_skill_deg_before_after_binarization}
\end{figure*}


\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Occupation_Dist_of_Binary_Skill-Occupation_Bipartite_-a_la_Serrano_et_al_2009-alpha_in=_0.4,alpha_out=0.275-_Jul_15_2023.png}
    \caption{\textbf{Occupational Degrees as Validity Check on Choosing Parameters of Obtaining Skill-occupation Network Backbone}. The figures compare the degree distribution of occupations before and after the transformation. Our emphasis is faithfulness across each of the five skill subtypes.}
    \label{fig:comparison_occ_deg_before_after_binarization}
\end{figure*}


%%% ---------------------------------------------
\subsection{Skill Dependency from Conditional Probabilities} 
% \label{supsec:conditional dependencies}
%The algorithm uses two primary steps.
%In the first, only the edges between nodes whose co-appearance is significantly higher than their appearances (independently) survive.
We first account for the significant conditional appearances, and discount for noise from independent co-appearances (of two skills in occupation) by random chance with a z-score threshold, $z_{th}$ \cite{Jo2020}. 
That is, we account only for those skills that appear together more than randomly expected by $z_{th}$ magnitude. 
Here, $z_{th}$ is a threshold for the extent to which we eliminate chance from two skills appearing in the same occupation.
\begin{equation} \label{eq: YY z-score}
    z_{u,v} = \frac{N(u,v) - \mu}{\sigma} > z_{th}
\end{equation}

Where $\sigma^2 = \frac{N(u).N(v)}{\|O\|} \frac{{\|O\|}- N(v)}{\|O\|} \frac{{\|O\|}- N(u)}{\|O\| - 1 }$ and $\mu = \frac{N(u).N(v)}{\|O\|}$, are the standard deviation and mean of a hypergeometric distribution for the expected co-occurrence of skills (that arise the under the null model of a bipartite configuration model that preserves skill degrees \cite{Jo2020}.) $N(u)$ and $N(v)$ denote the number of occupations that demand skill $u$ and $v$, respectively and $\|O\|$ denotes the total number of occupations.
 
We now estimate conditional probabilities $P(u|v)$ and $P(v|u)$ and assign a direction to them.
The direction, $u \rightarrow v$, is determined when $P(u|v)$ is \textit{substantially} greater than $P(v|u)$. 
Once again, we wouldn't consider every $P(u|v)$ that is insignificantly greater (smaller) than $P(v|u)$, but only those that are sufficiently greater (smaller) to be considered as a \textit{dependent} structure. $\alpha_{th}$ sets the minimum difference between two conditional probabilities so that they are considered to have directional dependence. 
This threshold has to be differentially applied to each skill pair due to the heterogeneous skill node degrees.  
Therefore, the threshold $\alpha_{th}$ is weighted by $(\frac{k_{max}}{min(k_u, k_v)})$ to be applied to filter $[P(u|v)-P(v|u)] \neq 0 $ 

\begin{equation} \label{eq: a_th}
     |P(u|v)-P(v|u)| \: > \: (\frac{k_{max}}{min(k_u, k_v)}) \times \alpha_{th}
\end{equation}
%\begin{equation} \label{eq: a_th}
     %\frac{min(k_u, k_v)}{k_{max}}[P(u|v)<P(v|u)] > \alpha_{th}
%\end{equation}
% \alpha_{u,v}
Where $k$ denotes the number of other skills with ties to the focal skill, and $k_{max}$ denotes the biggest degree observed among skills.
% Authors make a case that $\alpha_{u,v}$ represents the strength of conditional dependency of $v$ on $u$.


The magnitude of the dependence between $u$ and $v$, $w_{u \rightarrow v}$, follows the parametric function introduced by \cite{Jo2020}:

\begin{equation} \label{eq: dependency weight}
    w_{u \rightarrow v} = \frac{min(k_u, k_v)}{k_{max}}\Bigl( \frac{N(u,v)}{N(v)} - \frac{N(u,v)}{N(u)} \Bigr)
\end{equation}


In simple terms, the direction of arrows shows whether by observing skill $v$ in an occupation, it is (more) likely also to observe skill $u$ (than the other way around).
The magnitude of dependence, used as weights in the main Fig.~\ref{fig:Figure 2}, is a parameteric function of the difference between the conditional probabilities of observing $u$ and $v$, and the null model that corresponds to the estimated number of shared occupations between them, given the degrees of $u$ and $v$.
% We exercised caution in interpreting the outcome of this step as $v$ being a dependent of $u$.
The final network is shown in Fig.~\ref{fig:full_figure_2b_labeled} and used across all analysis, but for the main Fig.~\ref{fig:Figure 2} and \ref{fig:historical skill change} that depict the parsimonious versions, from a directed acyclic graph (DAG) \cite{Jo2020}. 
% Nevertheless, when we calculate and analyze, we use the full version. 





\subsubsection*{Choice of Parameters}
There are two parameter choices  $z_{th}$ and $\alpha_{th}$. Here, we present results across different parameters to ensure the robustness of our findings. 
We choose the first parameter, $z_{th}$, in such a way that we remove about two-thirds of the edges.
Fig.~\ref{fig:YY z-score distribution} shows the distribution of z-scores for all skill co-appearance edges.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=0.5\textwidth]{Nature_HB_2023/SI_figNHB/Z-Scores-Distribution_Joe_et_al_2020_Serrano_alpha_in_=_0.4,alpha_out=_0.275_filtered.png}
    \caption{\textbf{Histogram of Z-scores Resulting from Equation \ref{eq: YY z-score} for Skill Co-appearances.} The x-axis shows the $z_{th}$ values derived from equation \ref{eq: YY z-score} on our data, and the y-axis shows the number of co-appearance links falling into a given range of $z_{th}$ values. We focus on $z_{th}$ values between 4 and 6.}
    \label{fig:YY z-score distribution}
\end{figure*}


Ideally, one chooses $\alpha_{th}$ as strictly as possible to remove insignificant links without the loss of skills. If all edges associated with a given skill are removed as a result of the two steps of the algorithm, the skill is eliminated from the resulting dependency network.
However, as our sensitivity analysis shows, retaining too many statistically insignificant links weakens our ability to extract conditional dependencies robustly.
% Several skills become isolated rather quickly, at points where still a significant portion of edges remain.
Therefore, retaining more statistically significant edges inevitably impose the cost of losing several skills.
Fig.~\ref{fig:a-threshold and z-threshold sensitivity analysis} offers a sensitivity analysis on the interaction of $z_{th}$ and $\alpha_{th}$.
Ideally, no more than 5\% of skills are eliminated, while about 95\% of ties between skills were removed as statistically insignificant.
The combination $z_{th} = 4.75$ and $\alpha_{th} = 0.05$ is a possible solution used in the main text.
At this level, only five skills are eliminated from the network.


%% YY param - sensitivity_results - Jul 15 2023
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.95\textwidth]{Nature_HB_2023/SI_figNHB/YY_param_-sensitivity_results-_Jul_15_2023.png}
    \caption{\textbf{Sensitivity Analysis on Parameters Used for Obtaining Significant Skill Dependencies.} The x-axis shows the $\alpha_{threshold}$ values. Each panel shows a certain $z_{threshold}$ as in equation \ref{eq: YY z-score}, and the y-axis shows the rate of node survival or edge elimination. Ideally, no more than 5\% of skills are eliminated, while about 95\% of ties between skills were removed as statistically insignificant. $z_{threshold} = 4.75$ and $\alpha_{threshold} = 0.05$ is a possible solution used in the main text. The resulting backbone from a number of combinations is offered in the following.}
    \label{fig:a-threshold and z-threshold sensitivity analysis}
\end{figure*}



% Hence, for a $z_{threshold}$, we increase $\alpha_{threshold}$ up to a value in which no more than five (out of the total of 120) skills are eliminated.
% Despite preserving more skills, a lenient choice of $\alpha_{threshold}$ includes many redundant dependency links.
% Retaining too many redundant dependencies backbone (to obtain a DAG), many edges are removed, and the resulting backbone networks have extremely low densities notice figures with lenient $\alpha_{threshold}$ in the robustness checks below.

% In the main Fig.~\ref{fig:Figure 2}, we used $z_{threshold} = 4.75$ and $\alpha_{threshold} = 0.05$.

A consideration is whether the shape of the skill dependency in Fig.~\ref{fig:Figure 2}~(b and c) is influenced by the choice of parameters. 
We conduct a robustness check wherein we visualize the resulting networks from the combination of values of $z_{th}$ between 4 and 5.5 and values of $\alpha_{th}$ between 0.01 and 0.1.
% and show the results in Figs \ref{fig:YY_param_robustness_zth_4} through \ref{fig:YY_param_robustness_zth_5.5}.


% For visualizing these networks, we use Python 3 Networkx package and utilize the Graphviz \footnote{\url{https://pypi.org/project/graphviz/}} algorithm (version 0.20.1) with the method \textit{dot}, the default approach, which operates on directed graphs and visualizes them in a hierarchical order.
% The node colors follow our skill groups (red: general skills, gray: intermediate skills, blue: specific skills), and size is proportional to the skill's association with education as defined in the main text methodology.
Throughout, a disjointed structure emerges, wherein a set of specialized skills (blue and gray) have closer connections with the general skills (red), than other specialized skills.
Even in networks obtained from a lenient $\alpha_{th}$, the hierarchical structure is visible, and in most, one can distinguish between a more closely knit web of skills that manifest stronger dependence on generals skills (manifest higher connection to red nodes), and a second set of skills, decoupled from the first, which manifest a comparatively shallow dependency web.
We withdrew the visualized network for the sake of brevity. These visuals are sharable upon request.

% Our final choice of parameters used to create the main text Fig.~\ref{fig:Figure 2}, $z_{threshold} = 4.75$ and $\alpha_{threshold} = 0.05$, satisfies the condition mentioned above.

% %% z-th = 4
% \begin{figure}
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Simple_Parsimonious_Graph_Joe_et_al_2020_Serrano_alpha_in = 0.4, alpha_out = 0.275_filtered_z-thres_4.0_range_a_thresh - Jul 15 2023.png}
%     \caption{\textbf{Backbones of the Skill Dependence Network as Robustness Checks for Parameters Used in Extracting Skills' Conditional Dependence: $z_{th} = 4.00$}. For visualizing the networks, we used Python 3 Networkx package and utilized the Graphviz package.}
% \label{fig:YY_param_robustness_zth_4}
% \end{figure}

% %% z-th = 4.25
% \begin{figure}
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Simple_Parsimonious_Graph_Joe_et_al_2020_Serrano_alpha_in = 0.4, alpha_out = 0.275_filtered_z-thres_4.25_range_a_thresh - Jul 15 2023.png}
% \caption{\textbf{Backbones of the Skill Dependence Network as Robustness Checks for Parameters Used in Extracting Skills' Conditional Dependence: $z_{th} = 4.25$}. For visualizing the networks, we used Python 3 Networkx package and utilized the Graphviz package.}
% \label{fig:YY_param_robustness_zth_4.25}
% \end{figure}

% %% z-th = 4.5
% \begin{figure}
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Simple_Parsimonious_Graph_Joe_et_al_2020_Serrano_alpha_in = 0.4, alpha_out = 0.275_filtered_z-thres_4.5_range_a_thresh - Jul 15 2023.png}
% \caption{\textbf{Backbones of the Skill Dependence Network as Robustness Checks for Parameters Used in Extracting Skills' Conditional Dependence: $z_{th} = 4.5$}. For visualizing the networks, we used Python 3 Networkx package and utilized the Graphviz package.}
% \label{fig:YY_param_robustness_zth_4.5}
% \end{figure}

% %% z-th = 4.75
% \begin{figure}
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Simple_Parsimonious_Graph_Joe_et_al_2020_Serrano_alpha_in = 0.4, alpha_out = 0.275_filtered_z-thres_4.75_range_a_thresh - Jul 15 2023.png}
% \caption{\textbf{Backbones of the Skill Dependence Network as Robustness Checks for Parameters Used in Extracting Skills' Conditional Dependence: $z_{th} = 4.75$}. For visualizing the networks, we used Python 3 Networkx package and utilized the Graphviz package.}
% \label{fig:YY_param_robustness_zth_4.75}
% \end{figure}

% %% z-th = 5
% \begin{figure}
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Simple_Parsimonious_Graph_Joe_et_al_2020_Serrano_alpha_in = 0.4, alpha_out = 0.275_filtered_z-thres_5.0_range_a_thresh - Jul 15 2023.png}
% \caption{\textbf{Backbones of the Skill Dependence Network as Robustness Checks for Parameters Used in Extracting Skills' Conditional Dependence: $z_{th} = 5$}. For visualizing the networks, we used Python 3 Networkx package and utilized the Graphviz package.}
% \label{fig:YY_param_robustness_zth_5}
% \end{figure}

% %% z-th = 5.25
% \begin{figure}
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Simple_Parsimonious_Graph_Joe_et_al_2020_Serrano_alpha_in = 0.4, alpha_out = 0.275_filtered_z-thres_5.25_range_a_thresh - Jul 15 2023.png}
% \caption{\textbf{Backbones of the Skill Dependence Network as Robustness Checks for Parameters Used in Extracting Skills' Conditional Dependence: $z_{th} = 5.25$}. For visualizing the networks, we used Python 3 Networkx package and utilized the Graphviz package.}
% \label{fig:YY_param_robustness_zth_5.25}
% \end{figure}

% %% z-th = 5.5
% \begin{figure}
%     \centering
%     \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Simple_Parsimonious_Graph_Joe_et_al_2020_Serrano_alpha_in = 0.4, alpha_out = 0.275_filtered_z-thres_5.5_range_a_thresh - Jul 15 2023.png}
% \caption{\textbf{Backbones of the Skill Dependence Network as Robustness Checks for Parameters Used in Extracting Skills' Conditional Dependence: $z_{th} = 5.5$}. For visualizing the networks, we used Python 3 Networkx package and utilized the Graphviz package.}
% \label{fig:YY_param_robustness_zth_5.5}
% \end{figure}



\clearpage
\subsubsection*{Visualizing the Skill Hierarchy}
The main Fig.~\ref{fig:Figure 2} is the backbone of a network with parameters $z_{th} = 4.75$ and $\alpha_{th} = 0.05$.
Fig.~\ref{fig:full_figure_2b_labeled} shows the full skill network, which contains 115 nodes and 1,796 dependency relationships.
The following skills are eliminated from the graph because neither of their dependency relationships passed the statistical significance test: \textit{Installation, Explosive Strength, Sound Localization, Food Production, Public Safety, and Security}.
In the backbone network, any direct path is eliminated where there exists an indirect path through dependencies. As a result, the backbone contains only 395 edges, accommodating visualization.
Nonetheless, we perform all calculations on the skill network and not its backbone.


For both the skill network and its backbone, we use a layout technique inspired by \cite{Mones2012, Kosack2018}.
We determine the vertical placement of a skill based on its local reaching centrality \cite{Mones2012}, defined as the number of nodes achievable from the focal node. This highly correlates with a skills' demand, defined as the total level values, across occupations (Pearson correlation 0.89). 
The horizontal position is proportional to the skill's association with education, calculated as the weighted education of occupations (using levels as weights).
We pass normalized values for both the vertical and horizontal axes through a Lambert cylindrical projection to Gephi for visualization.
 Fig.~\ref{fig:figure_2b_labeled} shows the network in the main Fig.~\ref{fig:Figure 2}~(b) with all nodes labeled and the position of nodes adjusted to accommodate labels.


\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Jul_17__2019_Network__Lambert_Proj__Edu-LRC__4.75_0.05_.4_.275__labels_with_layout_overlay.png}
    \caption{\textbf{Skill Dependency Network.} The layout is adjusted to accommodate the labels. The original layout (without overlap) is shown in the top right corner.}
    \label{fig:full_figure_2b_labeled}
\end{figure*}

\newpage
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Jul_9__Equirectangular_Proj__Edu-LRC__Parsi__4.75_0.05_.4_.275__adjusted_for_labels.png}
    \caption{\textbf{Labeled Skill Dependency Backbone.} Node positions are adjusted to accommodate labels.}
    \label{fig:figure_2b_labeled}
\end{figure*}


%%----------------------------------------------------------------------------%%

% \clearpage
% \newpage
\subsection{Linkage to Skill Co-occurrence Networks} \label{supsec:skill co-occurrence}
% \subsection*{Network Formation Methodology}

Our work builds on a vast literature that conceptualizes the landscape of skills as a co-occurrence network \cite{Neffkeeaax3370, AndersonKatharineA2017Snam, Alabdulkareem2018, Frank2019}.
Indeed, without directionally, the hierarchical network is in excellent agreement with such previously constructed skill networks.
Here, we follow the approach used in \cite{Alabdulkareem2018} that identifies communities of cognitive versus physical from a pairwise co-occurrence network. We obtain such a network in two steps (using O*NET skill data from 2019):

\begin{enumerate}
    \item Measuring the "effective use of skill" by occupation based on RCA as follows:
    \begin{equation}
        RCA(s,j)=\frac{Importance(s,j)/\Sigma_{s'\in S}Importance(s,j')}{\Sigma_{j'\in J}Importance(s',j')/\Sigma_{s'\in S,j' \in J}Importance(s',j')}
    \end{equation}
    where $s$ denotes a given skill, and $j$ a given occupation. $S$ and $J$ denote the population of skills and occupations respectively. An skill-occupation is 'effective' i.e., $e(i,j)=1$ if $RCA(s,j)$ and is not i.e., $e(i,j)=0$, otherwise.
    
    \item Using $e(i,j)$ values, authors derive pairwise skill "complementarity" proportional to the number of times skills $s$ and $s'$ co-appeared in an occupation as follows:
    \begin{equation}
        \theta(s,s')=\frac{\Sigma_{j\in J}e(s,j).e(s',j)}{max\big(\Sigma_{j\in J}e(s,j), \Sigma_{j\in J}e(s',j)\big)}
    \end{equation}
\end{enumerate} 


%% May 31 2022 - Network Figure.png

There are two key messages.
First, we explain that the cluster of \textit{General} skills resides at the center of such a skill co-occurrence network in fact, the ordering of skill specificity based on our skill clusters is predictive of how far the skills lie towards the fringes of the skill co-occurrence network.
Second, the dichotomy of cognitive versus non-cognitive skills has tight connections with the disjointed structures we found and called nested and un-nested skills, respectively.

% Visualizing $\theta(s,s')$, lead to bi-modal distributions. Our replications of the methodology of \cite{Alabdulkareem2018}, as also discussed above, on the O*NET skill from 2019 produced such bi-modal distributions, as shown in Fig.~\ref{fig:Skill_Complementarity_RCA}. The distribution resulting from Importance values is almost identical to figure 1B in \cite{Alabdulkareem2018}. Furthermore, using Level values instead of Importance leads to a similar bi-modal distribution.

% %% Alabdulkareem et al (2018) Pairwise Skill Complementarity - RCA Values
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=\textwidth]{\figdir/Alabdulkareem et al (2018) Pairwise Skill Complementarity - RCA Values.png}
%     \caption{Distribution of Pairwise Skill Complementarity. The values are derived alike \cite{Alabdulkareem2018} and resemble the bi-modal form described by authors. }
%     \label{fig:Skill_Complementarity_RCA}
% \end{figure*}

Fig.~\ref{fig:Network_Skill_Complementarity_RCA_modularity_colored} shows a network representation
% \footnote{
% In this figure, edges denote skill complementarity relationship if they passed the threshold of $\theta(s,s')>0.5$ authors used a threshold of $\theta(s,s')>0.6$ which leads to several isolated nodes in 2019 data. We assign an average education value to each skill based on the educational requirements of occupations. A skill's associated education level is only impacted by occupations that use the skill 'effectively' i.e., $\forall j:  RCA(s,j)$, nodes are colored based on their modularity communities
% }
of skills based on the pairwise "complementarity" values manifests the bi-modal structure reported by \cite{Alabdulkareem2018}.
% \footnote{
% Louvain network community detection, for instance, identifies two communities.}.
There are several departure points, however.
First, we restrict our workplace skills to the so-called \textit{knowledge, abilities, and skills}, disregarding \textit{work activities}, while the latter is commonly used in co-occurrence networks constructed using O*NET.
Our rationale for not including work activities is that they are job descriptions (i.e., generalized forms of job tasks that are specific to jobs).
In contrast, abilities, knowledge, and skills are characteristics of workers' expertise, which are our primary concern.

Second, the community on the right is an ensemble of "cognitive" skills, while the left group corresponds to mostly "physical" skills, which are consistent with our nested and un-nested skills, respectively.
However, several skills, such as \textit{Physics, Design, and Chemistry} seem out of place at the bottom end of the left community, and are classified by our approach as nested skills which appear consistent with their wage and educational associations.
The key advantage of our method is that we can predict numerous implications of skills based solely on the informationed embedded in the occupation-skill networks, without the need for knowing the content of the skill, as labeled by cognitive or physical skills.
Our skill hierarchy, in effect, offers an explanation for why certain skills, known to be cognitive, are more valuable, based on the investments necessary to satify their dense and nested web of dependencies.

%% Alabdulkareem et al (2018) Network of Pairwise Skill Complementarity - Importance RCA Values - Colored by Modularity Classes
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.7\textwidth, trim={0 5.5cm 0 5.5cm},clip]{Nature_HB_2023/SI_figNHB/Alabdulkareem_et_al__2018__Network_of_Pairwise_Skill_Complementarity__Importance_RCA_Values__Colored_by_Modularity_Classes.pdf}
    \caption{\textbf{Network of Pairwise Skill "Complementarity."} In this figure, edges denote skill complementarity relationship if they passed the threshold of $\theta(s,s')>0.5$ authors used a threshold of $\theta(s,s')>0.6$ which leads to several isolated nodes in 2019 data. We assign an average education value to each skill based on the educational requirements of occupations. A skill's associated education level is only impacted by occupations that use the skill 'effectively' i.e., $\forall j:  RCA(s,j)$, nodes are colored based on their modularity communities.}
    \label{fig:Network_Skill_Complementarity_RCA_modularity_colored}
\end{figure*}

% \subsubsection*{Connections between the Dichotomous Perspective and our Skill Cluster}
% Interesting patterns emerge from applying our skill clusters, derived from unsupervised machine learning, upon this network as node colors, as in Fig.~\ref{fig:Network_Skill_Complementarity_RCA_ourclusters_colored}. The colors correspond to the cluster colors as in Fig.~\ref{fig:skill_importance_dist_aggr_cos_repeat} \textit{General skills: red, Somewhat General skills: green, Somewhat Specific skills: cyan, and Specific skills: purple}. Most \textit{General skills} emerge at the center of the cognitive community (on the right). On the other extreme, \textit{Specific skills}, which we know are mostly manual, are mostly placed in the physical community (on the left). There are exceptions to the latter, such as \textit{Science, Biology, Medicine, and Dentistry, etc.}. Other clusters of skills (Somewhat Specific and Somewhat General) are more evenly distributed between the poles.

% %% Alabdulkareem et al (2018) Network of Pairwise Skill Complementarity - Importance RCA Values - Colored by Our Clusters
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=\textwidth, trim={0 5.5cm 0 5.5cm},clip]{\figdir/Alabdulkareem et al (2018) Network of Pairwise Skill Complementarity - Importance RCA Values - Colored by Our Clusters.pdf}
%     \caption{Network of Pairwise Skill Complementarity Encoding Skill Clusters. The figure is identical to Fig.~\ref{fig:Network_Skill_Complementarity_RCA_modularity_colored} aside from the node colors: \textit{General skills: red, Somewhat General skills: green, Somewhat Specific skills: cyan, and Specific skills: purple}. Most \textit{General skills} emerge at the center of the cognitive community (on the right). On the other extreme, \textit{Specific skills}, which we know are mostly manual, are mostly placed in the physical community (on the left). There are exceptions to the latter, such as \textit{Science, Biology, Medicine, and Dentistry, etc.}. Other clusters of skills (Somewhat Specific and Somewhat General) are more evenly distributed between the poles.}
%     \label{fig:Network_Skill_Complementarity_RCA_ourclusters_colored}
% \end{figure*}

% Conducting a sensitivity analysis on the visualization threshold, such as Fig.~\ref{fig:skill_complementarity_thresholds}, can better manifest the role of skills from our proposed skill clusters. With the decreasing restriction on the strength of the links visualized, the placement of "General" skills, red nodes, as defined by our unsupervised learning at the center of the network becomes clearer. On the other hand, a more restrictive visualization (higher threshold) shows that General skills are strongly co-appearing with certain specific (that is cognitive) skills that happen to associate with higher wages. The latter point is further shown in Fig.~\ref{fig:Importance_General_vs.Cognitive_Physical_Specific} that captures the relationship between the Importance of General skills for occupations against the Importance of each subgroup of Specific skills. The slopes show that General skills tend to be more important in occupations to whom Cognitive Specific skills are critical. On the flip side, the importance of General skills is comparatively slim for occupations that put emphasis on Physical Specific skills.

% %% Sensitivity Analysis on the Visualization Threshold.
% \begin{figure}
% \centering
% \begin{subfigure}{.5\textwidth}
%   \centering
%   \includegraphics[width=\linewidth]{\figdir/Alabdulkareem et al (2018) Network Skill Complementarity - Importance RCA Values - Colored by Our Clusters - threshold 0.6 - small labels.png}
%   \caption{$\theta(s,s')>0.6$}
% \end{subfigure}%
% \begin{subfigure}{.5\textwidth}
%   \centering
%   \includegraphics[width=\linewidth]{\figdir/Alabdulkareem et al (2018) Network Skill Complementarity - Importance RCA Values - Colored by Our Clusters - threshold 0.5 - small labels.png}
%   \caption{$\theta(s,s')>0.5$}
% \end{subfigure}
% \begin{subfigure}{.5\textwidth}
%   \centering
%   \includegraphics[width=\linewidth]{\figdir/Alabdulkareem et al (2018) Network Skill Complementarity - Importance RCA Values - Colored by Our Clusters - threshold 0.4 - small labels.png}
%   \caption{$\theta(s,s')>0.4$}
% \end{subfigure}%
% \begin{subfigure}{.5\textwidth}
%   \centering
%   \includegraphics[width=\linewidth]{\figdir/Alabdulkareem et al (2018) Network Skill Complementarity - Importance RCA Values - Colored by Our Clusters - threshold 0.3 - small labels.png}
%   \caption{$\theta(s,s')>0.3$}
% \end{subfigure}

% \caption{\textbf{Dynamics of Skill Complementarity Network Change as a Function of Visualization Threshold.} With the decreasing restriction on the strength of the links visualized, the placement of "General" skills, red nodes, as defined by our unsupervised learning at the center of network becomes clearer.}
% \label{fig:skill_complementarity_thresholds}
% \end{figure}

%%----------------------------------------------------------------%
% \clearpage
% \subsection*{Further Analysis of the Skill Inter-dependency Network}
% In Fig.~\ref{fig: btwm-cluster edges - skill network - Jo et al 2020 - Louvain 1.0}, we modify the backbone outcome from the method devised by \cite{Jo2020}, remove all edges within skill clusters, and try to identify the clusters that arise from inter-dependencies across rungs of the skill hierarchy using Louvain's method \cite{BlondelVincentD2008Fuoc}.


% %% Skill Hierarchy btwn-cluster edges only - cluster 1.0 colored - Level Mean filtered - thresh 10 - a la Jo et al 2020 - labels - alpha = 0.pdf
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=\textwidth, trim={0 2cm 0 3cm},clip]{\figdir/Skill Hierarchy btwn-cluster edges only - cluster 1.0 colored - Level Mean filtered - thresh 10 - a la Jo et al 2020 - labels - alpha = 0.pdf}
%     \caption{Sub-clusters within Skill Inter-dependency backbone. We modify the backbone outcome from the method devised by \cite{Jo2020}, remove all edges within skill clusters, and try to identify the clusters that arise from inter-dependencies across rungs of the skill hierarchy using Louvain's method \cite{BlondelVincentD2008Fuoc}. Apart from two isolated nodes (Fine Arts and Telecommunication), three clusters emerge. The top cluster associates with Physical and Engineering skills, while the nested region (bottom) appear to have split into two ad-hoc clusters.}
%     \label{fig: btwm-cluster edges - skill network - Jo et al 2020 - Louvain 1.0}
% \end{figure*}

% Apart from two isolated nodes (Fine Arts and Telecommunication), three clusters emerge. The top cluster associates with Physical and Engineering skills, while the nested region (bottom) appear to have split into two ad-hoc clusters.
% In Fig.~\ref{fig: btwm-cluster edges - skill network - Jo et al 2020 - Louvain 1.0} we force more clusters by lowering the parameter from 1 to 0.5.
% Once again while un-nested skills form a robust cluster, nested skills' division appear ad-hoc.


% %% Skill Hierarchy btwn-cluster edges only - cluster 0.5 colored - Level Mean filtered - thresh 10 - a la Jo et al 2020 - labels - alpha = 0.pdf
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=\textwidth, trim={0 2cm 0 3cm},clip]{\figdir/Skill Hierarchy btwn-cluster edges only - cluster 0.5 colored - Level Mean filtered - thresh 10 - a la Jo et al 2020 - labels - alpha = 0.pdf}
%     \caption{Sub-clusters within Skill Inter-dependency Backbone with More Clusters. Using the setup of Fig.~\ref{fig: btwm-cluster edges - skill network - Jo et al 2020 - Louvain 1.0}, we force more clusters by lowering the parameter from 1 to 0.5.
% Once again while un-nested skills form a robust cluster, nested skills' division appear ad-hoc.}
%     \label{fig: btwm-cluster edges - skill network - Jo et al 2020 - Louvain 0.5}
% \end{figure*}



\subsection{Skill Hierarchy Captures Career Progress (Specialization)} \label{supsec:RN vs. NP}

A key advantage of integrating the conceptual distinction between general and niche skills with a structural network approach to studying skills is that the aggregation of pairwise skill interdependencies reveals pathways of progress (what has come to be known as specialization). However, the structure of our skill hierarchy implies that progress entails co-development in certain niche skills and the prerequisites, often more general skills.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=.85\textwidth]{Nature_HB_2023/SI_figNHB/Nurse_Transition_Figure_Mar_25_2024.png}
    \caption{\textbf{Transition between Registered Nurses (RNs) and Nurse Practitioners (NPs).}
    \textbf{(a)} uses resume data from Burning Glass Technology to capture the transition statistics between RNs and NPs. We restrict the analysis to individuals with at least five listed occupations in their resume and define their early career occupations as the most appeared occupation in the first three jobs, similarly late career occupations as the most appeared in the fourth jobs and onward. We disregard individuals whose early and late careers are neither RN nor NP. Including these individuals would not change the result but significantly complicate the exposition. One expects that higher wages for NPs would attract RNs \textbf{(e)}. Indeed, most NPs were RNs early on. However, only a subset of RNs progresses to NP jobs, suggesting barriers to entry, summarized in higher experience and educational requirements \textbf{(c-d)}.
    \textbf{(b)} captures the skill requirements of RNs and NPs, highlighting the advantage of integrating the conceptual distinction between general and niche skills with a structural network approach to studying skills in revealing pathways of progress (also known as specialization). The structure of our skill hierarchy also implies that progress entails co-development in certain niche skills and the prerequisite, often more general skills.}
    \label{fig:RN vs. NP}
\end{figure*}


Here, we explore a case study of such progress based on the skill requirement differentials of registered nurses (RNs) versus nurse practitioners (NPs). Compared to RNs, NPs prescribe medicine and diagnostic tests and command higher wages (Fig.~\ref{fig:RN vs. NP} e). Without any cost, someone equipped with the skills of an RN would ideally prefer to work as a nurse practitioner to benefit from higher payoffs.
However, as Fig.~\ref{fig:RN vs. NP}~(a) shows, only a subset of individuals who are RNs early on in their careers (i.e., for whom RN appears most in their first three jobs listed in their Burning Glass Technology resume) manage the switch to the better-paid NP jobs later in their careers (i.e., NP appears most after their third jobs listed in their Burning Glass Technology resume). The fact that most NPs were initially RNs (81.5\%) corroborates our interpretation of the path from RN to NP as one that entails career progress. The transition statistics captured in Fig.~\ref{fig:RN vs. NP}~(a) are also consistent with the higher experience and the more extended training needed for nurse practitioners to develop the necessary skills (Fig.~\ref{fig:RN vs. NP} c-d).

The correlation between education and wages observed at the cross-section of RNs and NPs agrees with the economic theory narrative. However, only a structural approach can reveal the skill development involved in such a transition, highlighting skill growth pathways, seen in Fig.~\ref{fig:RN vs. NP}~(b).
While RNs require high levels of medicine and therapy (niche skills), psychology (intermediate skill), coordination, and social perceptiveness (among many other general skills), the transition into an NP requires further levels of those skills as well as significant development of science, biology, chemistry (among other niche skills), persuasion (intermediate skill), as well as higher knowledge of math, time management, complex problems solving, administrative and computer skills (among other general skills). In contrast, arm-hand steadiness used at high levels by RNs is not as intensely utilized by NPs. 

Comparing RNs with NPs skills showcases that our approach teases out meaningful progression (or specialization) pathways embedded in the skill requirement of occupations. The co-development of niche and the relevant general skills underpin what we call a nested specialization path. In the following, we offer evidence that the pattern observed in RNs and NPs careers emerges across individuals in other occupations.



\subsection{Skill Hierarchy Captures Skill Entrapment} \label{supsec:hispanic skill entrapment}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=.75\textwidth]{Nature_HB_2023/SI_figNHB/Recent_Immigrants_vs_OtherHispanic_vs_White_Skills_Feb22_2024.png}
    \caption{\textbf{Comparison of the Skill Levels of Hispanic Immigrants and White Workers} We distinguish between four groups of workers (i. foreign-born Hispanics who have migrated less than a year to the US from the time of survey, ii. foreign-born Hispanics who have been in the US for more than a year, iii. US-born Hispanics, and iv. the White workers) and map their average skill levels for each skill category. Recently migrated foreign-born Hispanics have the least levels of general and nested skills and most un-nested skills.
    }
    \label{fig:skills_of_different_Hispanics}
\end{figure*}

As the main Fig.~\ref{fig:Figure 7} and SI Sec.~\ref{section: add - demographic distribution of skills} show, Hispanics tend to possess relatively high levels of un-nested skills but are underprivileged in gender nested skills.
This unbalance leads to skill entrapments with possibly early rewards and long-term wage penalties, as SI Fig.~\ref{fig:wage curves}.
Our skill hierarchy allows us to explore one possible driver of this skill unbalance for Hispanics.



We suspect language skills are barriers to some hispanic workers, particularly early on in their careers in the US, hampering the acquisition of (language-related) general and (the downstream) nested specific skills, but less so the acquisition of un-nested skills.
To test this, we split the sample of individuals from the CPS into four subgroups, ordered based on their likely level of English proficiency: \textit{Hispanics born outside of the US who immigrated less than a year before the survey, Hispanics born outside the US who have been in the US for more than a year, Hispanics born inside of the US, and White workers}.
We map the average skill levels of each of the above subgroups for each skill category in Fig.~\ref{fig:skills_of_different_Hispanics}, below. As hypothesized,the foreign-born Hispanics who recently migrated to the US have the lowest levels of general and nested skills and have the highest unnested skills. The suspected ranking of English proficiency of each subgroup is consistent with their ranking in terms of general, nested and unnested skills.
Next, we investigate the role of language skills directly Fig.~\ref{fig:hispanics language skills}.



Our network allows us to directly identify which nested skills more closely depend on language general skills. To do so, we first identify six general skills as language-related: i.~English Language, ii.~Oral Expression, iii.~Oral Comprehension, iv.~Written Expression, v.~Written Comprehension, and vi.~Speaking. One can quantify the dependence of each nested skill, i, on each of the mentioned language skills, j, by deriving the arrival probability of a random walk starting from the mentioned language general skills, $P_{i,j}^{<arrival>}$. Aggregating these probabilities over the language general skills, we obtain $P_i^{<arrival>}=\Sigma_j P_{i,j}^{<arrival>}$.
We flag nested specific skills at the top 25\% of skills in terms of their average arrival probability, $P_{i,j}^{<arrival>}$, obtaining the following skills: i.~History \& Archeology, ii.~Management of Material Resources, iii.~Management of Financial Resources, iv.~Programming, v.~Philosophy \& Theology. Splitting general and nested skills by their language associations (general skills into Language-related and Non-language skills, and nested skills into Language dependent and Language independent), we obtain the average skill levels of individuals for the previously defined subgroups of workers (Hispanic and White based on their place of birth and time since immigration). In Fig.~\ref{fig:hispanics language skills}, we show the ratios of skills levels for the different Hispanic subpopulation groups relative to White workers for the Language-related and non-language general skills and Language-dependent.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=.78\textwidth]{Nature_HB_2023/SI_figNHB/Recent_Immigrants_vs_OtherHispanics_ratios_White_Skills_Feb29_2024.png}
    \caption{\textbf{Language Barriers Manifest in Lower Levels of Language-related Nested Skills for Hispanics}. The figure depicts, for the Language-related and non-language general skills and Language-dependent (defined as the skills in the top 25\% arrival probability to the mentioned language skills) and Language-independent nested skills, the ratios of skills levels for the different Hispanic subgroups relative to White workers. The results depict that the language-dependent nested skills vary significantly more across the Language-dependent subset, supporting our suspicion that Hispanic workers, at least in part, suffer from their language skills, which prevents them from acquiring/applying downstream skills.
    }
    \label{fig:hispanics language skills}
\end{figure*}

The results show that the skill gaps between Hispanic subpopulations and White workers mimic the implied language gradient: the less proficient in English a subgroup will be, the larger the gap is to White workers in language-dependent nested skills but not in language-independent specific skills. This supports our hypothesis that the skill gaps for Hispanic workers as a whole are, at least in part, due to language barriers.

%%----------------------------------------------------------------------------%%

\clearpage
\section{Skill Categories in Career Trajectories} \label{supsec: skill dependencies and age}
Main Fig.~\ref{fig:age} supplements our inference of the skill structure from O*NET, which relies on cross-sectional data, with longitudinal evidence in line with the notion that one actually acquires or advances general skills when they progress in their career and acquire more specific skills.
Here, we provide additional evidence and robustness checks on the analysis of main Fig.~\ref{fig:age}, based on resume (Burning Glass) data, occupational median age, and skill acquisition reflected in synthetic birth cohorts we created using CPS microdata.


\subsection{Resume Data} \label{section: add - burning glass}

Unlike O*NET, Burning Glass resume data offers longitudinal observation of skill acquisition and will allow us to conduct a more strict test of our skill structure.
We keep track of one's occupations in the resume data, from which longitudinal skill acquisition is inferred. 
% We hope to find some evidence that general skills are acquired before specific skills by analyzing resumes.
% We hope to find evidence of general and nested skills movement in tandem by analyzing resumes.
% In addition, we hope to show that people have to strengthen their general skills to further advance their specific skills.
% In addition, we wish to show that people have to strengthen their general and nested skills to further their career trajectory.



\subsubsection*{Preparing Burning Glass Data}

The following discussion describes choices made in cleaning the data, revealing robustness to such choices in terms of the direction of the results, although the magnitude may vary slightly.
We studied over 20 million resumes from the Burning Glass data, which amounts to over 70 million job moves.
For each move, we link the source and destination occupations to skills from O*NET in 2019.
Excluding all within-occupation moves which amount to no skill change we calculate a skill level change across our skill categories and show the result. Fig.~\ref{fig:BG_skill_change_fig_full} as the distribution of career moves for resumes in the Burning Glass sample after removing within-occupational career moves.


%% Burning Glass full fig - Oct 23 2022.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Burning_Glass_Distributions__unclean__Jul_15_2023.png}
    \caption{\textbf{Changes in Skill Levels in Individuals' Career Moves.} The distribution shows the Burning Glass resume data. A minority of career moves produce extreme values, stretching the skill change distributions' tails due to imperfect data.
    }
    \label{fig:BG_skill_change_fig_full}
\end{figure*}

As can be seen in Fig.~\ref{fig:BG_skill_change_fig_full},
A minority of career moves produce extreme values, stretching the skill change distributions' tails.
Table \ref{tab:odd job sequences} shows a few such cases from the data.
For instance, the resume with the ID \textit{652855}, serves as a janitor for a short period (4 months) before seemingly claiming a Chief Executive role. Resume with ID \textit{1723696} held overlapping jobs as a Medical Health Technician and a Middle School Teacher.
Studying the career moves that correspond to such skill changes, we noticed a significant proportion arise from short job stints and coinciding jobs some seemingly voluntary part-time commitments.


% \newpage

We removed such jobs from our resume sample.
Particularly, we kept jobs if they lasted at least 12 months we arrived at the threshold after studying the career moves that correspond to the thousand largest absolute skill changes.
Furthermore, sorting jobs for each resume based on starting date and end date, we removed any job that had a shorter length and overlapped with another that is, we remove a job $j_r$ from a resume $r$, if it had a later or equal start date with another job $j'_r$, but did not have a later end date.
We also removed jobs for which we could not extract the start and end date we used \textit{Python's \textit{dateparser} version 1.1.1.} for the extraction.
The resulting sample was 9,382,602 career moves and 5,361,751 resumes.
Fig.~\ref{fig:BG_skill_change_fig_clean} shows the resulting skill change distributions.



%% Distribution of Career Moves.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Burning_Glass_Distributions__clean__Jul_15_2023.png}
    \caption{\textbf{Changes in Skill Levels in Individuals' Career Moves.}
    Most career moves amount to small changes in skills. On aggregate, general, nested skills experience increases on aggregate, while un-nested skills record non-positive changes.
    Nested skill changes closely correlate with changes in general skills. In contrast, there is almost no noticeable relationship between changes in general and un-nested skills.
    Importantly, randomizing the sequence of job transitions (bootstrap) eradicats the direction of skill acquisition in the observed data.
    }
    \label{fig:BG_skill_change_fig_clean}
\end{figure*}


The main text analyzes the levels and patterns of skill change across general and (nested and un-nested) specific skills.
Fig.~\ref{fig:BG_fullfig_cleaned} shows the net effects, i.e., the average change in levels resulting from job moves across all skill categories, and the correlation between the change in the levels of general skills and changes in the level of other skill categories resulting from job transitions.
Fig.~\ref{fig:BG_fullfig_dynamic} supplements main Fig.~\ref{fig:age} (i) by providing the changes in all skill category levels resulting from consecutive job transitions.

%% Jul 15 2023 - Weird Job Sequences.tex
\footnotesize
% \label{tab:odd job sequences}
\input{Nature_HB_2023/tabsNHB/Jul_15_2023__Weird_Job_Sequences.tex}
\normalsize


\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Burning_Glass_Static__Jul_15_2023.png}
    \caption{\textbf{Expected Changes of Skill Levels for Each Career Moves.}
    For each career move, we linked the source and destination occupations to skills from O*NET in 2019. We calculate a skill level change across our five skill subtypes.
    For each skill sub-type, we measure changes in skill levels, $\Delta_s$, corresponding to each career move as the average of differences between the skill levels of the target and source occupations.
    \textbf{(a)} shows average changes in skill levels for skill subtypes. On aggregate, general, nested skills experience increases on aggregate, while un-nested skills record non-positive changes.
    \textbf{(b)} shows the correlation between general skills and each skill category resulting from individuals' career moves. Nested skill changes are closely related to changes in general skills. In contrast, there is almost no noticeable relationship between changes in general and un-nested skills.
    }
    \label{fig:BG_fullfig_cleaned}
\end{figure*}

\newpage
%% SI - Burning Glass Dynamic - Full - Jul 15 2023.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.7\textwidth]{Nature_HB_2023/SI_figNHB/SI__Burning_Glass_Dynamic__Full__Jul_15_2023.png}
    \caption{\textbf{Changes in all skill category levels in consecutive job transitions.}
    }
    \label{fig:BG_fullfig_dynamic}
\end{figure*}



\newpage
\subsubsection*{Expected Skill Change from Random Job Transition} \label{supsec: bootstrapping BG}
Furthermore, we bootstrapped our resume sample to produce a benchmark and compare it with the skill changes we obtained from observed career moves.
For each resume in our sample, we randomly permuted the order of career moves and measured the skill changes again.
 Fig.~\ref{fig:BG_skill_change_single_bootstrap} shows one such bootstrap.
It is visible in Fig.~\ref{fig:BG_skill_change_single_bootstrap} that the randomization eradicated the direction of skill changes we had obtained from the observed career moves in Fig.~\ref{fig:BG_skill_change_fig_clean}.


%% Single BG Career Move Bootrstap Result - Oct 26 2022.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.7\textwidth]{Nature_HB_2023/SI_figNHB/SI__Burning_Glass_Single_Bootstrap_Distributions__Jul_15_2023.png}
    \caption{\textbf{Changes in Skill Levels in \textit{Bootstrapped} Individuals' Career Moves.}
    The distribution of changes in skill levels visibly differs from what we obtain from the observed career moves.
    }
    \label{fig:BG_skill_change_single_bootstrap}
\end{figure*}


Fig.~\ref{fig:BG_skill_change_bootstraps} further shows the distribution of average skill changes for 100 bootstraps.
The fact that resulting skill changes from a null model differ significantly from our observed results ensures our results are meaningful signals of individuals' career moves, pointing to the dependencies between (general and nested) skills.

%% Bootstrapped vs. Observed Change in Skill Level during Move - Oct 29 2022.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.7\textwidth]{Nature_HB_2023/SI_figNHB/Bootstrapped_vs._Observed_Change_in_Skill_Level_during_Move__Oct_29_2022.png}
    \caption{\textbf{Distribution Skill Changes from Bootstrapped Career Moves.}
    }
    \label{fig:BG_skill_change_bootstraps}
\end{figure*}

%%----------------------------------------------------------------------------%%
\clearpage
% \subsection*{Skills and Occupation's Median Age}

% Here, we ask whether inter-dependencies between skills manifest in how different skills are acquired over time.
% Ideally, one would track individuals' skill accumulation data to detect patterns in the co-accumulation of skills.
% However, apart from the challenges of obtaining individual skill data, information captured in commonly used sources, for instance, resumes, is likely biased towards reporting specific skills.
% Instead, we offer two analyses.


% First, we form synthetic birth cohorts by examining the cross-variations in occupations' median ages at the economic level.
% When examining the relationship between skills and age, one would generally expect cohorts of a higher age to have higher skills across the board consistent with what we find in panels A and B of Figs \ref{fig: Synthetic Cohort Analysis on Occupation Skills - general} and \ref{fig: Synthetic Cohort Analysis on Occupation Skills - specific}.
% Furthermore, as our theory predicts, if general skills are prerequisites of specific (nested) skills, the relationship between general skills and age should sustain controlling for specific skills.
% A corollary is that controlling for general skills should reverse the relationship between age and specific (nested) skills.
% The latter arises from our hypothesis that obtaining higher levels of nested specific skills requires acquiring more sophisticated general skills. 
% To the extent that such learning of skills correlates with age, controlling for the prerequisite (i.e., general skills) should account for any relationship between the dependent (i.e., nested specific skills).
% However, the vice versa should not hold: controlling for the dependent (i.e., nested specific) skills should not eradicate the relationship between age and the prerequisite (i.e., general) skills.

% Second, we form synthetic birth cohorts from participants in Current Population Survey (CPS) born in a given year.
% Ideally, one would follow a given individual and track their skill acquisition as they age.
% Instead, we can track the cohort of individuals born in a given year and track the composition of their skills as they age.
% We infer individuals' skills from the occupations they hold and link those occupations to the O*NET occupational skill requirement of 2019.
% Even though this choice may impose the skill structure of a certain year, it should carry no bearing on the changing composition of skills as a group of individuals age.


% To analyze the relationship between skills and age, we obtain two datasets. The first contains median age data for occupations from Current Population Survey (CPS)\footnote{\tiny\url{https://www.bls.gov/cps/demographics.htm#age}}for the year 2019, and the second contains household survey conducted jointly by the U.S. Census Bureau and the Bureau of Labor Statistics \cite{Flood2022}.
% We use the former to examine the relationship between occupations' median age and skills. We utilize the latter to form synthetic birth cohorts from individuals born in a given year and investigate their skill composition as they age to infer the accumulation of skills over time.
% For all our analyses using household data, we consider only observations in the workforce.
% CPS and O*NET use different occupational taxonomies. As a result, one needs to map CPS and O*NET occupations. We use a crosswalk offered by BLS\footnote{\tiny\url{https://www.census.gov/topics/employment/industry-occupation/guidance/code-lists.html}}, which maps a CPS occupation to 542 out of 968 occupations in O*NET 8-digit SOC codes.
% CPS household data also contain gender and racial/ethnic demographic information.

\subsection{Occupational Median Age}
Fig.~\ref{fig:occupations' median age and skill - full fig} shows the trends of average skill levels and the average levels of the top 5 skills in each category against occupations' median age.
This analysis supplements the main Fig.~\ref{fig:age} (a-c).

%% Fig. 3 & 4 - Occupational Age and Skill Levels and Education - Oct 7 2022.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.95\textwidth]{Nature_HB_2023/SI_figNHB/SI__Occupation_Skill_and_Median_Age__Full_Figure__Jul_15.png}
    \caption{
    \textbf{Median Age of Workers in Occupation and Changes in Skill Categories.}
    }
    \label{fig:occupations' median age and skill - full fig}
\end{figure*}

% We find evidence supporting both implications and show them in panels A and B of Fig.~\ref{fig: Synthetic Cohort Analysis on Occupation Skills - main}.
% Plotting general skills, residualized by different types of specific skills, against occupations' median age, we observe that positive slopes persist panel A.
% Intuitively, controlling for nested specific skills weakens the signal compared to un-nested specific skills, however, does not eradicate the signal.
% Plotting occupations' nested and un-nested specific skills, residualized by the other type of specific and general skills, against their median age, the positive slope for nested specific skills reverses to modestly negative panel B.
% Such dynamics are driven by general skills being prerequisites to nested specific skills.
% Comparing the left figures of panels A and B, when general skills are residualized by nested specific skills versus when nested specific skills are residualized by general skills, corroborates our theory that general skills act as prerequisites to nested specific skills.
% A less significant result is that, once the effect of general and nested specific skills are controlled, un-nested specific skills are also positively related to age.
% One way to interpret such a relationship is that acquiring un-nested specific skills, too, requires time if we consider that they do not require general skills.
% In panel C of Fig.~\ref{fig: Synthetic Cohort Analysis on Occupation Skills - main}, we show that, as expected, occupations with higher median age also have higher levels of education.
% The latter relationship highlights that an important outcome of education is acquiring general skills.

% %% Jun 21 2022 - Occupational Age and Skill Levels and Education
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=0.95\textwidth]{\figdir/Jun 21 2022 - Occupational Age and Skill Levels and Education.png}
%     \caption{Synthetic Cohort Analysis on Occupation Skills.
%     Panel A shows occupations' general skills, residualized by different types of specific skills, against their median age. We observe positive slopes persist. However, as expected, controlling for nested specific skills weakens the signal compared to un-nested specific skills.
%     Panel B shows occupations' nested and un-nested specific skills, residualized by the other type of specific and general skills, against their median age. In this case, the positive slope for nested specific skills becomes modestly negative.
%     Panel C shows occupations with higher median age also have higher levels of education. This relationship highlights general skills as key outcomes of education.
%     }
%     \label{fig: Synthetic Cohort Analysis on Occupation Skills - main}
% \end{figure*}


% Figs \ref{fig: Synthetic Cohort Analysis on Occupation Skills - general} and \ref{fig: Synthetic Cohort Analysis on Occupation Skills - specific} capture the complete analysis, starting with raw skills and adding controls. Panels C of these figures are used in the main Fig.~\ref{fig: Synthetic Cohort Analysis on Occupation Skills - main}.

% %% Jun 21 2022 - Occupational Age and Skill Levels - General skills
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=0.95\textwidth]{\figdir/Jun 21 2022 - Occupational Age and Skill Levels - General skills.png}
%     \caption{Synthetic Cohort Analysis on Occupation General Skills.
%     Panel A shows occupations' raw general skill scales against median age, wherein a positive relationship is observed.
%     In panel B, we residualized general skills by both nested and un-nested specific skills. The positive slope between the residualized general skills and age persists.
%     Finally, in each sub-figure of panel C, we residualized general skills by one type of specific skills. While the positive relationship remains, controlling for nested specific skills weakens the age signal.
%     }
%     \label{fig: Synthetic Cohort Analysis on Occupation Skills - general}
% \end{figure*}


% %% Jun 21 2022 - Occupational Age and Skill Levels - Specific skills
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=0.95\textwidth]{\figdir/Jun 21 2022 - Occupational Age and Skill Levels - Specific skills.png}
%     \caption{Synthetic Cohort Analysis on Occupation Skills.
%     Panel A shows occupations' raw specific skill scales against median age, wherein nested and un-nested skills differ in their respective positive and negative relationships with age.
%     In panel B, we residualized each type of specific skill by the other type. Adding such control does not change the qualitative relationship between each specific skill type and age.
%     Finally, in panel C, we also add general skills as a control for each type of specific skill. As a result of this exercise, the relationships reverse. We interpret this reversal as evidence supporting our theory that general skills are prerequisites of nested specific skills.}
%     \label{fig: Synthetic Cohort Analysis on Occupation Skills - specific}
% \end{figure*}


% \newpage
\subsection{Individuals' Age and Skills}
Fig.~\ref{fig:individuals' age and skill - year effects} shows the trends of average skill levels and the average levels of the top 5 skills in each category as individuals age, accounting for the year effect.
This analysis supplements the main Fig.~\ref{fig:age} (d-f) by controlling for varying annual economic situations.
The top 5 skills are determined based on the highest levels of skills in each category and are inferred for the individual based on their occupation.
The results are consistent with the main figure.

%% Figure 3 & 4 - Occupational Age and Skill Levels and Education - Oct 7 2022.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.95\textwidth]{Nature_HB_2023/SI_figNHB/SI__Individual_Skill_and_Age__conditioned_on_year_effect__Jul_15.png}
    \caption{
    \textbf{Individuals' Skill Acquisition and Age.}
    }
    \label{fig:individuals' age and skill - year effects}
\end{figure*}


As robustness checks, we also show that the skill development observed in the main Fig.~\ref{fig:age} continues long after education (Fig.~\ref{fig:individuals' age and skill and education}) and also emerges for individuals without a college education (Fig.~\ref{fig:individuals' age and skill - no college}).

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Skill_age_education_comment_4.3_Feb22_2024.png}
    \caption{
    \textbf{Evolution of skill, age and education.} To measure education, we have used educational attainment and the fraction of individuals who attend school as functions of age, both taken from the Current Population Survey (CPS). The education attainment variable ranges from 2 (i.e., no schooling) to 125 (i.e., doctorate degree). To obtain the fraction of the sample attending school, we utilized the information in the CPS variable SCHOOLCOL that documents attending high school (1 or 2) or college/university (3 or 4) or not attending school (5). We transformed the information so that if an individual attends school (1,2,3 or 4), it receives a value of 1, and if not attending, it has a value of 0. Even though by the age of 30, education plateaus and school attendance drops significantly, skill growth continues, manifesting the presence of other mechanisms for skill accumulation apart from education.
    }
    \label{fig:individuals' age and skill and education}
\end{figure*}


\begin{figure*}[!h]
    \centering
    \includegraphics[width=.95\textwidth]{Nature_HB_2023/SI_figNHB/Skill_age_people_with_no_college.png}
    \caption{
    \textbf{Skill Acquisition and Age for Individuals with no College Education.} The figure replicated the skill-age analysis (Fig. \ref{fig:age}) for the subset of individuals who have obtained no more than a high school diploma (values of less than or equal to 073 on the CPS education attainment variable.) The patterns resemble the skill accumulation across the population, even though the levels of general and nested skills are lower compared to the population-level estimates.
    }
    \label{fig:individuals' age and skill - no college}
\end{figure*}

%%----------------------------------------------------------------------------%%
\clearpage
\section{Skill Investment and Payoffs} \label{supsec: add - returns to skill} 

%% ALL SKILLS  -------------------------------------------------------------
\subsection{Investment and Payoffs of Skill Subtypes}

Figure \ref{fig:wage curves} shows wage curves that depict wages as a function of age for individuals in the most nested and the most un-nested occupations.
The figures capture entrapment due to un-nested skills.
% (Argote & Eppel, 1990, Jovanovic et al., 1995, Jovanovic & Nyarko, 1997, Lange, 2007, Nagypl, 2007, Kahn & Lange, 2014), 
To obtain wage curves, we averaged over the levels of nested and un-nested skills of each occupation in our sample. We picked occupations at the top 20\% of the nested skills as the most nested, and occupations at the top 20\% of the un-nested skills as the most un-nested. Matching these occupations to the individuals in the CPS, we can obtain estimates of wages for individuals in these occupations at different ages.
To avoid conflating long-run economic factors, we show the wage-age curves for four distinct periods of 5-years: 1983-1987, 1993-1997, 2003-2007, 2013-2017.
In three of the four periods, un-nested jobs have an early wage lead, which quickly evaporates with age. The pattern is consistent with the notion that learning is steeper in occupations with more complex tasks \cite{Jovanovic1997,Nedelkoska2015}. To arrive at a complete picture, one would need to account for the higher cost of education associated with nested occupations. Hence, the wage offsets observed in the figure may occur later in individuals lives in terms of real earnings once the cost of education is accounted for.



\begin{figure*}[!h]
    \centering
    \includegraphics[width=.7\textwidth]{Nature_HB_2023/SI_figNHB/Experience_Curves_20_perc_skills_no_errorbar_Feb22-2024}
    \caption{\textbf{Wage Curves for Occupations with Primarily Nested vs. Primarily Un-nested Skills.}
    We average over the levels of nested and un-nested skills of each occupation in our sample and pick occupations at the top 20\% of the nested skills as the most nested and occupations at the top 20\% of the un-nested skills as the most un-nested. Matching these occupations to the individuals in the CPS, we can obtain estimates of wages for individuals in these occupations at different ages. To avoid conflating long-run economic factors, we show the wage-age curves for four 5-year periods: 1983-1987, 1993-1997, 2003-2007, 2013-2017. Un-nested jobs have an early wage lead which quickly evaporates with age.}
    \label{fig:wage curves}
\end{figure*}


Figures \ref{fig:SI_education_skill_level}-\ref{fig:SI_wage_skill_level} capture a similar analysis to the main Fig.~\ref{fig:Wage} for all skill subtypes, separating the relationship between skills and occupation educational requirement, occupation workplace experience, and wages, respectively.
In each figure, the upper panel depicts the bivariate relationship between each nested or un-nested and intermediate or specific skill subset and a corresponding work measure (educational requirement, workplace experience, and wages).
The inset shows the relationship between general skills.
The lower panels control for general skills when regressing the work measure on the corresponding skill subset. The residualized form shows the partial association between the skill subtype and work measure.
For nested skills, the relationship with education weakens but for experience and wages it almost disappears, consistent with the main text and our intuition that general skills derive a large part of the signal.
For un-nested skills, the predominantly negative relationships reverse to modest positive, consistent with the intuition that cetris paribus, un-nested skills behave as if human capital.
Hence, they require training, accumulate experience, and contribute to wages, albeit modestly.


\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Full_Education_Scatter_Plots__Jul_15_2023.png}
    \caption{\textbf{Relationship between Occupations' Educational Requirement and Skill Subtypes.}}
    \label{fig:SI_education_skill_level}
\end{figure*}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Full_Experience_Scatter_Plots__Jul_15_2023.png}
    \caption{\textbf{Relationship between Occupations' Workplace Experience and Skill Subtypes.}}
    \label{fig:SI_experience_skill_level}
\end{figure*}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Full_Wage_Scatter_Plots__Jul_15_2023.png}
    \caption{\textbf{Relationship between Occupational Wages and Skill Subtypes.}}
    \label{fig:SI_wage_skill_level}
\end{figure*}


%% TOP 5 -------------------------------------------------------------
Figs. \ref{fig:SI_education_skill_level_top5}-\ref{fig:SI_wage_skill_level_top5} repeat the above analyses with the minor difference that the skill level is calculated not as the average of all skills that belong to a subtype, but as the average level of each occupations' top 5 skills in each skill category.
The nature of the relationships is robust to this change while slopes vary modestly.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Full_Education_Scatter_Plots__Top_5__Jul_15_2023.png}
    \caption{\textbf{Relationship between Educational Requirement and Occupation's Top 5 Skills in Subtypes.}}
    \label{fig:SI_education_skill_level_top5}
\end{figure*}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Full_Experience_Scatter_Plots__Top_5__Jul_15_2023.png}
    \caption{\textbf{Relationship between Workplace Experience and Occupation's Top 5 Skills in Subtypes.}}
    \label{fig:SI_experience_skill_level_top5}
\end{figure*}

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Full_Wage_Scatter_Plots__Top_5__Jul_15_2023.png}
    \caption{\textbf{Relationship between Wages and Occupation's Top 5 Skills in Subtypes.}}
    \label{fig:SI_wage_skill_level_top5}
\end{figure*}


Table \ref{tab:wage reg on skill endowment} supplements previous figures by comparing the partial effect of nested and un-nested categories for each skill group on wages. It also introduces conventional control variables of human capital, such as education, experience, and training.
The slopes are consistent with previous results and are robust (both statistically and in magnitude) to adding human capital controls.
Note that we do not run a regression including all subtypes because of the biases introduced by adding pre-treatment variables general skills are prerequisites to nested skills. 

%% Wage Regression Table
\begin{table}[!h]
    \centering
    % \begin{threeparttable}
    \caption{\textbf{Wage Regression on Skill Endowment.}}
    \resizebox{\columnwidth}{!}{
    \input{Nature_HB_2023/tabsNHB/Jul_15_2023__Wage_Regression_on_Skill_Endowments.tex}}
    \label{tab:wage reg on skill endowment}
\end{table}
%%

\newpage
\subsection{Automation Risk and Skills}

Given the broad interest in understanding human capital and automation risk, we plot occupations' automation risk index \cite{Frey2017} against their average levels in each skill category in Fig.~\ref{fig:occ_FOautomation_skill}.

%% Wage ~ Skill Type - Level - new categorization.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/FO_Automation_Risk_vs._Skill_Levels__Skill_Cat.png}
    \caption{\textbf{Occupations' Automation Risk Index Against their Average Levels in each Skill Category.}}
    \label{fig:occ_FOautomation_skill}
\end{figure*}

%% SKILL PAYOFFS TO DIFFERENT OCCUPATIONS -------------------------------------------------------------
% \newpage
\subsection{Skill Payoffs for Different Occupations}

Fig.~\ref{fig:Figure 3 full | major occupation groups} relates returns to skills for each major occupational group 1-digit SOC. The key pattern is that all occupational groups, despite varying in their skill endowments, benefit from higher levels of nested skills. 
However, un-nested skills only improve wages of Professional occupations and Skilled traders. 

%% Wage ~ Skill Type - Level - new categorization.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Jul_15_2023__Wage__Skill_Type__major_groups__Level__new_categorization.png}
    \caption{\textbf{Wage Returns to Different Types of Skill Endowment for each Major Occupational Group}. Each point corresponds to an occupation. The setup supplements the main Fig.~\ref{fig:Wage}, highlighting the benefits of higher levels of nested skills. However, un-nested skills only improve wages of Professional occupations and Skilled traders. This in itself underpins multi-dimensionality skills.}
    \label{fig:Figure 3 full | major occupation groups}
\end{figure*}

Interestingly, managerial occupations command high general skills.
Section \ref{sec:robustness check: no managers} of the supplementary document examines (and finds evidence against) the possibility that the returns to general skills are largely a managerial phenomenon.



%% SKILL PAYOFFS TO DIFFERENT OCCUPATIONS -------------------------------------------------------------
% \newpage
\subsection{Skill Investment and Payoffs in 2005}

In Fig.~\ref{fig:Wage and education 2003}, we repeat our analysis of investment and payoffs to skills (main Fig.~\ref{fig:Wage}) for 2005, finding results consistent with the growing importance of general skills.
The figures show lower associated education and payoffs to general skills than the main figure (\ref{fig:Wage}).

%% Skill Wage against Skill Generality and Correlation with General Skills.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__2005_Wage_Replicate__Apr_1_2024.png}
    \caption{\textbf{Investment and Payoffs of Different Specific Skills in 2005.}}
    \label{fig:Wage and education 2003}
\end{figure*}




%%----------------------------------------------------------------------------%%
\clearpage
\section{Skills' Geographic Distribution} \label{section: add - geographical distribution of skills}

An in-depth analysis of how skills interface with urban growth is beyond the scope of this work, we provide a brief descriptive analysis, here. Overall, urban areas are more endowed with general skills.
In contrast, rural areas are less likely to carry general skills.
This is consistent with the concentration of more innovative and complex economic activity \cite{Hong2020, Balland2020} and the concentration of managerial and administrative occupations in larger cities.
We test and find support for the hypothesis that skills, in particular concentration of general skills, explain away part of the urban wage premiums.
Upon grouping cities by manufacturing employment relative to the national average, we find that cities highly specialized in manufacturing tend to exhibit lower levels of nested specialization but higher levels of unnested specializations (Fig.~\ref{fig:skill_and_manufacturing_full}).
This shows that cities indeed specialize in distinct directions. Interestingly, skill patterns shift in a non-linear fashion across cities with increasing concentrations of manufacturing employment.
Both a strong dependence on and a complete absence of manufacturing correlate with adverse skill bases, i.e., skill bases dominated by unnested skills and a lower prevalence of general and nested skills. Conversely, skills that typically command high wage premiums are overrepresented in cities with intermediate levels of manufacturing activity.


\subsection{Counties' Skill Endowments}
Using the occupational employment for Metropolitan and nonmetropolitan areas\footnote{\tiny\url{https://www.bls.gov/oes/}} published by the Bureau of Labor Statistics (BLS), one can map the geographical distribution of skills.
BLS uses Core-based Statistical Areas (CSAs) as geographic units, which are more coarse than the county level.
US counties follow the Federal Information Processing System (FIPS) taxonomy.
To obtain employment at the level of FIPS and map skill information onto US counties, we used a crosswalk also provided by BLS \footnote{\tiny\url{https://www.bls.gov/oes/current/msa_def.htm}}.
We aggregate occupation skills at the level of \textit{general, nested intermediate and specific, and un-nested intermediate and specific}.
Taking an average for each US county using the county employment of occupations as weights, we derive a regional measure of skill endowment for each skill sub-type.


% We then compactly present skill maps in Fig.~\ref{fig:Geography} with the distributions of general, nested, and unnested specific skills across U.S. counties (a-c), cities of various sizes (d), and cities with different concentrations of manufacturing (e).
Overall, our analysis (Figs.~\ref{fig:geo_dist_level_general_skills_employment_weighted} through \ref{fig:geo_dist_level_un-nested_specific_skills_employment_weighted}) show a clear concentration of general skills in densely populated urban areas, reflecting the diverse and complex economic activities found in these locales \cite{Glaeser1999, Wheeler2001, Youn2016, gomez2016explaining, Hong2020, Balland2020, Bettencourt2014, Gomez-Lievano2021}. Large cities tend to have higher levels of general and nested skills (also seen in Fig.~\ref{fig:skill_and_population_full}).
For instance, New York and Washington D.C. harbor significant financial and state employment.
Moreover, even in states with comparatively rural structures, such as Indiana, Iowa, Nebraska, and Kansans, state capitals, where the local state is likely to reside, command a higher level of general skills than their neighboring counties.
A secondary driver of the abundance of general skills in urban areas is the specialization needed for accomplishing complex economic tasks.
For instance, Boston, Seattle, and San Francisco (the latter not shown on the map) are tech hubs and command a strong stock of general (, and as seen in Fig.~\ref{fig:geo_dist_level_nested_specific_skills_employment_weighted}, specific) skills\footnote{
Finer-grained insights can also be obtained from these maps.
For instance, the most extreme concentration of general skills (or lack thereof) is observed in less populated cities that are specialized in a certain industry.
The significant proportion of the focal industries' workers relative to the total employment highlights the skills used by those workers.
The most extreme concentrations of general skills (or lack thereof) are observed in less populated cities that are specialized in a certain industry.
The significant proportion of the focal industries' workers relative to the total employment highlights the skills used by those workers.
The five most and least endowed counties with general skills are shown on the map as italicized text.
For instance, St. Mary County (Maryland) is an air force and aerospace hub with companies such as Lockheed Martin and Boeing, and military naval air station Patuxent River among the top employers.
Another example is Chatham and its neighboring counties, Durham (hosting Duke University), Orange (hosting the University of Carolina at Chapel-Hill), and Person, which have fostered one of the fastest growing tech sectors in the US, earning the nickname of \textit{Research Triangle}.
Other notable concentration points of general skills are Limestone and Madison (Alabama), hosting numerous aerospace and automobile manufacturing facilities, and Washtenaw county (Michigan) hosting the University of Michigan Ann Arbor and its off-sprung businesses.
In contrast, Madera (California), and its neighboring counties, Tulare, Kings, and Monterey)Highlands (Florida), Yuma (Arizona), Hall (Georgia), and Kalawao (Hawaii) are primarily designated agricultural areas, accruing unnested skills.
}.
However, the starkest disparities between smaller and larger cities are seen in the prevalence of unnested skills, which are significantly less common in cities with over a million inhabitants, a known threshold for cities transitioning towards innovative economic specializations \cite{Hong2020}.
While most workers with nested skills need general s kills, the concentration of managerial and other supporting roles also needs high levels of general skills.
Hence, examine and find evidence consistent with the hypothesis that the accumulation of general skills indeed explains part of the value generated in large cities (Tab.~\ref{tab:urban wage premium}).


%% Wage Regression Table
\begin{table}
    \centering
    % \begin{threeparttable}
    \caption{\textbf{General Skills Explain Urban Wage Premiums.}}
    \resizebox{\columnwidth}{!}{
    \input{Nature_HB_2023/tabsNHB/Mar_25_2024__urban_wage_premiums.tex}}
    \label{tab:urban wage premium}
\end{table}




% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=0.95\textwidth]{Nature_HB_2023/figNHB/Fig 6 - Jul 11 2023.png}
%     \caption{\textbf{Spatial Distribution of Skill Categories.}
%      \textbf{(a)} General, \textbf{(b)} Nested, and \textbf{(c)} Un-nested skill levels of each county's occupational composition, using their standard score (z-score) relative to the national level (see Methods). 
%      The most populated counties in each state are enclosed in a box, and the top five and bottom five U.S. counties are highlighted in italics.
%      There is a noticeable concentration of general and nested skills in densely populated areas, while rural areas demonstrate a higher level of un-nested skills.
%      \textbf{(d)} and \textbf{(e)} illustrate the average skill levels (and 95\% confidence intervals) of each skill category in relation to population size and manufacturing industries, respectively.}
%     \label{fig:Geography}
% \end{figure*}


% Expanding the above figure, Figs.~\ref{fig:geo_dist_level_general_skills_employment_weighted} through \ref{fig:geo_dist_level_un-nested_specific_skills_employment_weighted} show the geographical distribution of each skill category.
% The largest cities from each state (in terms of population) are shown as boxed labels.
% The bottom histogram shows the distribution of the corresponding stock of skills across the US economy.
% The y-axis shows the number of unique Federal Information Processing Standards (FIPS) with the respective skill level.


% Overall, urban areas are more endowed with general skills seen in red.
% In contrast, rural areas are less likely to carry general skills seen in blue.
% This is consistent with the concentration of more innovative and complex economic activity \cite{Hong2020, Balland2020} and the concentration of managerial and administrative occupations in cities.
% For instance, New York and Washington D.C. harbor significant financial and state employment.
% Moreover, even in states with comparatively rural structures, such as Indiana, Iowa, Nebraska, and Kansans, state capitals, where the local state is likely to reside, command a higher level of general skills than their neighboring counties.
% A secondary driver of the abundance of general skills in urban areas is the specialization needed for accomplishing complex economic tasks.
% For instance, Boston, Seattle, and San Francisco (the latter not shown on the map) are tech hubs and command a strong stock of general (, and as seen in Fig.~\ref{fig:geo_dist_level_nested_specific_skills_employment_weighted}, specific) skills.
% Nonetheless, the most extreme concentration of general skills (or lack thereof) is observed in less populated cities that are specialized in a certain industry.
% The significant proportion of the focal industries' workers relative to the total employment highlights the skills used by those workers.


% The most extreme concentrations of general skills (or lack thereof) are observed in less populated cities that are specialized in a certain industry.
% The significant proportion of the focal industries' workers relative to the total employment highlights the skills used by those workers.
% The five most and least endowed counties with general skills are shown on the map as italicized text.
% For instance, St. Mary County (Maryland) is an air force and aerospace hub with companies such as Lockheed Martin, and Boeing, and military naval air station Patuxent River among the top employers\footnote{\tiny\url{https://commerce.maryland.gov/Documents/ResearchDocument/MajorEmployersInStMarysCounty.pdf}}.
% Another example is Chatham, and its neighboring counties, Durham (hosting Duke University), Orange (hosting the University of Carolina at Chapel-Hill), and Person, which have fostered one of the fastest growing tech sectors\footnote{\tiny\tiny\url{https://www.thecentersquare.com/north_carolina/durham-chapel-hill-nc-has-one-of-the-fastest-growing-tech-sectors/article_f656132a-67c5-5b50-a288-86d5b77372b8.html}} in the US, earning the nickname of \textit{Research Triangle}\footnote{\tiny\url{https://en.wikipedia.org/wiki/Research_Triangle}}.
% Other notable concentration points of general skills are Limestone\footnote{\tiny\url{https://www.naida.com/our-region/limestone-county/}} and Madison (Alabama)\footnote{\tiny\url{https://www.naida.com/our-region/madison-county/}}, hosting numerous aerospace and automobile manufacturing facilities, and Washtenaw county (Michigan) hosting the University of Michigan Ann Arbor and its off-sprung businesses.
% In contrast, Madera (California)\footnote{\tiny\url{https://centralcalifornia.org/location-advantages/madera-county/#:~:text=Major\%20operations\%20include\%3A\%20Gallo\%20Winery,the\%20geographical\%20center\%20of\%20California.}}, and its neighboring counties, Tulare, Kings, and Monterey)Highlands (Florida)\footnote{\tiny\url{https://www.naida.com/our-region/limestone-county/}}, Yuma (Arizona), Hall (Georgia), and Kalawao (Hawaii) are primarily designated agricultural areas, accruing unnested skills.

%% Geographic Distribution of Average General Skills Weighted by Employment.png
% \begin{sidewaysfigure}[ht]
\begin{figure}[ht]
    \centering
    \includegraphics[width=\textwidth, trim={5cm 0 2cm 2cm},clip]{Nature_HB_2023/SI_figNHB/Geography_of_General_Skills__full_fig__Jul_15_2023.png}
    \caption{\textbf{Geographic Distribution of Average General Skills Weighted by Employment.} The bottom histogram shows the distribution of the corresponding stock of skills across the US economy. The y-axis shows the number of unique FIPS with the respective skill level.
    Overall, urban areas are more endowed with general skills seen in red. In contrast, rural areas are less likely to carry general skills seen in blue. This is consistent with the concentration of more innovative and complex economic activity \cite{Hong2020, Balland2020} and the concentration of managerial and administrative occupations in cities.}
    \label{fig:geo_dist_level_general_skills_employment_weighted}
\end{figure}

%% Geographic Distribution of Average Nested intermediate Skills Weighted by Employment.png
\begin{figure}[!h]
    \centering
    \includegraphics[width=.875\textwidth, trim={5cm 0 2cm 2cm},clip]{Nature_HB_2023/SI_figNHB/Geography_of_Intermediate_Nested_Skills__full_fig__Jul_15_2023.png}
    \caption{\textbf{Geographic Distribution of Average Nested Intermediate Skills Weighted by Employment.}
    The bottom histogram shows the distribution of the corresponding stock of skills across the US economy. The y-axis shows the number of unique FIPS with the respective skill level.}
    \label{fig:geo_dist_level_nested_common_skills_employment_weighted}
\end{figure}

%% Geographic Distribution of Average Nested Specific Skills Weighted by Employment.png
\begin{figure}[!h]
    \centering
    \includegraphics[width=.875\textwidth, trim={5cm 0 2cm 2cm},clip]{Nature_HB_2023/SI_figNHB/Geography_of_Nested_Specific_Skills__full_fig__Jul_15_2023.png}
    \caption{\textbf{Geographic Distribution of Average Nested Specific Skills Weighted by Employment.}The bottom histogram shows the distribution of the corresponding stock of skills across the US economy. The y-axis shows the number of unique FIPS with the respective skill level.}
    \label{fig:geo_dist_level_nested_specific_skills_employment_weighted}
\end{figure}

%% Geographic Distribution of Average Un-nested Common Skills Weighted by Employment.png
\begin{figure}[!h]
    \centering
    \includegraphics[width=.875\textwidth, trim={5cm 0 2cm 2cm},clip]{Nature_HB_2023/SI_figNHB/Geography_of_Un-nested_Intermediate_Skills__full_fig__Jul_15_2023.png}
    \caption{\textbf{Geographic Distribution of Average Un-nested Intermediate Skills Weighted by Employment.}The bottom histogram shows the distribution of the corresponding stock of skills across the US economy. The y-axis shows the number of unique FIPS with the respective skill level.}
    \label{fig:geo_dist_level_common_specific_skills_employment_weighted}
\end{figure}

%% Geographic Distribution of Average x Skills Weighted by Employment.png
\begin{figure}[!h]
    \centering
    \includegraphics[width=.875\textwidth, trim={5cm 0 2cm 2cm},clip]{Nature_HB_2023/SI_figNHB/Geography_of_Un-nested_Specific_Skills__full_fig__Jul_15_2023.png}
    \caption{\textbf{Geographic Distribution of Average Un-nested Specific Skills Weighted by Employment.}The bottom histogram shows the distribution of the corresponding stock of skills across the US economy. The y-axis shows the number of unique FIPS with the respective skill level.}
    \label{fig:geo_dist_level_un-nested_specific_skills_employment_weighted}
\end{figure}



\subsection{Skills and Population}
% In the main Fig.~\ref{fig:Geography}~(d), 
We divide cities into four mutually exclusive groups by population (below 10 thousand, below 50 thousand, below 1 million, and more than a million inhabitants) based on 2010 Census population estimates.
Skill endowment for each city group is taken as the average of counties, and 95\% confidence intervals are shown.
Fig.~\ref{fig:skill_and_population_full} shows for cities of different size the levels of
% repeats the analysis of main Fig.~\ref{fig:Geography}~(d) for
all skill categories.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Population_and_skills__full_figure__Jul_15_2023.png}
    \caption{\textbf{Population Size and Skills}
    The figure shows for cities of different size the levels of all our skill categories, highlighting the statements for nested and un-nested specific skills also hold for the corresponding intermediate skills.}
    \label{fig:skill_and_population_full}
\end{figure*}

We also test the hypothesis that the accumulation of general skills indeed explains part of the value generated in cities \cite{Lucas1988, Bacolod2009, gomez2016explaining}.
we test that hypothesis directly by utilizing the CBSA size (CBSASZ) variable from CPS microdata, which carries information about the size of the metropolitan area in which the surveyed individual resides (since 2004).
The values range from 0: areas of $<100,000$ inhabitants that do not meet the threshold of a metropolitan area to 6: over 5 million inhabitants. We transform these brackets to cities below and above 1M population \cite{Hong2020}.

In the model (1) of Tab.~\ref{tab:urban wage premium}, we first regressed the log wage reported by individuals to CPS on the size of the metropolitan area in which they reside, obtaining partial correlations that signify the urban wage premiums (the baseline is areas of $<1M$ inhabitants.) In the second model of the table, we add general skills of individuals (which we obtain from matching to O*NET the occupation associated with each individual in the CPS microdata). That means that large cities tend to have more people in occupations with general skills. This bias toward more general-skill intensive activities explains over one-third of the urban wage premiums \cite{Lucas1988, Glaeser2001, Bacolod2009, Gomez-Lievano2021}. Adding nested and un-nested specific skills first without and then with general skills in models 3 and 4, respectively, have similar effects.



\subsection{Skills and Manufacturing Industries}
% The main Fig.~\ref{fig:Geography}~(e) 
We divide cities into four mutually exclusive groups based on the intensity of their manufacturing industries.
We use US Census County Business Patterns from 2019 that report industry employment for metropolitan areas to quantify manufacturing presence.
At the 2-digit naics codes, we take 31-33 as manufacturing industries and calculate the location quotient of manufacturing employment (the ratio of manufacturing employment from the metro area total employment over the nationwide ratio).
Matching metro areas to counties, we designate counties with no manufacturing employment to group "None", and group the rest based on quotient 33\% and 66\% quantiles of the measure into bottom, middle, and top.
Fig.~\ref{fig:skill_and_manufacturing_full} shows for cities of different manufacturing concentrations the levels of
all skill categories.
% , and Fig.~\ref{fig:skill_and_manufacturing_map} shows the classification of counties as described above with the county names in the \textit{top} manufacturing bracket appearing on the US map.


\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Manufacturing_and_skills__full_figure__Jul_15_2023.png}
    \caption{\textbf{Intensity of Manufacturing Industries and Skills}
    The figure shows for cities of different manufacturing concentrations the levels of all skill categories, highlighting the statements for nested and un-nested specific skills hold also for the corresponding intermediate skills.}
    \label{fig:skill_and_manufacturing_full}
\end{figure*}


% \begin{sidewaysfigure}[!h]
%     \centering
%     \includegraphics[width=0.85\textwidth]{Nature_HB_2023/SI_figNHB/Jun 14 2023 - us map - Manufacturing Jobs Quotient.png}
%     \caption{\textbf{Classification of Counties based on the Intensity of their Manufacturing Industries}
%     The top manufacturing counties capture the Indiana, the North Carolina, and the Georgia Industry Hubs.}
%     \label{fig:skill_and_manufacturing_full}
% \end{sidewaysfigure}

% \tempdima=\textwidth% inside \textwidth=\linewidth=\textheight
%   \begin{sidewaysfigure}
%   \textheight=\tempdima
%   \settoheight{\tempdimb}{\includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Jul 15 2023 - us map - Manufacturing Jobs Quotient.png}}% default height
%   \savebox{\tempbox}{\begin{minipage}{\textwidth}
%     \caption{\textbf{Classification of Counties based on the Intensity of their Manufacturing Industries.} The top manufacturing county bracket captures Indiana, North Carolina, and the Georgia Industry Hubs. Cutoff thresholds and the distribution of manufacturing employment quotient are shown in the inset we apply hard thresholds, and the overlaps in the inset arise from binning.}
%     \addtocounter{figure}{-1}% reset
%     \rule{\textwidth}{\tempdimb}% same size but faster
%     \end{minipage}}%
%   \tempdima=\ht\tempbox\relax% can't get \dimexpr to work
%   \advance\tempdima by \dp\tempbox\relax
%   \tempdimc=\tempdimb
%   \ifdim\textheight<\tempdima
%     \advance\tempdimb by \textheight
%     \advance\tempdimb by -\tempdima
%   \fi
%   \tempdima=\dimexpr \tempdimb*\textwidth/\tempdimc\relax% compute scaled width
%   \hfil\begin{minipage}{\tempdima}
%   \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Jun 14 2023 - us map - Manufacturing Jobs Quotient.png}
%   \caption{\textbf{Classification of Counties based on the Intensity of their Manufacturing Industries.} The top manufacturing county bracket captures Indiana, North Carolina, and Georgia Industry Hubs. Cutoff thresholds and the distribution of manufacturing employment quotient are shown in the inset we apply hard thresholds, and the overlaps in the inset arise from binning.}
%   \label{fig:skill_and_manufacturing_map}
%   \end{minipage}
% \end{sidewaysfigure}




%%----------------------------------------------------------------------------%%
\clearpage
\section{Skills' Demographic Distribution} \label{section: add - demographic distribution of skills}

Using the CPS household data between 1980 and 2022, we derive the skill endowment across racial (White, Black, Hispanic/Latinx, and White) and gender (Female and Male) groups in each skill category.
Restricting to full-time workers employed at the time of the survey, who are between 18 and 55,
we apply the mentioned features to examine the prevalence of skills among individuals of different gender and racial groups.
Individuals' skills are infered based on their coded occupations in the CPS data by linking it to the occupational skill requirement in O*NET.
The two datasets, however, use different occupational taxonomies.
As a result, one needs to map CPS and O*NET occupations.
We use a crosswalk offered by BLS\footnote{\tiny\url{https://www.census.gov/topics/employment/industry-occupation/guidance/code-lists.html}}, which maps a CPS occupation to 542 out of 968 occupations in O*NET 8-digit SOC codes.
Note that CPS offers various racial categories. We use Whites, Blacks, and Asians, which constitute the bulk of the sample.
CPS data also contains a separate (from race) variable for identifying Hispanic individuals.
We create a fourth racial category for Hispanics and associate any individual of Hispanic background with that category.
Next, we calculate the endowment of each skill category for each of the resulting four demographic categories and (binary) gender groups.


% Adjusting the income wage for inflation and accounting for the number of hours worked, we compute an adjusted weekly wage that is comparable across the population.
Figure~\ref{fig:racial and gender skill endowments} replicates the main Fig.~\ref{fig:Figure 7}, adding the information on intermediate skills and annual wage. We omit the weekly wage results for brevity.



%% Main Figure 5 + All Skills
\begin{figure}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Gender_and_Racial_Gaps__full_fig__Jul_15_2023.png}
    \caption{\textbf{Skill Disparity in Demographic Distribution} of race/ethnicity and gender adding the information on intermediate skills and annual wage.}
    \label{fig:racial and gender skill endowments}
\end{figure}


As a robustness check, we used a different measurement of skills for demographics and found similar results, following Tong et al. \cite{Tong2021}.
They group occupations of different skill levels by corresponding workers dominant gender and race/ethnicity and calculate skill endowment across occupations from the same group.
In determining occupations dominant demographic characteristics, we link an occupation to a racial/gender group if it is 1.5 times or more likely to be employed in the focal occupation than its fraction in the sample.
We then aggregated skill endowments across racial and gender categories and show the results in
Fig.~\ref{fig:Tong et al race gender skill distribution}.
The results are consistent with our main Fig.~\ref{fig:Figure 7} and SI Fig.~\ref{fig:racial and gender skill endowments}.

%% Demographic Distribution of Average x Skills Weighted by Employment.png
\begin{figure}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Tong_et_al__race_and_gender_ratios__Jul_15_2023.png}
    \caption{\textbf{Skill Disparity in Demographic Distribution} of race/ethnicity and gender with an alternative aggregation. Similar to our main Fig.~\ref{fig:Figure 7}, we use CPS micro data, however, follow the aggregation of \cite{Tong2021}. The results are consistent with our main figure.}
    \label{fig:Tong et al race gender skill distribution}
\end{figure}

% However, the distribution of general and nested skills heavily favors male (over female) White and Asian workers. 
% In contrast, Hispanics and Black possess a considerably smaller level of these valuable skills.
% While being female almost universally is associated with slightly lower endowments, differences vary across racial groups: for instance, White men and women have closer general, nested intermediate skills, while Black women outperform Black men in these skill categories.
% in general and nested skills. However, in un-nested skills, males manifest significantly higher endowments. This is intuitive, given men's propensity to be hired in more physically demanding occupations.

% The figure shows racial and gender differences in the stock of valuable skills.
% White and Asian workers possess significantly higher general and nested skills than Hispanics and Blacks.
% Interestingly, white (male) workers also remain competitive in un-nested skills.
% In most cases, being a female is associated with slightly lower general and nested skills.
% Therefore, it is challenging to differentiate the gender pay gap in their skill statistics at this level our Fig.~\ref{fig:age} and Fig.~\ref{fig:Skill Age Gender Race Trends} show divergence in the timeline of skill acquisition, which may play a role.
% However, female workers manifest a lower tendency toward un-nested skills across the board.


\subsection{Parenthood and the Diverging Skills of Male and Female Workers} \label{supsec:Parenthood_Male_vs_Female}

An intriguing pattern in the main Figs.~\ref{fig:age}~(d-e) is the diverging general and nested skills of men and women around the age of 30, when one expects some individuals to become parents.
Utilizing the number of children in the surveyed households recorded by CPS microdoa, we split our birth cohort sample into individuals \textit{with} and \textit{without} children. 
We replicate the analysis of the main Fig.~\ref{fig:age}~(d-f) by tracking the skills manifested in the occupational compositions of birth cohorts as they age, splitting individuals based on their binary gender (Male: lower panels; Female: upper panels of the below figure) and their binary parental status (with child: square; without child: triangle in the below figure) at the time of the survey.
Fig.~\ref{fig:Parenthood_Male_vs_Female} shows the result of aggregating skills for each subgroup. Each column shows the levels of a certain category of skills, while the rows show the results for a gender.
The solid line (and triangles) show the pattern for people without children, while the dashed line (and squares) show the pattern for individuals with children.


\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Child_bearing_Feb21_2024_alt2_comment_1.8.png}
    \caption{\textbf{Parenthood and the Diverging Skills of Male and Female Workers}.
    We track the skills manifested in the occupational compositions of birth cohorts as they age, splitting individuals based on their binary gender (Make/Female) and whether they lived with children at the time of the survey, obtaining the below figure. Each column shows the levels of a certain category of skills, while the rows show the results for men and women. The solid line (and triangles) show the pattern for people without children, while the dashed line (and squares) show the pattern for individuals with children, highlighting the drop in general and nested skills of mothers.
    }
    \label{fig:Parenthood_Male_vs_Female}
\end{figure*}

There is a pronounced gap in the general and nested skills between women with and without children. Please note that the later convergence is likely to arise from the fact that at higher ages, the without" subgroup will mix families who never had any children with families whose children have already left the household.
In the latter families, caregivers may have been disadvantaged in their early careers, leading to lower skill levels at higher ages.
Contrary to the negative correlation with general and nested skills, women with children appear to sort into jobs that require higher un-nested skills (the SI Sec. \ref{supsec:female job sorting} offers partial evidence of female job sorting).
Interestingly, men with children tend to do better.
Especially men in jobs that require general and nested skills tend to be more intriguing and for longer periods compared to their counterparts without children.
The latter pattern for men may arise from sample selection effects or from the fact that the cost of raising children incentivizes acquiring skills that lead to better-paid careers.
Synthetic birth cohorts are not ideal data for this purpose, as they do not allow for tracking individuals over time. However, it is reasonable to believe this approach offers unbiased estimates of the population behavior.



\subsection{Gender and Jobs Sorting} \label{supsec:female job sorting}

Another intriguing pattern in the main Fig.~\ref{fig:age}~(d-f) is the diverging patterns of skill development between men and women, wherein women exhibit high levels of general skills, surpassing their male counterparts at certain ages but do not manifest the high levels of nested skills observed for male workers of the same age.
Lower levels of nested skills for women are also seen in the first column of the regression Tab.~\ref{tab:irregular hours} that predicts the gender of workers based on their general and nested skills in our CPS sample (Female = 1): general skills are associated with greater, but nested skills with smaller shares of women in an occupation.

One explanation for this pattern \cite{Bertrand2009, Goldin2015, Canon2016} is that women may avoid jobs with irregular or long working schedules.
This implies that despite their high levels of general skills and education, women may avoid jobs that require nested skills because of the working conditions of such jobs.
To examine that hypothesis, we examined whether adding descriptors of work schedule to the same regression diminishes the correlation between skills and the gender of the worker, as reported in column 1 of Tab.~\ref{tab:irregular hours}. 


%% Wage Regression Table
\begin{table}[!h]
    \centering
    % \begin{threeparttable}
    \caption{\textbf{Regression analysis of the correlation between gender, skills, and irregular and long work schedule.}
    The first column offers a baseline model that predicts the gender (Female = 1) of the worker based on general and nested skills, showing a negative correlation with nested skills. Adding descriptors of irregular and long schedules in the second model explains away part of the predictive power of nested skills for workers gender. As such, part of the reason why women manifest high level s of general skills but comparatively low levels of nested skills is that jobs that require the latter categories of skills likely impose long and irregular work conditions, which have been found to deter female workers.}
    \resizebox{\columnwidth}{!}{
    \input{Nature_HB_2023/tabsNHB/Mar_25_2024__Irregular_Hours__Gender.tex}}
    \label{tab:irregular hours}
\end{table}
%%

To implement this test, we matched individuals in the Current Population Survey (CPS) aged 18 to 55 who were in the workforce between 1980 and 2020 to the following information in the O*NET using their reported occupation code: skill information (namely, general and nested specific skills) and occupational work schedule (irregularity). Work schedule irregularity is collected as a part of the O*NET work context record as a categorical variable with three levels of
\textit{Regular} (established routine, set schedule),
\textit{Irregular} (changes with weather conditions, production demands, or contract duration), and
\textit{Seasonal} (only during certain times of the year).
This variable is reported for all occupations with weights associated with each category. For example, Chief Executive has the majority of weight in category 1, as it is primarily a job with a regular schedule. A surgeon has more weight, in comparison, on the irregular category. Using the weights, we obtained an aggregated schedule irregularity score for each occupation, wherein a value closer to 1 denotes a more regular schedule, and a value closer to 3 denotes a more irregular schedule.
Next, to proxy \textit{long working hours}, we follow Cha et al. \cite{Cha2014} to use the number of hours worked during the week in the CPS data and form a dummy variable that is one if the worker had worked more than 50 hours a week, and 0 otherwise.

Adding the descriptors of irregular schedules or long hours (in Tab.~\ref{tab:irregular hours} column 2) indeed diminishes the correlation estimated in the baseline, per the baseline model (column 1).
A unit increase in the nested specific skills required by a job, decreases the chances of the worker being female by 36\%. Adding schedule descriptors reduces that relation by more than one third, to about 26\%.




\subsection{Skills and Wage Gaps Have Narrowed Over Years}


Figures \ref{fig:Temporal Race Gaps - Skills, Education, Wages} and \ref{fig:Temporal Gender Gaps - Skills, Education, Wages} below show the temporal dynamics of skill, education, and wage gaps shown as averages in the main Fig.~\ref{fig:Figure 7}. These figures show the gaps have narrowed over years.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Temporal_Racial_Gap_Ratios_MA__annual_wage__Skills_Education_and_Wages__1980-2022__Jul_15_2023.png}
    \caption{\textbf{Skill and Economic Race/Ethnicity Gaps over Time}.
    Following main Fig.~\ref{fig:Figure 7}, we use White workers as the baseline and show each measure of other demographics as a ratio over the values of White workers.
    In all cases, The 95\% confidence intervals are obtained by a random sub-sampling. In each iteration, we take 20\% of the subpopulation of interest at a certain year, for instance, Asian male and Asian female workers in 2020, and estimate all corresponding measures. Repeating this sampling and estimation process in 10,000 iterations, we obtain the distribution for each estimate (of the subpopulation of interest in that year) and derive the 95\% confidential intervals.
    }
    \label{fig:Temporal Race Gaps - Skills, Education, Wages}
\end{figure*}


\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Temporal_Gender_Gap_Ratios_MA__annual_wage__Skills_Education_and_Wages__1980-2022__Jul_15_2023.png}
    \caption{\textbf{Skill and Economic Inequality Across Genders over Time}.
    Following main Fig.~\ref{fig:Figure 7}, we use male workers in each racial group as the benchmark, showing the average value for women over men for each measure and each demographic.
    In all cases, 95\% confidence intervals are created as explained in Fig.~\ref{fig:Temporal Race Gaps - Skills, Education, Wages}.}
    \label{fig:Temporal Gender Gaps - Skills, Education, Wages}
\end{figure*}

\newpage
\subsection{Gender-Age Divergence of Skills across Demographic Groups}

Fig.~\ref{fig:Skill Age Gender Race Trends} replicates Fig.~\ref{fig:age}. However, it teases out time trends in skill acquisition for racial groups.
% A noticeable pattern is (both male and female) white workers' advantages in general and nested skills tend to persist as they age.
The skill differentials between male and female workers that start around the age 30s (main Fig.~\ref{fig:age}) manifest across racial and ethnic groups.
In most cases, female workers' (general and nested) skill accumulation plateaus in their mid-20s to 30s, while their male counterparts' skill stocks expand (even though slowly) up to their 40s and then plateaus.
Section \ref{supsec:Parenthood_Male_vs_Female} addresses the possible role of children in the divergence of skills.
% An exception is Asians. Particularly female Asian workers' general and nested skills increase up to their 30s and decline with age.
% This skill decline with age is likely due to the younger better-educated Asian workers that enter the sample over time.
% The observed stagnation of female workers' skills around their 30s may arise from their propensity to bear children in that period.
Fig.~\ref{fig:Skill Age Gender Race Trends - year effects} replicate the exercise factoring in annual economic circumstances.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth, trim={2cm 0 1cm 1cm},clip]{Nature_HB_2023/SI_figNHB/SI__Skill_Acquisition_and_Age__Gender_and_Race__Jul_15_2023.png}
    \caption{\textbf{Skill Acquisition Differences Across Gender and Race.}
    Using CPS household data between 1980 and 2022, we estimate the distribution of different skills over four racial categories, namely \textit{White, Asian, Black/African-American, Hispanic/Latino}, and for men and women.
    We infer individuals' skills from the skill requirement of their detailed occupation according to O*NET 2019 and calculate a skill endowment for a given race and gender in each skill subtype.
    We aggregate skill endowments for racial and gender groups over age, allowing us to estimate the usage of workplace skills for these subgroups as they age. Shaded areas show 95\% confidence intervals.}
    \label{fig:Skill Age Gender Race Trends}
\end{figure*}


%% replicating fig:individuals' age and skill - year effects and adding year effect
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth, trim={2cm 0 1cm 1cm},clip]{Nature_HB_2023/SI_figNHB/SI__Race_Gender_Skill_and_Age__conditioned_on_year_effect__Jul_15_2023.png}
    \caption{\textbf{Skill Acquisition Differences Across Gender and Race Conditional on Year Effects.}
    The setup follows Fig.~\ref{fig:Skill Age Gender Race Trends} with the minor difference that skill levels are first residualized by a year effect. The results are almost identical.
    }
    \label{fig:Skill Age Gender Race Trends - year effects}
\end{figure*}





%%------------------------------------------------------------------%%
\clearpage
\section{Historical Patterns of Skill Change for Occupations} \label{supsec: historical skill change}
How have occupational skills (Level and Importance) changed over time? 
Do they manifest our theorized co-evolution of skills at different rungs of the skill hierarchy?
In other words, can we observe our inferred conditional dependence and independence on the level and importance of skills?


To answer these questions, we compared the level and importance of occupational skills reported by O*NET in 2019 and 2005.
When comparing levels and importance of skills across the two years, we use a crosswalk, explained in the supplementary section \ref{sec: onet taxonomy change}, to account for the changes in the taxonomy between 2005 and 2019 \cite{Hopson2021}.
We further capture changes in the skill structure by comparing the skill structure of 2019 to a past snapshot of O*NET from 2005.
We produced the mentioned 2005 skill structure using the same methodology and parameters as used for the 2019 skill dependency network.


\subsection{Changes in the Skill Levels}
% As a broad-level analysis, we aggregated skills of each occupation, presenting both 2005 and 2019 skill data, in each of our five skill categories in the year 2005 and in the year 2019, and measure the correlation between changes in each skill category across occupations in Fig.~\ref{fig:correlation_level_2005_2019}. The results are consistent with the coupling of general and nested skills and the decoupling of general and un-nested skills.


% %% Skill-skill Nestedness Matrix
% \begin{figure*}[!h]
%     \centering
%     \includegraphics[width=.5\textwidth]{Nature_HB_2023/SI_figNHB/Skill Change correlation - 2005 to 2019 - Jul 18 2023.png}
%     \caption{\textbf{Correlation between the Level Changes in each Skill Category (across occupations).}}    \label{fig:correlation_level_2005_2019}
% \end{figure*}


Figure \ref{fig:occupation groups historical changes to skill cluster and type levels} shows the changes in the level of each skill across occupations between 2005 and 2019. 
For each occupation and skill, we subtracted the level O*NET reports in 2019 from the level in 2005. For each skill, we show the density plot of occupations based on their corresponding level change.
The white line for each skill denotes the median, and the dashed line corresponds to no change.

%% High level changes in skills from 2005 to 2019
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.8\textwidth]{Nature_HB_2023/SI_figNHB/Detailed_Skill_Level_Change__2005_to_2019__Jul_18_2023.png}
    \caption{\textbf{Changes in the Level of Each Skill across Occupations between 2005 and 2019 as reported by O*NET.}}
    \label{fig:occupation groups historical changes to skill cluster and type levels}
\end{figure*}




\subsection{Changes in the Skill Dependency Network}
Fig.~\ref{fig:parsi_skill_dep_2005_labeled} shows the backbone of the skill dependency network based on 2005, as appears in Fig.~\ref{fig:Figure 7} with skill labels attached.

%% Skill Co-appearance Network for 2003 and 2019
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Jul_9__2005_Network__Equirectangular_Proj__Edu-LRC__Parsi__4.75_0.05_.4_.275__adjusted_for_labels.png}
    \caption{\textbf{Labeled Backbone of Skill Dependency for the year 2005}.
    }
    \label{fig:parsi_skill_dep_2005_labeled}
\end{figure*}


In Fig.~\ref{fig:Figure_7_supp}, we unpack the changes that manifest in distinct backbones of skill dependency networks in 2019 compared with 2005 (as shown in Fig.~\ref{fig:Figure 7}).
We compare the dependency ties between all skills that are present in both 2005 and 2019 networks (Installation, Explosive strength, Sound localization, Food production, Public safety, and security in 2019 and Memorization, Food production, Chemistry, and Public safety and security in 2005 are eliminated due to a lack of statistically significant ties.)
We distinguish between three types of ties: 1) \textit{New edges}: dependency ties that were statistically insignificant in 2005 and became significant in 2019 (shown in green); 2) \textit{Constant edges}: dependency ties that were statistically significant in both 2005 and 2019 (shown in black); 3) \textit{Lost edges}: dependency ties that lost statistical significance in 2019 while being significant in 2005 (shown in orange).
In Fig.~\ref{fig:Figure_7_supp}, we used the layout of our main Fig.~\ref{fig:Figure 2} (b), adjusting the distance between nodes slightly to visualize edges better. The edges are replaced with the three types described above.
% The lower panel show only one type of edges, and the upper panel assembles all 
The pattern of changes in dependency ties offers insights into the widening gap between the nested and un-nested parts of the skill structure over time.
Most new edges (green) are massed in the nested section. Particularly, a noticeable number of edges tie general skills to the most niche nested skills these dependency ties are not visible in the backbone for better visualization. However, they are taken into account in all calculations.
There are virtually no new ties formed between the general and un-nested sections.
Few previously existing ties were no longer statistically significant in 2019 (orange).
Therefore, the figure highlights the increasing intensity of dependencies in the nested part of the network, while a collapse of dependencies in the un-nested section.
These patterns emphasize our findings about the changes in the nature of work.

%% Skill Co-appearance Network for 2003 and 2019
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Organized_change_networks__Mar_30_2024.png}
    \caption{\textbf{Changes in the Skill Dependency Networks between 2005 and 2019}.
    We distinguish between three types of ties: \textbf{(b)} \textit{New edges}: dependency ties that were statistically insignificant in 2005 and became significant in 2019 (shown in green); \textbf{(c)} \textit{Constant edges}: dependency ties that were statistically significant in both 2005 and 2019 (shown in black); \textbf{(d)} \textit{Lost edges}: dependency ties that lost statistical significance in 2019 while being significant in 2005 (shown in orange). \textbf{(a)} The combined figure highlights the increasing intensity of dependencies in the nested part of the network, while a collapse of vertical dependencies in the un-nested section.}
    \label{fig:Figure_7_supp}
\end{figure*}

%%----------------------------------------------------------------------------%%
\newpage

\subsection{Occupation Taxonomy}\label{sec: onet taxonomy change}

Taxonomy has changed over time \cite{Park2020}.
Our historical analysis comparing 2005 and 2019 data must consider such changes.
2005 O*NET complies to \textit{O*NET SOC 2000}, while 2019 O*NET uses \textit{O*NET SOC 2010}, with two other waves of taxonomy change between (2006 and 2009).
Therefore, identically encoded occupations may not be comparable across these two years, and matching them requires a crosswalk.


While O*NET reports\footnote{\url{https://www.onetcenter.org/taxonomy.html}} crosswalks between each consecutive taxonomy, there is no direct crosswalk between 2005 and 2019.
We created such a crosswalk to match occupations in 2005 and 2019 using the consecutive crosswalks mentioned above\footnote{
For instance, if occupation $X_{2000}$ in taxonomy 2000 is linked to $X_{2006}$ in taxonomy 2006, and $X_{2006}$ is matched to $X_{2009}$ in taxonomy 2009, and $X_{2009}$ is matched to $X_{2010}$ in taxonomy 2010, our crosswalk will link $X_{2000}$ to $X_{2010}$.}.


Our crosswalk matches 968 occupations in 2019 skill data and 941 unique occupations in 2005 skill data.
Out of 1,334 records in our crosswalk, 362 correspond to occupations whose SOC codes have changed.
% Table \ref{tab:list of onet soc changes} shows such 362 occupations.
Fig.~\ref{fig:soc match coverage} shows the number and percentage of occupations in the skill data we could match across both years. Groups such as Computer and Math, Engineering, Health, Management, and Business have the most number of occupations with skill information added between 2005 and 2019.
Therefore, it is important to consider the unbalanced nature of the data, when interpreting analysis on the changes of skills using O*NET.

\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Coverage_of_Occupations__Historical_Skill_Change__2005_to_2010.png}
    \caption{\textbf{Percentage and Number of Occupations from Occupational Groups Matched between 2005 and 2010.}}
    \label{fig:soc match coverage}
\end{figure*}



%% May 28 - SOC OCC 2000-2010 Mismatch.tex
%% \caption{List of SOC Code and Title Changes Between SOC 2000 (2003 data) and SOC 2010 (2019 data).} 
%%  \label{tab:list of onet soc changes}
% \footnotesize
% \input{Nature_HB_2023/tabsNHB/May 28 - SOC OCC 2000-2010 Mismatch.tex}
% \normalsize


%\subsection{Coverage of Occupations} \label{sec: ONET occupation coverage}
%% Distribution of Occupations over Major Groups
%\begin{figure*}[!h]
    %\centering
    %\includegraphics[width=\textwidth]{\figdir/Distribution of Occupations over Major Groups in ONET Skill Data.png}
    %\caption{\textbf{Distribution of Occupations over Major Groups in O*NET Skill Data.} The bars display the number of unique 8-digit occupations included in the O*NET skill data. Two key patterns are observed: 1. There exists significant heterogeneity in the number of occupations from each major occupational group. This heterogeneity arises from the unbalanced granularity of the occupational classification system (SOC) and is inherited by O*NET; 2. O*NET is comprehensive in terms of including a relatively high percentage of occupations from each major group. The inclusion rates vary ranging from 78\% (Community \& Social Service) to 100\% Installation, Maintenance \& repair.}
    %\label{fig:dist_occ_major_groups}
%\end{figure*}



%%----------------------------------------------------------------------------%%

\clearpage
\section{Robustness Checks with Management and Admin Occupations and Social Skills} \label{supsec:robustness checks}

In this section, we offer supplementary analyses to our main findings and produce pieces of evidence refuting several alternative explanations.
We begin by examining whether managerial occupations drive the importance of general skills.
Next, we discuss whether the general skills' effect is driven primarily by social skills, whose importance has been a topic of growing emphasis.
We continue by offering more detailed analyses of historical changes in skill requirements and skill acquisition with age.



%%--------------------------don't forget to include this in the main text -----------------------------------------%%
\subsection{Role of Management and Administrative Occupations} \label{sec:robustness check: no managers}
Here, we test if the importance of general skills in the wage premium (Fig.~\ref{fig:Wage}) is driven by management or administrative occupations.
To do so, we identify such occupations, exclude them from our analyses at various stages, and examine the resulting changes. Table \ref{tab:list of manager occupations} lists these occupations with their annual wage and educational requirements.  
We identify those using the Standard Occupational Code (SOC) at the 2-digit level, wherein ``11'' denotes managerial occupations. 
In addition, we use descriptive terms for these occupation titles (manager, administrator, and director) to identify relevant occupations further using their titles. 
In total, we found and omitted a total of 75 occupations out of 968 occupations and collected them, sorted based on average annual wage and required education, in Table \ref{tab:list of manager occupations}.

\footnotesize
%% tab:list of manager occupations
\input{Nature_HB_2023/tabsNHB/Apr_14__List_of_Managers.tex}
\normalsize

In conclusion, our findings of skill clusters, skills wage premiums, and educational requirements are robust to the presence/absence of managerial occupations.
In Figs \ref{fig:determining_k_kmeans_70bins_correlation_no_manager_start} through \ref{fig:skill_clusters_k_kmeans_70bins_correlation_no_manager_start} we use $k$-mean clustering to group skills into profiles without considering managerial occupations. The results complement the supplementary section \ref{supsec:skill clustering}, establishing the robustness of our skill profiles.
Fig.~\ref{fig:skill_and_age_no_manager} shows that excluding managerial occupations does not diminish the acquisition of general and nested skills over time by analyzing occupational median age, skill composition of synthetic birth cohorts based on CPS microdata, and analysis of our resume sample. 
Fig.~\ref{fig:returns_to_skills_hierachy_gen_dependence_cor_no_manager} examines wage premiums and educational requirements of occupations in general and specific skills while excluding the information on managerial occupations in the analysis. We find these occupations do not drive the wage premiums, and educational requirements persist. These findings supplement the results in Fig.~\ref{fig:Wage}.  

% In addition, we repeated the entire process without management occupations, from constructing the skill hierarchy (Fig. 2) to separating nested and Un-nested skills in order to test the wage premium, and found similar results in the main text, corroborating the robustness of our findings.
%  Fig.~\ref{fig:skill_clusters_k3_cos_no_manager_start} shows the aggregate cluster of skills that emerged from the occupation skill importance values (bar for management occupations).
% Figs \ref{fig:returns_to_skills_hierachy_gen_dependence_cor_no_manager_start} and \ref{fig:returns_to_skills_hierachy_gen_dependence_cor_no_manager_start_gen_split} collect the same set of wage analysis captured in Figs \ref{fig:returns_to_skills_hierachy_gen_dependence_cor_no_manager} and \ref{fig:returns_to_skills_hierachy_gen_dependence_cor_no_manager_gen_split}.


%\subsubsection{Excluding Managers When Identifying Skill Groups}

%% Determining k
%% SI - Determining k - Excluding Managers
%% skill clusters - no managers from the start - cos k=3.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Determining_k__Excluding_Managers__70_bins.png}
    \caption{\textbf{Determining $k$ for $k$-mean Clustering at the Absence of Managerial Occupations.} Reproduction of Fig.~\ref{fig:determining_k_level} without management and administrative occupations. We use the Elbow method, Gap statistic, and Silhouette analysis to test the optimal $k$.}
\label{fig:determining_k_kmeans_70bins_correlation_no_manager_start}
\end{figure*}
% \begin{figure*}[!h]
    %\centering
    %\includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Determining k - Kmeans with correlation - Level - 70 bins.png}
    %\caption{Statistical tests to determine the optimal $k$ for $k$-mean clustering algorithms: Elbow method, Gap statistic, and Silhouette analysis}
    %\label{fig:determining_k_level}
%\end{figure*}
%% skill clusters - no managers from the start - cos k=3.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/SI__Skill_Profiles__Excluding_Managers__70_bins.png}
    \caption{\textbf{Grouping Skills at the Absence of Managerial Occupations.} Reproduction of Fig.~\ref{fig:Figure 1} without management and administration occupations.}
\label{fig:profiles_k_kmeans_70bins_correlation_no_manager_start}
\end{figure*}

%% skill clusters - no managers from the start - cos k=3.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.8\textwidth]{Nature_HB_2023/SI_figNHB/SI__Skill_Clusters__Excluding_Managers__70_bins.png}
    \caption{\textbf{Detailed Assignment of Skills among Clusters.} Reproduction of Fig.~\ref{fig:skill_level_dist_cor_k=3} without management and administration occupations.}
\label{fig:skill_clusters_k_kmeans_70bins_correlation_no_manager_start}
\end{figure*}


%\clearpage
%\subsubsection{Wage Premiums and Educational Requirements}
%% Wage ~ Skills - no managers - new categorization.png
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.8\textwidth]{Nature_HB_2023/SI_figNHB/SI__No_managers_-_Education__Wage_Figure__Mar_7_2024.png}
    \caption{\textbf{Reproduction of Fig.~\ref{fig:Wage} in the main text} without management and administration occupations. Managerial occupations do not drive the wage premiums and the educational requirement.}
\label{fig:returns_to_skills_hierachy_gen_dependence_cor_no_manager}
\end{figure*}

\clearpage
%\subsubsection{Skill Acquisition over Time}
%% SI - Figure 3 equivalent - No Managers - Jul 19 2023.pdf
\begin{figure*}[!h]
    \centering
    \includegraphics[width=.9\textwidth]{Nature_HB_2023/SI_figNHB/SI__Figure_3_equivalent__No_Managers__Jul_19_2023.png}
    \caption{\textbf{Reproduction of Fig. 3 without Management and Administration occupations}. The findings are consistent, suggesting managerial occupations are not the primary drivers of increases in general or nested skills over time.
    \textbf{(a-c)} replicate the analysis of main Fig.~\ref{fig:age}~(a-c) on occupations' median age in the absence fo managerial occupations.
    \textbf{(d-f)} follows analysis Fig.~\ref{fig:age}~(d-f) of synthetic birth cohorts identified in CPS microdata except for excluding observations on individuals who held managerial occupations.
    \textbf{(g-i} follows the analysis of Fig.~\ref{fig:age}~(g-i) on resume data except for excluding observations on individuals who held managerial occupations.}
\label{fig:skill_and_age_no_manager}
\end{figure*}




%%--------------------------------------------------------------------%%
\clearpage
\subsection{Role of Social Skills} \label{sec:social skills}
Given the growing importance of social skills \cite{Liu2013}, we examine the extent to which they shape the role we observed for general skills in our work.
There are six \textit{social skills} in O*NET taxonomy. 
They are \textit{Social perceptiveness}, the skill of being aware of other's reactions and understanding why they react as they do; \textit{Coordination}, the skill to adjust actions in relation to others' actions; \textit{Persuasion}, the skill to persuade others to change their minds or behavior; \textit{Negotiation}, bringing others together and trying to reconcile differences; \textit{Instructing}, the skill to teach others how to do something; 
and \textit{Service orientation}, actively looking for ways to help people.

In Fig.~\ref{fig:social skills}-(a), we annotated these social skills in our skill hierarchy of the main text as well as the hierarchy of 2005 data (insets). 
We find these skills fall within our categories of general (Coordination and Social perceptiveness) and nested skill categories (Instructing, Service orientation, Persuasion, and Negotiation); and these skills are more demanded in 2019 than in 2005 as shown in Fig.~\ref{fig:social skills}-(b). 


The average levels at which occupations in 2019 use negotiation, persuasion, social perceptiveness, and service orientation skills surpassed their levels in 2005.
However, social skills' position in the skill dependency network has moderately moved away from the most broadly used skills.
This means their comparative role has specialized moderately despite their absolute demand rise.
 Fig.~\ref{fig:social skills} (c) shows the changes in the level of each skill category resulting from omitting social skills. As these skills belong to general and nested intermediate categories, scores across other categories do not change. However, changes in the affected subgroups are also minimal, leading to a 0.998 correlation before and after social skills omission.
This offers evidence that social skills do not influence the significance of general skills.
We repeated analyses of wage premiums (Fig.~\ref{fig:Wage} in the main text) on categories excluding the aforementioned six social skills, ad our findings are intact as shown in Fig.  \ref{fig:social skills} (d-e).



\begin{figure*}[!h]
    \centering
    \includegraphics[width=\textwidth]{Nature_HB_2023/SI_figNHB/Social_Skills_Analysis_-_Jul_18_2023.png}
    \caption{\textbf{Analysis of the Social Skills and their Relationship with our Work.}
    \textbf{(a)} Annotates the skill hierarchy of main text Fig.~\ref{fig:Figure 2} and that of the year 2005 with social skills included in O*NET.
    \textbf{(b)} Skill profiles of social skills in 2005 (average shown as dashed line) and in 2019 (average shown as a solid line).
    \textbf{(c)} The differences in skill levels when social skills are excluded.
    \textbf{(d-e)} The equivalent plots of Fig. 4 without social skills in analyses. 
    }
    \label{fig:social skills}
\end{figure*}\






\end{document}

