\section{Empirical Analysis}
\label{sec:motivation}
The motivation for considering the cell-tissue relationships for the development of cell detection models stem from the biological and hierarchical arrangement of cells and tissues. These insights are further corroborated by two main empirical observations described in the following \autoref{sec-class-corr} and \autoref{poc-exp}.


\subsection{Interrelation between cell and tissue classes} \label{sec-class-corr}
\input{sections/tab_stat3}

We empirically observe the interrelation between specific cell and tissue classes by counting the amount of each annotated cell type within each tissue region, as observed in \autoref{tab:stat}. Indeed, we verify that in \ours, around 93\% of \textit{TC} are located within \textit{CA} and 85\% of \textit{BC} are found outside of the \textit{CA} tissue. Note that \textit{CA} is not the majority tissue class (\autoref{tab:stat2}), therefore, we conclude that there is, in fact, a relationship between the cell and tissue classes. We observe a similar phenomenon in the TIGER dataset when considering the \textit{LC} and \textit{ST} classes (\autoref{tab:stat} and \autoref{tab:stat2}).



In practice, pathologists classify cells by taking into account such interrelationships, since it is difficult to classify isolated cells, without considering the larger context of the tissues. 
As depicted in \autoref{fig:intro}, pathologists first need to visualize the structure of the tissues at a larger FoV. Then, they zoom in and consider the previously observed context along with the fine-grained details of each individual cell and nearby neighborhood, thus considering the cell-tissue dependencies. 
Inspired by the behavior of pathologists, we expect a cell detection model to also benefit from understanding the tissue structure from a broader viewpoint.

\subsection{Tissue-label Leaking Model} \label{poc-exp}
In the previous section, we observe a strong relationship between certain cell and tissue classes. To further validate the hypothesis that a cell detection model can leverage information from the tissue structure, we design an exploratory experiment where the tissue annotation is provided as an extra input to a cell detection model. To this end, we first crop the corresponding cell patch region from the tissue annotation $y_l^t$, and upsample it to match the size of the cell patch, $x_s$; the cropped tissue annotation is denoted as $y_s^t$. Finally, we concatenate $x_s$ and $y_s^t$ at the channels dimension and use this data to train a cell detection model. We denote this model as a \textit{Tissue-label leaking} model and illustrate it in \autoref{fig:poc}. Note that this model is not appropriate for real-world scenarios as the tissue labels are unknown at inference time, and is explored for the purpose of empirical analysis.


When we compare the performance of the \textit{tissue-label leaking} model with the standard cell detection model on the \ours dataset, we observe a significant improvement in terms of mean F1-score\footnote{True positive (TP), false positive (FP), and false negative (FN) counts are determined following \cite{SwiderskaChadaj2019LearningTD}. If a detected cell is within a valid distance ($\approx 3\mu m$) from an annotated cell and the cell class matches, it is counted as a TP, otherwise an FP. If an annotated cell is not detected, it is counted as an FN. Then, the mean F1 score across classes is computed.} performance of \textbf{+7.69} and \textbf{+9.76} in the validation and test sets, respectively.
Detailed results can be found in \autoref{tab:main}. Taking these results into consideration, we conclude that there is significant room to improve the cell detection model, which can be achieved by combining the tasks of cell detection and tissue segmentation. 

\begin{figure}[t]
    \centering
    %\includegraphics[width=\linewidth]{figures/fig_3_label_leaking_new.pdf}
    \includegraphics[width=0.9\linewidth]{figures/fig3_dg.pdf}
    % \vskip -3mm
    \caption{  
        \textbf{Tissue label leaking model.} 
        This model receives the cell patch $x_s$ along with the corresponding tissue labels as input. 
        The region corresponding to the cell patch in the tissue patch annotation is cropped, upsampled, and concatenated to the cell patch. $\oplus$ denotes channel-wise concatenation.
    }
    \label{fig:poc}
    \vspace{-0.3cm}
\end{figure}