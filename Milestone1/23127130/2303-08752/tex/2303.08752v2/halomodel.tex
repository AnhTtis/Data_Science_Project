%\documentclass[usenatbib,fleqn]{mnras}
\documentclass[twocolumn, revtex4, numberedappendix,iop]{openjournal}

% Packages
\usepackage{amsmath, amsfonts, amssymb} % Additional maths symbols
\usepackage{graphicx} % Allows the use of adding images, or something like that
\usepackage[colorlinks, linkcolor=blue, citecolor=blue]{hyperref} % This sometimes goes mad if an equation is broken over a page and pdf latex exits with some unintelligible error
\usepackage{xspace} % \xspace which is useful for intelligent spacing after newly defined commands
\usepackage{xcolor} % Enables coloured text
\usepackage{upgreek} % For upright greek characters
\usepackage{tabularx} % ?

% Maths
\newcommand{\dotp}[2]{\mathbf{#1}\cdot\mathbf{#2}}
\newcommand{\sinc}{\mathrm{sinc}}
\newcommand{\ft}[3]{\int{#1}e^{-{\rm i}\dotp{#2}{#3}}\,\mathrm{d}^3{#3}}
\newcommand{\ift}[3]{\int{#1}e^{{\rm i}\dotp{#2}{#3}}\,\mathrm{d}^3{#2}}
\newcommand{\epow}[1]{\mathrm{e}^{#1}}
\newcommand{\Si}{\mathrm{Si}}
\newcommand{\Ci}{\mathrm{Ci}}
\newcommand{\average}[1]{\langle#1\rangle}
\newcommand{\derivative}[2]{\frac{\mathrm{d}{#1}}{\mathrm{d}{#2}}}
\newcommand{\sform}[2]{{#1}\times10^{#2}}
\renewcommand{\pi}{\uppi}
\newcommand{\kb}{k{_\mathrm}{B}}
\newcommand{\order}[1]{\mathcal{O}(#1)}
\newcommand{\Dirac}[1]{\delta_\mathrm{D}(#1)}
\newcommand{\diff}{\mathrm{d}}

% Equation stuff
\newcommand{\ba}{\begin{eqnarray}}
\newcommand{\ea}{\end{eqnarray}}
\newcommand{\be}{\begin{equation}}  
\newcommand{\ee}{\end{equation}}

% Units
\newcommand{\Mpc}{\,h^{-1}\mathrm{Mpc}}
\newcommand{\kpc}{\,h^{-1}\mathrm{kpc}}
\newcommand{\iMpc}{\,h\mathrm{Mpc}^{-1}}
\newcommand{\eV}{\,\mathrm{eV}}
\newcommand{\Msun}{\,h^{-1}\mathrm{M_\odot}}
\newcommand{\Kelvin}{\,\mathrm{K}}
\newcommand{\eVpcm}{\,\mathrm{ev}\mathrm{cm}^{-3}}
\newcommand{\cm}{\,\mathrm{cm}}

% Cosmological Omegas
\newcommand{\Om}{\Omega_\mathrm{m}}
\newcommand{\Ov}{\Omega_\mathrm{v}}
\newcommand{\Ol}{\Omega_\Lambda}
\newcommand{\Ob}{\Omega_\mathrm{b}}
\newcommand{\Ow}{\Omega_w}
\newcommand{\Onu}{\Omega_\nu}
\newcommand{\Oc}{\Omega_\mathrm{c}}
\newcommand{\Ocb}{\Omega_\mathrm{cb}}
\newcommand{\om}{\omega_\mathrm{m}}
\newcommand{\ob}{\omega_\mathrm{b}}
 
% Paper specific stuff
\newcommand{\Bnl}{\beta^\mathrm{nl}}

% Spacing
\newcommand{\eg}{e.g.,\xspace}
\newcommand{\ie}{i.e.\xspace}

% Computer codes and surveys with specific font requirements
\newcommand{\nbody}{$N$-body\xspace}
\newcommand{\LCDM}{$\Lambda$CDM\xspace}
\newcommand{\halofit}{\textsc{halofit}\xspace}
\newcommand{\DQ}{\textsc{dark quest}\xspace}
\newcommand{\wmap}{\textit{WMAP}\xspace}
\newcommand{\hmcode}{\textsc{hmcode}\xspace}
\newcommand{\hmx}{\textsc{hmx}\xspace}
\newcommand{\halomod}{\textsc{halomod}\xspace}
\newcommand{\darkemu}{\textsc{darkemu}\xspace}
\newcommand{\camb}{\textsc{camb}\xspace}
\newcommand{\multidark}{\textsc{multidark}\xspace}
\newcommand{\bolshoi}{\textsc{bolshoi}\xspace}
\newcommand{\rockstar}{\textsc{rockstar}\xspace}
\newcommand{\react}{\textsc{react}\xspace}
\newcommand{\python}{\textsc{python}\xspace}

% Links
\newcommand{\link}[1]{\href{#1}{#1}}

% Web addresses
\newcommand{\pyhalomodel}{\href{https://github.com/alexander-mead/pyhalomodel}{\sc pyhalomodel}}

% Corrections or additions
\newcommand{\Mead}[1]{{\color{red}({Mead: #1})}}
\newcommand{\MA}[1]{{\color{orange}({Marika: #1})}}
\definecolor{purple}{RGB}{156,81,182}
\newcommand{\ch}[1]{{\color{purple}{Catherine: #1}}}
\definecolor{applegreen}{rgb}{0.55, 0.71, 0.0}
\newcommand{\new}[1]{{\color{applegreen}{#1}}}

% Citations within figure captions
\newcommand{\citecaption}[1]{\protect\cite{#1}} 

% Journal definitions
\def\arxiv{preprint (arXiv: \eprint)}
\def\mnras{MNRAS}
\def\apj{ApJ}
\def\apjl{ApJ Let.}
\def\prd{Phys. Rev. D}
\def\aap{A\&A}
\def\jcap{J. Cosmol. Astropart. Phys.}
\def\apjs{ApJS}

%Get a roman font Contents label
\renewcommand{\tocname}{\vspace*{-20pt} \flushleft\rmfamily\normalsize CONTENTS  \vspace*{-10pt}}

\begin{document} % OJA

\title{The halo model for cosmology: A pedagogical review} % OJA

% Authors
\author{M. Asgari$^{1,2,3}$\footnote{m.asgari@hull.ac.uk}, A. J. Mead$^{4,3}$\footnote{alexander.j.mead@googlemail.com}, and C. Heymans$^{3,4}$}
\affiliation{
$^1$E. A. Milne Centre, University of Hull, Cottingham Road, Hull, HU6 7RX, UK\\
$^2$Centre of Excellence for Data Science, AI, and Modelling (DAIM), University of Hull, Cottingham Road, Hull, HU6 7RX, UK\\
$^3$Institute for Astronomy, University of Edinburgh, Royal Observatory, Blackford Hill, Edinburgh, EH9 3HJ, UK\\
$^4$Ruhr University Bochum, Faculty of Physics and Astronomy, Astronomical Institute (AIRUB), German Centre for Cosmological Lensing, 44780 Bochum, Germany\\
}

% Abstract
\begin{abstract}
We present a pedagogical review of the halo model, a flexible framework that can describe the distribution of matter and its tracers on non-linear scales for both conventional and exotic cosmological models.  We start with the premise that the complex structure of the cosmic web can be described by the sum of its individual components: dark matter, gas, and galaxies, all distributed within spherical haloes with a range of masses.  The halo properties are specified through a series of simulation-calibrated ingredients including the halo mass function, non-linear halo bias and a dark matter density profile that can additionally account for the impact of baryon feedback.  By incorporating a model of the galaxy halo occupation distribution, the properties of central and satellite galaxies, their non-linear bias and intrinsic alignment can be predicted.  Through analytical calculations of spherical collapse in exotic cosmologies, the halo model also provides predictions for non-linear clustering in beyond-$\Lambda$CDM models.  The halo model has been widely used to model observations of a variety of large-scale structure probes, most notably as the primary technique to model the underlying non-linear matter power spectrum.  By documenting these varied and often distinct use cases, we seek to further coherent halo model analyses of future multi-tracer observables.  This review is accompanied by the release of \pyhalomodel, flexible software to conduct a wide range of halo-model calculations.
\end{abstract}

\keywords{Cosmology,  large-scale structures}

\maketitle % OJA
\tableofcontents

\section{Introduction}
\input{introduction.tex}

\section{The halo model basics}
\input{basics.tex}

\section{Selecting the ingredients}
\input{ingredients.tex}

\section{Modelling tracers}
\input{othertracers.tex}

\section{Extensions to the standard halo model}
\input{nonstandard.tex}

\section{Modelling beyond-$\Lambda$CDM cosmologies}
\input{altcosmo.tex}

\section{Software}
\input{software.tex}

\section{Summary}
\input{summary.tex}

% Acknowledgements
\section*{Acknowledgements}

We are thankful for comments from Shahab Joudaki and Constance Mahony.  We are grateful for the constructive input from the community and an anonymous referee.  We acknowledge support from the European Research Council under grant number 647112 (MA,AM,CH), from the Max Planck Society and the Alexander von Humboldt Foundation in the framework of the Max Planck-Humboldt Research Award endowed by the Federal Ministry of Education and Research (AM, CH), and the UK Science and Technology Facilities Council (STFC) under grant ST/V000594/1 (MA,CH).

\bibliographystyle{mnras} % MNRAS
%\bibliographystyle{apalike}
\bibliography{biblio}

\end{document}
