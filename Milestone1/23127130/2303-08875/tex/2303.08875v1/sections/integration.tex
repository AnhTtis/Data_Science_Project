\section{Integrating Alternative StateDBs}\label{sec3}

%\subsection{Components requiring changes to the HLF}

In the open source HLF code (commit \cite{l15}), the main components responsible for HLF interaction with StateDB have been identified. These are depicted in Fig. \ref{pic1}. In order to add new StateDBs, it was decided to create an analogue of the marked components for each database. So the main code upgrade was to add three code files for each DB: stateNameOfDB.go, NameOfDB\_provider.go, NameOfDB\_helper.go. Functionality of goleveldb has been fully preserved. To select StateDB you need to specify in core.yaml file the name of selected DB before running the container.

In addition to the modules described, test files covering the added code have also been created and some minor changes have been implemented in some other HLF modules.


\begin{figure}
  \includegraphics[width=9cm,height=1.3cm]{figures/StateDBMainParts.png}
  \caption{HLF components responsible for interacting with StateDB (highlighted in color).}
\label{pic1}
\end{figure}

