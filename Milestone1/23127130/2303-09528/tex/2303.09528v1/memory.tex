\begin{figure}[h]
    \centering
     \begin{tikzpicture}[shorten >=1pt, node distance=2.3 cm, on grid, auto,thick,initial text=]
\begin{scope}[every node/.style={scale=1}]
\node (l0) [state, fill = safecellcolor] {$q_0$};
\node (l1) [state,right = of l0, fill = goodcellcolor]   {$q_1$};
\node (l2) [state,left = of l0,fill = badcellcolor]   {$q_2$};
\end{scope}
 \begin{scope}
\path [-stealth, thick]
    (l0) edge [bend left]  node [above] {$a_1,r_1$}   (l1)
    (l0) edge [bend right]   node [above] {$a_2,r_2$}   (l2)
    (l1) edge [bend left]  node [below] {$d_1,r_3$}   (l0)
    (l1) edge  [loop above] node [above] {$d_2,r_4$}   ()
    (l2) edge  [loop above] node [above] {$c_1,r_5$}   ()
    (l2) edge [bend right] node [below] {$c_2, r_6$} (l0)
    ;
\end{scope}
\end{tikzpicture}
  \label{fig:exmp2}
  \end{figure}
  