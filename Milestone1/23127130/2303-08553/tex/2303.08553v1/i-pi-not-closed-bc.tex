
%% bare_conf_compsoc.tex
%% V1.4b
%% 2015/08/26
%% by Michael Shell
%% See:
%% http://www.michaelshell.org/
%% for current contact information.
%%
%% This is a skeleton file demonstrating the use of IEEEtran.cls
%% (requires IEEEtran.cls version 1.8b or later) with an IEEE Computer
%% Society conference paper.
%%
%% Support sites:
%% http://www.michaelshell.org/tex/ieeetran/
%% http://www.ctan.org/pkg/ieeetran
%% and
%% http://www.ieee.org/

%%*************************************************************************
%% Legal Notice:
%% This code is offered as-is without any warranty either expressed or
%% implied; without even the implied warranty of MERCHANTABILITY or
%% FITNESS FOR A PARTICULAR PURPOSE! 
%% User assumes all risk.
%% In no event shall the IEEE or any contributor to this code be liable for
%% any damages or losses, including, but not limited to, incidental,
%% consequential, or any other damages, resulting from the use or misuse
%% of any information contained here.
%%
%% All comments are the opinions of their respective authors and are not
%% necessarily endorsed by the IEEE.
%%
%% This work is distributed under the LaTeX Project Public License (LPPL)
%% ( http://www.latex-project.org/ ) version 1.3, and may be freely used,
%% distributed and modified. A copy of the LPPL, version 1.3, is included
%% in the base LaTeX documentation of all distributions of LaTeX released
%% 2003/12/01 or later.
%% Retain all contribution notices and credits.
%% ** Modified files should be clearly indicated as such, including  **
%% ** renaming them and changing author support contact information. **
%%*************************************************************************


% *** Authors should verify (and, if needed, correct) their LaTeX system  ***
% *** with the testflow diagnostic prior to trusting their LaTeX platform ***
% *** with production work. The IEEE's font choices and paper sizes can   ***
% *** trigger bugs that do not appear when using other class files.       ***                          ***
% The testflow support page is at:
% http://www.michaelshell.org/tex/testflow/



\documentclass[conference,compsoc,twocolumn]{IEEEtran}
% Some/most Computer Society conferences require the compsoc mode option,
% but others may want the standard conference format.
%
% If IEEEtran.cls has not been installed into the LaTeX system files,
% manually specify the path to it like:
% \documentclass[conference,compsoc]{../sty/IEEEtran}





% Some very useful LaTeX packages include:
% (uncomment the ones you want to load)


% *** MISC UTILITY PACKAGES ***
%
%\usepackage{ifpdf}
% Heiko Oberdiek's ifpdf.sty is very useful if you need conditional
% compilation based on whether the output is pdf or dvi.
% usage:
% \ifpdf
%   % pdf code
% \else
%   % dvi code
% \fi
% The latest version of ifpdf.sty can be obtained from:
% http://www.ctan.org/pkg/ifpdf
% Also, note that IEEEtran.cls V1.7 and later provides a builtin
% \ifCLASSINFOpdf conditional that works the same way.
% When switching from latex to pdflatex and vice-versa, the compiler may
% have to be run twice to clear warning/error messages.



% *** CITATION PACKAGES ***
%
\ifCLASSOPTIONcompsoc
  % IEEE Computer Society needs nocompress option
  % requires cite.sty v4.0 or later (November 2003)
  \usepackage[nocompress]{cite}
\else
  % normal IEEE
  \usepackage{cite}
\fi
% cite.sty was written by Donald Arseneau
% V1.6 and later of IEEEtran pre-defines the format of the cite.sty package
% \cite{} output to follow that of the IEEE. Loading the cite package will
% result in citation numbers being automatically sorted and properly
% "compressed/ranged". e.g., [1], [9], [2], [7], [5], [6] without using
% cite.sty will become [1], [2], [5]--[7], [9] using cite.sty. cite.sty's
% \cite will automatically add leading space, if needed. Use cite.sty's
% noadjust option (cite.sty V3.8 and later) if you want to turn this off
% such as if a citation ever needs to be enclosed in parenthesis.
% cite.sty is already installed on most LaTeX systems. Be sure and use
% version 5.0 (2009-03-20) and later if using hyperref.sty.
% The latest version can be obtained at:
% http://www.ctan.org/pkg/cite
% The documentation is contained in the cite.sty file itself.
%
% Note that some packages require special options to format as the Computer
% Society requires. In particular, Computer Society  papers do not use
% compressed citation ranges as is done in typical IEEE papers
% (e.g., [1]-[4]). Instead, they list every citation separately in order
% (e.g., [1], [2], [3], [4]). To get the latter we need to load the cite
% package with the nocompress option which is supported by cite.sty v4.0
% and later.





% *** GRAPHICS RELATED PACKAGES ***
%
\ifCLASSINFOpdf
  % \usepackage[pdftex]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../pdf/}{../jpeg/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.pdf,.jpeg,.png}
\else
  % or other class option (dvipsone, dvipdf, if not using dvips). graphicx
  % will default to the driver specified in the system graphics.cfg if no
  % driver is specified.
  % \usepackage[dvips]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../eps/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.eps}
\fi
% graphicx was written by David Carlisle and Sebastian Rahtz. It is
% required if you want graphics, photos, etc. graphicx.sty is already
% installed on most LaTeX systems. The latest version and documentation
% can be obtained at: 
% http://www.ctan.org/pkg/graphicx
% Another good source of documentation is "Using Imported Graphics in
% LaTeX2e" by Keith Reckdahl which can be found at:
% http://www.ctan.org/pkg/epslatex
%
% latex, and pdflatex in dvi mode, support graphics in encapsulated
% postscript (.eps) format. pdflatex in pdf mode supports graphics
% in .pdf, .jpeg, .png and .mps (metapost) formats. Users should ensure
% that all non-photo figures use a vector format (.eps, .pdf, .mps) and
% not a bitmapped formats (.jpeg, .png). The IEEE frowns on bitmapped formats
% which can result in "jaggedy"/blurry rendering of lines and letters as
% well as large increases in file sizes.
%
% You can find documentation about the pdfTeX application at:
% http://www.tug.org/applications/pdftex





% *** MATH PACKAGES ***
%
%\usepackage{amsmath}
% A popular package from the American Mathematical Society that provides
% many useful and powerful commands for dealing with mathematics.
%
% Note that the amsmath package sets \interdisplaylinepenalty to 10000
% thus preventing page breaks from occurring within multiline equations. Use:
%\interdisplaylinepenalty=2500
% after loading amsmath to restore such page breaks as IEEEtran.cls normally
% does. amsmath.sty is already installed on most LaTeX systems. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/pkg/amsmath





% *** SPECIALIZED LIST PACKAGES ***
%
%\usepackage{algorithmic}
% algorithmic.sty was written by Peter Williams and Rogerio Brito.
% This package provides an algorithmic environment fo describing algorithms.
% You can use the algorithmic environment in-text or within a figure
% environment to provide for a floating algorithm. Do NOT use the algorithm
% floating environment provided by algorithm.sty (by the same authors) or
% algorithm2e.sty (by Christophe Fiorio) as the IEEE does not use dedicated
% algorithm float types and packages that provide these will not provide
% correct IEEE style captions. The latest version and documentation of
% algorithmic.sty can be obtained at:
% http://www.ctan.org/pkg/algorithms
% Also of interest may be the (relatively newer and more customizable)
% algorithmicx.sty package by Szasz Janos:
% http://www.ctan.org/pkg/algorithmicx




% *** ALIGNMENT PACKAGES ***
%
%\usepackage{array}
% Frank Mittelbach's and David Carlisle's array.sty patches and improves
% the standard LaTeX2e array and tabular environments to provide better
% appearance and additional user controls. As the default LaTeX2e table
% generation code is lacking to the point of almost being broken with
% respect to the quality of the end results, all users are strongly
% advised to use an enhanced (at the very least that provided by array.sty)
% set of table tools. array.sty is already installed on most systems. The
% latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/array


% IEEEtran contains the IEEEeqnarray family of commands that can be used to
% generate multiline equations as well as matrices, tables, etc., of high
% quality.




% *** SUBFIGURE PACKAGES ***
%\ifCLASSOPTIONcompsoc
%  \usepackage[caption=false,font=footnotesize,labelfont=sf,textfont=sf]{subfig}
%\else
%  \usepackage[caption=false,font=footnotesize]{subfig}
%\fi
% subfig.sty, written by Steven Douglas Cochran, is the modern replacement
% for subfigure.sty, the latter of which is no longer maintained and is
% incompatible with some LaTeX packages including fixltx2e. However,
% subfig.sty requires and automatically loads Axel Sommerfeldt's caption.sty
% which will override IEEEtran.cls' handling of captions and this will result
% in non-IEEE style figure/table captions. To prevent this problem, be sure
% and invoke subfig.sty's "caption=false" package option (available since
% subfig.sty version 1.3, 2005/06/28) as this is will preserve IEEEtran.cls
% handling of captions.
% Note that the Computer Society format requires a sans serif font rather
% than the serif font used in traditional IEEE formatting and thus the need
% to invoke different subfig.sty package options depending on whether
% compsoc mode has been enabled.
%
% The latest version and documentation of subfig.sty can be obtained at:
% http://www.ctan.org/pkg/subfig




% *** FLOAT PACKAGES ***
%
%\usepackage{fixltx2e}
% fixltx2e, the successor to the earlier fix2col.sty, was written by
% Frank Mittelbach and David Carlisle. This package corrects a few problems
% in the LaTeX2e kernel, the most notable of which is that in current
% LaTeX2e releases, the ordering of single and double column floats is not
% guaranteed to be preserved. Thus, an unpatched LaTeX2e can allow a
% single column figure to be placed prior to an earlier double column
% figure.
% Be aware that LaTeX2e kernels dated 2015 and later have fixltx2e.sty's
% corrections already built into the system in which case a warning will
% be issued if an attempt is made to load fixltx2e.sty as it is no longer
% needed.
% The latest version and documentation can be found at:
% http://www.ctan.org/pkg/fixltx2e


%\usepackage{stfloats}
% stfloats.sty was written by Sigitas Tolusis. This package gives LaTeX2e
% the ability to do double column floats at the bottom of the page as well
% as the top. (e.g., "\begin{figure*}[!b]" is not normally possible in
% LaTeX2e). It also provides a command:
%\fnbelowfloat
% to enable the placement of footnotes below bottom floats (the standard
% LaTeX2e kernel puts them above bottom floats). This is an invasive package
% which rewrites many portions of the LaTeX2e float routines. It may not work
% with other packages that modify the LaTeX2e float routines. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/pkg/stfloats
% Do not use the stfloats baselinefloat ability as the IEEE does not allow
% \baselineskip to stretch. Authors submitting work to the IEEE should note
% that the IEEE rarely uses double column equations and that authors should try
% to avoid such use. Do not be tempted to use the cuted.sty or midfloat.sty
% packages (also by Sigitas Tolusis) as the IEEE does not format its papers in
% such ways.
% Do not attempt to use stfloats with fixltx2e as they are incompatible.
% Instead, use Morten Hogholm'a dblfloatfix which combines the features
% of both fixltx2e and stfloats:
%
% \usepackage{dblfloatfix}
% The latest version can be found at:
% http://www.ctan.org/pkg/dblfloatfix




% *** PDF, URL AND HYPERLINK PACKAGES ***
%
%\usepackage{url}
% url.sty was written by Donald Arseneau. It provides better support for
% handling and breaking URLs. url.sty is already installed on most LaTeX
% systems. The latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/url
% Basically, \url{my_url_here}.




% *** Do not adjust lengths that control margins, column widths, etc. ***
% *** Do not use packages that alter fonts (such as pslatex).         ***
% There should be no need to do such things with IEEEtran.cls V1.6 and later.
% (Unless specifically asked to do so by the journal or conference you plan
% to submit to, of course. )


%-- packages -------------------------------------------
% 
\usepackage{afterpage}
\usepackage{amsmath,amsthm}
\usepackage{amssymb,float}
\usepackage[american]{babel}
\usepackage{bussproofs}
\usepackage{calc}
\usepackage{centernot}
\usepackage{chngcntr}
\usepackage{crossreftools} % https://tex.stackexchange.com/questions/405645/referencing-custom-label-with-enumitem
    \makeatletter
    \newcommand{\optionaldesc}[2]{%
      \phantomsection
      #1\protected@edef\@currentlabel{#1}\label{#2}%
    }
    \makeatother
\usepackage[dmyyyy]{datetime}
\usepackage[inline]{enumitem}
\usepackage{esvect}
\usepackage{fancybox}
\usepackage{hyperref}
\usepackage[switch]{lineno}
\usepackage{multirow}
\usepackage{mathtools}
\usepackage{placeins}
\usepackage{soul}   
\usepackage{stmaryrd}
\usepackage{url}
\usepackage{ushort}
% 
% avoid problems created by `\bigtimes' in mathabx
% (solution from https://tex.stackexchange.com/questions/244888/a-problem-caused-by-mathabx-package)
\let\savebigtimes\bigtimes
\let\bigtimes\relax
\usepackage{mathabx}
\let\bigtimes\savebigtimes
\usepackage{graphicx}
% 
%------------------------------------------------------- 
% 
% 
%-- tikz -----------------------------------------------
\usepackage{tikz,fp}
% 
%
\usetikzlibrary{arrows.meta,arrows,calc,automata,angles,quotes,matrix,%backgrounds,calc,chains,fadings,fit,patterns,snakes,
                positioning,shapes.geometric,shapes.symbols,shapes.multipart,through,trees,
                decorations.markings,decorations.text
                }
% \usetikzlibrary{arrows,calc, %automata,backgrounds,calc,chains,fadings,fit,patterns,snakes,
%                 positioning,shapes.geometric,shapes.symbols,shapes.multipart,through,trees,
%                 %decorations.markings,decorations.text
%                 }                

\pgfdeclaredecoration{funbisim}{final}{
  \state{final}[width=\pgfdecoratedpathlength]{
    \draw[->]
      (0,\pgfdecorationsegmentamplitude+0.1mm) -- +(\pgfdecoratedpathlength,0);
    \draw[-]
      (0,-\pgfdecorationsegmentamplitude-0.1mm) -- +(\pgfdecoratedpathlength,0);}}
\tikzset{
  funbisim/.style={
    decoration={funbisim, amplitude=0.25ex},
    decorate,
    funbisim options/.style={#1}    
  }}

\pgfdeclaredecoration{bisim}{final}{
  \state{final}[width=\pgfdecoratedpathlength]{
    \draw[<->]
      (0,\pgfdecorationsegmentamplitude+0.1mm) -- +(\pgfdecoratedpathlength,0);
    \draw[-]
      (0,-\pgfdecorationsegmentamplitude-0.1mm) -- +(\pgfdecoratedpathlength,0);}}
\tikzset{
  bisim/.style={
    decoration={bisim, amplitude=0.25ex},
    decorate,
    bisim options/.style={#1}    
  }}   

\newcommand\encircle[1]{%
  \tikz[baseline=(X.base)] 
    \node (X) [draw, shape=circle, inner sep=-1pt] {\strut #1};} 
    
\makeatletter
\def\calcLength(#1,#2)#3{%
\pgfpointdiff{\pgfpointanchor{#1}{center}}%
             {\pgfpointanchor{#2}{center}}%
\pgf@xa=\pgf@x%
\pgf@ya=\pgf@y%
\FPeval\@temp@a{\pgfmath@tonumber{\pgf@xa}}%
\FPeval\@temp@b{\pgfmath@tonumber{\pgf@ya}}%
\FPeval\@temp@sum{(\@temp@a*\@temp@a+\@temp@b*\@temp@b)}%
\FProot{\FPMathLen}{\@temp@sum}{2}%
\FPround\FPMathLen\FPMathLen5\relax
\global\expandafter\edef\csname #3\endcsname{\FPMathLen}
}
\makeatother    


\tikzset{
  my dash/.style={dash pattern=on 5pt off 2pt}
         }% end of tikzset
%-------------------------------------------------------


%-------------------------------------------------------
% equation numbering
%-------------------------------------------------------
\numberwithin{equation}{section}
%-------------------------------------------------------

%------------------
% macros
%------------------
\input{macros-lics}
%------------------




% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}


\begin{document}
  
%-----------  
% \linenumbers  
%-----------  
  
%
% paper title
% Titles are generally capitalized except for words such as a, an, and, as,
% at, but, by, for, in, nor, of, on, or, the, to and up, which are usually
% not capitalized unless they are the first or last word of the title.
% Linebreaks \\ can be used within to get better formatting as desired.
% Do not put math or special symbols in the title.


\title{The Image of the Process Interpretation of Regular Expressions\\ % Modulo Bisimilarity\\
       Is Not Closed under Bisimulation Collapse}

% author names and affiliations
% use a multiple column layout for up to three different
% affiliations
\author{\IEEEauthorblockN{Clemens Grabmayer}
        \IEEEauthorblockA{Computer Science Department\\
                          Gran Sasso Science Institute\\
                          67100 L'Aquila AQ, Italy\\
                          Email: \href{mailto:clemens.grabmayer@gssi.it}{\normalfont\texttt{clemens.grabmayer@gssi.it}}
                          }}
% \and
% \IEEEauthorblockN{Homer Simpson}
% \IEEEauthorblockA{Twentieth Century Fox\\
% Springfield, USA\\
% Email: homer@thesimpsons.com}
% \and
% \IEEEauthorblockN{James Kirk\\ and Montgomery Scott}
% \IEEEauthorblockA{Starfleet Academy\\
% San Francisco, California 96678-2391\\
% Telephone: (800) 555--1212\\
% Fax: (888) 555--1212}}

% conference papers do not typically use \thanks and this command
% is locked out in conference mode. If really needed, such as for
% the acknowledgment of grants, issue a \IEEEoverridecommandlockouts
% after \documentclass

% for over three affiliations, or if they all won't fit within the width
% of the page (and note that there is less available width in this regard for
% compsoc conferences compared to traditional conferences), use this
% alternative format:
% 
%\author{\IEEEauthorblockN{Michael Shell\IEEEauthorrefmark{1},
%Homer Simpson\IEEEauthorrefmark{2},
%James Kirk\IEEEauthorrefmark{3}, 
%Montgomery Scott\IEEEauthorrefmark{3} and
%Eldon Tyrell\IEEEauthorrefmark{4}}
%\IEEEauthorblockA{\IEEEauthorrefmark{1}School of Electrical and Computer Engineering\\
%Georgia Institute of Technology,
%Atlanta, Georgia 30332--0250\\ Email: see http://www.michaelshell.org/contact.html}
%\IEEEauthorblockA{\IEEEauthorrefmark{2}Twentieth Century Fox, Springfield, USA\\
%Email: homer@thesimpsons.com}
%\IEEEauthorblockA{\IEEEauthorrefmark{3}Starfleet Academy, San Francisco, California 96678-2391\\
%Telephone: (800) 555--1212, Fax: (888) 555--1212}
%\IEEEauthorblockA{\IEEEauthorrefmark{4}Tyrell Inc., 123 Replicant Street, Los Angeles, California 90210--4321}}




% use for special paper notices
%\IEEEspecialpapernotice{(Invited Paper)}




% make the title area
\maketitle
  \thispagestyle{plain}
  \pagestyle{plain}

% As a general rule, do not put math, special symbols or citations
% in the abstract
\begin{abstract}
  \input{abstract.tex}
\end{abstract}

% no keywords




% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle


  
% \raggedbottom  


%----------------------
\section{Introduction}%
  \label{intro}
%----------------------

\noindent
Milner \cite{miln:1984} (1984) introduced an interpretation of regular expressions as processes:
the interpretation of $\stexpzero$ is deadlock, of $\stexpone$ is successful termination, letters $a$ are atomic actions,
the operators $\sstexpsum$ and $\sstexpprod$ stand for choice and concatenation of processes,
and (unary) Kleene star $\stexpit{(\cdot)}$ represents iteration with the option to terminate successfully before and after each pass-through.
On the basis of this interpretation,
Milner was interested in the process semantics that arises by mapping a star expression
  to its `star behavior': the bisimilarity equivalence class (the `behavior') of its process interpretation.  
He used the term `star expressions' 
  for regular expressions when they are interpreted as processes. %in the context of their interpretation as processes.
  % when he meant the intepretation of regular expressions as processes.
  % use of regular expressions for denoting processes. % (and comparing them specifically via bisimilarity), he called them `star expressions'.

We will be concerned with a finer analysis 
  of process interpretations of star expressions (finite process graphs) that are bisimilar,
    and which therefore are contained in the same star behavior (the appertaining bisimilarity equivalence class). 
Specifically,
  we will study whether 
    the bisimulation collapse of the process interpretation of a star expression
      can always be construed as the process interpretation of some (possibly different) star expression.
(Note that the process interpretation of a star expression and its bisimulation collapse are bisimilar,
  and belong to the same~star~behavior.)
% Thus we are concerned with a finer analysis of star behaviors.
  
In the context of automata and language theory, an interpretation that matches Milner's process interpretation was described
by Antimirov~\cite{anti:1996} (1996) via `partial derivatives' of regular expressions.
He used this concept to define, for every regular expression, a \nondeterministic\ \finitestate\ automaton (\NFA) 
that is typically much smaller than the deterministic FA (\DFA) that is obtained by the standard translation.
Although Antimirov viewed automata only as language acceptors (but not as processes),
  the arising \NFAs\ correspond directly to the process graphs 
that are specified by a slight variation (see Def.~\ref{def:chartof}) of Milner's~interpretation.

Unlike for the standard language semantics, where every language accepted by a finite-state automaton is the interpretation of some regular expression,
there are finite process graphs that are not bisimilar to the process interpretation of any star expression.
This holds for the process graphs $G_1$ and $G_2$ below (as shown by Bosscher \cite{boss:1997}, and Milner~\cite{miln:1984}).
But the process graph $G_3$ is %expressible by a star expression, indeed it is itself 
                                     the interpretation of a star expression%
~(see~Ex.~\ref{ex:2:chart-int}).
%
\begin{center}\vspace{-3.25ex}\label{fig:milner-bosscher-expressible}
  \scalebox{0.9}{\input{figs/cexs-milner-bosscher.tex}}
\end{center}\vspace{-0.5ex}
%
In pictures of process graphs we highlight, here and henceforth, the \emph{start vertex} by a brown arrow~\picarrowstart,
and a vertex $\avert$ \emph{with immediate termination}
by emphasizing $\avert$ in brown as \pictermvert\ including a boldface ring.

That the image of the process semantics, even when extended modulo bisimilarity, does not cover all finite process graphs,
led Milner to the first of the following questions~\cite{miln:1984},
where the second one is concerned with algebraic properties and axiomatizability of star expressions modulo bisimilarity:
% \begin{description*}
    {\bf (E)}~%
    How can one characterize the process graphs that are
    expressible by star expressions, that is, bisimilar to ones in
    the image of the process semantics?
    % How can those process graphs be characterized %
    %   % \footnote{Milner asked for a structural property of these finite process graphs.}
    % that are expressible by star expressions, that is, bisimilar to ones in the image of the process semantics?
    %
    {\bf (A)}~%
    Is a natural adaptation of Salomaa's complete proof system \cite{salo:1966} for language equivalence of regular expressions 
    complete for bisimilarity of the process interpretation of~star~expressions? 
%\end{description*}
 
While the decision problem underlying {\bf (E)} has been shown to be solvable \cite{baet:corr:grab:2005} 
  (but only with a \superexponential\ complexity bound), 
so far only partial solutions
  % \cite{fokk:zant:1994,fokk:1996:term:cycle:LGPS,fokk:1997:pl:ICALP,baet:corr:grab:2007,grab:fokk:2020:lics} 
 have been obtained for question~{\bf (A)}.
These concern tailored restrictions of Milner's proof system %(itself an adaptation of Salomaa's)
that were shown to be complete for the following subclasses of star expressions:
\begin{enumerate*}[label={(\alph{*})},labelsep=0ex]
  \item
    without $\stexpzero$ and $\stexpone$, but with binary star iteration $\stexpbit{\astexpi{1}}{\astexpi{2}}$ %$\stexpbit{(\cdot)}{(\cdot)}$
    with iteration-part $\astexpi{1}$ and exit-part $\astexpi{2}$ instead of unary star~\cite{fokk:zant:1994},
  \item
    with $\stexpzero$, and with iterations restricted to exit-less ones $\stexpprod{\stexpit{(\cdot)}}{\stexpzero}$
    in absence of $\stexpone$ \cite{fokk:1997:pl:ICALP} and in the presence of~$\stexpone$~\cite{fokk:1996:term:cycle:LGPS},
  \item
    without $\stexpzero$, and with only restricted occurrences of~$\stexpone$~\cite{corr:nico:labe:2002}, and
  \item
    `\stexponefree' expressions formed with $\stexpzero$, without $\stexpone$, but again with binary instead of unary iteration~\cite{grab:fokk:2020:lics}.    
\end{enumerate*}
While the classes (c) and (d) are incomparable, these results can be joined to apply to an encompassing proper subclass of the star expressions~\cite{grab:fokk:2020:lics}.
These partial results for {\bf (A)} also yield partial results concerning {\bf (E)}: 
expressibility modulo bisimilarity of a finite process graph by the process interpretation
of a star expression in one of these classes~is~decidable~in~polynomial~time. 

\smallskip
\noindent{\bf The purpose of this paper.}
  %The purpose of this paper 
  We describe a phenomenon that can help to explain
  a subjective experience: that trying to solve the problems {\bf (E)} and {\bf (A)} 
  for the full class of star expressions is much harder than in \cite{grab:fokk:2020:lics} for
  the subclass of \stexponefree\ star expressions where $\stexpzero$ is present, but $\stexpone$ is not.
  It provides evidence that minimization strategies (see below) for solving {\bf (E)} and {\bf (A)}
  face a significant obstacle in general.
  This notwithstanding we also report on the investigation
  by which we made this discovery, and by the continuation of which
  we expect progress towards solving the problems. 



% %----------
% \subsection*{Minimization strategies}
% %----------


\smallskip
\noindent{\bf Minimization strategies.}
%
All approaches to the problems {\bf (E)} and {\bf (A)} we are aware of use a minimization strategy for 
expressions (most frequently), or for the associated process graphs or specifications of these graphs (less often).
For the axiomatization problem {\bf (A)}, the approach on expression level proceeds as follows.
In order to prove equal, in a proof system $\asys$, 
two terms $\astexpi{1}$ and $\astexpi{2}$ with bisimilar interpretations, % $G_1$ and $G_2$,
the strategy aims to simplify $\astexpi{1}$ and $\astexpi{2}$ as much as possible
by algebraic operations that preserve the interpretations up to bisimilarity.
Let the results be expressions $\bstexpi{1}$ and $\bstexpi{2}$.
Ideally, $\bstexpi{1}$ and $\bstexpi{2}$ coincide if simplification is optimal and confluent, then yielding $\bstexpi{1} = \bstexpi{2}$ directly.
Or otherwise, if the reached expressions are simple enough, they can facilitate a proof $\bstexpi{1} = \bstexpi{2}$ in $\asys$ by structural induction. 
From this proof a derivation of $\astexpi{1} = \astexpi{2}$ in $\asys$ is obtained 
by justifying the simplification steps as proofs of $\astexpi{1} = \bstexpi{1}$ and $\astexpi{2} = \bstexpi{2}$ in $\asys$,
and by applying the transitivity rule of equational logic.

% Several results have been obtained in this vein.

A minimization strategy was also used in \cite{baet:corr:grab:2007} for showing that the decision problem underlying {\bf (E)} is solvable.
Here minimization acts on `well-behaved' recursive specifications that specify star expressions.
Such specifications are simplified via rewrite rules to the set of their normal forms, which can be described formally. 
The rewrite rules are, however, not confluent, and so neither is simplification. 
But the problem of checking whether a finite process graph $G$ is expressible
can be reduced to the computable problem of checking whether $G$ is bisimilar 
to a well-behaved specification from a finite set that %, in its turn, 
                                                      is computable~from~$G$. 

Another minimization strategy for structure-constrained graphs that correspond
to \stexponefree\ star expressions with $\stexpzero$ and binary iteration
was introduced in \cite{grab:fokk:2020:lics}. We describe it below. 

% graph level, described below, was used 
% in \cite{grab:fokk:2020:lics} for solving the problem {\bf (A)} 
% for star expressions \stexponefree\ star expressions with $\stexpzero$ and binary iteration. 

\smallskip
\noindent{\bf Structure-constrained process graphs.}
%
Process interpretations $\procsem{\astexp}$ of \stexponefree\ star expressions $\astexp$ 
possess a structural property called `Loop Existence and Elimination' (\LEE), see below. % (see {\bf (I)$_{\text{\st{1}}}$}). 
Vice versa, finite process graphs with \LEE\ are rather directly expressible by star expressions modulo bisimilarity.
This was observed in \cite{grab:fokk:2020:lics},
where \LEE\ was introduced, based on the concept of `loop subgraph'. 

A \emph{loop subgraph} of a process graph is generated from a set $E$ of entry transitions from a vertex $\avert$ 
by all paths from $\avert$ that start along a transition in $E$
and continue until $\avert$ is reached again first,
given that three properties hold for the so-constructed subgraph:
(L1)~there is an infinite path from $\avert$ starting with an $E$\nb-tran\-si\-tion,
(L2)~every infinite path starting from $\avert$ with an $E$\nb-tran\-si\-tion returns to $\avert$ eventually, and 
(L3)~termination is permitted only at $\avert$ (but not required). 
For example, neither $G_1$ nor $G_2$ on page~\pageref{fig:milner-bosscher-expressible} 
                                     % above 
                                     are loop graphs,
                                     that is,
                                     loop subgraphs of themselves with $E$ the set of all transitions from the start vertex:
$G_1$ violates (L3), and $G_2$ violates (L2), because it facilitates infinite paths that do not return to the start vertex.
Moreover, neither $G_1$ and $G_2$ contain loop subgraphs. 
But the graph $G_3$ has loop subgraphs, see below.

\begin{flushleft}\label{ex:expressible:LEE}
  \input{figs/ex-LEE.tex}
\end{flushleft}\vspace{-1ex}
%
A graph satisfies \emph{Loop Existence and Elimination (LEE)} 
if repeatedly picking a loop subgraph, eliminating its entry transitions, and performing garbage collection,
leads to a graph without infinite paths.
The graphs $G_1$ and $G_2$ do not satisfy \LEE, because neither contains a loop subgraph that can be eliminated,
yet both facilitate infinite paths.
But the graph $G_3$ satisfies \LEE.
The picture below shows a run of the loop elimination procedure for the graph~$G_3$. 
The \loopentry\ transitions of loop subcharts that are eliminated are marked in bold. 
We have neglected action labels here.
%
% \begin{flushleft}\label{ex:expressible:LEE}
%   \input{figs/ex-LEE.tex}
% \end{flushleft}\vspace{-1ex}
% %
Since the graph $G_3'''$ that is reached after three loop-subgraph elimination steps from $G_3$ does not have 
an infinite path, we conclude that $G_3$ satisfies \LEE. 

Expressions correspond to graphs with \LEE, see \cite{grab:fokk:2020:lics}: 
\begin{enumerate}[label={\bf (SE)},leftmargin=*,align=right,labelsep=0.75ex,itemsep=0.35ex]             
 \item[{\bf (I)$_{\text{\st{1}}}$}]%
   $\procsem{\astexp}$ satisfies \LEE, for every \stexponefree\ star expressions $\astexp$. 
\end{enumerate}


\smallskip
\noindent{\bf Minimization of structure-constrained graphs.}
%
The completeness proof of a tailoring \BBP\ (due Bergstra, Bethke, and Ponse \cite{berg:beth:pons:1994})
of Milner's proof system for \stexponefree\ star expressions
in \LEE\ can be based on {\bf (I)$_{\text{\st{1}}}$} and the following minimization statements: 
\begin{enumerate}[label={\bf (SE)},leftmargin=*,align=right,labelsep=0.75ex,itemsep=0.35ex]
 \item[{\crtcrossreflabel{\bf (C)}[C]}]
   \LEE\ is preserved under bisimulation collapse. 
   % The bisimulation collapse of a \LLEEchart\ is again a \LLEEchart. 
 \item[{\crtcrossreflabel{\bf (IC)$_{\text{\st{1}}}$}[IC_strike-1]}]
   The image under $\procsem{\cdot}$ of the \stexponefree\ star expressions %under the process interpretation $\procsem{\cdot}$ 
   is closed under bisimulation collapse. (See Prop.~\ref{prop:im:chart-int:for:onefree:closed}.)
\end{enumerate}
That property {\bf (IC)$_{\text{\st{1}}}$} holds, hinges on a variation of the definition of the process semantics used in \cite{grab:fokk:2020:lics},
see Def.~\ref{def:StExpTSS}.

The completeness proof for \BBP\ proceeds, roughly, as follows. 
Suppose that \stexponefree\ star expressions $\astexpi{1}$ and $\astexpi{2}$ have bisimilar process interpretations,
formally, $\procsem{\astexpi{1}} \bisim \procsem{\astexpi{2}}$.
We have to obtain a derivation of $\astexpi{1} = \astexpi{2}$ in \BBP. 
As $\astexpi{1}$ and $\astexpi{2}$ are bisimilar, they have a joint bisimulation collapse $G_0$,
such that $\procsem{\astexpi{1}} \funbisim G_0 \convfunbisim \procsem{\astexpi{2}}$ holds, where by $\sfunbisim$ we indicate functional bisimilarity. 
Since $\procsem{\astexpi{1}}$ and $\procsem{\astexpi{2}}$ satisfy \LEE\ by {\bf (I)$_{\text{\st{1}}}$}, 
it follows by {\bf (IC)$_{\text{\st{1}}}$} that there must exist a \stexponefree\ star expression $\astexpi{0}$ such that $\procsem{\astexpi{0}} = G_0$.
By utilizing the functional bisimulations from $\procsem{\astexpi{1}}$ and $\procsem{\astexpi{2}}$ to $G_0$
it is possible to construct derivations of $\astexpi{0} = \astexpi{1}$ 
and $\astexpi{0} = \astexpi{2}$ in \BBP. These derivations can be combined via transitivity to a derivation of $\astexpi{1} = \astexpi{2}$~in~$\BBP$. 

\smallskip
%


\smallskip
\noindent{\bf Generalization to the full class of star expressions?}
When trying to extend the minimization-strategy approach, either on the expression level or on the graph level,
to one that can handle the full class of star expressions,
one encounters a complicated picture of cases that have to be dealt with.
Although a subjective impression, it pointed to an increased level of difficulty
that might have a conceptual explanation.
% that is in need of a conceptual explanation. 

Hopes that the  minimization approach of structure-constrained process graphs 
  % used in the completeness proof 
as used for \stexponefree\ star expressions can be extended to the full class
were raised by a two-part result in \cite{grab:2021:TERMGRAPH-postproceedings} about a failure and a remedy:
On the one hand, \LEE\ does not hold for process interpretations of star expression in general,
so the generalization {\bf {(I)$_\text{1}$}}~of~{\bf (I)$_{\text{\st{1}}}$}~fails:
\begin{enumerate}[label={\bf (SE)},leftmargin=*,align=right,labelsep=0.75ex,itemsep=0.25ex]              
  \item[{\bf \st{(I)$_\text{1}$}}]\label{I_1}
    $\procsem{\astexp}$ does \emph{not satisfy} LEE in general. (See~Ex.~\ref{ex:chart-int:not:LEE}) 
\end{enumerate}
But on the other hand, \LEE\ can be recovered by defining bisimilar variants in the form of process graphs with `\onetransitions' 
that represent empty-step processes. 


% %----------
% \subsection{Contribution}
% %----------
%
\smallskip
\noindent
{\bf Our contribution: structure-constrained minimization encounters a limit.}
%      
Sharpening the remedy in \cite{grab:2021:TERMGRAPH-postproceedings} for the failure of {\bf {(I)$_\text{1}$}}, 
we restore a weakened version {\bf (RI)$_\text{1}$} by showing that the process semantics can be refined into a variant
that ensures \LEE. Then we prove
a crucial difference with maximal minimization for \stexponefree\ star expressions,
namely, that the collapse and image-closedness statements {\bf (C)} and {\bf (IC)$_{\text{\st{1}}}$} do not generalize in a similar way.
In summary: 
% % 
% % 
% For star expressions in general we show that, while {\bf (I)} can be generalized, 
% this does not hold for {\bf (C)} and {\bf (IC)}, a situation that can, however, be remedied partly (see {\bf (A)$_{\stexpone}$}): 
%
\begin{enumerate}[label={\bf (SE)},leftmargin=*,align=right,labelsep=0.75ex,itemsep=0.25ex]              
  % \item[{\bf \st{(I)$_\text{1}$}}]\label{I_1}
  %   $\procsem{\astexp}$ does \emph{not satisfy} LEE in general. (See Ex.~\ref{ex:chart-int:not:LEE})             
  \item[{\crtcrossreflabel{\bf (RI)$_\text{1}$}[RI_1]}]
    $\procsem{\astexp}$ can be refined into a process graph with \onetransitions\ that satisfies \LEE,
    for every star expression $\astexp$. (See Thm.~\ref{thm:onechart-int:LLEEw}. A similar result is described in \cite{grab:2021:TERMGRAPH-postproceedings}.)  
  \item[{\crtcrossreflabel{\st{\bf (RC)}}[not-RC]}]
    The property `can be refined into a process graph with 1-transitions and LEE'
     is \emph{not preserved} under bisimulation collapse. (See counterexample in Thm.~\ref{thm:limit})
    % The bisimulation collapse of a \LLEEchart\ is again a \LLEEchart.
  \item[{\crtcrossreflabel{\bf\st{(IC)$_\text{1}$}}[IC_1]}]
    The image under $\procsem{\cdot}$ of the star expressions %under the process interpretation $\procsem{\cdot}$ 
    is \emph{not closed} under bisimulation collapse. (See Thm.~\ref{thm:im:onechart-int:not:closed}.)
  % \item[{\bf (A)$_{\stexpone}$}]
  %   For every process graph $G$ with \onetransitions\ and \LEE\
  %   a closely approximation $G_0^{\hspace*{-0.5pt}\scriptscriptstyle (\approx)}$ with \onetransitions\ and \LEE\
  %   of the bisimulation collapse $G_0$ of $G$ can always be computed. (See Thm.~\ref{thm:approx:limit}.)
\end{enumerate}
%
We witness the failure of both {\bf (RC)} and {\bf (IC)$_\text{1}$} by a concrete counterexample
that derives from a \onechart\ that refines the process interpretation of a star expression (see Ex.~\ref{ex:limit-sp-collapse}). 

%
\smallskip
\noindent
{\bf Outlook: structure-constrained collapse approximations.}
%
We informally explain that the counterexample to {\bf (RC)} and {\bf (IC)} arises from a specific case
in which bisimilar vertices in a \onechart\ with \LEE\ cannot be collapsed on to each other while preserving \LEE.
We found this case in a systematic investigation of when collapse operations are possible \LEEpreservingly.
That opens up a promising new approach for the general problems {\bf (A)} and {\bf (E)}. 
It can lead to a procedure for obtaining,
for every finite process graph with 1-tran\-si\-tions and LEE,
an approximation of its bisimulation collapse 
that satisfies LEE and in which every vertex has at most~one~bisimilar~counterpart.
% (as in the counterexample graph).

% We explain that the counterexample to {\bf (RC)} and {\bf (IC)} 
% arose from a systematic investigation of those situations 
% in which bisimilar vertices in a \onechart\ with \LEE\ can be collapsed on to each other while preserving \LEE.
% That opens up a promising new approach for the general problems {\bf (A)} and {\bf (E)}. 
% Namely, by eliminating all other bisimilarity redundancies 
% we formulate a procedure for obtaining,
% for every finite process graph with 1-tran\-si\-tions and LEE,
% such an approximation of its bisimulation collapse 
% that satisfies LEE and in which every vertex has at most~one~bisimilar~counterpart.


\smallskip
\noindent{\bf Overview.}
  In Sect.~\ref{procsem} we gather basic definitions of star expressions
     %we recall star expressions,
     % and define the process semantics as one that
  and of their process interpretations as `charts' (finite process graphs).
  We note that {\bf (IC)$_{\text{\st{1}}}$} can be added to the results for \stexponefree\ star expressions in \cite{grab:fokk:2020:lics},
  and that {\bf (I)$_\text{1}$} fails in general. 
  As a remedy we introduce `\onecharts' in Sect.~\ref{refined:procsem}
  as charts with separate \onetransitions\ that represent empty step processes,
  and we define a \onechart\ interpretation of star expressions that refines the chart interpretation.   
  In Sect.~\ref{LLEEwitnesses} we define `layered \LEEwitnesses' (\LLEEwitnesses),
  and show that every \onechart\ interpretation of a star expression has a \LLEEwitness,
  yielding~{\bf (RI)$_\text{1}$}.
  
  In Sect.~\ref{counterexample} we give a \onechart\ that yields,
  together with its collapses, a counterexample to {\bf (RC)} and {\bf (IC)}.
  We also explain the origin of that example. 
  Finally in Sect.~\ref{outlook} we summarize our results, and report
  on a promising approach for circumventing the phenomenon that we describe here. 
 
%   In Sect.~\ref{origin:counterexample} we informally explain a systematic analysis
%   of situations in which bisimilar vertices in a \onechart\ with \LEE\ can be 
%   collapsed on to each other while preserving \LEE, leading to a \LEEpreserving\
%   approximation procedure for the bisimulation collapse of \onecharts\ with \LEE.


{\em Please find in the appendix details of proofs that have been omitted or are only sketched.}



%\newpage
%-----------------------
\section{Process semantics of star expressions}%
  \label{procsem}
%-----------------------
%
% \noindent
% In this section we gather basic definitions of star expressions,
% and of their % process interpretation as finite process graphs that we call `charts' following Milner~\cite{miln:1984}. 
% 
% 
\begin{defi}\nf\label{def:StExp}
  Let $\actions$ be a set whose members we call \emph{actions}.
  The set $\StExpover{\actions}$ of \emph{star expressions over actions in $\actions$} 
  is defined by the following grammar, where $\aact\in\actions\,$:
  \begin{center}
    $
    \astexp, \astexpi{1}, \astexpi{2}
      \:\BNFdefdby\:
    \stexpzero
      \BNFor
    \stexpone
      \BNFor  
    \aact
      \BNFor
    \stexpsum{\astexpi{1}}{\astexpi{2}}
      \BNFor
    \stexpprod{\astexpi{1}}{\astexpi{2}}
      \BNFor
    \stexpit{\astexp} % \quad (\aact\in\actions)
    $
  \end{center} 
  % 
  We call a star expression \emph{normed} (and respectively, \emph{\oneless}, and \emph{\quasioneless}) if it can be generated
  for \nonterminal~$\andstexp$ (resp., for \nonterminal\ $\bstexp$, and for the \nonterminal\ $\cstexp$)
  in the more specific grammars below, where 
  $\aact$ stands for any action in $\actions$, and $\astexp$ for any star expression in $\StExpover{\actions}$:
  \begin{center}
    $
    \begin{aligned}
      \andstexp, \andstexpi{1}, \andstexpi{2}
        \: & \BNFdefdby\:
      \stexpone
        \BNFor
      \aact
        \BNFor
      \stexpsum{\andstexp}{\astexp}
        \BNFor
      \stexpsum{\astexp}{\andstexp}
        \BNFor
      \stexpprod{\andstexpi{1}}{\andstexpi{2}}
        \BNFor
      \stexpit{\andstexp} 
      % \\[-0.25ex]
      %   & \hspace{25.75ex} (\aact\in\actions,\, \astexp\in\StExpover{\actions}) \hspace*{-6ex} &
      \\
      \bstexp, \bstexpi{1}, \bstexpi{2}
        \: & \BNFdefdby\:
      \stexpzero
        \BNFor
      \aact
        \BNFor
      \stexpsum{\bstexpi{1}}{\bstexpi{2}}
        \BNFor
      \stexpprod{\bstexpi{1}}{\bstexpi{2}}
        \BNFor
      \stexpprod{\stexpit{\bstexpi{1}}}{\bstexpi{2}}
        % \quad (\aact\in\actions)
      \\
      \cstexp 
        \: & \BNFdefdby\:
      \stexpone
        \BNFor
      \bstexp
        \BNFor
      \stexpprod{\cstexp}{\bstexp}    
    \end{aligned}  
    $
  \end{center}
  Quasi-1-less star expressions contain at most one occurrence of $\stexpone$.
  By $\onelessStExpover{\actions}$ (by $\quasionelessStExpover{\actions}$)
  we denote the set of \oneless\ (respectively, of \quasioneless) star expressions~over~$\actions$.
  
  The \emph{(syntactic) star height} $\sth{\astexp}$ of a star expression $\astexp\in\StExpover{\actions}$
  is the maximal nesting depth of stars in $\astexp$, defined inductively 
  by: $\sth{\stexpzero} \defdby \sth{\stexpone}  \defdby \sth{\aact} \defdby 0$, 
       $\sth{\stexpsum{\astexpi{1}}{\astexpi{2}}} \defdby \sth{\stexpprod{\astexpi{1}}{\astexpi{2}}}
                                                  \defdby \max\setexp{\sth{\astexpi{1}}, \sth{\astexpi{2}}}$, 
       and $\sth{\stexpit{\astexp}} \defdby 1 + \sth{\astexp}$.
\end{defi}
%
% 
\begin{rem}\label{rem:oneless:onefree}\nf
  In Def.~\ref{def:StExpTSS} and Rem.~\ref{rem:def:StExpTSS} we will need normed star expressions. 
  %We will need normed star expressions in Def.~\ref{def:StExpTSS}, see Rem.~\ref{rem:def:StExpTSS}. 
  \oneLess\ star expressions arise as translations of \stexponefree\ star expressions from \cite{grab:fokk:2020:lics} with $\stexpzero$, without $\stexpone$, but with binary star iteration ${}^{\sstexpbit}$
  by translating $\stexpbit{\astexpi{1}}{\astexpi{2}}$ as $\stexpprod{\stexpit{\astexpi{1}}}{\astexpi{2}}$.
  \Quasioneless\ star expressions %will be needed 
                                  come into play as derivatives (see Def.~\ref{def:chartof}) of \oneless\ star expressions~(see Lem.~\ref{lem:quasioneless:derivs:oneless}).
\end{rem} 
% 
\begin{defi}\label{def:chart}\nf
  A \emph{chart} is a 5-tuple $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ 
  that consists of a set $\verts$ of \emph{vertices},
  a set $\actions$ of $\emph{action labels}$,
  the \emph{start vertex} $\start\in\verts$ (hence $\verts\neq\emptyset$),
  the \emph{labeled transition relation} $\transs \subseteq \verts\times\actions\times\verts$,
  and the set $\termexts \subseteq \verts$ of \emph{vertices with immediate termination}, 
  for short, the \emph{terminating vertices}.
  We write $\astatei{1} \lt{\aact} \astatei{2}$ for a transition $\triple{\astatei{1}}{\aact}{\astatei{2}}\in\sred$,
  and 
  $\terminates{\astate}$ for a terminating state $\astate\in\termexts$. 
\end{defi}
%
%
\begin{defi}\label{def:StExpTSS}\label{def:chartof}\nf
  The \emph{chart interpretation of} a star expression~$\astexp\in\StExpover{\actions}$
  is the chart:
  \begin{center}
    $\chartof{\astexp} = \tuple{\vertsof{\astexp},\,
                                \actions,\,
                                \astexp,\,
                                \transs\cap\vertsof{\astexp}\times\actions\times\vertsof{\astexp},\,
                                \termexts\cap\vertsof{\astexp}}$,
  \end{center}
  where $\vertsof{\astexp}$ consists of all star expressions that are reachable from $\astexp$
  via transitions of the labeled transition relation $ \transs \subseteq \StExpover{\actions}\times\actions\times\StExpsover{\actions}$
  that is defined, together with the \immediatetermination\ relation $\sterminates \subseteq \StExpsover{\actions}$,
  via derivability in the transition system specification (TSS)~$\StExpTSSover{\actions}$,
  where $\aact\in\actions$, $\astexp,\astexpi{1},\astexpi{2},\astexpi{i},\astexpacci{i},\astexpacc\in\StExpover{\actions}$ with $i\in\setexp{1,2}$:
  \begin{gather*}
    \begin{aligned}
      &
      \AxiomC{\phantom{$\terminates{\stexpone}$}}
      \UnaryInfC{$\terminates{\stexpone}$}
      \DisplayProof
      & \hspace*{-1.5ex} &
      \AxiomC{$ \terminates{\astexpi{1}} $}
      \UnaryInfC{$ \terminates{(\stexpsum{\astexpi{1}}{\astexpi{2}})} $}
      & \hspace*{2ex} &
      \AxiomC{$ \terminates{\astexpi{i}} $}
      \UnaryInfC{$ \terminates{(\stexpsum{\astexpi{1}}{\astexpi{2}})} $}
      \DisplayProof
      & \hspace*{2ex} &
      \AxiomC{$\terminates{\astexpi{1}}$}
      \AxiomC{$\terminates{\astexpi{2}}$}
      \BinaryInfC{$\terminates{(\stexpprod{\astexpi{1}}{\astexpi{2}})}$}
      \DisplayProof
      & \hspace*{2ex} &
      \AxiomC{$\phantom{\terminates{\stexpit{\astexp}}}$}
      \UnaryInfC{$\terminates{(\stexpit{\astexp})}$}
      \DisplayProof
      \end{aligned} 
      \displaybreak[0]\\[1ex]
      \begin{aligned}
      \AxiomC{$\phantom{a \:\lt{a}\: \stexpone}$}
      \UnaryInfC{$a \:\lt{a}\: \stexpone$}
      \DisplayProof
      & &
      \AxiomC{$ \astexpi{i} \:\lt{a}\: \astexpacci{i} $}
      \UnaryInfC{$ \stexpsum{\astexpi{1}}{\astexpi{2}} \:\lt{a}\: \astexpacci{i} $}
      \DisplayProof 
      & &
      \AxiomC{$\terminates{\astexpi{1}}$}
      \AxiomC{$ \astexpi{2} \:\lt{a}\: \astexpacci{2} $}
      \BinaryInfC{$ \stexpprod{\astexpi{1}}{\astexpi{2}} \:\lt{a}\: \astexpacci{2} $}
      \DisplayProof
      \end{aligned}
      \displaybreak[0]\\[0.25ex]
      \begin{aligned} 
      \AxiomC{$ \astexpi{1} \:\lt{a}\: \astexpacci{1} $}
      \RightLabel{\parbox{\widthof{\nf\scriptsize (normed)}}
                        {\nf\scriptsize{\phantom{(normed)}
                                        \\[-0.25ex]
                                        (if $\astexpacci{1}$ is
                                        \\[-0.25ex]
                                        \phantom{(}normed)}}}
      \UnaryInfC{$ \stexpprod{\astexpi{1}}{\astexpi{2}} \:\lt{a}\: \stexpprod{\astexpacci{1}}{\astexpi{2}} $}
      \DisplayProof 
      & &
      \AxiomC{$ \astexpi{1} \:\lt{a}\: \astexpacci{1} $}
      \RightLabel{\parbox{\widthof{\nf\scriptsize (not normed)}}
                        {\nf\scriptsize{\phantom{(not normed)}
                                        \\[-0.25ex]
                                        (if $\astexpacci{1}$ is
                                        \\[-0.25ex]
                                        \phantom{(}not normed)}}}
      \UnaryInfC{$ \stexpprod{\astexpi{1}}{\astexpi{2}} \:\lt{a}\: \astexpacci{1} $}
      \DisplayProof
      %
      \\[0.25ex]
      %
      \AxiomC{$\astexp \:\lt{a}\: \astexpacc$}
      \RightLabel{\parbox{\widthof{\nf\scriptsize (normed)}}
                        {\nf\scriptsize{\phantom{(normed)}
                                        \\[-0.25ex]
                                        (if $\astexpacc$ is
                                        \\[-0.25ex]
                                        \phantom{(}normed)}}}
      \UnaryInfC{$\stexpit{\astexp} \:\lt{a}\: \stexpprod{\astexpacc}{\stexpit{\astexp}}$}
      \DisplayProof
      & &
      \AxiomC{$\astexp \:\lt{a}\: \astexpacc$}
      \RightLabel{\parbox{\widthof{\nf\scriptsize (not normed)}}
                        {\nf\scriptsize{\phantom{(not normed)}
                                        \\[-0.25ex]
                                        (if $\astexpacc$ is
                                        \\[-0.25ex]
                                        \phantom{(}not normed)}}}
      \UnaryInfC{$\stexpit{\astexp} \:\lt{a}\: \astexpacc$}
      \DisplayProof
    \end{aligned}
  \end{gather*}
  % where $\aact\in\actions$ and $\astexp,\astexpi{1},\astexpi{2},\astexpacc\in\StExpover{\actions}$. 
  If $\astexp \lt{\aact} \astexpacc$ is derivable in $\StExpTSSover{\actions}$, for $\astexp,\astexpacc\in\StExpover{\actions}$,
  $\aact\in\actions$, then we say that $\astexpacc$ is a \emph{derivative} of $\astexp$.
  If $\terminates{\astexp}$ is derivable in $\StExpTSSover{\actions}$, % for $\astexp\in\StExpover{\actions}$,
  then we say that $\astexp$ \emph{permits immediate termination}.
  % If $\terminates{\astexp}$ is not derivable in $\StExpTSSover{\actions}$, then we write $\notterminates{\astexp}$.
\end{defi}
% 
%
\begin{lem}\label{lem:chart-int:finite}
  For every star expression $\astexp\in\StExpover{\actions}$,
  the chart interpretation $\chartof{\astexp}$ is a finite chart.
\end{lem} 
%
% \begin{proof}
%   Derivatives of a star expressions %$\astexp\in\StExpover{\actions}$
%     with respect to the simpler TSS $\StExpTSSiover{0}{\actions}$ in Rem.~\ref{rem:def:StExpTSS}
%   coincide with Antimirov's partial derivatives. % of $\astexp$.
%   Then finiteness of chart interpretations defined according to $\StExpTSSiover{0}{\actions}$
%   follows from Antimirov's result  \cite{anti:1996} that every regular expression only has finitely many iterated derivatives.
%   In order to prove finiteness of chart interpretations as defined via $\StExpTSSover{\actions}$ in Def.~\ref{def:onechartof},
%     a correspondence with a variation of partial derivatives can be defined,
%     and for that a finiteness results can be shown analogously.
% \end{proof}
%
% 
\begin{rem}\label{rem:def:StExpTSS}\nf
  The \TSS~$\StExpTSSover{\actions}$ in Def.~\ref{def:StExpTSS} 
  refines a simpler TSS (see \cite{baet:corr:grab:2007}),
  which we here call $\StExpTSSiover{0}{\actions}$, 
  that arises from $\StExpTSSover{\actions}$ by dropping
  the last two rules (with \sidecondition\ `$\astexpacc$ not normed'), and dropping the \sidecondition\ `$\astexpacci{1}$ not normed'
  from the rules before.
  Note that an expression is normed if and only if it enables
  a sequence of transitions to an expression with immediate termination.
  Without the requirement of normedness in $\StExpTSSover{\actions}$, %by which $\StExpTSSiover{0}{\actions}$ was refined,  
  % Put conversely, $\StExpTSSover{\actions}$ adds a distinction depending on normedness
  % to a rule for concatenation, and to the iteration rule in $\StExpTSSiover{0}{\actions}$.
  % Without the refinement in $\StExpTSSover{\actions}$, 
  the chart interpretation defined for $\StExpTSSiover{0}{\actions}$ 
  is not closed under bisimulation collapse for a trivial reason:
  from a star expression 
  different derivatives $\stexpprod{\astexp}{\bstexpi{1}}$ and $\stexpprod{\astexp}{\bstexpi{2}}$
  with $\astexp$ not normed can arise, whose behavior is the same (namely that of $\astexp$). 
  For example, %the star expression
  $\stexpsum{\stexpprod{\aact}{\stexpzero}}{\stexpprod{(\stexpprod{\aact}{\stexpzero})}{\aact}}$
  would have the derivatives $\stexpprod{\stexpone}{\stexpzero}$ and $\stexpprod{(\stexpprod{\stexpone}{\stexpzero})}{\aact}$,
  which do not permit transitions nor immediate termination,
  %none of which permits a transition or immediate termination, 
  whereas in $\StExpTSSover{\actions}$ this expression only has $\stexpprod{\stexpone}{\stexpzero}$ as a derivative. 
  For $\chartof{\cdot}$ as defined above via $\StExpTSSover{\actions}$
  the question of closedness of the image of $\chartof{\cdot}$ under bisimulation collapse
  is more challenging, see %the answers in 
                           Prop.~\ref{prop:im:chart-int:for:onefree:closed}, and %in 
                                                                                 Thm.~\ref{thm:im:onechart-int:not:closed}.
\end{rem}
% 
% 
\begin{exa}\label{ex:2:chart-int}\nf
  The graph $G_3$ on page~\pageref{fig:milner-bosscher-expressible} is the process interpretation of: 
  $ ( 1 \cdot \bigr( ( a \cdot a \cdot (a \cdot a)^* \cdot a + a ) \cdot a \cdot (a \cdot a)^* \cdot a \cdot a \bigr)^* ) \cdot a $,
  where we assume associativity to the left for dropped brackets.
\end{exa} 
%
% 
\begin{exa}\label{ex:1:chart-int}\label{ex:chart-int:not:LEE}\nf
  For the star expression $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$,
  the chart interpretation $\chartof{\astexp}$ as obtained by the TSS~$\StExpTSSover{\actions}$~is:
  \begin{flushleft}\vspace{-1.75ex}
    \hspace*{-3.75ex}%
    \scalebox{0.85}{\input{figs/ex-chart-int.tex}} 
  \end{flushleft}\vspace{-1.25ex}
  Note that all three vertices permit immediate termination.
  
  For the chart $\chartof{\astexp}$ we find that it does not satisfy \LEE. %,
  % witnessing \st{(I)$_\text{1}$} in Sect.~\ref{intro}
  % that process interpretations do not always satisfy this structural property.
  The following run of the~loop~elimination~procedure:
  \begin{center}\vspace{-1.5ex}
    \input{figs/ex-not-LEE.tex}
  \end{center}\vspace{-1.25ex}
  yields a chart~$\achartdacc$ that does not contain a loop subchart
  any more, but still admits infinite paths.
  Therefore $\astexp$ witnesses \st{(I)$_\text{1}$} in Sect.~\ref{intro},
  that process interpretations of regular expressions do not always satisfy the structural property \LEE.
\end{exa} 
% 
% 
% \begin{exa}\label{ex:chart-int:not:LEE}\nf
%   The chart interpretation $\chartof{\astexp}$  
%   in Ex.~\ref{ex:1:chart-int} of $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$ does not satisfy \LEE.
%   This is because the following run of the loop elimination procedure:
%   \begin{center}\vspace{-1.5ex}
%     \input{figs/ex-not-LEE.tex}
%   \end{center}\vspace{-1.25ex}
%   yields a chart~$\achartdacc$ that does not contain a loop subchart
%   any more, but still admits infinite paths.  
% \end{exa}
% 
%
\begin{defi}\label{def:bisim}\nf
  Let $\acharti{i} = \tuple{\vertsi{i},\actions,\starti{i},\transsi{i},\termextsi{i}}$ 
  be charts, for $i\in\setexp{1,2}$, with joint action set~$\actions$. 
  %
  By a \emph{bisimulation between $\acharti{1}$ and $\acharti{2}$}
  we mean a binary relation $\abisim \subseteq \vertsi{1}\times\vertsi{2}$ 
  such that:
  \begin{itemize}[labelindent=0.5em,leftmargin=*,align=left,labelsep=0.75em]
    \item[(start)]
      $ \pair{\starti{1}}{\starti{2}}\in\abisim$
  \end{itemize}
  holds, and for every $\pair{\averti{1}}{\averti{2}}\in\abisim$ three further conditions:
  %
  \begin{itemize}[labelindent=0.5em,leftmargin=*,align=left,itemsep=0.25ex,labelsep=0.75em]
      
    \item[(forth)]
      $ 
      \begin{aligned}[t]
        &
        \forall \avertacci{1}\in\vertsi{1}
            \forall \aact\in\actions
                \bigl(\,
                  \averti{1} \lti{\aact}{1} \avertacci{1} 
                  \\[-0.5ex]
                  & \quad
                    \;\;\Longrightarrow\;\;
                      \exists \avertacci{2}\in\vertsi{2}
                        \bigl(\, \averti{2} \lti{\aact}{2} \avertacci{2} 
                                   \logand
                                 \pair{\avertacci{1}}{\avertacci{2}}\in\abisim \,)
              \,\bigr) \punc{,}
       \end{aligned}    
       $
      
    \item[(back)]
      $ 
      \begin{aligned}[t]
        &
        \forall \avertacci{2}\in\vertsi{2}
            \forall \aact\in\actions 
            \\[-0.5ex]
            &
            \quad
              \bigr(
                \bigr(\, 
                  \exists \avertacci{1}\in\vertsi{1}
                    \bigl(\, \averti{1} \lti{\aact}{1} \avertacci{1} 
                               \logand
                             \pair{\avertacci{1}}{\avertacci{2}}\in\abisim \,)
                \bigr)
                \\[-0.5ex]      
                    & \hspace*{12em}
                    \;\;\Longleftarrow\;\;
                  \averti{2} \lti{\aact}{2} \avertacci{2}
                \,\bigr) \punc{,} 
      \end{aligned}
      $ 
      
    \item[(termination)]
      $ \terminatesi{1}{\averti{1}}
          \;\;\Longleftrightarrow\;\;
            \terminatesi{2}{\averti{2}} \punc{.}$
  \end{itemize}
  
  For a function $\safun \funin \vertsi{1} \to \vertsi{2}$ between $\vertsi{1}$ and $\vertsi{2}$
  we say that $\safun$ \emph{defines} a bisimulation between $\acharti{1}$ and $\acharti{2}$
  if its graph $\abisimi{\safun} \defdby \descsetexp{ \pair{\avert}{\fap{f}{\avert}} }{ \avert\in\vertsi{1} }$ 
  is a bisimulation between $\acharti{1}$ and $\acharti{2}$.
  Then we call $\abisimi{\safun}$ a \emph{functional}~bisimulation.
  If $\safun$ is bijective, then $\safun$ is an \emph{isomorphism} between $\acharti{1}$ and $\acharti{2}$.
  
  We say that $\acharti{1}$ and $\acharti{2}$ are \emph{bisimilar}, and denote it by $\acharti{1} \bisim \acharti{2}$, 
  if there is a bisimulation between $\acharti{1}$ and $\acharti{2}$.
  We denote by $\acharti{1} \funbisim \acharti{2}$ (and respectively by $\acharti{1} \iso \acharti{2}$) the stronger statement 
  that there is a functional bisimulation between $\acharti{1}$ and $\acharti{2}$
  (an isomorphism between $\acharti{1}$ and $\acharti{2}$).
  % that there is a partial function $f \funin \vertsi{1} \rightharpoonup \vertsi{2}$ whose graph $\descsetexp{ \pair{\avert}{\fap{f}{\avert}} }{\avert\in\vertsi{1}}$  
  % is a bisimulation between~$\acharti{1}$~and~$\acharti{2}$. 
\end{defi}  
%
% 
\begin{defi}\label{def:bisim-collapse}\nf
  Let $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ be a chart.
  %
  By $\sbisimon{\achart}$ we denote \emph{bisimilarity\ on $\achart$},
  the largest bisimulation (which is the union of all bisimulations) between $\achart$ and $\achart$ itself.
  %
  If $\bverti{1} \bisimon{\aonechart} \bverti{2}$ holds for vertices $\bverti{1},\bverti{2}\in\verts$,
  then we say that \emph{$\bverti{1}$ and $\bverti{2}$ are bisimilar in~$\aonechart$}.
  %
  We call $\achart$ %\onechart~$\achart = \tuple{\verts,\actions,\sone,\start,\transs,\termexts}$ 
  a \emph{bisimulation collapse}
  if $\sbisimon{\achart} = \sidrelon{\verts}$ holds, that is, if bisimilar vertices of~$\achart$ are identical.
\end{defi}  
% 
% 
% \begin{defi}\label{def:bisim-collapse}\nf
%   We say that a chart $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ 
%   is a \emph{bisimulation collapse} 
%   if the only bisimulation between $\achart$ and $\achart$
%   is the identity relation $\sidrelon{\verts} = \descsetexp{ \pair{\cvert}{\cvert} }{ \cvert\in\verts }$ on $\verts$.
% \end{defi}
%
%  
\begin{lem}\label{lem:quasioneless:derivs:oneless}
  The set $\quasionelessStExpover{\actions}$ of \quasioneless\ star expressions %over $\actions$
  contains the set of (0, 1, or more times) iterated derivatives of \oneless\ expressions from the set $\onelessStExpover{\actions}$. 
\end{lem}
%
%
\begin{prop}\label{prop:im:chart-int:for:onefree:closed}
  The image of the %set $\quasionelessStExpover{\actions}$ of 
                   \quasioneless\ star expressions 
  via the chart interpretation~$\chartof{\cdot}$ %$ \funin \StExpover{\actions} \to \chartsover{\actions}$ 
  is closed under the operation of bisimulation collapse modulo isomorphism.
\end{prop}
%
% 
\begin{proof}[Proof remark]
  This statement can be shown with a refinement of the results and the methods for \stexponefree\ star expressions (with binary star iteration)
  in \cite{grab:fokk:2020:lics,grab:fokk:2020:lics:arxiv}
  here for the corresponding \quasioneless\ star expressions (with unary star iteration).
  For this result the careful formulation of the TSS in Def.~\ref{def:StExpTSS} is crucial, see Rem.~\ref{rem:def:StExpTSS}.
  % that uses normedness case distinctions in the rules for product and star.
\end{proof}
%
% 
\begin{exa}\label{ex:prop:im:chart-int:for:onefree:closed}\nf
  The chart below %, which had been identified as challenging in \cite{fokk:1997:pl:ICALP},
  is the running example in \cite{grab:fokk:2020:lics}.
  It is a bisimulation collapse that satisfies \LEE, as witnessed by the run of the
  loop elimination procedure in the middle,
  and the labeling that records the run on the right: % (see Section~\ref{LLEEwitnesses} right: 
  %
  \begin{center}
    \scalebox{0.9}{\input{figs/ex-running-lics2020.tex}}
  \end{center}\vspace{-0.75ex}
  %
  It is expressible by a star expression modulo bisimilarity~\cite{fokk:1997:pl:ICALP}. %\pagebreak[4]
  Then by Prop.~\ref{prop:im:chart-int:for:onefree:closed} it is isomorphic to the chart interpretation of a \quasioneless\ star expression.
  Indeed, it is $\chartof{\astexpi{0}}$ with start
  $\astexpi{0} = ( (\stexpone \cdot \aact) \cdot \bstexp ) \cdot \stexpzero$
    for $\bstexp = ( \cact \cdot \aact + \aact \cdot ( \bact + \bact \cdot \aact ) )^*$,
  and vertices $\astexpi{1} = (\stexpone \cdot \bstexp) \cdot \stexpzero$, and
               $\astexpi{2} = ( (\stexpone \cdot (\bact + \bact \cdot \aact)) \cdot \bstexp ) \cdot \stexpzero $.    
  % \bigl( (\stexpone \cdot \aact) \cdot \bigl( \cact \cdot \aact + \aact \cdot ( \bact + \bact \cdot \aact ) \bigr)^* \bigr) \cdot \stexpzero $.          
  % This expression can be extracted from the chart by a refinement of the methods in~\cite{grab:fokk:2020:lics}.
\end{exa} 
%  
%
As key finding in Thm.~\ref{thm:im:onechart-int:not:closed}
we will show that the statement of Prop.~\ref{prop:im:chart-int:for:onefree:closed} does not extend to all star expressions.


% \begin{exa}\label{ex:chart-int:not:LEE}\nf
%   The chart interpretation $\chartof{\astexp}$  
%   in Ex.~\ref{ex:1:chart-int} of $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$ does not satisfy \LEE.
%   This is because the following run of the loop elimination procedure:
%   % \begin{center}\vspace{-1.5ex}
%   %   \input{figs/ex-not-LEE.tex}
%   % \end{center}\vspace{-1.25ex}
%   yields a chart~$\achartdacc$ that does not contain a loop subchart
%   any more, but still admits infinite paths.  
% \end{exa}



%\newpage
%-------
\section{Refined process semantics}%
  \label{refined:procsem}
%-------
%
\noindent
With the aim of making the structural property \LEE\ useful   
for process interpretations of all star expressions (which can be violated as we have seen in Ex.~\ref{ex:chart-int:not:LEE}),
we introduce `\onecharts' as charts with additional `\onetransitions'.
Based on that concept, we then define the `\onechart\ interpretation' %of star expressions 
                                                                      that
refines the chart interpretation, and produces \onecharts\ that satisfy \LEE\
(as we will see in the next section). 
% 
% 
\begin{defi}\label{def:onechart}\nf
  A \emph{\onechart}
  is a 6\nb-tuple $\tuple{\verts,\actions,\sone,\start,\transs,\sterminates}$ 
    where $\verts$ is a set of \emph{vertices},
    $\actions$ is a set of \emph{(proper)} $\emph{action labels}$,
    $\sone\notin\actions$ is the specified \emph{empty step label},
    $\start\in\verts$ is the \emph{start vertex} (hence $\verts \neq \emptyset$),
    $\transs \subseteq \verts\times\oneactions\times\verts$ is the \emph{labeled transition relation},
    where $\oneactions \defdby \actions \cup \setexp{\sone}$ is the set of action labels including $\sone$, 
    and $\sterminates \subseteq \verts$ is a set of \emph{vertices with immediate termination}. %,
    % for short, the \emph{terminating states}.
  (Note that then $\tuple{\verts,\oneactions,\start,\transs,\sterminates}$ is a chart).
  In such a \onechart, 
  we call a transition in $\transs\cap(\verts\times\actions\times\verts)$ (labeled by a \emph{proper action} in $\actions$) 
          a \emph{proper transition},
  and a transition in $\transs\cap(\verts\times\setexp{\sone}\times\verts)$ (labeled by the \emph{empty-step symbol}~$\sone$)
          a \emph{\onetransition}.  
  Reserving non-underlined action labels like $\aact,\bact,\ldots$ for proper actions,
  we use underlined action label symbols like $\aoneact, \boneact,\ldots$ for actions labels in the set $\oneactions$ 
  that includes~the~label~$\sone$. 
  We highlight in red transition labels that may involve $\sone$. 
  We say that a \onechart\ is \emph{\onefree} if it does not contain \onetransitions.
  
  Let $\avert\in\verts$ be a vertex in such a \onechart~$\aonechart$. 
  We say that $\avert$ is a \emph{\propertransition\ target (in $\aonechart$)}
  if it is the target of a proper transition of $\aonechart$.
  We say that $\avert$ is \emph{\startconnected\ (in $\aonechart$)} if there is path of transitions from the start vertex $\start$ of $\aonechart$ to $\avert$. 
  We call $\aonechart$ \emph{\startconnected} if every of its vertices is \startconnected. 
\end{defi}
% 
% 
\begin{defi}\label{def:onebisim:onecharts}\nf
  Let
  $\aonecharti{i} = \tuple{\vertsi{i},\actions,\sone,\starti{i},\sredi{i},\termextsi{i}}$ for $i\in\setexp{1,2}$
  be \onecharts\ over the same set $\actions$ of actions.
  
  By a \emph{\onebisimulation\ between $\aonecharti{1}$ and $\aonecharti{2}$} 
  we mean a binary relation $\abisim \subseteq \vertsi{1}\times\vertsi{2}$ %between their vertices
  that is a bisimulation between the induced-transition charts $\indchart{(\aonecharti{1})}$ and $\indchart{(\aonecharti{2})}$.
  
  We say that a partial function $\safun \funin \vertsi{1} \rightharpoonup \vertsi{2}$ % between $\vertsi{1}$ and $\vertsi{2}$
  \emph{defines} a \onebisimulation\ between $\aonecharti{1}$ and $\aonecharti{2}$
  if its graph $\abisimi{\safun} \defdby \{ \pair{\avert}{\fap{f}{\avert}} \mid \avert\in\vertsi{1},\, \fap{f}{\avert} \,\text{defined} \}$,
  is a \onebisimulation\ between $\aonecharti{1}$ and $\aonecharti{2}$.
  In this case we call $\abisimi{\safun}$ a \emph{functional}~\onebisimulation.
  If additionally $\safun$ is a bijective, total function, then we say 
  that $\safun$ is an isomorphism between $\aonecharti{1}$ and $\aonecharti{2}$. 
  
  We write $\aonecharti{1} \onebisim \aonecharti{2}$, and say
  $\aonecharti{1}$ and $\aonecharti{2}$ \emph{are \onebisimilar},
  if there is a \onebisimulation\ between $\aonecharti{1}$ and $\aonecharti{2}$.
  We write $\aonecharti{1} \funonebisim \aonecharti{2}$ 
  if there is a functional \onebisimulation\ between $\aonecharti{1}$ and $\aonecharti{2}$
  ($\aonecharti{1}$ and $\aonecharti{2}$ \emph{are functionally \onebisimilar}). 
  By $\aonecharti{1} \iso \aonecharti{2}$ we denote that there is an isomorphism between $\aonecharti{1}$ and $\aonecharti{2}$.
\end{defi}
%
%
From every \onechart\ a \onebisimilar, \startconnected\ \onechart\ can be obtained
by garbage collection, that is, by removing all vertices that are not \startconnected. 
% 
% 
\begin{conv}\nf\label{conv:startconnected}
  By a ($\sone$-)chart we will henceforth mean a ($\sone$-)chart
  in which every vertex~is~\startconnected.
\end{conv}
%
% 
\begin{defi}\label{def:substate}\label{def:onebisim-collapse}\nf
  Let $\aonechart = \tuple{\verts,\actions,\sone,\start,\transs,\termexts}$ be a \onechart.
  
  By $\sonebisimon{\aonechart}$ we denote \emph{\onebisimilarity\ on $\aonechart$},
  the largest \onebisimulation\ between $\aonechart$ and $\aonechart$ itself
  (which is the union of all \onebisimulations\ between $\aonechart$ and $\aonechart$).
  If $\bverti{1} \onebisimon{\aonechart} \bverti{2}$ holds for vertices $\bverti{1},\bverti{2}\in\verts$,
  then we say that \emph{$\bverti{1}$ and $\bverti{2}$ are \onebisimilar~in~$\aonechart$}.
  
  We call $\aonechart$ %\onechart~$\aonechart = \tuple{\verts,\actions,\sone,\start,\transs,\termexts}$ 
  a \emph{\onebisimulation\ collapse}
  if $\sonebisimon{\aonechart} = \sidrelon{\verts}$ holds, that is, if \onebisimilar\ vertices of $\aonechart$ are identical.
  % if the only \onebisimulation\ between $\achart$ and $\achart$
  % is the identity relation $\sidrelon{\verts} = \descsetexp{ \pair{\cvert}{\cvert} }{ \cvert\in\verts }$ on $\verts$.
  If, additionally, $\aonechart$ does not contain any \onetransitions,
  then we permit to call $\aonechart$ a \emph{bisimulation collapse}. 
  
  Let $\bverti{1},\bverti{2}\in\verts$.
  We say that \emph{$\bverti{1}$ is a substate of $\bverti{2}$}, denoted by $\bverti{1} \isonesubstateofin{\aonechart} \bverti{2}$,
  if the pair $\pair{\bverti{1}}{\bverti{2}}$ forth-progresses to \onebisimilarity\ on $\aonechart$ in the sense of the following conditions:
  %
  \begin{itemize}[labelindent=0.5em,leftmargin=*,align=left,itemsep=0.25ex,labelsep=0.75em]
      
    \item[(prog-forth)]
      $ 
      \begin{aligned}[t]
        &
        \forall \bvertacci{1}\in\vertsi{1}
            \forall \aact\in\actions
                \bigl(\,
                  \bverti{1} \lt{\aact} \bvertacci{1} 
                  \\[-0.5ex]
                  & \hspace*{-3ex}%\quad
                    \;\;\Longrightarrow\;\;
                      \exists \bvertacci{2}\in\vertsi{2}
                        \bigl(\, \bverti{2} \lt{\aact} \bvertacci{2} 
                                   \logand
                                 \bvertacci{1} \onebisimon{\aonechart} \bvertacci{2}  \,)
              \,\bigr) \punc{,}
       \end{aligned}    
       $
      
    \item[(prog-termination)]
      $ \terminates{\bverti{1}}
          \;\;\Longrightarrow\;\;
            \terminates{\bverti{2}} \punc{.}$
  \end{itemize}
\end{defi}
% 
% 
\begin{defi}\label{def:wg:onechart}\nf
   We say that a \onechart~$\aonechart$ is \emph{weakly guarded} {(\emph{\wg})} 
      if $\aonechart$ does not contain an infinite path of \onetransitions.
\end{defi}
%
%
\begin{defi}\label{def:onechartof}\nf
  The \emph{\onechart\ interpretation of} a star expression~$\astexp\in\StExpover{\actions}$
  is the \onechart\ of the form:
  \begin{center}
    $\onechartof{\astexp} 
      = \tuple{\vertsulof{\astexp},
               \actions,
               \sone,
               \astexp,
               \transs\cap (\vertsulof{\astexp}\times\oneactions\times\vertsulof{\astexp}),
               \termexts\cap\vertsulof{\astexp}}$,
  \end{center}
  which is based on $ \transs \subseteq \StExpover{\actions}\times\oneactions\times\StExpsover{\actions}$,
  the the labeled transition relation 
    that is defined via derivability in the transition system specification $\StExpTSSoneover{\actions}$
      (where $\aact\in\actions$, $\aoneact\in\oneactions = \actions \cup \setexp{\sone}$, and $\astexp,\astexpi{1},\astexpi{2}\in\StExpsover{\actions}$):\vspace{-0.25ex}
  %
  \begin{align*}
    %
    \AxiomC{\smash{$\phantom{\aacti{i} \:\lt{\aacti{i}}\: \stexpone}$}}
    \UnaryInfC{$\aact \:\lt{\aact}\: \stexpone$}
    \DisplayProof
    \hspace*{6.5ex}
    & \; & 
    \AxiomC{\smash{$ \phantom{\stexpsum{\astexpi{1}}{\astexpi{2}} \:\lt{\sone}\: \astexpacci{i}} $}}
    % \LeftLabel{\scriptsize $(i\in\setexp{1,2})$}
    \UnaryInfC{$ \stexpsum{\astexpi{1}}{\astexpi{2}} \:\lt{\sone}\: \astexpi{i} $}
    \DisplayProof
    \hspace*{9ex}
    %
    \displaybreak[0]\\[0.45ex]
    %
    \AxiomC{$ \astexpi{1} \:\lt{\aoneact}\: \astexpacci{1} $}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (normed)}}
                      {\nf\scriptsize{\phantom{(normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacci{1}$ is
                                      \\[-0.25ex]
                                      \phantom{(}normed)}}}
    \UnaryInfC{$ \stexpprod{\astexpi{1}}{\astexpi{2}} \:\lt{\aoneact}\: \stexpprod{\astexpacci{1}}{\astexpi{2}} $}
    \DisplayProof 
    & &
    \AxiomC{$ \astexpi{1} \:\lt{\aoneact}\: \astexpacci{1} $}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (not normed)}}
                      {\nf\scriptsize{\phantom{(not normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacci{1}$ is
                                      \\[-0.25ex]
                                      \phantom{(}not normed)}}}
    \UnaryInfC{$ \stexpprod{\astexpi{1}}{\astexpi{2}} \:\lt{\aoneact}\: \astexpacci{1} $}
    \DisplayProof
    %
    \displaybreak[0]\\[-1.5ex]
    %
    \AxiomC{$ \phantom{\stexpprod{\sone}{\astexpi{2}} \:\lt{\sone}\: \astexpi{2}} $}
    \UnaryInfC{$ \stexpprod{\stexpone}{\astexpi{2}} \:\lt{\sone}\: \astexpi{2} $}
    \DisplayProof
    \hspace*{6.5ex}
    & & 
    \AxiomC{$ \phantom{\stexpit{\astexp} \:\lt{\sone}\: \stexpone} $}
    \UnaryInfC{$ \stexpit{\astexp} \:\lt{\sone}\: \stexpone $}
    \DisplayProof
    \hspace*{9.25ex}
    %
    \displaybreak[0]\\[0.45ex]
    % 
    \AxiomC{$\astexp \:\comprewrels{\ltrtc{\sone}}{\lt{\aact}}\: \astexpacc$}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (normed)}}
                      {\nf\scriptsize{\phantom{(normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacc$ is
                                      \\[-0.25ex]
                                      \phantom{(}normed)}}}
    \UnaryInfC{$\stexpit{\astexp} \:\lt{\aact}\: \stexpprod{\astexpacc}{\stexpit{\astexp}}$}
    \DisplayProof
    & & 
    \AxiomC{$\astexp \:\comprewrels{\ltrtc{\sone}}{\lt{\aact}}\: \astexpacc$}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (not normed)}}
                      {\nf\scriptsize{\phantom{(not normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacc$ is
                                      \\[-0.25ex]
                                      \phantom{(}not normed)}}}
    \UnaryInfC{$\stexpit{\astexp} \:\lt{a}\: \astexpacc$}
    \DisplayProof
    %  
  \end{align*}
  %
  such that
  $\vertsulof{\astexp}$ is defined as the set of those star expressions that are reachable from $\astexp$
  via transitions of~$\transs$,
  from which the set $\transs\cap(\vertsulof{\astexp}\times\oneactions\times\vertsulof{\astexp})$ of transitions of $\onechartof{\astexp}$ is defined,
  and the set $\termexts\cap\vertsulof{\astexp}$ of terminating vertices by using $\sterminates \defdby \{ \stexpone \} $
  (so here only $\stexpone$ is be a terminating vertex if it is reachable).
\end{defi}
%
% 
\begin{exa}\label{ex:onechart-int}\nf
  For the star expression $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$,
  the \onechart\ interpretation $\onechartof{\astexp}$ as obtained by the TSS~$\StExpTSSoneover{\actions}$~is:
  \begin{flushleft}\vspace{-1.5ex}
    \scalebox{0.85}{\input{figs/ex-onechart-int.tex}} 
  \end{flushleft}\vspace{-1ex}
  Note that $\stexpone$ is the single vertex with immediate termination,
  and that the \onechart~$\onechartof{\astexp}$ is weakly guarded.
  Neglecting the actions, the form of $\onechartof{\astexp}$
  corresponds to that of the graph~$\iap{G}{3}$ on page~\pageref{fig:milner-bosscher-expressible}.
  This implies, by using an analogous run of the loop subchart elimination procedure 
  for $\onechartof{\astexp}$ as the one we illustrated for $\iap{G}{3}$ on page~\pageref{ex:expressible:LEE},
  that also $\onechartof{\astexp}$ satisfies \LEE.
\end{exa}
% 
% 
\begin{lem}\label{lem:derivability:StExpTSS:StExpTSSone}%
  Derivability of statements concerning termination, and transitions in~$\StExpTSSover{\actions}$, and in $\StExpTSSoneover{\actions}$ 
  are related as follows, for all $\astexp,\astexpacc\in\StExpover{\actions}$, and $\aact\in\actions\,$:
  \begin{align}
    \derivablein{\StExpTSS}
      \terminates{\astexp}
          & \;\;\Longleftrightarrow\;\;\;
    \derivablein{\StExpTSSone}
      \astexp
        \ltrtc{\sone}
      \stexpone \punc{,}
        \label{eq:1:lem:derivability:StExpTSS:StExpTSSone}
    \\
    \derivablein{\StExpTSS}
      \astexp
        \lt{\aact}
      \astexpacc
          & \;\;\Longleftrightarrow\;\;\;
    \derivablein{\StExpTSSone}
      \astexp
        \comprewrels{\sltrtc{\sone}}{\slt{\aact}}
      \astexpacc
        \punc{.} 
        \label{eq:2:lem:derivability:StExpTSS:StExpTSSone}                    
  \end{align}
\end{lem}
%
%  
\begin{lem}\label{lem:onechart-int:fin:wg}
  For every $\astexp\in\StExpover{\actions}$,
  the \onechart\ interpretation $\onechartof{\astexp}$ of $\astexp$ is a finite, weakly guarded \onechart.
\end{lem}
%
% 
\begin{defi}\label{def:indchart}\nf
  Let $\aonechart = \tuple{\verts,\actions,\sone,\start,\transs,\termexts}$ be a \onechart.
  By the \emph{induced chart of $\aonechart$}, and the \emph{chart induced by~$\aonechart$},
  we mean the \onechart~$\indchart{\aonechart} = \tuple{\vertsi{0},\actions,\sone,\start,\silt{\cdot}\cap(\vertsi{0}\times\actions\times\vertsi{0}),\soneterminates\cap\vertsi{0}}$\vspace*{-1.5pt}
  where $\silt{\cdot} \subseteq \verts\times\actions\times\verts$ 
  is the \emph{induced transition relation},
  and~$\soneterminates\subseteq\verts$ is the set of vertices with \emph{induced termination}
  that are defined as follows, for all $\avert,\avertacc\in\verts$ and $\aact\in\actions\,$:
  \begin{enumerate}[label={(ind-\arabic{*})},align=right,leftmargin=*]
    \item{}\label{it:indtrans::def:indLTS}
      $\avert \ilt{\aact} \avertacc$ holds if 
        $\avert = \averti{0} \lt{\sone} \averti{1} \lt{\sone} \ldots \lt{\sone} \averti{n} \lt{\aact} \avertacc$, 
        for some $\averti{0},\ldots,\averti{n}\in\verts$ and $n\in\nat$
      (we say there is an \emph{induced transition} between $\avert,\avertacc\in\verts$ \emph{w.r.t.\ $\aoneLTS$}),
    \item{}\label{it:indterm::def:indLTS}  
      $\oneterminates{\avert}$ holds if
      $\avert = \averti{0} \lt{\sone} \averti{1} \lt{\sone} \ldots \lt{\sone} \averti{n} \logand \oneterminates{\averti{n}}$, 
        for some $\averti{0},\ldots,\averti{n}\in\verts$ and $n\in\nat$
      (then we say that $\avert$ \emph{has induced termination with respect to $\aoneLTS$}). 
  \end{enumerate}
  and where $\vertsi{0}\subseteq\verts$ is the set of all vertices that are reachable from $\start$
  by induced transitions.
  The notation $\silt{\aact}$ intends to reflect the asymmetry that an induced \transitionact{\aact} consists 
  of an arbitrary number of leading \onetransitions\ that is trailed by a single proper \transitionact{\aact}.
\end{defi}
% 
% 
\begin{thm}\label{thm:indchart:onechart-int:is:chart-int}
  $\indchart{\onechartof{\astexp}}
     = \chartof{\astexp}$ for all $\astexp\in\StExpover{\actions}$,
  that is, the chart interpretation $\chartof{\astexp}$ of a star expression $\astexp$
  is the induced chart of the \onechart\ interpretation $\onechartof{\astexp}$ of $\astexp$.   
\end{thm}
%
\begin{proof}
  Lem.~\ref{lem:derivability:StExpTSS:StExpTSSone} shows, for $\astexp\in\StExpover{\actions}$,
  that termination in $\chartof{\astexp}$ coincides with induced termination in $\onechartof{\astexp}$
  (due to \eqref{eq:1:lem:derivability:StExpTSS:StExpTSSone} 
   since $\onechartof{\astexp}$ can only have $\stexpone$ as terminating vertex),
  and that transitions in $\chartof{\astexp}$ coincide with induced transitions in $\onechartof{\astexp}$
  (by \eqref{eq:2:lem:derivability:StExpTSS:StExpTSSone}).
  This entails $\indchart{\onechartof{\astexp}} = \chartof{\astexp}$.
\end{proof}
% 
% 
\begin{exa}\label{ex:indchart}\nf
  The picture below can explain that 
  the chart interpretation $\chartof{\astexp}$ of $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$ in Ex.~\ref{ex:2:chart-int} 
  is the induced chart of the \onechart\ interpretation~$\onechartof{\astexp}$~in~Ex.~\ref{ex:onechart-int}:
  \begin{center}
    \input{figs/ex-indchart.tex}
  \end{center}
  Note that, for instance, $\bverti{1}$ has induced termination in $\onechartof{\astexp}$,
  because there is a \onetransition\ path from $\bverti{1}$ via $\bvertbari{1}$, $\bverti{2}$, $\bvertbari{2}$, and $\start$
  to the terminating vertex $\cvert$, which gives rise to $\bverti{1}$ being terminating in $\indchart{\onechartof{\astexp}}$.
  Similarly, the \transitionact{\bact} from $\bverti{1}$ to $\bverti{2}$ in $\indchart{\onechartof{\astexp}}$ arises
  from an induced \transitionact{\bact} in $\onechartof{\astexp}$ that consist of the \onetransition\ path from $\bverti{1}$ to $\start$
  which is then followed by the proper \transitionact{\bact} from $\start$~to~$\bverti{2}$.
  
  We have added the symbol $\sotelimredtc$ for a rewrite sequence of the relation $\sotelimred$ 
  in anticipation of its definition below. 
\end{exa}%
% 
% 
\begin{defi}\label{def:otelimred}\nf
  Let $\aonecharti{i} = \tuple{\vertsi{i},\actions,\sone,\start,\sredi{i},\termextsi{i}}$ for $i\in\setexp{1,2}$
  be \onecharts.
  We denote by $\aonecharti{1} \otelimred \aonecharti{2}$
  that $\aonecharti{2}$ arises~from~$\aonecharti{1}$
  by a \emph{\onetransition\ elimination step}
  according to one of two local rules
  each of which removes the \onetransition~$\tuple{\averti{0},\sone,\avert}\,$:\vspace{-1.5ex}
  %
  \begin{flushleft}
    \hspace*{-0.5ex}%
    \input{figs/fig-otelimred.tex}
  \end{flushleft}
  %
  and adds, for each transition $\triple{\avert}{\aoneacti{i}}{\bverti{i}}$ with $i\in\setexp{1,\ldots,n}$ from $\avert$,
  a cofinal transition $\triple{\averti{0}}{\aoneacti{i}}{\bverti{i}}$ with the same label from $\avert$.
  Note that $n=0$ is possible if $\avert$ has outdegree~0.
  % (where $\triple{\avert}{\aoneacti{1}}{\bverti{1}}$, \ldots, $\triple{\avert}{\aoneacti{n}}{\bverti{n}}$
  % are the transitions that depart from $\avert$)
  Additionally, garbage collection of $\avert$ is permitted if $\avert$ becomes unreachable.
  % Note that in both rules $\avert \neq \averti{0}$ is required, and that $n = 0$ is permitted. 
  That immediate termination is permitted (but not required) in a vertex is indicated by a dashed outer ring.
  While $\avert$ does not permit immediate termination in the rule on the left,
  immediate termination at $\avert$ in the rule on the right is transferred in the step to $\averti{0}$.
  We used dashed arrows for the outgoing transitions from $\avert$ to indicate that they can be either
  proper transitions or \onetransitions.
  
  We say that $\aonecharti{1}$ \emph{(\onetransition) refines} $\aonecharti{2}$, 
         that $\aonecharti{1}$ \emph{is a (\onetransition) refinement\ of} $\aonecharti{2}$,
         and that $\aonecharti{2}$ \emph{is \emph{or} can be (\onetransition) refined\ by} $\aonecharti{1}$,
      % We call $\aonecharti{2}$ \emph{a \onetransitionrefinement\  of} $\aonecharti{1}$
    if $\aonecharti{1} \otelimredrtc \aonecharti{2}$, that is,
        $\aonecharti{2}$ arises from $\aonecharti{1}$ by a sequence of \onetransition~elimination~steps.     
\end{defi}
%
% 
\begin{rem}\label{rem:def:otelimred}\nf
  We will only be concerned with the elimination of \onetransitions\ from finite, weakly guarded \onecharts.
  Therefore we could have restricted the two rules in Def.~\ref{def:otelimred} by demanding (i)~$\averti{0} \neq \avert$
  (since \wg\ \onecharts\ do not have \onetransition\ self-loops),
  and (ii)~that all outgoing transitions from $\avert$ are proper transitions
  (because all \onetransitions\ in finite \wg\ \onecharts\ can be eliminated in a bottomup manner).
  We left out restriction~(i) for simplicity,
  thereby accepting that it introduces a cyclic reduction for \onetransition\ selfloops for not \wg\ \onecharts.
  But we needed to avoid restriction~(ii),
  because in Section~\ref{LLEEwitnesses} we will use annotated versions of these rules
  for situations when it is not possible to eliminate all \onetransitions\ while keeping the~property~\LEE.
\end{rem}
% 
% 
% 
%
% \begin{lem}\label{lem:otelimred:terminating}
%   1-Transition elimination reduction $\sotelimred$ is terminating from every finite, weakly guarded \onechart\
%   with as normal form a finite \onefree\ \onechart.  
% \end{lem}
%
%
\begin{lem}\label{lem:otelimred}
  The \onetransition\ elimination rewrite relation $\sotelimred$ has the following properties,
  for all \onecharts~$\aonechart,\aonecharti{1}, \aonecharti{2}$:
  \begin{enumerate}[label={(\roman{*})},leftmargin=*,align=right,itemsep=0.25ex]
    \item{}\label{it:1:lem:otelimred}
      If $\aonecharti{1}$ is weakly guarded, and $\aonecharti{1} \otelimredrtc \aonecharti{2}$,
      then 
      $\acharti{2}$ is finite and \wg, and
      $\cardinality{\vertsof{\acharti{1}}} -1 
         \le 
       \cardinality{\vertsof{\acharti{2}}}
         \le
       \cardinality{\vertsof{\acharti{1}}}$.  
      
    \item{}\label{it:2:lem:otelimred}
      $\sotelimred$ is terminating from every finite \wg\ \onechart. 
      
    \item{}\label{it:3:lem:otelimred}
      $\sotelimred$ normal forms are \onefree\ \onechart.
      $\sotelimred$ normal forms of finite, \wg\ \onecharts\
      are finite \onefree\ \onecharts. 
      
    \item{}\label{it:4:lem:otelimred}
      $\aonecharti{1} \otelimredrtc \aonecharti{2}
         \;\;\Longrightarrow\;\;
           \indchart{(\aonecharti{1})}
             =
           \indchart{(\aonecharti{2})} \punc{.}$
           
    \item{}\label{it:5:lem:otelimred}
      If $\aonechart$ is finite and weakly guarded, and $\achart$ is \onefree, then:
      \\
      $\mbox{}\qquad
       \aonechart \otelimredrtc \achart
         \;\;\Longleftrightarrow\;\;
           \indchart{(\aonechart)}
             =
           \achart \punc{.}$
    \item{}\label{it:6:lem:otelimred}
      If $\aonechart$ is finite, and weakly guarded, then
      $\aonechart
         \otelimredrtc
       \indscchartof{\aonechart}$,
      that is, $\aonechart$ \onetransitionrefines\ its induced~chart~$\indscchartof{\aonechart}$,
      and $\indscchartof{\aonechart}$ is the unique $\sotelimred$ normal form of $\aonechart$.
  \end{enumerate}      
\end{lem}      
% 
% \begin{proof}
%   For \ref{it:1:lem:otelimred} it suffices to note:
%   every $\sotelimred$ step can only shorten \onetransition\ paths, but it cannot introduce a \onetransition\ cycle;
%   in every $\sotelimred$ step at most one vertex, the target $\avert$ of the \onetransition\ that is removed, can become unreachable. 
%   
%   For \ref{it:2:lem:otelimred} it suffices to obtain
%   a measure $\fap{m}{\aonechart}$ on finite \wg\ \onecharts~$\aonechart$ that decreases properly in every $\sotelimred$ step from $\aonechart$.
%   We can use $\fap{m}{\aonechart} \defdby \sum_{\avert\in\vertsof{\aonechart}} \fap{\iap{s}{\aonechart}}{\avert}$ where   
%   $\fap{\iap{s}{\aonechart}}{\avert}$ denotes the sum of the lengths of all maximal \onetransition\ paths from~$\avert$. 
%   Note that, for both rules in Def.~\ref{def:otelimred}, the length of every maximal \onetransition\ path from $\averti{0}$ decreases by~1,
%   whereas maximal \onetransition\ paths from other vertices are either preserved, or are also shortened by~1 if they~pass~through~$\averti{0}$. 
%   
%   For \ref{it:3:lem:otelimred} we note that every \onetransition\ gives rise to a $\sotelimred$ step,
%   so normal forms do not contain \onetransitions,
%   and that by \ref{it:1:lem:otelimred}, \ref{it:2:lem:otelimred} every finite \wg\ \onechart\ rewrites via finitely many $\sotelimred$ steps
%   to a normal form that is finite~and~\wg.
% 
%   Statement~\ref{it:4:lem:otelimred} can be shown by induction on the length of $\sotelimred$ paths
%   by using that every $\sotelimred$ step preserves induced transitions and induced termination. 
%   The direction ``$\Rightarrow$'' in \ref{it:5:lem:otelimred} follows from \ref{it:4:lem:otelimred}
%   and that $\indchart{\achart} = \achart$ for \onefree\ \onecharts~$\achart$. 
%   For showing the direction ``$\Leftarrow$'' in \ref{it:5:lem:otelimred}, suppose that 
%   $\indchart{(\aonechart)} = \achart$ for finite \wg\ \onecharts~$\aonechart$, $\achart$ where $\achart$ is \onefree.  
%   We have to show $\indchartof{\aonechartacc} = \achart$. 
%   Then $\aonechart \otelimredrtc \aonechartacc$ for an $\sotelimred$ normal form $\aonechartacc$ by \ref{it:2:lem:otelimred},
%   which is finite, \wg, and \onefree\ by \ref{it:3:lem:otelimred}. Then we get $\indchartof{\aonechartacc} = \indchartof{\aonechart} = \achart$
%   by using \ref{it:4:lem:otelimred}, and thus obtain $\indchartof{\aonechartacc} = \achart$.
%   
%   Last, \ref{it:6:lem:otelimred}  follows from ``$\Leftarrow$'' in \ref{it:5:lem:otelimred},
%   % by
%   letting~\mbox{$\achart \defdby \indchart{\aonechart}$},
%   and by recalling \ref{it:3:lem:otelimred}. 
% \end{proof}
% 
% 
% 
% 
% 
% \begin{lem}\label{lem:otelimred}
%   For all 
%   \onecharts~$\aonechart$, $\aonechartacc$, $\aonecharti{1}$, and $\aonecharti{2}$ it holds:
%   \begin{enumerate}[label={(\roman{*})},leftmargin=*,align=right,itemsep=0.25ex]
%     \item{}\label{it:1:lem:otelimred}
%       $\aonecharti{1} \otelimredrtc \aonecharti{2}
%          \;\;\Longrightarrow\;\;
%            \indchart{(\aonecharti{1})}
%              =
%            \indchart{(\aonecharti{2})} \punc{.}$
%     \item{}\label{it:2:lem:otelimred}
%       $ 
%       \aonechart
%         \otelimredrtc
%       \aonechartacc 
%         \logand
%       \text{$\aonechartacc$ is \onefree}
%           \;\Longrightarrow\;
%       \indchart{\aonechart} = \aonechartacc 
%       $
%    \item{}\label{it:3:lem:otelimred}
%       $ 
%       \aonechart
%         \otelimredrtc
%       \aonechartacc 
%           \;\Longleftarrow\;
%       \text{$\aonechart$ weakly guarded} 
%         \logand 
%       \indchart{\aonechart} = \aonechartacc \punc{.}
%       $ 
%   \end{enumerate}
% \end{lem}
%
%
% \begin{lem}\label{lem:onechart:refines:indchart}
%   Every finite, weakly guarded \onechart~$\aonechart$ \onetransitionrefines\ its induced chart $\indscchartof{\aonechart}$,
%   that is,
%   $\aonechart
%      \otelimredrtc
%    \indscchartof{\aonechart}$ holds.
% \end{lem}
%
\begin{cor}\label{cor:onechart-int:refines:chart-int}
  $\onechartof{\astexp}
     \otelimredrtc
   \indscchartof{\onechartof{\astexp}}
     =
   \chartof{\astexp}$ 
   for every star expression $\astexp\in\StExpsover{\actions}$,
   i.e.\ 
   % that is,  
   the \onechart\ interpretation $\onechartof{\astexp}$ of~$\astexp$
   % which is weakly guarded,
   \onetransitionrefines\ the chart interpretation $\chartof{\astexp}$~of~$\astexp$.   
\end{cor}

\begin{proof}
  For $\astexp\in\StExpover{\actions}$, $\indchart{\onechartof{\astexp}} = \chartof{\astexp}$ by Thm.~\ref{thm:indchart:onechart-int:is:chart-int},
  and $\onechartof{\astexp}$ is finite and weakly guarded by Lem.~\ref{lem:onechart-int:fin:wg}.
  Then by Lem.~\ref{lem:otelimred}, \ref{it:6:lem:otelimred}, 
  we obtain
  $\onechartof{\astexp}
     \otelimredrtc
   \indscchartof{\onechartof{\astexp}}
     =
   \chartof{\astexp}$.
\end{proof}




% \newpage
%------------------------------------
\section{LLEE-witnesses for the refined semantics}%
  \label{LLEEwitnesses}
%------------------------------------
%
\noindent
In Ex.~\ref{ex:onechart-int} we noticed that 
the \onechart\ interpretation~$\onechartof{\astexp}$ of $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$
permits a similar run of the loop elimination procedure as that for $G_3$ on page~\pageref{ex:expressible:LEE},
and that therefore also $\onechartof{\astexp}$ satisfies \LEE. 
This successful run of the loop elimination procedure can be recorded on $\onechartof{\astexp}$ 
by attaching to a transition $\atrans$ of $\onechartof{\astexp}$ the marking label $\loopnsteplab{n}$ for $n\in\setexp{1,2,3}$ 
if $\atrans$ is eliminated in the $n$\nb-th step, thereby obtaining the labeled version $L_1$ below
(where we neglect the action labels): 
% 
\begin{flushleft}\vspace{-2.5ex}
  \scalebox{0.95}{\input{figs/ex-LLEEw-1-2-3.tex}}
\end{flushleft}\vspace*{-0.75ex}
% 
The labelings $L_2$ and $L_3$ of $\onechartof{\astexp}$ record two other successful runs of the loop elimination procedure
of length 4 and 2, respectively, where for $L_3$ we have permitted to eliminate two loop subcharts at different vertices
together in the first step. 
Such labelings of successful runs of the loop elimination procedure we call `\LEEwitnesses',
and indeed `layered \LLEEwitnesses', because in the runs recorded in $L_1$, $L_2$, and $L_3$
\loopentry\ transitions are never removed from the body of a previously removed loop subcharts.
This restriction of the elimination procedure, which can be shown to not affect the property \LEE, 
leads to a concept that is easier to reason about, and that still suffices for our purposes. 

Following the development in \cite{grab:fokk:2020:lics},
we define `layered \LEEwitnesses' of a \onechart~$\aonechart$ as `\entrybodylabelings'~of~$\aonechart$ that delimit 
a hierarchical structure of `loop \onecharts' in~$\aonechart$. 
But we change the condition \ref{loop:3} for `loop charts' in \cite{grab:fokk:2020:lics}, which excluded terminating vertices,
to permit immediate termination at the start vertex of `loop \onecharts'.
In dealing with star expressions like $\stexpprod{\stexpone}{\stexpit{\aact}}$ that are not \stexponefree,
we want to call the chart interpretation $\chartof{\stexpprod{\stexpone}{\stexpit{\aact}}}$
(which consists of a terminating start vertex with an $\aact$-self-loop) a `loop \onechart'. 
% 
% 
\begin{defi}\label{def:loop:chart}\nf
  A \onechart~$\aoneloop = \tuple{\verts,\actions,\sone,\start,\transs,\termexts}$ is called a \emph{loop \onechart} if
  it satisfies the following three conditions:%\vspace*{-0.25ex}
  \begin{enumerate}[label={{\rm (L\arabic*)}},leftmargin=*,align=left,itemsep=0.5ex]
    \item{}\label{loop:1}
      There is an infinite path from the start vertex $\start$.
    \item{}\label{loop:2}  
      Every infinite path from $\start$ returns to $\start$ after a positive number of transitions
      (and so visits $\start$ infinitely often).
    \item{}\label{loop:3}
      Immediate termination is permitted (but not required) only at the start vertex, that is, $\termexts\subseteq\setexp{\start}$.
  \end{enumerate}
  We call the transitions from $\start$ \emph{\loopentry\ transitions},
  and all other transitions \emph{\loopbody\ transitions}.
  %
  A loop \onechart~$\aoneloop$ is a \emph{loop \subonechart\ of} a \onechart~$\aonechart$
  if it is the \subonechart\ of $\aonechart$ rooted at some vertex $\avert\in\verts$ 
           that is generated, for a nonempty set $\asettranss$ of transitions of $\achart$ from $\avert$,
           by all paths that start with a transition in $\asettranss$, and continue until $\avert$ is reached again
  (then $\asettranss$ is the set of \loopentrytransitions~of~$\aoneloop$).
\end{defi}
% 
% 
\begin{defi}\nf
  By an \emph{\entrybodylabeling\ of a \onechart\ $\aonechart = \tuple{\verts,\actions,\sone,\start,\transs,\termexts}$}
    we mean a chart~$\aonecharthat = \tuple{\verts,\oneactions\times\nat,\start,\transshat,\termexts}$ 
  where $\transshat\subseteq\verts\times(\oneactions\times\nat)\times\verts$ arises from $\transs$ by adding, 
    for each transition~$\atrans = \triple{\averti{1}}{\aoneact}{\averti{2}}\in\transs$, 
  to the action label~$\aoneact$ of $\atrans$ a %nat\-u\-ral-num\-ber
  \emph{marking label} $\aLname\in\nat$,
  yielding \mbox{$\atranshat = \triple{\averti{1}}{\pair{\aoneact}{\aLname}}{\averti{2}} \in \transshat$}. 
  In an \entrybodylabeling\ we call transitions with marking label $0$ \emph{body transitions},
  and transitions with marking labels in $\natplus$ \emph{entry transitions}.
    
  Let $\aonecharthat$ be an \entrybodylabeling\ of $\aonechart$, and let $\avert$ and $\bvert$ be vertices of $\aonechart$ and $\aonecharthat$.
  We denote by $\avert \redi{\bodylabcol} \bvert$\vspace*{-3pt} that there is a body transition $\avert \lt{\pair{\aoneact}{0}} \bvert$ in $\aonecharthat$ 
    for some $\aoneact\in\oneactions$,
  and by $\avert \redi{\darkcyan{\loopnsteplab{\aLname}}} \bvert$, for $\aLname\in\natplus$
  that there\vspace*{-3.5pt} is an \entrytransition\ $\avert \lt{\pair{\aoneact}{\aLname}} \bvert$ in $\aonecharthat$ for some $\aoneact\in\oneactions$.
  % We will use $\aLname,\bLname,\cLname,\ldots$ for marking labels in $\natplus$ of \entrytransitions.
  By $\entriesof{\aonecharthat}$ of \emph{\entrytransition\ identifiers} we denote the set of pairs \mbox{$\pair{\avert}{\aLname}\in\verts\times\natplus$}
  such that an \entrytransition\ $\sloopnstepto{\darkcyan{\aLname}}$ departs from $\avert$ in $\aonecharthat$. 
  For $\pair{\avert}{\aLname}\in\entriesof{\aonecharthat}$,
  we define by $\indsubonechartinat{\aonecharthatsubscript}{\avert,\aLname}$ the subchart of $\aonechart$ 
  with start vertex $\start$
  that consists of the vertices and transitions which occur on paths in $\aonechart$ 
  as follows: any path that starts with a $\sloopnstepto{\darkcyan{\aLname}}$ \entrytransition\ from $\avert$,
  continues with body transitions only (thus does not cross another \entrytransition), and halts immediately if $\avert$~is~revisited. 
  %  
  By a \emph{\backbinding} of $\aonecharthat$ we mean
  a transition of $\aonecharthat$ back to the start vertex $\avert$ 
  of an induced \subonechart~$\indsubonechartinat{\aonecharthatsubscript}{\avert,\aLname}$ of $\aonecharthat$,
  for some $\pair{\avert}{\aLname}\in\entriesof{\aonecharthat}$.
\end{defi}  
% 
\begin{defi}\label{def:LLEEwitness}\nf
  Let $\aonechart = \tuple{\verts,\actions,\start,\sone,\transs,\termexts}$ be a \onechart. 
  A \emph{\LLEEwitness} (a \emph{layered \LEEwitness}) \emph{of $\aonechart$}
  is an \entrybodylabeling~$\aonecharthat$ of $\aonechart$ with the following three properties:
  \begin{enumerate}[label={\mbox{\rm (W\arabic*)}},leftmargin=*,align=left,itemsep=0ex]
    \item{}\label{LLEEw:1}%
      \emph{Body-step termination:} There is no infinite path of $\sredi{\bodylabcol}$ transitions in $\aonechart$.
    \item{}\label{LLEEw:2}%
      \emph{Loop condition:} 
      For all $\pair{\avert}{\aLname}\in\entriesof{\aonecharthat}$, \mbox{}
        the \onechart\ $\indsubonechartinat{\aonecharthatsubscript}{\avert,\aLname}$ is a loop \onechart.
    \item{}\label{LLEEw:3}%
      \emph{Layeredness:} 
      For all $\pair{\avert}{\aLname}\in\entriesof{\aonecharthat}$, 
        if an \entrytransition\ $\bvert \loopnstepto{\darkcyan{\bLname}} \bvertacc$ departs from a state $\bvert\neq \avert$ of $\indsubonechartinat{\aonecharthatsubscript}{\avert,\aLname}$,
        then its marking label $\bLname$ satisfies $\bLname < \aLname$.
  \end{enumerate}
  The condition \ref{LLEEw:2} justifies to call an \entrytransition\ in a \LLEEwitness\
  a \emph{\loopentrytransition}.
  For a \loopentrytransition\ $\sredi{\darkcyan{\loopnsteplab{\bLname}}}$ with $\bLname\in\natplus$, we call $\bLname$ its \emph{loop level}. 
  
  We call $\aonechart$ a \emph{\LLEEonechart} if it has a \LLEEwitness,
  and a \emph{\wgLLEEonechart} if, additionally, it is weakly guarded.
\end{defi}  
% 
%
\begin{prop}\label{prop:LLEE:implies:LEE}
  Every \LLEEonechart\ satisfies \LEE.
\end{prop}\vspace{-2ex}
%
% 
\begin{proof}
  Let $\aonecharthat$ be a \LLEEwitness\ of a \onechart~$\aonechart$. 
  Repeatedly pick an \entrytransition\ identifier $\pair{\avert}{\aLname}\in\entriesof{\aonecharthat}$ 
  with \mbox{$\aLname\in\natplus$} minimal, remove the loop \subonechart\ $\indsubonechartinat{\avert}{\aLname}$ 
  that is generated by \loopentry\ transitions of level $\aLname$ from $\avert$
  (it is indeed a loop by condition~\ref{LLEEw:2} on $\acharthat$, 
   noting that minimality of~$\aLname$ and condition~\ref{LLEEw:3} on $\aonecharthat$ ensure
   the absence of departing \loopentrytransitions\ of lower level), and perform garbage collection. 
  Eventually the part of $\achart$ that is reachable by body transitions from the start vertex
  is obtained. This \subonechart\ of $\aonechart$ does not have an infinite path due to condition~\ref{LLEEw:1} on $\aonecharthat$.
  Therefore $\aonechart$ satisfies \LEE. % (and specifically in a way as witnessed by the \LLEEwitness~$\acharthat$).
\end{proof} 
% 
% 
\begin{defi}\label{def:onecharthatof}\nf
  We denote by $\StExpTSSonehatover{\actions}$ 
  the TSS that is a marking labeled version $\StExpTSSoneover{\actions}$ in Def.~\ref{def:onechartof}
  (where $\aact\in\actions$, $\aoneact\in\oneactions$, $\astexp,\astexpi{1},\astexpi{2}\in\StExpover{\actions}$,
   and $\alab\in\nat$ are arbitrary):
  \begin{align*}
    %
    \AxiomC{\smash{$\phantom{\aacti{i} \:\lt{\aacti{i}}\: \stexpone}$}}
    \UnaryInfC{$\aact \:\lti{\aact}{\bodylab}\: \stexpone$}
    \DisplayProof
    \hspace*{6.5ex}
    & \!\! & 
    \AxiomC{\smash{$ \phantom{\stexpsum{\astexpi{1}}{\astexpi{2}} \:\lt{\sone}\: \astexpacci{i}} $}}
    % \LeftLabel{\scriptsize $(i\in\setexp{1,2})$}
    \UnaryInfC{$ \stexpsum{\astexpi{1}}{\astexpi{2}} \:\lti{\sone}{\bodylab}\: \astexpi{i} $}
    \DisplayProof
    \hspace*{9ex}
    %
    \displaybreak[0]\\[0.5ex]
    %
    \AxiomC{$ \astexpi{1} \:\lti{\aoneact}{\alab}\: \astexpacci{1} $}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (normed)}}
                      {\nf\scriptsize{\phantom{(normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacci{1}$ is
                                      \\[-0.25ex]
                                      \phantom{(}normed)}}}
    \UnaryInfC{$ \stexpprod{\astexpi{1}}{\astexpi{2}} \:\lti{\aoneact}{\alab}\: \stexpprod{\astexpacci{1}}{\astexpi{2}} $}
    \DisplayProof 
    & &
    \AxiomC{$ \astexpi{1} \:\lti{\aoneact}{\alab}\: \astexpacci{1} $}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (not normed)}}
                      {\nf\scriptsize{\phantom{(not normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacci{1}$ is
                                      \\[-0.25ex]
                                      \phantom{(}not normed)}}}
    \UnaryInfC{$ \stexpprod{\astexpi{1}}{\astexpi{2}} \:\lti{\aoneact}{\bodylab}\: \astexpacci{1} $}
    \DisplayProof
    %
    \displaybreak[0]\\[-1.5ex]
    %
    \AxiomC{$ \phantom{\stexpprod{\sone}{\astexpi{2}} \:\lti{\sone}{\bodylab}\: \astexpi{2}} $}
    \UnaryInfC{$ \stexpprod{\stexpone}{\astexpi{2}} \:\lti{\sone}{\bodylab}\: \astexpi{2} $}
    \DisplayProof
    \hspace*{6.5ex}
    & & 
    \AxiomC{$ \phantom{\stexpit{\astexp} \:\lti{\sone}{\bodylab}\: \stexpone} $}
    \UnaryInfC{$ \stexpit{\astexp} \:\lti{\sone}{\bodylab}\: \stexpone $}
    \DisplayProof
    \hspace*{9.25ex}
    %
    \displaybreak[0]\\[0.5ex]
    % 
    \AxiomC{$\astexp \:\comprewrels{\ltrtci{\sone}{\bodylab}}{\lti{\aact}{\alab}}\: \astexpacc$}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (normed)}}
                      {\nf\scriptsize{\phantom{(normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacc$ is
                                      \\[-0.25ex]
                                      \phantom{(}normed)}}}
    \UnaryInfC{$\stexpit{\astexp} \:\lti{\aact}{\loopnsteplab{\sth{\astexp}}}\: \stexpprod{\astexpacc}{\stexpit{\astexp}}$}
    \DisplayProof
    & & 
    \AxiomC{$\astexp \:\comprewrels{\sltrtci{\sone}{\bodylab}}{\slti{\aact}{\alab}}\: \astexpacc$}
    \RightLabel{\parbox{\widthof{\nf\scriptsize (not normed)}}
                      {\nf\scriptsize{\phantom{(not normed)}
                                      \\[-0.25ex]
                                      (if $\astexpacc$ is
                                      \\[-0.25ex]
                                      \phantom{(}not normed)}}}
    \UnaryInfC{$\stexpit{\astexp} \:\lti{\aact}{\bodylab}\: \astexpacc$}
    \DisplayProof
    %  
  \end{align*}
  Derivability in $\StExpTSSonehat$ defines the marking labeled version $ \transshat \subseteq \StExpover{\actions}\times(\oneactions\times\nat)\times\StExpsover{\actions}$
  of the transition relation $\transs \subseteq \StExpover{\actions}\times\oneactions\times\StExpsover{\actions}$ 
  as defined~by~$\StExpTSSoneover{\actions}$.  
  
  The \emph{\entrybodylabeling\ $\onecharthatof{\astexp}$} of the \onechart\ interpretation $\onechartof{\astexp}$ 
  of a star expression~$\astexp\in\StExpover{\actions}$ is defined~as: % the chart
  \begin{center}
     $\onecharthatof{\astexp} 
        = \begin{aligned}[t]
            \langle &
                    \vertsulof{\astexp},
                    \oneactions,
                    \astexp,
                      \\[-0.5ex]
                    &  
                    \transshat\cap(\vertsulof{\astexp}\times(\oneactions\times\nat)\times\vertsulof{\astexp}),
                    \termexts\cap\vertsulof{\astexp} \rangle \punc{,}
          \end{aligned}$
  \end{center}
  where
  $\vertsulof{\astexp}$ is the set of star expressions that are reachable from $\astexp$
  via transitions of~$\transshat$ (or $\transs$),
  from which the set $\transs\cap(\vertsulof{\astexp}\times\oneactions\times\vertsulof{\astexp}$ of transitions of $\onechartof{\astexp}$ was defined,
  and the set $\termexts\cap\vertsulof{\astexp}$ of terminating vertices of $\onechartof{\astexp}$ by $\sterminates \defdby \{ \stexpone \} $.
\end{defi}
%
%
\begin{exa}\label{ex:onecharthatof}\nf
  For $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$
  we obtain the \entrybodylabeling~$\onecharthatof{\astexp}$ 
  as defined by the TSS~$\StExpTSSonehatover{\actions}$ can be obtained
  similarly as we obtained the \onechart\ interpretation $\onechartof{\astexp}$ of $\astexp$ in Ex.~\ref{ex:onechart-int}.
  By dropping the action labels we obtain:\vspace{-1.5ex}
  \begin{center}
    \scalebox{0.85}{\input{figs/ex-onechart-int-LLEEw.tex}}
  \end{center}\vspace{-1ex}
  Here and below we draw \loopentry\ transitions as thicker arrows.
  $\onecharthatof{\astexp}$ obviously is an \entrybodylabeling\ of $\onechartof{\astexp}$,
  and it is also easy to verify that $\onecharthatof{\astexp}$ is a \LLEEwitness~of~$\astexp$.
\end{exa}
%
% 
Complementing Thm.~\ref{thm:indchart:onechart-int:is:chart-int},
we now formulate the result that the \onechart\ interpretation of a star expression
refines the chart interpretation in such a way that \LEE\ is recovered.
% 
% 
\begin{thm}\label{thm:onechart-int:LLEEw}
  The \entrybodylabeling~$\onecharthatof{\astexp}$ of $\onechartof{\astexp}$ is a \LLEEwitness\ of 
  the \onechart\ interpretation $\onechartof{\astexp}$ of $\astexp$,
  for every $\astexp\in\StExpover{\actions}$.
  %
  Therefore the \onechart\ interpretation $\onechartof{\astexp}$ of a star expression \mbox{$\astexp\in\StExpover{\actions}$} satisfies \LEE.
\end{thm}
%
%
\begin{defi}\nf
  Let $\aonechart$ be a \onechart. 
  %
  We say that $\aonechart$ \emph{is \onetransition\ limited with respect to} a \LLEEwitness~$\aonecharthat$ of $\aonechart$ 
    if every \onetransition\ of $\aonechart$ lifts to a \emph{\backbinding} in $\aonecharthat$. 
  We say that $\aonechart$ \emph{is \onetransition\ limited}
    if $\aonechart$ is \onetransition\ limited with respect to some \LLEEwitness~$\aonecharthat$~of~$\aonechart$.
    
  We say that $\aonechart$ \emph{has the property \LLEEonelim} 
  if $\aonechart$ is weakly guarded, satisfies \LLEE, and is \onetransition\ limited.   
\end{defi}
%
%
\begin{lem}\label{lem:LLEEonechart:2:LLEEonelimonechart}
  Every finite \wgLLEEonechart\
  reduces via a sequence of $\sotelimred$ steps to a finite \onechart\ with \LLEEonelim.
\end{lem}
%
For the proof %of this lemma 
  we annotate the two \onetransition\ elimination rules in Def.~\ref{def:otelimred}
  with marking labels $\alab,\alabi{1},\ldots,\alabi{n}\in\nat$
  if the \onetransition\ from $\averti{0}$ to $\avert$ is not a \backbinding\
  (denoted by $\lognot{(\averti{0} \loopsbackto \avert})$)
%   $\averti{0}$ does not loop back to $\avert$
%   (then the \onetransition\ is not a \backbinding),
  as follows (we neglect the action labels):\vspace{-2ex}
% 
\begin{flushleft}
  \hspace*{-0.5ex}%
  \input{figs/fig-otelimred-LLEEw.tex}
\end{flushleft}\vspace{-1ex}
% 
\begin{proof}[Proof of Lem.~\ref{lem:LLEEonechart:2:LLEEonelimonechart}]
  It suffices to show that in a \LLEEwitness~$\aonecharthat$ of a weakly guarded \onechart~$\aonechart$
  every \onetransition\ that is not a \backbinding\ can be eliminated.
  Applications of the two annotated \onetransition\ elimination rules as above transform \LLEEwitnesses\ and underlying \onecharts,
  and their repeated use leads to the elimination of all \onetransitions\ that are not \backbindings.
\end{proof}
% %
% \begin{proof}
%   It suffices to show that in a \LLEEwitness~$\aonecharthat$ of a weakly guarded \onechart~$\aonechart$
%   every \onetransition\ that is not a \backbinding\ can be eliminated.
%   For this we annotate the two rules in Def.~\ref{def:otelimred}
%   with marking labels $\alab,\alabi{1},\ldots,\alabi{n}\in\nat$
%   if the \onetransition\ from $\averti{0}$ to $\avert$ is not a \backbinding\
%   (denoted by $\lognot{(\averti{0} \loopsbackto \avert})$)
% %   $\averti{0}$ does not loop back to $\avert$
% %   (then the \onetransition\ is not a \backbinding),
%   as follows (we neglect the action labels):\vspace{-2ex}
%   %
%   \begin{flushleft}
%     \hspace*{-0.5ex}%
%     \input{figs/fig-otelimred-LLEEw.tex}
%   \end{flushleft}\vspace{-1ex}
%   %
%   Applications of these rules transform \LLEEwitnesses\ and underlying \onecharts,
%   and their repeated use leads to the elimination of all \onetransitions\ that are not \backbindings.
% \end{proof}
%
% 
\begin{exa}\label{ex:lem:LLEEonechart:2:LLEEonelimonechart}\nf
  The \LLEEwitness~$\onecharthatof{\astexp}$ 
    for $\astexp = \stexpit{(\stexpprod{\stexpit{\aact}}{\stexpit{\bact}})}$
  in Ex.~\ref{ex:onecharthatof}
  is not \onetransition\ limited. It can be transformed into a \onetransition\ limited \LLEEwitness\
  by four steps according to the annotated $\sotelimred$ rules
  in the proof of Lem.~\ref{lem:LLEEonechart:2:LLEEonelimonechart}:\vspace{-1.5ex}
  \begin{flushleft}
    \scalebox{0.95}{\input{figs/ex-LLEEw-2-onelim-LLEEw.tex}}
  \end{flushleft}\vspace{-0.5ex}
  where in the first transformation above three $\sotelimred$ steps are performed in parallel to the 
  \onetransitions\ highlighted in red. 
  Here and below we drop the marking labels of body transitions,
  but instead contrast them by emphasizing the \loopentry\ transitions as thick arrows together~with~their~levels.
\end{exa}
%
% 
\begin{rem}\label{rem:grab:2021:TERMGRAPH-postproceedings}\nf
  Another variation $\onechartaccof{\cdot}$ of the chart interpretation~$\chartof{\astexp}$
  that interprets star expressions $\astexp$ as \onecharts~$\onechartaccof{\astexp}$ which are \onebisimilar\ to $\chartof{\astexp}$
  and $\onechartof{\astexp}$ is defined in \cite{grab:2021:TERMGRAPH-postproceedings}.
  That variation $\onechartaccof{\cdot}$ produces finite, weakly guarded \LLEEonecharts\ and associated \LLEEwitnesses\ that are \onetransition\ limited directly,
  without the need to apply Lem.~\ref{lem:LLEEonechart:2:LLEEonelimonechart} afterwards.
  But interpretations $\onechartaccof{\astexp}$ are only functionally \onebisimilar\ to chart interpretations~$\chartof{\astexp}$,
  and they are \emph{not} \onetransitionrefinements\  of $\chartof{\astexp}$. 
  Also, the definition of~$\onechartaccof{\cdot}$ is based on the extension of star expressions by
  an additional operation `stack product'~$\sstar$
  that keeps track of whether a derivative has originated by steps into an iteration.
  That device is used to ensure that \onetransitions\ are only introduced as \backbindings\ of derivatives to iterations from which they originated.
\end{rem}
%
%\newpage
% 
\begin{lem}\label{lem:ref:into:wgLLEE:2:ref:into:LLEEonelim}
  Let $\achart$ be a finite \onefree\ \onechart.
  If $\achart$ can be \onetransitionrefined\ into a \wgLLEEonechart,
  then $\achart$ can be \onetransitionrefined\ into a \onechart\ with \LLEEonelim. 
\end{lem}
%
\begin{proof}
  Suppose that $\aonechart \otelimredrtc \achart$ for some \wgLLEEonechart~$\aonechart$.
  Then $\aonechart$ is finite, due to Lem.~\ref{lem:otelimred}, \ref{it:1:lem:otelimred}. 
    % since in every $\sotelimred$ step at most one vertex can be come unreachable from the start vertex.
  Then $\indchart{\aonechart} = \achart$ by Lem.~\ref{lem:otelimred}, \ref{it:2:lem:otelimred},
  since $\achart$ is \onefree.
  Now we can also apply Lem.~\ref{lem:LLEEonechart:2:LLEEonelimonechart} to $\aonechart$ to find
  a \onechart~$\aonechartacc$ with \LLEEonelim\ such that $\aonechart \otelimredrtc \aonechartacc$.
  Then we get $\indchart{\aonechartacc} = \indchart{\aonechart} = \achart$ by Lem.~\ref{lem:otelimred}, \ref{it:4:lem:otelimred}, 
  and subsequently $\aonechartacc \otelimredrtc \achart$ by Lem.~\ref{lem:otelimred}, \ref{it:5:lem:otelimred}.  
  In this way we have shown that $\achart$ can be \onetransitionrefined\ into the \onechart~$\aonechartacc$ with \LLEEonelim. 
\end{proof}





% An example of a floating figure using the graphicx package.
% Note that \label must occur AFTER (or within) \caption.
% For figures, \caption should occur after the \includegraphics.
% Note that IEEEtran v1.7 and later has special internal code that
% is designed to preserve the operation of \label within \caption
% even when the captionsoff option is in effect. However, because
% of issues like this, it may be the safest practice to put all your
% \label just after \caption rather than within \caption{}.
%
% Reminder: the "draftcls" or "draftclsnofoot", not "draft", class
% option should be used if it is desired that the figures are to be
% displayed while in draft mode.
%
%\begin{figure}[!t]
%\centering
%\includegraphics[width=2.5in]{myfigure}
% where an .eps filename suffix will be assumed under latex, 
% and a .pdf suffix will be assumed for pdflatex; or what has been declared
% via \DeclareGraphicsExtensions.
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure}

% Note that the IEEE typically puts floats only at the top, even when this
% results in a large percentage of a column being occupied by floats.


% An example of a double column floating figure using two subfigures.
% (The subfig.sty package must be loaded for this to work.)
% The subfigure \label commands are set within each subfloat command,
% and the \label for the overall figure must come after \caption.
% \hfil is used as a separator to get equal spacing.
% Watch out that the combined width of all the subfigures on a 
% line do not exceed the text width or a line break will occur.
%
%\begin{figure*}[!t]
%\centering
%\subfloat[Case I]{\includegraphics[width=2.5in]{box}%
%\label{fig_first_case}}
%\hfil
%\subfloat[Case II]{\includegraphics[width=2.5in]{box}%
%\label{fig_second_case}}
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure*}
%
% Note that often IEEE papers with subfigures do not employ subfigure
% captions (using the optional argument to \subfloat[]), but instead will
% reference/describe all of them (a), (b), etc., within the main caption.
% Be aware that for subfig.sty to generate the (a), (b), etc., subfigure
% labels, the optional argument to \subfloat must be present. If a
% subcaption is not desired, just leave its contents blank,
% e.g., \subfloat[].


% An example of a floating table. Note that, for IEEE style tables, the
% \caption command should come BEFORE the table and, given that table
% captions serve much like titles, are usually capitalized except for words
% such as a, an, and, as, at, but, by, for, in, nor, of, on, or, the, to
% and up, which are usually not capitalized unless they are the first or
% last word of the caption. Table text will default to \footnotesize as
% the IEEE normally uses this smaller font for tables.
% The \label must come after \caption as always.
%
%\begin{table}[!t]
%% increase table row spacing, adjust to taste
%\renewcommand{\arraystretch}{1.3}
% if using array.sty, it might be a good idea to tweak the value of
% \extrarowheight as needed to properly center the text within the cells
%\caption{An Example of a Table}
%\label{table_example}
%\centering
%% Some packages, such as MDW tools, offer better commands for making tables
%% than the plain LaTeX2e tabular which is used here.
%\begin{tabular}{|c||c|}
%\hline
%One & Two\\
%\hline
%Three & Four\\
%\hline
%\end{tabular}
%\end{table}


% Note that the IEEE does not put floats in the very first column
% - or typically anywhere on the first page for that matter. Also,
% in-text middle ("here") positioning is typically not used, but it
% is allowed and encouraged for Computer Society conferences (but
% not Computer Society journals). Most IEEE journals/conferences use
% top floats exclusively. 
% Note that, LaTeX2e, unlike IEEE journals/conferences, places
% footnotes above bottom floats. This can be corrected via the
% \fnbelowfloat command of the stfloats package.



%\newpage
%------------------------
\section{Counterexample}%
  \label{counterexample}
%------------------------
%
\noindent
In this section we develop, in steps, the counterexample for the statements {\bf (RC)} and {\bf (IC)$_\text{1}$}
on page~\pageref{IC_1} in Sect.~\ref{intro}. We start by immediately presenting the 
not collapsed \LLEEonechart\ on which all of our observations will be based.

\begin{exa}\label{ex:limit-sp-collapse}\nf%\label{ex:limit-sp-collapse}
  We consider the \onechart~$\aonechart$ with actions in $\{ \aact, \aacti{1}, \aacti{2}, \bact, \cact, \cacti{1}, \cacti{2}, \dact, \eact, \efact \}$,
  and the \LLEEwitness~$\aonecharthat$~of~$\aonechart$ 
  that is indicated by colored \loopentrytransitions\ from vertex $\avert$ (of level~2, blue)
  and from vertex $\bvertbari{1}$ (of~level~1,~green):%
  %
  \begin{flushleft}\vspace{-2ex}%
    \hspace*{-0.75ex}\scalebox{0.7}{\input{figs/ex-limit-collapse.tex}}
  \end{flushleft}\vspace*{-0.5ex}%
  %
  The framebox name of a vertex $\cvert$ symbolizes the behavior from $\cvert$ in $\aonechart$
  by listing the actions of induced transitions from $\cvert$. 
  This is meaningful because all transitions with the same label from $\setexp{ \bact, \dact }$
    are cofinal, respectively, % have the same targets, respectively,
  transitions with the same label in $\setexp{ \aacti{1}, \aacti{2}, \cacti{1}, \cacti{2}, \eact, \efact }$ 
    depart from just a single vertex, respectively, 
  and transitions with the same label in $\setexp{ \aact, \cact }$
  occur as pairs of \coinitial\ transitions such that the transitions of such a pair from a vertex $\cverti{1}$
  can be joined in their targets by the transitions of the corresponding pair from a vertex $\cverti{2}$. 
  It follows that vertices with the same label list are \onebisimilar. 
  In particular, the vertex pair 
  $\bverti{1} = \tightfbox{$(\aact\bact\cact\dact)_1$}$ and $\bverti{2} = \tightfbox{$(\aact\bact\cact\dact)_2$}$
  (their action lists are indexed to distinguish them)
  are \onebisimilar\ (indicated by the line in magenta):
  every induced transition from $\bverti{1}$ can be joined by a cofinal induced transition from $\bverti{2}$, and vice versa.
  % The dashed magenta line indicates that $\protect\bverti{1}$ and $\protect\bverti{2}$ are \onebisimilar:
  % for every induced \transitionact{\bs{a}} from $\bverti{1}$ to some $\cvert$
  % for $\bs{a}\in\actions$ (such transitions exist for $\bs{a}\in\setexp{a,b,c,d}$)
  % there is a joining induced \transitionact{\bs{a}} from $\bverti{2}$ to $\cvert$;
  % and vice versa, for every induced \transitionact{\bs{a}} from $\bverti{2}$ there is a joining induced \transitionact{\bs{a}} from $\bverti{1}$.
  Thus $\aonechart$ is not a \onebisimulation\ collapse. %,
%   because it contains the \onebisimilarity\ redundancy $\pair{\bverti{1}}{\bverti{2}}$, which satisfies the position condition \ref{pos:3},~\ref{pos:3.5}.
%     %in Lemma~\ref{lem:reducing:1brs}. 
\end{exa}
%
% 
\begin{lem}\label{lem:ex:limit-sp-collapse}
  The \onechart~$\aonechart$ in Ex.~\ref{ex:limit-sp-collapse} is a \LLEEonechart.
  Its induced chart $\indchart{\aonechart}$ % of the chart~$\achart$ in Ex.~\ref{ex:limit-sp-collapse}
  is isomorphic to the chart interpretation of a star expression.
\end{lem}    
%  
%  
\begin{proof} 
  It is easy to check that the \entrybodylabeling~$\aonecharthat$ indicated in Ex.~\ref{ex:limit-sp-collapse}
  is a \LLEEwitness\ of $\aonechart$.  
  It is also routine to verify that $\indchart{\aonechart} \iso \chartof{\cstexpi{\avert}}$
  for the star expression $\cstexpi{\avert}\in\StExpsover{\{\aact,\aacti{1},\aacti{2},\bact,\cact,\cacti{1},\cacti{2},\dact,\eact,\efact\}}$ that is defined as:%\vspace{-1ex}
  %
  \begin{align*}\vspace{-0ex}
    &
    \cstexpi{\avert}
      \defdby 
        \stexpprod{(\stexpprod{\stexpone}
                                   {\stexpit{(\stexpsum{\stexpprod{(\stexpsum{C}{\stexpprod{\bact}{\efact}}  )}
                                                                       {\cstexpi{\bvertbari{1}}}}
                                                            {A}
                                             )}})}
                  {\stexpzero}
    \displaybreak[0]\\ 
    & \;\,\text{where: }       
    \begin{aligned}[t]     
      C
        \defdby {} &
          \stexpsum{\stexpprod{\cact}{(\stexpsum{\cacti{1}}{\stexpprod{\cacti{1}}{\cstexpi{\bverti{1}}}})}}
                   {\stexpprod{\cact}{(\stexpsum{\cacti{2}}{\stexpprod{\cacti{2}}{\cstexpi{\bverti{1}}}})}}
      \\[-0.2ex]
      \cstexpi{\bverti{1}}
        \defdby {} &
          \stexpsum{\stexpone}{\stexpprod{\bact}{\efact}}
      \\[-0.2ex]               
      \cstexpi{\bvertbari{1}}
        \defdby {} &
          \stexpprod{(\stexpprod{\stexpone}{\stexpit{C}})}
                    {\bigl(\stexpsum{A}{\stexpprod{\dact}{\eact}}\bigl)}    
      \\[-0.2ex]
      A
        \defdby {} &
          \stexpsum{\stexpprod{\aact}{(\stexpsum{\aacti{1}}{\stexpprod{\aacti{1}}{\cstexpi{\bverti{2}}}})}}
                   {\stexpprod{\aact}{(\stexpsum{\aacti{2}}{\stexpprod{\aacti{2}}{\cstexpi{\bverti{2}}}})}}
      \\[-0.2ex]    
      \cstexpi{\bverti{2}}
        \defdby {} & 
          \stexpsum{\stexpone}{\stexpprod{\dact}{\eact}}
    \end{aligned}     
  \end{align*}%\vspace{-0.5ex} 
  % 
  Hereby the meaning of a star expression $\cstexpi{\cvert}$ for some vertex $\cvert$ of $\aonechart$
  is to express the behavior in $\aonechart$ from vertex $\cvert$ until for the first time a vertex is reached
  to which $\cvert$ directly loops back (which for $\cvert = \avert$ coincides with the behavior from $\cvert$ as $\avert$ does not loop back). 
  $A$ and $C$ express the behavior in $\aonechart$ starting from a vertex with the pair of $\aact$- and $\cact$-transitions, respectively,
  until the vertex is reached to which both of their targets loop back directly ($\bvertbari{1}$ and $\avert$, respectively). 
  % We note that $\cstexpi{\avert}$ has star height~2. 
\end{proof}
%
%  
\begin{exa}\label{ex:limit-sp-collapse:collapses}\nf
  From the \onechart~$\aonechart$ in Ex.~\ref{ex:limit-sp-collapse}
  the \onechart~$\aonecharti{1}$ below arises 
  by eliminating the \onebisimilarity\ redundancy $\pair{\bverti{1}}{\bverti{2}}$ 
   %connecting through $\bverti{1}$ to $\bverti{2}$
    % (that is, 
  through redirecting both of the incoming transitions at $\bverti{1}$ over to $\bverti{2}$: %).%
  %
  \begin{flushleft}\vspace{-3ex}
    \hspace*{-0.75ex}\scalebox{0.7}{\input{figs/ex-limit-collapse-1.tex}}
  \end{flushleft}\vspace{-1.75ex}
  % 
  We kept in color only those \loopentry\ transitions of $\achart$ that
  are \loopentry\ transitions still in $\aonecharti{1}$.   
  The \onechart~$\aonecharti{1}$ is collapsed, % in the sense of Definition~\ref{def:collapsed}
    % (and also of Definition~\ref{def:near:pseudo:collapsed}, \ref{it:collapsed}, later in Section~\ref{near:pseudo:collapsed})
    % that plainly stipulates that 
  because no two different vertices of $\aonecharti{1}$ are \onebisimilar. 
  But $\aonecharti{1}$ is not a \onetransition\ free collapse of $\aonechart$.
  % (which th unique up to isomorphism).
  
  The induced chart $\acharti{10} \defdby \indchart{(\aonecharti{1})}$ of $\aonecharti{1}$ looks as follows:
  %
  \begin{flushleft}\vspace{-8.5ex}
    \hspace*{-0.75em}%
    \scalebox{0.68}{\input{figs/ex-limit-collapse-10.tex}}
  \end{flushleft}%\pagebreak[4]%\vspace*{-2ex}%
  %
  % This \onetransition\ free \onechart\ $\acharti{10}$ is the \onebisimulation\ collapse of $\aonechart$. 
  $\acharti{10}$ is the \onetransition\ free bisimulation collapse of $\aonechart$.
  %
\end{exa}
%
%
\begin{lem}\label{lem:ex:limit-sp-collapse:collapses}
  Neither of the \onecharts~$\aonecharti{1}$ and $\aonecharti{10}$ in Ex.~\ref{ex:limit-sp-collapse:collapses}
  is a \LLEEonechart. But both of these \onecharts\ are collapsed.
\end{lem}
%
\begin{proof} 
  We have already noticed in Ex.~\ref{ex:limit-sp-collapse:collapses}
  that $\aonecharti{1}$ and $\aonecharti{10}$ are collapsed.
  We need to show that neither of them is a \LLEEonechart. 
  
  The \onechart~$\aonecharti{1}$ only contains two transitions that induce loop subcharts: those that are marked in blue. 
  For every other transition $\atrans = \triple{\cverti{1}}{\bs{\aoneact}}{\cverti{2}}$ of $\aonecharti{1}$ 
    that is not contained in one of these induced loop subcharts
  it is easy to check that $\atrans$ does not induce a loop subchart,
  because there is an infinite path from $\cverti{1}$ starting along $\atrans$
  that avoids the two blue marked \loopentrytransitions, and %that 
       does not return to the path's source vertex $\cverti{1}$.
  It follows that $\aonecharti{1}$ does not satisfy \LEE, the loop existence and elimination condition:
  after eliminating the two blue marked \loopentrytransitions, no other \loopentrytransitions\ exist, yet infinite paths are still possible.
  Since \LLEE\ implies \LEE\ by Prop.~\ref{prop:LLEE:implies:LEE},  
  it follows that $\aonecharti{1}$ cannot be a \LLEEonechart.
  
  The chart~$\acharti{10}$ does not contain a \loopentrytransition,
  which can be checked separately for each transition.
  Since it expresses infinite behavior, but does not satisfy \LEE,
  $\acharti{10}$ is not a \LLEEonechart.
\end{proof}
%
To show that neither $\aonecharti{1}$ nor $\aonecharti{10}$ above %in Ex.~\ref{ex:limit-sp-collapse:collapses}
can be \onetransitionrefined\ into a \LLEEonechart, we will use the lemma below.
%
\begin{lem}\label{lem:lem:thm:limit}
  For every finite \onechart~$\bonechart$ with \LLEEonelim\
  there is a finite \onechart~$\bonechartacc$ with the same induced chart, %$\indchart{\bonechartacc} = \indchart{\bonechart}$,
  and with a \onetransition\ limited \LLEEwitness~$\bonecharthatacc$ such that:
  \begin{enumerate}[label={\nf (ptt)},align=right,leftmargin=*] 
    \item{}\label{ptt}
      If for a \loopentry\ identifier $\pair{\avert}{\aLname}\in\entriesof{\aonecharthatacc}$ 
      the loop \subonechart\ $\indsubonechartinat{\bonecharthataccsubscript}{\avert,\aLname}$ of $\bonechartacc$
        both of the following two conditions hold:
      \begin{enumerate}[label={(\alph{*})},align=right,leftmargin=*]
        \item{}\label{ptt:a} 
          consists of a single~\scc\ (strongly connected component),
        \item{}\label{ptt:b}
          contains no other loop vertex than $\avert$ (that is, $\indsubonechartinat{\bonecharthataccsubscript}{\avert,\aLname}$ is an innermost loop \subonechart),
          % does not contain a loop vertex different from $\avert$
          % (that is, $\pair{\avert}{\aLname}\in\entriesof{\bonecharthatacc}$ is innermost),
      \end{enumerate}
      then it %$\indsubonechartinat{\bonecharthataccsubscript}{\avert,\aLname}$ 
      contains only \ul{p}roper-\ul{t}ransition \ul{t}argets~in~$\bonechartacc$. 
  \end{enumerate}      
\end{lem}        
%
\begin{proof}[Proof idea]
  Suppose that $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ 
  is an innermost loop \subonechart\ of a \onechart~$\bonechart$ with \onetransition\ limited \LLEEwitness~$\bonecharthat$
  such that $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ consists of a single \scc,
  and $\avert$ is not a \propertransition\ target. 
  Then $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ can be shown to contain a vertex $\bvert$
  that is a \propertransition\ target, has a \onetransition\ \backbinding\ to $\avert$ as its only outgoing transition,
  and therefore is \onebisimilar\ to $\avert$. See the following example:
  \begin{center}\vspace{-1ex}\hspace*{-2em}%
    \input{figs/ex-lem-lem-thm-limit.tex}
  \end{center}\vspace{-3.75ex}
  Here we indicate \onebisimilarity\ of $\avert$ and $\bvert$ as magenta link.
  Then by removing $\avert$, and letting $\bvert$ take over the role~of~$\avert$ as innermost loop vertex,
  $\bonechart$ can be transformed, preserving induced transitions, into a \onechart~$\bonechartacc$ with \onetransition\ limited \LLEEwitness~$\bonecharthatacc$,
  in which the innermost loop \subonechart\ $\indsubonechartinat{\bonecharthataccsubscript}{\avert,\aLname}$
  now only consists of \propertransition\ targets. 
  
  In general, the start vertex $\avert$ of $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ may have,~in~$\bonechart$, other departing transitions, 
  and incoming \onetransitions\ from other loop \subonecharts\ that are generated at $\avert$.
  In the transformation, % to $\bonechartacc$ and $\bonecharthatacc$ 
  all these other outgoing and incoming transitions at $\avert$ are transferred over to $\bvert$ as well.
\end{proof}
% 
% 
% Lem.~\ref{lem:lem:thm:limit} does not hold without the restrictions~\ref{ptt:a} and \ref{ptt:b} in \ref{ptt}.
% The \onecharts~$\bonecharti{1}$ and $\bonecharti{2}$ below show that for \ref{ptt:a} and \ref{ptt:b}, respectively.
% $\bonecharti{1}$ satisfies \LLEEonelim\ due to the \onetransition\ limited \LLEEwitness~$\bonecharthati{1}$.
% $\bonecharti{1}$ would not satisfy \ref{ptt} without \ref{ptt:a},
% because while the \onechart\ $\indsubonechartinat{\bonecharthatsubscript}{\cverti{1},1}$ that is induced by the \loopentry\ identifier $\pair{\cverti{1}}{1}\in\entriesof{\bonecharthati{1}}$
% contains no other loop vertex than $\cverti{1}$ (\ref{ptt:b} holds),
% it contains $\cverti{1}$ which is not a \propertransition\ target~in~$\bcharti{1}$. 
% Note that $\indsubonechartinat{\bonecharthatsubscript}{\cverti{1},1}$ does not consist of a single \scc\ (\ref{ptt:a} fails).
% Furthermore, eliminating $\cverti{1}$ from $\bonecharti{1}$ by $\sotelimred$ steps as a vertex 
% that is not a \propertransition\ target would lead to the chart $\bcharti{1}$,
% which does not satisfy \LEE, and so is not~a~\mbox{\LLEEonechart}.\vspace{-1.5ex}
% 
Lem.~\ref{lem:lem:thm:limit} does not hold without the restrictions~\ref{ptt:a}, \ref{ptt:b} in \ref{ptt}.
The \onecharts~$\bonecharti{1}$ and $\bonecharti{2}$ below with \onetransition\ limited \LLEEwitnesses\ $\bonecharthati{1}$ and $\bonecharthati{2}$
show that for \ref{ptt:a}~and~\ref{ptt:b}.
%
\begin{flushleft}\hspace{-2.5ex}
  \hspace*{-0.5ex}%
  \input{figs/cexs-lem-lem-thm-limit.tex}  
\end{flushleft}\vspace{-0.5ex}
%
% The \subonecharts\ at $\cverti{1}$ in $\bonecharthati{1}$, and at $\cverti{2}$ in $\bonecharthati{2}$
% are not an \scc, and not innermost, respectively.
While the loop \subonechart\ at $\cverti{1}$ in $\bonecharthati{1}$ is not an \scc,
the loop \subonechart\ at $\cverti{2}$ in $\bonecharthati{2}$ is not innermost. 
The induced charts of $\bonecharti{1}$ and $\bonecharti{2}$ do not satisfy \LEE,
and cannot be refined into \LLEEonecharts\
that only contain \propertransition\ targets.
% in which all vertices are \propertransition\ targets. %,
% because the induced charts of $\bonecharti{1}$ and $\bonecharti{2}$ do not satisfy \LEE, 

%
% The \onechart~$\bonecharti{2}$ satisfies \LLEEonelim\ with \onetransition\ limited \LLEEwitness~$\bonecharthati{2}$.
% $\bonecharti{2}$ would not satisfy \ref{ptt} without proviso \ref{ptt:b},
% because while the \onechart\ $\indsubonechartinat{\bonecharthatsubscript}{\cverti{2},2}$ that is induced by the \loopentry\ identifier $\pair{\cverti{2}}{2}\in\entriesof{\bonecharthati{1}}$
% consists of a single \scc\ (\ref{ptt:a} holds), 
% it contains vertex $\cverti{2}$ which is not a \propertransition\ target~in~$\bonecharti{2}$. 
% Note that $\indsubonechartinat{\bonecharthatsubscript}{\cverti{2},2}$ contains two loop vertices other than $\cverti{2}$ (\ref{ptt:b} fails).
% Eliminating $\cverti{2}$ from $\bonecharti{2}$ by $\sotelimred$ steps as not a \propertransition -target vertex would lead to the chart $\bcharti{2}$,
% which does not satisfy \LEE, and so is not a \LLEEonechart.
%
%
\begin{lem}\label{lem:thm:limit}
  Neither of the \onecharts~$\aonecharti{1}$ and $\aonecharti{10}$ in Ex.~\ref{ex:limit-sp-collapse}
  can be \onetransitionrefined\ into a \wgLLEEonechart.
\end{lem}
%
\begin{proof} 
  We show the statement of the lemma for $\acharti{10}$ by an argument that will demonstrate it also for $\aonecharti{1}$.
  
  We argue indirectly, towards a contradiction.
  Suppose that $\acharti{10}$ can be \onetransitionrefined\ into a \wgLLEEonechart. 
  Then $\acharti{10}$ can also be refined, due to Lem.~\ref{lem:ref:into:wgLLEE:2:ref:into:LLEEonelim},
  into a \onechart\ with \LLEEonelim.
  Furthermore by Lem.~\ref{lem:lem:thm:limit} it follows, in view of Lem.~\ref{lem:otelimred},~\ref{it:4:lem:otelimred} and \ref{it:5:lem:otelimred},
  that $\acharti{10}$ can even be refined into a \onechart\ with \LLEEonelim\ and \ref{ptt}. 
  
  Therefore there is a \onechart~$\bonechart$ with \onetransition\ limited \LLEEwitness~$\bonecharthat$ 
  and \ref{ptt} such that $\bonechart \otelimredrtc \acharti{10}$. Since $\acharti{10}$ is not a \LLEEonechart\ by Lem.~\ref{lem:ex:limit-sp-collapse:collapses},
  it follows that $\bonechart \neq \acharti{10}$, and therefore also that $\bonechart \otelimredtc \acharti{10}$. 
  
  We now let $\bonecharti{1}$ be the \onechart\ that results from $\bonechart$ by
  eliminating, via $\sotelimred$ steps, all \onetransition\ \backbindings\ in loop \subonecharts\ as delimited by $\bonecharthat$
  that are \emph{not} innermost. 
  Then
  $\bonechart \otelimredrtc \bonecharti{1} 
              \otelimredtc \acharti{10} $ 
  follows by %using unique normalization of $\sotelimred$ from $\bonechart$, see 
             Lem.~\ref{lem:otelimred}, \ref{it:6:lem:otelimred}, yielding $\bonecharti{1} \otelimredrtc \acharti{10}$,
  and where $\bonecharti{1} \otelimredtc \acharti{10}$ holds,
  because the innermost loop \subonecharts\ in $\bonechart$ must still be present in $\bonecharti{1}$,
  but $\acharti{10}$ does not contain any loop \subonecharts.           
  %           
  We will show,
  for a \onechart~$\aonecharti{2}$ that will be illustrated below and is similar to $\aonecharti{1}$, % in Ex.~\ref{ex:limit-sp-collapse:collapses},
  the following contradictory statements:
  \begin{enumerate}[label={(S\arabic{*})},itemsep=0.5ex]
    \item{}\label{S1}
      $\bonechart \otelimredtc \bonecharti{1} \otelimred \acharti{10}$
        for 
      $\bonecharti{1} \in \setexp{ \aonecharti{1}, \aonecharti{2} }$,
      with $\bonechart \neq \bonecharti{1}$.
    \item{}\label{S2}  
      Neither $\aonecharti{1}$ nor $\aonecharti{2}$ can be \onetransitionrefined\ into a \onechart\ with \LLEEonelim. 
  \end{enumerate}
  The contradiction arises between \ref{S2} and the part of 
    \ref{S1} that states that either $\aonecharti{1}$ or $\aonecharti{2}$ can be \onetransitionrefined\ into $\bonechart$
  which we assumed is a \onechart\ with \LLEEonelim.
  Therefore it remains to define $\aonecharti{2}$ and to prove \ref{S1} and \ref{S2}.

  Turning to defining $\aonecharti{2}$ and showing \ref{S1}, we use that $\bonechart$ and $\bonecharthat$ satisfy \ref{ptt}. 
  Therefore all innermost loop \subonecharts\ of $\bonechart$ delimited by $\bonecharthat$ consist only of \propertransition\ targets in $\bonechart$. 
  Since \backbindings\ in these innermost loop \subonecharts\ of $\bonechart$ are only removed 
  in the steps $\bonecharti{1} \otelimredtc \acharti{10}$, %from $\bonecharti{1}$ to $\acharti{10}$,
  it follows that $\bonecharti{1}$ has the same vertices as $\acharti{10}$. 
  Conversely, these innermost loop \subonecharts\ of $\bonechart$ can be made visible starting from $\acharti{10}$
  by adding \onetransition\ \backbindings\ between existing vertices of $\acharti{10}$, and by removing 
  transitions that become superfluous in the sense that they correspond to newly formed induced transitions.
  However, to obtain a \onebisimilar\ \onetransitionrefinement\ any such \onetransition\ \backbinding\ $\triple{\cvert}{\sone}{\cvertacc}$ 
  can only be added to $\acharti{10}$ 
  if $\cvertacc$ is a substate of $\cvert$ already in $\acharti{10}$,
  and that is, if $\cvertacc$ has part of the behavior of $\cvert$.  
  There are only two possibilities for such an added \backbinding:
  one from $\bverti{2}$ to $\avert$ (due to $\avert\isonesubstateofin{\acharti{10}}\bverti{2}$), 
  and another one from $\bverti{2}$ to $\bvertbari{1}$ (due to $\bvertbari{1}\isonesubstateofin{\acharti{10}}\bverti{2}$). 
  It is not possible to add them both as \onetransitions, because 
  as such they correspond to \backbindings\ in the \onetransition\ limited \LLEEwitness\ $\bonecharthat$, 
  and no vertex can loop back directly to two different loop vertices in a \LLEEwitness. 
  It follows that $\bonecharthat$ can contain only one innermost loop vertex, 
  namely either~$\avert$~or~$\bvertbari{1}$. 

  Therefore in order to make visible, starting from $\acharti{10}$, the innermost loop subchart of $\bonechart$
  defined by $\bonecharthat$,
  we either obtain the \onechart~$\aonecharti{1}$ in Ex.~\ref{ex:limit-sp-collapse:collapses},
  if $\avert$ is a loop vertex and $\triple{\bverti{2}}{\sone}{\avert}$ is a \backbinding\ of $\bonecharthat$,
  or the \onechart~$\aonecharti{2}$ below: 
  % 
  \begin{center}%\vspace{-5ex}
    \hspace*{-0.75em}%
    \scalebox{0.7}{\input{figs/ex-limit-collapse-2.tex}}
  \end{center}%\vspace{-1ex}
  %
  if $\bvertbari{1}$ is a loop vertex, and $\triple{\bverti{2}}{\sone}{\bvertbari{1}}$ is a \backbinding\ of $\bonecharthat$. 
  It is straightforward to check that only the two transitions marked in green induce loop \subonecharts\ of $\aonecharti{2}$,
  and that after eliminating those, no further \loopentry\ transitions arise, but infinite paths remain. Therefore $\aonecharti{2}$
  cannot be a \LLEEchart. It follows
  that $\bonechart$ must be a further \onetransitionrefinement\ either of $\aonecharti{1}$ or of $\aonecharti{2}$.
  % We have shown \ref{S1}. 
  In this way we have established \ref{S1}.  
  
  For \ref{S2} we focus on $\aonecharti{2}$,
  because the argument~for~$\aonecharti{1}$ is closely analogous.
  We assume that a \LLEEonechart~$\bonechart$ with \onetransition\ limited \LLEEwitness~$\bonecharthat$
  is a \onetransitionrefinement\ of $\aonecharti{2}$. 
  Then $\bonechart \otelimredtc \aonecharti{2}$ follows, because $\aonecharti{2}$ is not a \LLEEonechart. %\ contrary to $\bonechart$. 
  
  Now we note that $\aonecharti{2}$ cannot be \onetransitionrefined\ in the direction of the \onetransition\ limited \LLEEwitness~$\bonecharthat$
  by adding \onetransition\ \backbindings\ to vertices that are already present in $\aonecharti{2}$.
  This is because, to satisfy the layeredness condition \ref{LLEEw:3} for the \LLEEwitness~$\bonecharthat$,
  any such \backbinding\ needed to start 
  from $\bvertbari{1}$, or from a vertex outside of $\indsubonechartinat{\bonecharthatsubscript}{\bvertbari{1},1}$
                                                (the \subonechart\ of $\aonecharti{2}$ delimited by $\bonecharthat$
                                                 and by its \entrybodylabeling~$\aonecharthati{2}$),
  and target a different of these vertices that furthermore needs to be a substate.
  But there is not such a vertex in $\aonecharti{2}$: %, because
  neither $\bvertbari{1}$ nor one of $\avert$, \tightfbox{$\aacti{1}$}, \tightfbox{$\aacti{2}$}, \tightfbox{$e$} outside of $\indsubonechartinat{\bonecharthatsubscript}{\bvertbari{1},1}$
  has a substate among the other 4 of these~vertices. %~in~$\aonecharti{2}$. 
  
  Consequently, the only option to refine $\aonecharthati{2}$ towards the \onetransition\ limited \LLEEwitness~$\bonecharthat$
  is to add a vertex $\cvert$ that is not a \propertransition\ target,
  with \onetransition\ \backbindings\ directed to it from one of the five vertices $\bvertbari{1}$, $\avert$, \tightfbox{$\aacti{1}$}, \tightfbox{$\aacti{2}$}, or \tightfbox{$e$}
  such that proper transitions in $\aonecharti{2}$ arise as induced transitions via $\cvert$. 
  The only option to simplify the structure is to share, 
  via the new vertex $\cvert$
  proper transitions from two of these five vertices.
  Such a \nontrivial\ sharing of transitions is possible only between $\bvertbari{1}$ and $\avert$,
  because none of other pairs of vertices have an action label of an outgoing transition in common. 
   % because from \tightfbox{$\eact$} only an \transitionact{\eact} departs, but not from $\bvertbari{1}$ and $\avert$.
  The maximal option is to share, via the new vertex $\cvert$, 
  all outgoing $\aact$- and \transitionsact{\cact} from $\bvertbari{1}$ and $\avert$. 
  % by induced $\aact$- and \transitionsact{\cact} via $\cvert$. 
  This leads to~the~\onechart~$\aonechartacci{2}\,$: %: 
  %
  \begin{center}5\vspace{-3ex}
    \hspace*{-0.75em}%
    \scalebox{0.7}{\input{figs/ex-limit-collapse-2-lift.tex}}
  \end{center}%\vspace{-0.5ex}
  %
  But we note now that no \loopentry\ transition is created at $\cvert$ in $\aonechartacci{2}$,
  and so the added \onetransitions\ are not \backbindings. 
  So this refinement step is not one in the direction of the (assumed) \onetransition\ limited \LLEEwitness~$\bonecharthat$. 
  While it would be possible to share only a \nonempty\ subset of the four transitions from $\cvert$,
  that would not give rise to a \loopentrytransition\ at $\cvert$, either.  
  Hence we must recognize that it is not possible to refine $\aonecharti{2}$ into the \LLEEonechart~$\bonechart$ as assumed.
  Thus we have shown the part of~\ref{S2}~for~$\aonecharti{2}$. 
  % %
  % \begin{flushleft}\vspace{-3ex}
  %   \hspace*{-0.75em}%
  %   \scalebox{0.7}{\input{figs/ex-limit-collapse-2-lift.tex}}
  % \end{flushleft}\vspace{-1.5ex}
  % %
  
  Analogously it can be argued that neither can $\aonecharti{1}$ be refined into a \LLEEonechart,
  thereby obtaining \ref{S2}. 
  
  Having obtained a contradiction, % from our assumption,
  we conclude that neither $\acharti{10}$ nor $\aonecharti{1}$ can be refined into a \wgLLEEonechart.
\end{proof}  
% % 
% % 
% % 
% % 
% \begin{lem}\label{lem:thm:limit}
%   Neither of the \onecharts~$\aonecharti{1}$ and $\aonecharti{10}$ in Ex.~\ref{ex:limit-sp-collapse}
%   can be \onetransitionrefined\ into a \wgLLEEonechart.
% \end{lem}
% %
% % \newcommand{\aonechartref}{{\iap{\aonechart}{\textit{ref}}}}
% % \newcommand{\aonechartreftilde}{{\iap{\aonecharttilde}{\textit{ref}}}}
% % \newcommand{\aonechartrefhat}{{\iap{\aonecharthat}{\textit{ref}}}}
% %
% \begin{proof} 
%   Due to Lem.~\ref{lem:ref:into:wgLLEE:2:ref:into:LLEEonelim} 
%   it suffices to show that neither of $\aonecharti{1}$ and $\aonecharti{10}$ in Ex.~\ref{ex:limit-sp-collapse}
%   can be \onetransitionrefined\ into a \onechart\ with \LLEEonelim. 
%   We show that that is not possible.
%   
%   Suppose that $\acharti{10}$ can be \onetransitionrefined\ into a \onechart\ $\bonecharti{1}$ with \LLEEonelim.
%   Hence $\bonecharti{1} \otelimredrtc \acharti{10}$.
%   By applying Lem.~\ref{lem:lem:thm:limit} to $\bonecharti{1}$ 
%   we obtain a \onechart~$\bonechart$ with a \onetransition\ limited \LLEEwitness~$\bonecharthat$ such that
%   $\bonecharti{1} \otelimredrtc \bonechart$, and \ref{ptt} holds.
%   By Lem.~\ref{lem:otelimred},~\ref{it:4:lem:otelimred}, \ref{it:5:lem:otelimred}, 
%   we obtain $\indchart{\bonechart} = \indchart{(\bonecharti{1})} 
%                                          = \indchart{(\acharti{10})}
%                                          = \acharti{10}$,
%   and $\bonechart \otelimredrtc \acharti{10}$.
%   Therefore $\bonechart$ \onetransitionrefines\ $\acharti{10}$, and it satisfies \LLEEonelim~and~\ref{ptt}.
%   
%   That $\bonechart$ is a \onechart\ with \LLEE, but $\acharti{10}$ is not, due to Lem.~\ref{lem:ex:limit-sp-collapse:collapses},
%   implies $\bonechart \neq \acharti{10}$. 
%   Then $\bonechart \otelimredrtc \acharti{10}$ implies $\bonechart \otelimredtc \acharti{10}$,
%   and consequently $\bonechart$ contains \onetransitions.  
%   
%   We let $\bonecharti{1}$ be the \onechart\ that results from $\bonechart$ by
%   eliminating, via $\sotelimred$ steps, all backbindings in loop \subonecharts\ delimited by $\bonecharthat$
%   that are \emph{not} innermost. 
%   Then
%   $\bonechart \otelimredrtc \bonecharti{1} 
%               \otelimredrtc \bonechart $
%   holds \todo{confluence of $\sotelimred$?}        
%   
%   
%   
%  
%  
%   Since $\bonechart$ and $\bonecharthat$ satisfy \ref{ptt}, 
%   all innermost loop \subonecharts\ of $\bonechart$ with respect to $\bonecharthat$ 
%   consist only of \propertransition\ targets in $\bonechart$.
%   Therefore these innermost loop \subonecharts\ of $\bonechart$ can be made visible starting from $\acharti{10}$
%   by adding \onetransition\ backbindings between existing vertices of $\acharti{10}$, and by removing 
%   transitions that become superfluous in the sense that they correspond to newly formed induced transitions.
%   However, any such added \onetransition\ backlink $\triple{\cvert}{\sone}{\cvertacc}$ is only possible 
%   if $\cvert$ is already a substate of $\cvertacc$ in $\acharti{10}$. 
%   There are only two possibilities for such an added backlink:
%   one from $\bverti{2}$ to $\avert$, and another one from $\bverti{2}$ to $\bvertbari{1}$. 
%   It is not possible to add them both as \onetransitions, because 
%   as such they correspond to backlinks in the \onetransition\ limited \LLEEwitness\ $\bonecharthat$, 
%   and no vertex can loop back directly to two different loop vertices in a \LLEEwitness. 
%   It follows that $\bonecharthat$ can contain only one innermost loop vertex, 
%   namely either~$\avert$~or~$\bvertbari{1}$. 
%  
%   It follows that in order to make visible, starting from $\acharti{10}$, the innermost loop subchart of $\bonechart$
%   defined by $\bonecharthat$ 
%   we either obtain the $\aonecharti{1}$ in Ex.~\ref{ex:limit-sp-collapse:collapses},
%   if $\avert$ is a loop vertex and $\triple{\bverti{2}}{\sone}{\avert}$ is a backlink of $\bonecharthat$,
%   or we obtain the \onechart~$\aonecharti{2}$ below: 
%   % 
%   \begin{flushleft}\vspace{-4ex}
%     \hspace*{-0.75em}%
%     \scalebox{0.7}{\input{figs/ex-limit-collapse-2.tex}}
%   \end{flushleft}
%   %
%   if $\bvertbari{1}$ is a loop vertex, and $\triple{\bverti{2}}{\sone}{\bvertbari{1}}$ is a backlink, of $\bonecharthat$. 
%   Already in Ex.~\ref{ex:limit-sp-collapse:collapses} we have seen that $\aonecharti{1}$
%   is not a \LLEEchart. For $\aonecharti{2}$ this can be checked similarly. It follows
%   that $\bonecharthat$ must be a further \onetransitionrefinement\  of $\aonecharti{1}$ or of $\aonecharti{2}$. 
%   
%   
%   It cannot be the case that the second but innermost loop in $\bonecharthat$ 
%   has a \propertransition\ target as its loop vertex. This is, because
%   
%   
%   Since we concluded that $\bonechart$ can have only one innermost loop vertex,
%   we can apply the property \ref{ptt} of $\bonechart$ again.
%   We infer that also the one but innermost loop subchart
%   defined by $\bonecharthat$ consist exclusively of \propertransition\ targets in $\bonechart$. 
%   This one but innermost loop subchart of $\bonechart$ can be made visible from 
%   either $\aonecharti{1}$ or $\aonecharti{2}$ by another \onetransitionrefinement\  that 
%   adds at lease one more \onetransition. Any such added \onetransition\ $\triple{\cvert}{\sone}{\cvertacc}$ 
%   would connect a state $\cvert$ of either of these \onecharts\ to one of its substates. 
%   As argued above this cannot be a \onetransition\ from $\bverti{2}$ to its substate $\bvertbari{1}$,
%   because that would conflict with $\bonecharthat$ being a \LLEEwitness.
%   At this point we must recognize that it is not possible to add such a \onetransition\ 
%   in order to refine $\aonecharti{1}$ or $\aonecharti{2}$ further towards the \LLEEonechart~$\bonechart$.
%   
%   The only possibility to \onetransition\ refine $\bonecharthati{1} = \aonecharthati{2}$ in direction of the \onetransition\ limited \LLEEwitness~$\bonecharthat$
%   is to add a vertex $\cvert$ that is not a \propertransition\ target,
%   with \onetransition\ \backbindings\ directed to it 
%   such that proper transitions in $\aonecharti{2}$ arise as induced transitions via $\cvert$ . 
%   
%   The maximal option to `share' as many existing transitions in $\aonecharti{2}$ via the new vertex $\cvert$
%   is to share the outgoing $\aact$- and \transitionsact{\cact} from $\bvertbari{1}$ and $\bvert$ 
%   by $\aact$- and \transitionsact{\cact} from $\cvert$. This leads to the \onechart~$\aonechartacci{2}$ below: 
%   \begin{flushleft}%\vspace{-4ex}
%     \hspace*{-0.75em}%
%     \scalebox{0.7}{\input{figs/ex-limit-collapse-2-lift.tex}}
%   \end{flushleft}
%   %
%   But note that no additional \loopentry\ transitions are created in $\aonecharti{2}$.
%   It would be possible to share only a \nonempty\ subset of the 4 transitions at $\cvert$. 
%   But this would not be a \loopentrytransition\ at $\cvert$, either. 
%   At this point we must recognize that it is not possible to add such a \onetransition\ 
%   in order to refine $\aonecharti{2}$ further towards the \LLEEonechart~$\bonechart$.
%   
%   Analogously it can be argued that $\aonecharti{1}$ cannot be refined into a \LLEEonechart. 
%   
%   We therefore must conclude that our assumption that $\acharti{10}$ can be refined into a \onechart\ with \LLEEonelim\
%   cannot be maintained. We conclude that $\acharti{10}$ cannot be \onetransitionrefined\ into a \onechart\ with \LLEEonelim.
%   Since our argument passed through $\aonecharti{1}$, we can conclude that for $\aonecharti{1}$ as well. 
%   
%   Together with the reduction of the proof obligation at the beginning, 
%   we have thus established that neither $\acharti{10}$ nor $\acharti{1}$
%   can be \onetransitionrefined\ into a \wgLLEEonechart. 
% \end{proof}
%
On the basis of these preparations we can now formulate and prove our two main results
concerning the non-preservation of two properties under bisimulation collapse.
% 
\begin{thm}\label{thm:limit}
  The property of a \onechart~$\bonechart$
  that it can be \onetransitionrefined\ by a \wgLLEEonechart\
  is not preserved in general under the step from $\bonechart$ to its bisimulation~collapse.
\end{thm}
%
\begin{proof}
  The \LLEEonechart~$\bonechart \defdby \aonechart$ in Ex.~\ref{ex:limit-sp-collapse} 
  together with its (\onetransition\ free) bisimulation collapse~$\acharti{10}$ in Ex.~\ref{ex:limit-sp-collapse:collapses}
  provides a counterexample,
  because $\acharti{10}$ cannot be \onetransitionrefined\ 
  into a \wgLLEEonechart\ due to Lem.~\ref{lem:thm:limit}.
\end{proof}
% 
% 
\begin{thm}\label{thm:im:onechart-int:not:closed}
  The image of the chart interpretation $\chartof{\cdot}$ is not closed, up to isomorphism, under bisimulation collapse.
\end{thm}%\pagebreak[4]
%
\begin{proof}
  A counterexample consists of
  the induced chart $\indscchartof{\aonechart}$ of $\aonechart$ in Ex.~\ref{ex:limit-sp-collapse},
  and its bisimulation collapse %, the chart 
                                $\acharti{10}$ in Ex.~\ref{ex:limit-sp-collapse:collapses}.
                                
  The induced chart $\indscchartof{\aonechart}$ of $\aonechart$ is, up to isomorphism, in the image of $\chartof{\cdot}$ 
  due to Lem.~\ref{lem:ex:limit-sp-collapse}.
  
  But its collapse $\acharti{10}$ of $\indscchartof{\aonechart}$ is not isomorphic to the chart interpretation of any star expression.
  In order to show this, we assume that $\acharti{10} \iso \chartof{\astexpi{10}}$ for some star expression $\astexpi{10}\in\StExpsover{\actions}$,
  and will derive a contradiction.
  By Cor.~\ref{cor:onechart-int:refines:chart-int}
  we find that $\chartof{\astexpi{10}}$ 
     can be \onetransitionrefined\ into the weakly guarded \onechart\ interpretation $\onechartof{\astexpi{10}}$ of $\astexpi{10}$,
  where $\onechartof{\astexpi{10}}$ is a \LLEEonechart\ by Thm.~\ref{thm:onechart-int:LLEEw}. 
  Therefore $\chartof{\astexpi{10}}$ 
     can be \onetransitionrefined\ into a \wgLLEEonechart. 
  Now the property of a \onechart\ to be refinable by \onetransitions\ into a \wgLLEEonechart\ 
  is invariant under isomorphism.
  Therefore the assumption $\acharti{10} \iso \chartof{\astexpi{10}}$ implies
  that $\acharti{10}$ can be \onetransitionrefined\ into a \wgLLEEonechart. 
  But this is a contradiction with the statement of Lem.~\ref{lem:thm:limit}. 
\end{proof}



\noindent
{\bf The origin of the counterexample.}
A procedure for constructing the bisimulation collapse of a finite \LLEEchart\ 
by \LLEEpreserving\ steps that collapse pairs of bisimilar vertices was described in~\cite{grab:fokk:2020:lics}.
% In \cite{grab:fokk:2020:lics}, a stepwise bisimulation collapse procedure for the minimization of \LLEEcharts\ is described.
% In \cite{grab:fokk:2020:lics} a stepwise bisimulation collapse procedure for the bisimulation collapse of \LLEEcharts.
This procedure repeatedly removes, from a given \LLEEchart, %~$\achart$ 
one vertex $\bverti{1}$ from a pair $\pair{\bverti{1}}{\bverti{2}}$
of distinct, bisimilar vertices, after redirecting all incoming transitions at $\bverti{1}$ over to $\bverti{2}$,
thereby obtaining a bisimilar chart. 
Although only vertices from `reduced' pairs in specified positions can be eliminated \LLEEpreservingly,  
the bisimulation collapse is reached,
because every \LLEEchart\ that is not collapsed contains a~reduced~pair.

Pursuing the aim of generalizing that stepwise collapse procedure %from \LLEEcharts\ 
                                                              to \LLEEonecharts,
we have explored how position conditions for `reduced' pairs of \onebisimilar\ vertices can be defined for \onecharts\ with \LLEEonelim. 
This led us to position conditions where among four that generalize condition (C3) in \cite{grab:fokk:2020:lics} 
for reduced pairs $\pair{\bverti{1}}{\bverti{2}}$, where $\bverti{1}$ and $\bverti{2}$ with \onebisimilar\ and in the same \scc, are the~following~two:
%
\begin{center}\vspace{-1ex}
  \hspace*{-3ex}%
  \scalebox{0.7}{\input{figs/poss-3-3-5.tex}}%
\end{center}\vspace{-1ex}
%
In both of these cases the \onebisimilar\ vertices $\bverti{1}$ and $\bverti{2}$ are 
in nested loop \subonecharts\ below different vertices $\bvertbari{1}$ and~$\bvertbari{2}$, respectively,  
where $\bvertbari{1}$ and~$\bvertbari{2}$ are in the body of a \subonechart\ of a loop vertex $\avert$, and
$\bverti{1}$ and $\bverti{2}$ are linked by \onetransition\ \backbindings\ to $\bvertbari{1}$ and $\bvertbari{2}$, respectively.
Moreover, $\bvertbari{2}$ is not linked to $\bvertbari{1}$ via \bodytransitions\ only.
However, $\bvertbari{1}$ can be reached from $\bvertbari{2}$ via $\avert$ and a \loopentrytransition\ from $\avert$.
In (C3.2) a \onetransition\ \backbinding\ is excluded from $\bvertbari{2}$ to $\avert$, and in (C3.4) from $\bvertbari{1}$ to $\avert$.\enlargethispage{3ex} 

While we succeeded in finding \LLEEpreserving\ transformations that eliminate $\bverti{1}$ in case (C3.2) (see Ex.~\ref{ex:elim:br:C3.2}) and in 4 other cases,
we did not find such a transformation for case (C3.4).
That failure led us, after narrowing down the hard problem,
to the construction of the counterexample \LLEEonechart~$\aonechart$ in Ex.~\ref{ex:limit-sp-collapse},
which is indeed of form~(C3.4). 


%--------------------
\section{Conclusion, and outlook}%
  \label{outlook}
%--------------------
%
\noindent
In order to approach the axiomatization and expressibility problems
for Milner's process semantics of regular expressions
we undertook two preparatory steps: a conceptual one, and one that highlights a crucial difficulty. 
First, we showed that process interpretations of regular expression % (a variant, Def.~\ref{def:chartof})
can be refined by \onetransitions\ (Cor.~\ref{cor:onechart-int:refines:chart-int}) into graphs that satisfy \LEE\ (Thm.~\ref{thm:onechart-int:LLEEw}).
This clears the way for generalizing the methods used for results about \stexponefree\ regular expressions~in~\cite{grab:fokk:2020:lics}.
But second, we discovered that the refinement property is not preserved for process interpretations under bisimulation collapse (Thm.~\ref{thm:limit}). 
This phenomenon sets the problems {\bf (E)} and {\bf (A)} for the full class of regular expressions apart from 
their specialization to subclasses with restricted uses of $\stexpzero$~and/or~$\stexpone$, such as the \stexponefree\ expressions in \cite{grab:fokk:2020:lics}.

In order to make this observation, we found it crucial (i)~to view process interpretations of regular expressions
as graphs (possibly with \onetransitions) that are constrained by the loop existence and elimination property \LEE\ (from \cite{grab:fokk:2020:lics}),
and (ii)~to work with layered \LEEwitnesses\ that represent process interpretations of regular expressions 
           (at least) up to bisimilarity (a correspondence established in~\cite{grab:fokk:2020:lics}). 

As a consequence of the counterexample there cannot be a \LLEEpreserving\ procedure for producing the bisimulation collapse of \LLEEonecharts. 
But we found the following positive sign:
stepwise elimination of a vertex from a reduced pair of \onebisimilar\ vertices is almost always possible,
with the exception of pairs of the form {(C3.4)} above.

\begin{exa}\label{ex:elim:br:C3.2}\nf
  In the \LLEEonechart\ $\bonechart$ below we assume all actions are the same,
  and indicate a \LLEEwitness\
  by green \loopentrytransitions\ of level~1, and blue ones of level 2. 
  $\bonechart$ contains the pair $\pair{\bverti{1}}{\bverti{2}}$ of \onebisimilar\ vertices
  that is of `reduced' form~(C3.2).
  Here $\bverti{1}$ can be eliminated by
  three steps two of which redirect transitions to \onebisimilar\ targets:
  \begin{flushleft}\vspace{-0.25ex}
    \input{figs/ex-elim-C-3-3.tex}
  \end{flushleft}\vspace{-1ex}
  The first step removes the loop at $\bvertbari{1}$, the second restores \LLEEonelim, 
  and in the third $\bverti{1}$ is eliminated.
  The result is the \onechart~$\bonechart'''$ with \LLEEonelim\ that is \onebisimilar\ to $\bonechart$.
\end{exa}
%
A procedure that eliminates all reduced \onebisimilarity\ redundancies except those of form (C3.4)
is able to approximate the bisimulation collapse of \LLEEonecharts\ while preserving \LLEE.
Additional simplifications suggest that the number of distinct, \onebisimilar\ vertices
in a minimized \LLEEonechart\ can be reduced to two, like in $\aonechart$ in Ex.~\ref{ex:limit-sp-collapse}. 
We believe that such an approximation procedure can be a crucial step in tackling the general problems {\bf (E)} and {\bf (A)}.



\smallskip
\noindent{\bf Relation to subsequent work that was published earlier.}
  This article was written as a preparation  
    for developing a solution of Milner's axiomatization problem {\bf (A)}.
  We did so by explaining why the proof-strategy that Fokkink and I had employed in \cite{grab:fokk:2020:lics} 
    for solving the special case of problem {\bf (A)} for \stexponefree\ star expressions in \cite{grab:fokk:2020:lics}
         does not generalize, at least not directly, to a successful proof strategy for the problem {\bf (A)} itself.
  Indeed, the proof-strategy in \cite {grab:fokk:2020:lics}
    was based on the property \ref{C} (preservation of \LEE\ under bisimulation collapse for charts).
  But we demonstrated here that \ref{C}  
      does not generalize to \onecharts, not even in its refinement form {\bf (RC)}
    (preservation under bisimulation collapse of the refinability of a \onechart\ into a \LLEEonechart).
  While this failure \ref{not-RC} of generalizing \ref{C} to \LLEEonecharts\ 
    only makes it impossible to use {\bf (RC)} for solving problem {\bf (A)},
      we expected that this fact forms a conceptual complication and significant stumbling block for \emph{any} completeness proof of Milner's proof system.
        %that \emph{any} completeness proof of Milner's proof system has to deal with in some way or the other.
  At the same time we already had in mind a possible solution to navigate this difficulty: 
    the use of \LLEEonechart\ approximations of bisimulation collapses.
    
  Indeed, we eventually described such a solution for {\bf (A)} later 
    in the summary \cite{grab:2022:lics} for LICS~2022 of a completeness proof of Milner's system.
  There, we based the development 
    on the counterexample for \LLEEpreserving\ bisimulation collapse that we described here in Section~\ref{counterexample}.
  Importantly, we  abstracted its main constitutive features in order to define the concept of `\twincrystal',
    for which the \onechart~$\aonechart$ in Ex.~\ref{ex:limit-sp-collapse} is a prime example.
  Then we crucially defined a `crystallization' technique 
    for the minimization of \LLEEonecharts\ under bisimilarity 
      with as results \LLEEonecharts\ that tightly approximate bisimulations collapses.
  We show that every weakly guarded \LLEEonechart\
    can be minimized under bisimilarity
      to a `crystallized' \LLEEonechart\
        that is collapsed with the possible exception of some strongly connected components that are of \twincrystal\ form.  
  
  Before we wrote down the solution of {\bf (A)} using the crystallization technique (in autumn 2021),
    we set out (in spring 2021) to find some concrete evidence for our expectation as expressed above:
      that \emph{any} completeness proof of Milner's proof system \milnersys\
        has to navigate, in some way or the other,
          the difficulty that is presented by the failure \ref{not-RC} of \LLEEpreserving\ bisimulation collapse of \LLEEonecharts.       
  We sought to obtain such evidence by investigating, and trying to characterize, the derivational power of the \emph{single-equation fixed-point rule~\RSPstar} in Milner's system.%
    \footnote{\RSPstar\ means `recursive specification principle' for single-fixed point equations by using iteration.
                From the fixed-point equation $e = f \cdot e + g$ it permits to infer the specification $e = f^* \cdot g$ of $e$, 
                  provided that $\notterminates{f}$ holds.}
  Indeed it is the a priori limited derivational power of that rule
    that presents the main difficulty for a completeness proof of \milnersys.
      This is because the system that arises from \milnersys\ by adopting a \emph{fixed-point rule \USP\ for guarded systems of equations}
          (here \USP\ stands short for `unique solvability principle')
        can be shown to be complete in a rather straightforward way. 
        
  In the article \cite{grab:2021:calco} for CALCO~2021 with report \cite{grab:2021:calco:arxiv} 
    we showed that the derivational power of the single-equation fixed-point rule \RSPstar\ in \milnersys\
      corresponds to the derivational power of a coinductive rule.
      That rule permits cyclic derivations of the form of guarded \LLEEonecharts\
        in order to infer that two \provablein{\milnersys} solutions (which occur in the derivations) of the used \LLEEonechart\ are equal 
          (at the start vertex of the \LLEEonechart). 
  By adding this coinductive rule to \milnersys\ and deleting the single-equation fixed-point rule \RSPstar,
    we defined a coinductive version \coindmilnersys\ of Milner's system~\milnersys.
  Then we showed by proof-theoretical interpretations in both directions that \coindmilnersys\ and \milnersys\ are \theoremequivalent. 
  
  In \cite{grab:2023:sjs:calco:2021} we extended the exhibition of this result %from \cite{grab:2021:calco,grab:2021:calco:arxiv} 
                                                                               in several ways.
  We also argued there that, since the coinductive version \coindmilnersys\ of \milnersys\
    can be viewed as being situated roughly half-way in between \milnersys\ and bisimulations between chart interpretations of star expressions,
       this new system \coindmilnersys\ may become a natural beachhead for a completeness proof of~\milnersys.    
  
  While we did not directly use the coinductive system \coindmilnersys\ as a beachhead for the completeness proof later in \cite{grab:2022:lics},  
    the characterization of derivability in \milnersys\ by derivability in \coindmilnersys\ in \cite{grab:2021:calco}
     convinced us of the expediency of the underlying concepts.
       In particular, 
         this result had tied derivability in \milnersys\ 
           closely to the concept of guarded \LLEEonecharts\ for expressing process interpretations of regular expressions.
  Use of this concept,
    together with the fact that \LLEEonecharts\ are uniquely solvable modulo provability in \milnersys\ 
        (as shown in \cite{grab:2021:calco,grab:2021:calco:arxiv,grab:2023:sjs:calco:2021})
      were crucial stepping stones for the completeness proof of \milnersys\ that we summarize~in~\cite{grab:2022:lics}.



% use section* for acknowledgment
\ifCLASSOPTIONcompsoc
  % The Computer Society usually uses the plural form
  \section*{Acknowledgment}
\else
  % regular IEEE prefers the singular form
  \section*{Acknowledgment}
\fi
%
\noindent
I want to thank a reviewer for LICS~2021 for 
 (i)~pointing out some deficient details (which we have corrected here),
     and
 (ii)~for mentioning in the review that the sticking point for the submission in the PC discussion 
      was that ``it is indeed only showing that a specific approach towards tackling {\bf (A)} is bound to fail''
        (our intuitive disagreement with this judgment
         motivated our work in \cite{grab:2021:calco,grab:2021:calco:arxiv}
           where we linked \LLEEonecharts\ closely to proofs in Milner's system,~see~above).
        
% trigger a 
% \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
% \IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

%\cleardoublepage
%-------------------
% references section
%-------------------
% can use a bibliography generated by BibTeX as a .bbl file
% BibTeX documentation can be easily obtained at:
% http://mirror.ctan.org/biblio/bibtex/contrib/doc/
% The IEEEtran BibTeX style support page is at:
% http://www.michaelshell.org/tex/ieeetran/bibtex/
%\newpage
%\nocite{*}
\bibliographystyle{IEEEbib}
% argument is your BibTeX string definitions and bibliography database(s)
%\bibliography{IEEEabrv,../bib/paper}
\bibliography{spa}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)
% \begin{thebibliography}{1}
% 
% \bibitem{IEEEhowto:kopka}
% H.~Kopka and P.~W. Daly, \emph{A Guide to \LaTeX}, 3rd~ed.\hskip 1em plus
%   0.5em minus 0.4em\relax Harlow, England: Addison-Wesley, 1999.
% 
% \end{thebibliography}



% %\newpage
% %------------------------------
% %% Bibliography
% \bibliography{BBP-complete.bib}
% %------------------------------

% that's all folks\
% 


\newpage\onecolumn%\mbox{}
%% Appendix
%=================== 
\appendices\raggedbottom
\bigskip
\section{Supplements, more proof details, and omitted proofs}%
% \section{Appendix: supplements, more proof details, and omitted proofs}%
% \section*{S \mbox{} Supplements (Appendix)}%
  \label{appendix}%
%===================
%\addtocounter{section}{19}  
% \footnotetext{\hspace*{0.5pt}%
%   {\nf\bf Guidelines appendix.}
%       `If necessary, detailed proofs of technical results may be included in a clearly-labeled appendix, 
%       to be consulted at the discretion of program committee members.'}    



%----------------------------------------------------
\subsection{Supplements for Section~\ref{procsem}: 
            Process semantics of star expressions}
%----------------------------------------------------
%
\begin{repeatedlem}[= Lem.~\ref{lem:chart-int:finite}]
  For every star expression $\astexp\in\StExpover{\actions}$,
  the chart interpretation $\chartof{\astexp}$ is a finite chart.
\end{repeatedlem} 
%
\begin{proof}[Proof (method)]
  Derivatives of a star expressions %$\astexp\in\StExpover{\actions}$
    with respect to the simpler TSS $\StExpTSSiover{0}{\actions}$ in Rem.~\ref{rem:def:StExpTSS}
  coincide with Antimirov's partial derivatives. % of $\astexp$.
  Then finiteness of chart interpretations defined according to $\StExpTSSiover{0}{\actions}$
  follows from Antimirov's result  \cite{anti:1996} that every regular expression only has finitely many iterated derivatives.
  In order to prove finiteness of chart interpretations as defined via $\StExpTSSover{\actions}$ in Def.~\ref{def:onechartof},
    a correspondence with a variation of partial derivatives can be defined,
    and for that a finiteness results can be shown analogously.
\end{proof}
%
%
\begin{repeatedlem}[= Lem.~\ref{lem:quasioneless:derivs:oneless}]
  The set $\quasionelessStExpover{\actions}$ of \quasioneless\ star expressions over $\actions$
  contains the set of (0, 1, or more times) iterated derivatives of \oneless\ expressions 
  from the set $\onelessStExpover{\actions}$ of \oneless\ star expressions over $\actions$. 
\end{repeatedlem}
% 
\begin{proof}[Proof]
   Derivatives according to the \TSS~$\StExpTSSover{\actions}$ of \oneless\ star expressions are \quasioneless\ star expressions.
   (Note that, for example, letters $\aact\in\actions$, which are \oneless, have $\stexpone$ as derivative, which is \quasioneless).
   Furthermore, derivatives of \quasioneless\ star expressions are \quasioneless.
   Both statements can be verified by straightforward proofs that proceed 
   by structural induction on the grammar of \oneless, and of \quasioneless\ star expressions, respectively. 
\end{proof}


\begin{repeatedprop}[= Prop.~\ref{prop:im:chart-int:for:onefree:closed}]
  The image of the %set $\quasionelessStExpover{\actions}$ of 
                   \quasioneless\ star expressions 
  via the chart interpretation~$\chartof{\cdot}$ %$ \funin \StExpover{\actions} \to \chartsover{\actions}$ 
  is closed under the operation of bisimulation collapse modulo isomorphism.
\end{repeatedprop}
%
% 
This statement can be shown (see on page~\pageref{proof:prop:im:chart-int:for:onefree:closed} below) 
with a refinement of the results and the methods for \stexponefree\ star expressions in $\stexponefreeStExpover{\actions}$ (with binary star iteration~$\sstexpbit$)
in \cite{grab:fokk:2020:lics,grab:fokk:2020:lics:arxiv}
here for the corresponding \quasioneless\ star expressions (with unary star iteration).
For this result the careful formulation of the TSS in Def.~\ref{def:StExpTSS} is crucial, see Rem.~\ref{rem:def:StExpTSS}.
that uses normedness case distinctions in the rules for product and star.

In \cite{grab:fokk:2020:lics} the first of the following two statements have been shown,
and the third is a property of the extraction procedures for provable solutions defined there:  
%
\begin{enumerate}[label={\bf (SE)},leftmargin=*,align=right,labelsep=0.75ex,itemsep=0.35ex]
  \item[{\bf (I)$_{\text{\st{1}}}^{\sstexpbit}$}]  
    The chart interpretation $\chartof{\astexp}$ of a \stexponefree\ star expression $\astexp\in\stexponefreeStExpover{\actions}$ is a \LLEEchart. 
    (See Proposition~3.7 in \cite{grab:fokk:2020:lics}). 
    
  \item[{\bf (C)}]
    % \LEE\ is preserved under bisimulation collapse. 
    The bisimulation collapse of a \LLEEchart\ is again a \LLEEchart. 
    (See Theorem~6.9 in \cite{grab:fokk:2020:lics}).
    
  \item[{\crtcrossreflabel{{\bf (E)$_{\text{\st{1}}}^{\sstexpbit}$}}[E_st-1]}]
    From every \LLEEchart~$\achart = \tuple{\verts,\actions,\start,\transs,\exts}$ with \LLEEwitness~$\acharthat$ 
    a function $\sextrsolof{\acharthat} \funin \verts \to \stexponefreeStExpover{\actions}$ that produces \stexponefree\ star expressions can be extracted 
    such that $\achart \bisim \chartof{\extrsolof{\acharthat}{\start}}$ holds,
    that is, such that $\achart$ is bisimilar to the
    chart interpretation $\chartof{\extrsolof{\acharthat}{\start}}$ of $\extrsolof{\acharthat}{\start}$. 
    (This can be shown for the extraction function defined in Definition~5.3 in \cite{grab:fokk:2020:lics}
     where $\sextrsolof{\acharthat}$ is shown to be a solution of $\achart$ that is provable in the proof system \BBP, see Proposition~5.5 in \cite{grab:fokk:2020:lics}.)
\end{enumerate}
%
Statement~{\bf (E)$_{\text{\st{1}}}^{\sstexpbit}$} 
  can be established by showing that the relation 
    $\scomprels{\graphof{\sextrsolof{\acharthat}}}
               {\bigl(\sbisimon{\LTSof{\StExpover{\actions}}}\cap\bigl(\vertsof{\chartof{\extrsolof{\acharthat}{\start}}}\times\vertsof{\chartof{\extrsolof{\acharthat}{\start}}})\bigr)\bigr)}$,
  the composition of the graph of $\sextrsolof{\acharthat}$ with bisimilarity $\sbisimon{\LTSof{\StExpover{\actions}}}$ on the \LTS\
  defined by the process (chart) interpretation of all star expressions
  but restricted to $\chartof{\extrsolof{\acharthat}{\start}}$, is a bisimulation between $\achart$ and $\chartof{\extrsolof{\acharthat}{\start}}$. 
  

Now {\bf (I)$_{\text{\st{1}}}^{\sstexpbit}$} can be transferred in a straightforward manner to apply to \quasioneless\ star expressions.
Furthermore, by refining the extraction procedure, and thus by slightly redefining solutions extracted from \LLEEcharts, 
statement {\bf (E)$_{\text{\st{1}}}^{\sstexpbit}$} can be strengthened to stating that there is actually a functional bisimulation from a \LLEEchart~$\achart$ to 
the chart interpretation $\chartof{\extrsolof{\acharthat}{\start}}$ of the solution extracted from $\acharthat$. 
We gather these two statements:
%
\begin{enumerate}[label={\bf (SE)},leftmargin=6.75ex,align=right,labelsep=0.75ex,itemsep=0.35ex]
  \item[{\bf (I)$_{\text{\st{1}}}$}]  
    The chart interpretation $\chartof{\astexp}$ of a \quasioneless\ star expression $\astexp\in\quasionelessStExpover{\actions}$ is a \LLEEchart. 
  \item[{\bf (E)$_{\text{\st{1}}}^{\text{(ref)}}$}]
    From every \LLEEchart~$\achart = \tuple{\verts,\actions,\start,\transs,\exts}$ with \LLEEwitness~$\acharthat$ 
    a function $\sextrsolof{\acharthat} \funin \verts \to \quasionelessStExpover{\actions}$ can be extracted 
    such that $\achart \funbisimvia{\sextrsolof{\acharthat}} \chartof{\extrsolof{\acharthat}{\start}}$ holds,
    that is, $\extrsolof{\acharthat}{\start}$
    defines, as its graph,
    a bisimulation from $\achart$ to the chart interpretation $\chartof{\extrsolof{\acharthat}{\start}}$ of $\extrsolof{\acharthat}{\start}$.
    (See Prop.~\ref{prop:extrsol:iso:chart-int:if:collapse} below.)
\end{enumerate}


Now we describe the adaptation of the extraction procedure that is necessary to prove {\bf (E)$_{\text{\st{1}}}^{\text{(ref)}}$}.
In order to bring solutions extracted from \LLEEwitnesses\ into close correspondence with derivatives as defined by the TSS~$\StExpTSS$, 
the redefinition of extracted solutions needs to refine the definition of extracted solutions in Definition~5.3 in \cite{grab:fokk:2020:lics}
in the following two respects: 
\begin{enumerate}[label={(\alph{*})},align=right]
  \item{}\label{refinement-a:def:extrsoluntil}
    The relative extraction function $\extrsoluntilof{\acharthat}{\bvert}{\avert}$
    is defined first only in the two cases $\bvert \dloopsbackto \avert$, that $\bvert$ directly loops back to $\avert$,
    and $\bvert \notloopsbackto$, that $\bvert$ does not loop back to another vertex,
    and is then extended by an inductive clause for the remaining case $\bvert \dloopsbackto \bvertbar \neq \avert$,
    that $\bvert$ loops back to another vertex, but does not directly loop back to $\avert$. 
  \item{}\label{refinement-b:def:extrsoluntil}
    In order to take into account that derivatives of \oneless\ star expressions always create an occurrence of $\stexpone$
    at the left of the leftmost product occurrence in the expression, a version $\extrsolinituntilof{\acharthat}{\astexp}{\bvert}{\avert}$ 
    of the relativized extraction function has to be defined that drops a star expression $\astexp$ 
    immediately left of the leftmost product position of the (as in \ref{refinement-a:def:extrsoluntil}) adapted relativized extraction function $\sextrsoluntilof{\acharthat}$.
\end{enumerate}
%
\begin{nota}\nf
  For a \LLEEwitness~$\acharthat = \tuple{\verts,\actions,\start,\transshat,\exts}$ of a chart $\achart = \tuple{\verts,\actions,\start,\transs,\exts}$
  we introduce the following notation for the set of transitions that depart from a given vertex $\bvert\in\verts\,$:
  %
  \begin{align*}
    \transshatfrom{\bvert}
      \: & \defdby \:
        \transshat \cap \bigl( \setexp{\bvert}\times(\actions\times\nat)\times\verts \bigr)
        \\
          \: & = \:
        \descsetexp{ \triple{\bvert}{\pair{\aact}{\alab}}{\bvertacc} }
                   { \triple{\bvert}{\pair{\aact}{\alab}}{\bvertacc} \in \transshat } \punc{.}  
  \end{align*}
\end{nota}



\begin{defi}\label{def:extrsolinituntil}\nf
  Let $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ be a \LLEEchart\ with \LLEEwitness~$\acharthat = \tuple{\verts,\actions,\start,\transshat,\exts}$. 
  %
  The \emph{relative initializing extraction function} $\extrsolinituntilof{\acharthat}{\cdot}{\cdot}{\cdot}$ of $\acharthat$ 
  is the following function that produces star expressions:
  %
  \begin{align*}
    \extrsolinituntilof{\acharthat}{\cdot}{\cdot}{\cdot} 
      \funin 
        \StExpsover{\actions} \times ((\verts\times\verts) \cap {\sconvdescendsinlooptotc})
          & \longrightarrow \StExpsover{\actions}
        \\
        \triple{\astexp}{\bvert}{\avert} & \longmapsto \extrsolinituntilof{\acharthat}{\astexp}{\bvert}{\avert} \punc{,}
  \end{align*}
  %
  and that is defined, for all \emph{initializing star expressions} $\astexp\in\StExpsover{\actions}$,
  and for all $\bvert,\avert\in\verts$ with $\avert \descendsinlooptotc \bvert$ as follows:
  %
  \begin{equation*}
    \extrsolinituntilof{\acharthat}{\astexp}{\bvert}{\avert}
      \; \defdby \;
        \begin{cases}
          \stexpprod{\bigl(
                       \stexpprod{\astexp}
                                 {\stexpit{\bigl(
                                             \stexpsum{\sum_{i=1}^{n_1} \aacti{i}}
                                                      {\sum_{i=1}^{n_2} {\extrsolinituntilof{\acharthat}{\bacti{i}}{\bverti{i}}{\bvert}}}  
                                           \bigr)}}
                     \bigr)}
                    {\bigl(
                       \sum_{i=1}^{n_4} \extrsolinituntilof{\acharthat}{\dacti{i}}{\cverti{i}}{\avert}
                     \bigr)}
             \quad & \text{if } \bvert \notloopsbackto \text{ and  \eqref{eq:1:def:extrsolinituntil}} \punc{,}
          \\[0.75ex]
          \stexpprod{\bigl(
                       \stexpprod{\astexp}
                                 {\stexpit{\bigl(
                                             \stexpsum{\sum_{i=1}^{n_1} \aacti{i}}
                                                      {\sum_{i=1}^{n_2} {\extrsolinituntilof{\acharthat}{\bacti{i}}{\bverti{i}}{\bvert}}}  
                                           \bigr)}}
                     \bigr)}
                    {\bigl(
                       \stexpsum{ \sum_{i=1}^{n_3} \cacti{i} }
                                { \sum_{i=1}^{n_4} \extrsolinituntilof{\acharthat}{\dacti{i}}{\cverti{i}}{\avert}} 
                     \bigr)}
             \quad & \text{if } \bvert \dloopsbackto \avert \text{ and  \eqref{eq:2:def:extrsolinituntil}} \punc{,}
          \\[0.75ex]
          \extrsolinituntilof{\acharthat}{\extrsolinituntilof{\acharthat}{\astexp}{\bvert}{\bvertbar}}{\bvertbar}{\avert}
                 & \text{if } \bvert \dloopsbackto \bvertbar \neq \avert \punc{,}
        \end{cases}
  \end{equation*}
  %
  where we assume that the set of transitions from $\bvert$ in $\acharthat$ have the representations:
  %
  \begin{align}
    &
    \left.
    \begin{aligned}
      \transshatfrom{\bvert} 
        \: = \:
          \begin{aligned}[t]
            \setexpbig{ \bvert \lti{\aacti{1}}{\loopsteplab{\alabi{1}}}     \bvert, \, 
                          \ldots, \,
                        \bvert \lti{\aacti{n_1}}{\loopsteplab{\alabi{n_1}}} \bvert }
            & {} \cup
            \setexpbig{ \bvert \lti{\bacti{1}}{\loopsteplab{\alabi{1}}}     \bverti{1}, \, 
                          \ldots, \,
                        \bvert \lti{\bacti{n_2}}{\loopsteplab{\alabi{n_2}}} \bverti{n_2} }
            \\[-0.25ex]
            & {} \cup
            \setexpbig{ \bvert \lti{\dacti{1}}{\bodylab}     \cverti{1}, \, 
                          \ldots, \,
                        \bvert \lti{\dacti{n_4}}{\bodylab} \cverti{n_4} } 
            \\[0.5ex]
            & \phantom{ {} \cup {}}
            \text{with $\bverti{1},\ldots,\bverti{n_2} \neq \bvert$,%
                  \phantom{ and $\cverti{1},\ldots,\cverti{n_4} \neq \avert$,}}
          \end{aligned}
    \end{aligned}
    \quad\right\}
      \label{eq:1:def:extrsolinituntil}  
    \\[0.5ex]
    &
    \left.
    \begin{aligned}
      \transshatfrom{\bvert}
      \: = \:
        \begin{aligned}[t]
          \setexpbig{ \bvert \lti{\aacti{1}}{\loopsteplab{\alabi{1}}}     \bvert, \, 
                        \ldots, \,
                      \bvert \lti{\aacti{n_1}}{\loopsteplab{\alabi{n_1}}} \bvert }
          & {} \cup
          \setexpbig{ \bvert \lti{\bacti{1}}{\loopsteplab{\alabi{1}}}     \bverti{1}, \, 
                        \ldots, \,
                      \bvert \lti{\bacti{n_2}}{\loopsteplab{\alabi{n_2}}} \bverti{n_2} }
          \\[-0.25ex]
            {} \cup
          \setexpbig{ \bvert \lti{\cacti{1}}{\bodylab}     \avert, \, 
                        \ldots, \,
                      \bvert \lti{\cacti{n_3}}{\bodylab} \avert }
          & {} \cup
          \setexpbig{ \bvert \lti{\dacti{1}}{\bodylab}     \cverti{1}, \, 
                        \ldots, \,
                      \bvert \lti{\dacti{n_4}}{\bodylab} \cverti{n_4} } \punc{,} 
            \\[0.5ex]
            & \phantom{ {} \cup {}}
            \text{with $\bverti{1},\ldots,\bverti{n_2} \neq \bvert$,
                  and $\cverti{1},\ldots,\cverti{n_4} \neq \avert$,} 
      \end{aligned}                
    \end{aligned}
    \quad\right\}
      \label{eq:2:def:extrsolinituntil}                   
  \end{align}
  %
  for $n_1,n_2,n_3,n_4\in\nat$, $\aacti{1},\ldots,\aacti{n_1},\bacti{1},\ldots,\bacti{n_2},\cacti{1},\ldots,\cacti{n_3},\dacti{1},\ldots,\dacti{n_4}\in\actions$,
  and $\alabi{1},\ldots,\alabi{n_1},\alabacci{1},\ldots,\alabacci{n_2}\in\nat\setminus\setexp{0}$,
  and where the definition proceeds 
  by induction on the lexicographic ordering $\slexspo$ of the \wellfounded\ relations $\sconvredtci{\bodylab}$ and $\sconvdescendsinlooptotc$ 
    on pairs $\pair{\bvert}{\avert}$ of vertices
  with precedence given to the second component such that $\slexspo$ is defined, for all $\bverti{1},\bverti{2},\averti{1},\averti{2}\in\verts$, by: 
  \begin{equation}
    \pair{\bverti{1}}{\averti{1}}
      \lexspo
    \pair{\bverti{2}}{\averti{2}}
      \;\; \defdbyequiv \;\;
        \averti{1} \convdescendsinlooptotc \averti{2}
          \,\logor\,
        \bigl(\,
          \averti{1} = \averti{2} 
            \logand
          \bverti{1} \convredtci{\bodylab} \bverti{2} 
        \,\bigr)  \punc{.}
  \end{equation}
\end{defi}


\begin{defi}\label{def:extrsollist}\label{def:extrsol}\nf
  Let $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ be a \LLEEchart\ with \LLEEwitness~$\acharthat = \tuple{\verts,\actions,\start,\transshat,\exts}$. 
  %
  The \emph{extraction function} $\sextrsolof{\acharthat}$ of $\acharthat$
  is defined by using the \emph{initialized extraction function} $\extrsolinitof{\acharthat}{\cdot}{\cdot}$ of $\acharthat$,
  where these functions have the types:
  %
  \begin{gather*}
    %        
    \begin{aligned}
      \sextrsolof{\acharthat} 
        \funin 
          \verts & \longrightarrow \StExpsover{\actions}
            \\
          \bvert & \longmapsto \extrsolof{\acharthat}{\bvert} \punc{,}     
    \end{aligned} 
    %
    \qquad\qquad
    %
    \begin{aligned}
      \extrsolinitof{\acharthat}{\cdot}{\cdot}
        \funin
          \StExpsover{\actions} \times \verts & \longrightarrow \StExpsover{\actions}        
          \\
          \pair{\astexp}{\bvert} & \longmapsto \extrsolinitof{\acharthat}{\astexp}{\bvert} \punc{,}
    \end{aligned}
    %
  \end{gather*}
  %
  and are defined, for all initializing star expressions $\astexp\in\StExpsover{\actions}$, and for all $\bvert\in\verts$, as follows: 
  %
  \begin{align*}
    \extrsolof{\acharthat}{\bvert}
      \; & \defdby \;
        \extrsolinitof{\acharthat}{\stexpone}{\bvert} \punc{,}
        \\[1.5ex]
    \extrsolinitof{\acharthat}{\astexp}{\bvert}
      \; & \defdby \;
        \begin{cases}
          \stexpprod{\bigl(
                       \stexpprod{\astexp}
                                 {\stexpit{\bigl(
                                             \stexpsum{\sum_{i=1}^{n_1} \aacti{i}}
                                                      {\sum_{i=1}^{n_2} \extrsolinituntilof{\acharthat}{\bacti{i}}{\bverti{i}}{\bvert}}  
                                           \bigr)}}
                     \bigr)}
                    {\bigl(
                       \sum_{i=1}^{n_4} \extrsolinitof{\acharthat}{\dacti{i}}{\cverti{i}}
                     \bigr)}
             \quad & \text{if } \bvert \notloopsbackto \text{ and \eqref{eq:1:def:extrsolinituntil}}, 
          \\[0.75ex]
          \extrsolinitof{\acharthat}{\extrsolinituntilof{\acharthat}{\astexp}{\bvert}{\bvertbar}}{\bvertbar}
                 & \text{if } \bvert \dloopsbackto \bvertbar \punc{,}
        \end{cases}
  \end{align*}
  % 
  where the definition of $\extrsolinitof{\acharthat}{\cdot}{\cdot}$ 
  makes use of the relativized initializing extraction function $\extrsolinituntilof{\acharthat}{\cdot}{\cdot}{\cdot}$,
  and induction on the \wellfounded\ relation $\sconvredtci{\bodylab}$,
  noting that the first case in the definition of $\extrsolinitof{\acharthat}{\cdot}{\cdot}$
  assumes, like in Def.~\ref{def:extrsolinituntil}, that
  the set of transitions of $\acharthat$ from $\bvert$ is of the form \eqref{eq:1:def:extrsolinituntil}
  for some 
  for $n_1,n_2,n_4\in\nat$, $\aacti{1},\ldots,\aacti{n_1},\bacti{1},\ldots,\bacti{n_2},\dacti{1},\ldots,\dacti{n_4}\in\actions$,
  and $\alabi{1},\ldots,\alabi{n_1},\alabacci{1},\ldots,\alabacci{n_2}\in\nat$.
\end{defi}  

\begin{lem}\label{lem:extrsol:prod:quasioneless}
  Values of the extraction function $\sextrsolof{\acharthat}$ for the \LLEEwitness~$\acharthat$ of a chart~$\achart = \tuple{\verts,\actions,\start,\transs,\exts}$
  are \quasioneless\ star expressions.
  Thus the extraction function of $\acharthat$ has type $\sextrsolof{\acharthat} \funin \verts \to \quasionelessStExpover{\actions}$.
\end{lem}


\begin{lem}\label{lem:extrsolinituntil}
  Let $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ be a chart with \LLEEwitness~$\acharthat$. 
  Then the initializing extraction function $\sextrsolinitof{\acharthat}$ of $\acharthat$ 
  has the following properties, for all $\astexp\in\StExpsover{\actions}$, and $\bvert,\avert\in\verts$:
  \begin{align}
    \avert \descendsinlooptotc \bvert \loopsbacktortc \avert
      \;\;\Longrightarrow\;\; &
        \extrsolinituntilof{\acharthat}{\astexp}{\bvert}{\avert} \text{ is normed} \punc{,}
    \\
    \avert \descendsinlooptotc \bvert \notloopsbacktortc \avert
      \;\;\Longrightarrow\;\; &
        \extrsolinituntilof{\acharthat}{\astexp}{\bvert}{\avert} \text{ is not normed} \punc{,}
    \\    
    \bverti{3} \descendsinlooptotc \bverti{2} \descendsinlooptotc \bverti{1} \loopsbacktortc \bverti{2}
      \;\;\Longrightarrow\;\; &
        \extrsolinituntilof{\acharthat}{\astexp}{\bverti{1}}{\bverti{3}}
          =
        \extrsolinituntilof{\acharthat}{\extrsolinituntilof{\acharthat}{\astexp}{\bverti{1}}{\bverti{2}}}{\bverti{2}}{\bverti{3}} \punc{,}
    \\
    \bverti{3} \descendsinlooptotc \bverti{2} \descendsinlooptotc \bverti{1} \notloopsbacktortc \bverti{2} 
      \;\;\Longrightarrow\;\; & 
        \extrsolinituntilof{\acharthat}{\astexp}{\bverti{1}}{\bverti{3}}
          =
        \extrsolinituntilof{\acharthat}{\astexp}{\bverti{1}}{\bverti{2}} \punc{.}
  \end{align}
\end{lem}


\begin{lem}\label{lem:extrsolinit}
  Let $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ be a chart with \LLEEwitness~$\acharthat$. 
  Then the relativized initializing extraction function $\sextrsolinituntilof{\acharthat}$ of $\acharthat$ 
  has the following properties, for all $\astexp\in\StExpsover{\actions}$, and $\bvert,\avert\in\verts$:
  \begin{align}
    \bverti{2} \descendsinlooptotc \bverti{1} \loopsbacktortc \bverti{2}
      \;\;\Longrightarrow\;\; &
        \extrsolinitof{\acharthat}{\astexp}{\bverti{1}}
          =
        \extrsolinitof{\acharthat}{\extrsolinituntilof{\acharthat}{\astexp}{\bverti{1}}{\bverti{2}}}{\bverti{2}} \punc{,}
        \text{ where $\extrsolinituntilof{\acharthat}{\astexp}{\bverti{1}}{\bverti{2}}$ is normed} \punc{.}
    \\
    \bverti{3} \descendsinlooptotc \bverti{2} \descendsinlooptotc \bverti{1} \notloopsbacktortc \bverti{2}
      \;\;\Longrightarrow\;\; & 
        \extrsolinitof{\acharthat}{\astexp}{\bverti{1}}
          =
        \extrsolinituntilof{\acharthat}{\astexp}{\bverti{1}}{\bverti{2}} \punc{,} \text{ which is not normed} \punc{.}
  \end{align}
\end{lem}



\begin{lem}\label{lem:extrsol:funbisim:onechart-int}
  Let $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ be a chart with \LLEEwitness~$\acharthat$. 
  Then the solution $\sextrsolof{\acharthat} \funin \verts \to \quasionelessStExpover{\actions}$ of $\achart$ that is extracted from $\acharthat$
  defines a bisimulation from $\achart$ to the chart interpretation $\chartof{\extrsolof{\acharthat}{\start}}$ of $\extrsolof{\acharthat}{\start}$,
  and hence
  $\achart \funbisimvia{\sextrsolof{\acharthat}} \chartof{\extrsolof{\acharthat}{\start}}$.
\end{lem}

\begin{proof}[Proof (hint)]
  The statement of the lemma can be shown by arguing, for all $\bvert\in\verts$, 
  along the case distinction
  in the definition of $\extrsolof{\acharthat}{\bvert} = \extrsolinitof{\acharthat}{\stexpone}{\bvert}$
  to show that, for each $\aact\in\actions$, the \derivativesact{\aact} of $\extrsolof{\acharthat}{\bvert}$ coincide with the values of $\sextrsolof{\acharthat}$ 
  that are reached via, in the definition of $\sextrsolof{\acharthat}$ corresponding, \transitionsact{\aact} from $\bvert$.
  In the argument, Lem.~\ref{lem:extrsolinit} and Lem.~\ref{lem:extrsolinituntil} are used.
\end{proof}



\begin{prop}[corresponds to statement {\bf (E)$_{\text{\st{1}}}^{\text{(ref)}}$}]\label{prop:extrsol:iso:chart-int:if:collapse}
  Let $\achart = \tuple{\verts,\actions,\start,\transs,\termexts}$ be a chart with \LLEEwitness~$\acharthat$ such that $\achart$ is a bisimulation collapse. 
  Then the solution $\sextrsolof{\acharthat} \funin \verts \to \quasionelessStExpover{\actions}$ of $\achart$ %that is 
                                                                                                that is extracted from $\acharthat$
  defines an isomorphism from $\achart$ to the chart interpretation $\chartof{\extrsolof{\acharthat}{\start}}$ of $\extrsolof{\acharthat}{\start}$,
  and hence
  $\achart \iso \chartof{\extrsolof{\acharthat}{\start}}$.
\end{prop}

\begin{proof}
  By Lemma~\ref{lem:extrsol:funbisim:onechart-int}, $\sextrsolof{\acharthat}$ 
  defines a functional bisimulation from $\achart$ to $\chartof{\extrsolof{\acharthat}{\start}}$.
  If $\achart$ is collapsed, it follows that also $\chartof{\extrsolof{\acharthat}{\start}}$ must be collapsed,
  and that $\sextrsolof{\acharthat}$ defines an isomorphism between $\achart$ and $\chartof{\extrsolof{\acharthat}{\start}}$. 
\end{proof}


\begin{proof}[Proof of Prop.~\ref{prop:im:chart-int:for:onefree:closed}]\label{proof:prop:im:chart-int:for:onefree:closed}
  Suppose that a chart~$\achart$ is in the image of the chart interpretation of the set of \quasioneless\ star expressions over $\actions$.
  That means, $\achart = \chartof{\astexp}$ for a \quasioneless\ star expression $\astexp\in\quasionelessStExpover{\actions}$. We pick $\astexp$ accordingly. 
  We have to show that also the bisimulation collapse $\acharti{0} = \tuple{\vertsi{0},\actions,\starti{0},\transs,\exts}$ of $\achart$ 
  is in the image of the chart interpretation of the set of \quasioneless\ star expressions.
  
  From $\achart = \chartof{\astexp}$ it follows by {\bf (I)$_{\text{\st{1}}}$} that $\achart$ is a \LLEEchart.
  As a consequence of {\bf (C)} we get that the bisimulation collapse $\acharti{0}$ of $\achart$ is a \LLEEchart\ as well.
  Therefore we can pick a \LLEEwitness~$\acharthati{0}$ of $\acharti{0}$.
  Then due to {\bf (E)$_{\text{\st{1}}}^{\text{(ref)}}$}, as also stated by Prop.~\ref{prop:extrsol:iso:chart-int:if:collapse} 
  it follows that $\acharti{0} = \chartof{\extrsolof{\acharthati{0}}{\starti{0}}}$,
  and $\extrsolof{\acharthati{0}}{\starti{0}}$ is a \quasioneless\ star expression. 
  Therefore also the bisimulation collapse $\acharti{0}$ of $\achart$
  is in the image of the chart interpretation of \quasioneless\ star expressions. 
\end{proof}



%\newpage
%---------------------------------------------------------
\subsection{Supplements for Section~\ref{refined:procsem}: 
            Refined process semantics}
%---------------------------------------------------------
%
%
\begin{lem}[= Lem.~\ref{lem:derivability:StExpTSS:StExpTSSone}]\label{app:lem:derivability:StExpTSS:StExpTSSone}%
  Derivability of statements concerning termination, and transitions in~$\StExpTSSover{\actions}$, and in $\StExpTSSoneover{\actions}$ 
  are related as follows, for all $\astexp,\astexpacc\in\StExpover{\actions}$, and $\aact\in\actions\,$:
  \begin{align}
    \derivablein{\StExpTSSover{\actions}} \,
      \terminates{\astexp}
          & \;\;\Longleftrightarrow\;\;\;
    \derivablein{\StExpTSSoneover{\actions}} \,
      \astexp
        \ltrtc{\sone}
      \stexpone \punc{,}
        \label{app:eq:1:lem:derivability:StExpTSS:StExpTSSone}
    \\
    \derivablein{\StExpTSSover{\actions}} \,
      \astexp
        \lt{\aact}
      \astexpacc
          & \;\;\Longleftrightarrow\;\;\;
    \derivablein{\StExpTSSoneover{\actions}} \,
      \astexp
        \comprewrels{\sltrtc{\sone}}{\slt{\aact}}
      \astexpacc
        \punc{.} 
        \label{app:eq:2:lem:derivability:StExpTSS:StExpTSSone}                    
  \end{align}
\end{lem}
%
For the proof of this lemma we use an extension of the \TSS~$\StExpTSSoneover{\actions}$ 
by rules that permit to describe induced transitions, and induced termination with respect to $\StExpTSSover{\actions}$.
%
\begin{defi}\label{def:indTSS:StExpTSS}\nf 
  We denote by $\StExpindTSSoneover{\actions}$
  \emph{the \TSS\ for induced termination, and for induced transitions with respect to $\StExpTSSoneover{\actions}$}
  that results by adding, to the axioms and rules of $\StExpTSSoneover{\actions}$,
  the following four rules: \vspace*{-1ex}
  \begin{center}
  $
  \begin{aligned}
    &
    \AxiomC{$ \phantom{\oneterminates{\stexpone}\rule[-4pt]{0pt}{15pt}} $}
    \UnaryInfC{$ \oneterminates{\stexpone}\rule[-4pt]{0pt}{11.5pt} $}
    \DisplayProof
    & \hspace*{1ex} &
    \AxiomC{$ \astexp \lt{\sone} \astexptilde $}
    \AxiomC{$ \oneterminates{\astexptilde} $}
    \BinaryInfC{$ \oneterminates{\astexp} $}
    \DisplayProof
    & & \hspace*{2ex} & &
    \AxiomC{$ \astexp \lt{\aact} \astexpacc \rule[-3pt]{0pt}{19.5pt} $}
    \UnaryInfC{$ \astexp \ilt{\aact} \astexpacc $}
    \DisplayProof
    & \hspace*{1ex} &
    \AxiomC{$ \astexp \lt{\sone} \astexptilde \rule[-3pt]{0pt}{19.5pt}$}
    \AxiomC{$ \astexptilde \ilt{\aact} \astexpacc \rule[-3pt]{0pt}{19.5pt}$}
    \BinaryInfC{$ \astexp \ilt{\aact} \astexpacc $}
    \DisplayProof
  \end{aligned}
  $
\end{center}
\end{defi}
%  
With respect to this extension of $\StExpTSSoneover{\actions}$ we can reformulate, and prove more easily,
the statement of Lem.~\ref{lem:derivability:StExpTSS:StExpTSSone} as follows.
% 
\begin{lem}\label{lem:derivability:StExpTSS:StExpindTSSone}
  Derivability of statements concerning termination, and transitions in~$\StExpTSSover{\actions}$, and in $\StExpindTSSoneover{\actions}$ 
  are related as follows, for all $\astexp,\astexpacc\in\StExpover{\actions}$, and $\aact\in\actions\,$:
  \begin{align}
    \derivablein{\StExpTSSover{\actions}} \,
      \terminates{\astexp}
          & \;\;\Longleftrightarrow\;\;\;
    \derivablein{\StExpindTSSone} \,
      \oneterminates{\astexp} \punc{,}
        \label{eq:1:lem:derivability:StExpTSS:StExpindTSSone}
    \\
    \derivablein{\StExpTSSover{\actions}} \,
      \astexp
        \lt{\aact}
      \astexpacc
          & \;\;\Longleftrightarrow\;\;\;
    \derivablein{\StExpindTSSoneover{\actions}} \,
      \astexp
        \ilt{\aact}
      \astexpacc
        \punc{.} 
        \label{eq:2:lem:derivability:StExpTSS:StExpindTSSone}                   
  \end{align}
\end{lem}  
%  
\begin{proof}[Proof (method)]
  The directions ``$\Rightarrow$'' in \eqref{eq:1:lem:derivability:StExpTSS:StExpindTSSone} and in \eqref{eq:2:lem:derivability:StExpTSS:StExpindTSSone}
  can be established with easy proofs by induction 
    on the depth of derivations with conclusion $\terminates{\astexp}$
                            and with conclusion $\astexp \lt{\aact} \astexpacc$ in $\StExpTSSover{\actions}$,
  thereby transforming these derivations step by step into derivations            
                                with conclusion $\oneterminates{\astexp}$
                            and with conclusion $\astexp \ilt{\aact} \astexpacc$ in $\StExpindTSSoneover{\actions}$, respectively.             
  
  Vice versa,
  the directions ``$\Leftarrow$'' in \eqref{eq:1:lem:derivability:StExpTSS:StExpindTSSone} and in \eqref{eq:2:lem:derivability:StExpTSS:StExpindTSSone}
  can be established with proofs by induction
    on the depth of derivations with conclusion $\oneterminates{\astexp}$
                            and with conclusion $\astexp \ilt{\aact} \astexpacc$ in $\StExpindTSSoneover{\actions}$,
  thereby transforming these derivations step by step into derivations 
                                with conclusion $\terminates{\astexp}$
                            and with conclusion $\astexp \lt{\aact} \astexpacc$ in $\StExpTSSover{\actions}$, respectively.
\end{proof}
%
On the basis of this additional lemma, Lem.~\protect\ref{app:lem:derivability:StExpTSS:StExpTSSone} can be established easily indeed.
%   
\begin{proof}[Proof (of Lem.~\protect\ref{app:lem:derivability:StExpTSS:StExpTSSone})] 
   Derivability of $\oneterminates{\astexp}$ in $\StExpindTSSoneover{\actions}$ is equivalent
     to derivability of $\astexp \ltrtc{\sone} \stexpone$ in $\StExpTSSoneover{\actions}$, for all $\astexp\in\StExpover{\actions}$. 
   Also,
   derivability of $\astexp \ilt{\aact} \astexpacc$ in $\StExpindTSSoneover{\actions}$ is equivalent
     to derivability of $\astexp \comprewrels{\sltrtc{\sone}}{\slt{\aact}} \astexpacc$ in $\StExpTSSoneover{\actions}$.
   These two statements can be proved by straightforward proofs by induction on the depth of derivations.
   
   By applying these two statements that link derivability in $\StExpindTSSoneover{\actions}$ with derivability in $\StExpTSSover{\actions}$,
   the statements \eqref{app:eq:1:lem:derivability:StExpTSS:StExpTSSone} and \eqref{app:eq:2:lem:derivability:StExpTSS:StExpTSSone}
   of Lem.~\ref{app:lem:derivability:StExpTSS:StExpTSSone}
   follow from 
   the statements \eqref{eq:1:lem:derivability:StExpTSS:StExpindTSSone} and \eqref{eq:2:lem:derivability:StExpTSS:StExpindTSSone}
   of Lem.~\ref{lem:derivability:StExpTSS:StExpindTSSone}, respectively. 
\end{proof}
% 
% 
\begin{samepage}
\begin{repeatedlem}[= Lem.~\ref{lem:onechart-int:fin:wg}]
  For every $\astexp\in\StExpover{\actions}$,
  the \onechart\ interpretation $\onechartof{\astexp}$ of $\astexp$ is a finite, weakly guarded \onechart.
\end{repeatedlem}
%
\begin{proof}
  The size $\stexpsize{\astexp}$ of a star expression $\astexp$ (that is, the number of its symbols) decreases strictly along \onetransitions,
  that is, if $\astexpi{1} \lt{\sone} \astexpi{2}$ is a \onetransition\ that is specified by the \TSS~$\StExpTSSoneover{\actions}$,
  then $\stexpsize{\astexpi{1}} > \stexpsize{\astexpi{2}}$ holds. 
  This can be verified by a straightforward induction on derivations in $\StExpTSSoneover{\actions}$ with \onetransitions\ in their conclusions.
  %
  Consequently, the \onechart\ interpretation $\onechartof{\astexp}$ of a star expression $\astexp$ 
  cannot contain an infinite path of \onetransitions. Therefore $\onechartof{\astexp}$ is weakly guarded, for every star expression $\astexp$. 
  
  $\onechartof{\astexp}$ is also finitely branching, by a similar argument.
    The actions that occur in derivatives of a star expression $\astexpi{1}$ are among those that occur in $\astexpi{1}$.
    Since the size of an expression decreases properly in every \onetransition\ $\astexpi{1} \lt{\sone} \astexpi{2}$, 
    it follows that targets $\astexpi{2}$ of such \onetransitions\ are among the finitely many star expressions of size smaller than $\stexpsize{\astexpi{1}}$
    in which only actions occur that also occur in $\astexpi{1}$. 
    Therefore there can be only finitely many \onetransitions\ from a star expression $\astexpi{1}\in\StExpTSSover{\actions}$. 
  
  Finiteness of the \onechart\ interpretation $\onechartof{\astexp}$ follows from weak guardedness, for all $\astexp\in\StExpover{\actions}$,
  due to the following two facts:
  first, $\onechartof{\astexp}$ \onetransition\ refines the chart interpretation $\chartof{\astexp}$ of $\astexp$,
    because induced transitions with respect to $\StExpTSSoneover{\actions}$ 
    refine transitions with respect to $\StExpTSSover{\actions}$ due to \eqref{app:eq:2:lem:derivability:StExpTSS:StExpTSSone};
  and second, the chart interpretation $\chartof{\astexp}$ of a star expression $\astexp$ is finite due to Lem.~\ref{lem:chart-int:finite}. 
  It follows that the vertex set of $\onechartof{\astexp}$ consists of the vertices of $\chartof{\astexp}$ plus all vertices that
  are reachable from these vertices by \onetransitions. Since due to weak guardedness there can be no infinite \onetransition\ paths,
  and the \onetransition\ relation is finitely branching, it follows by K\"{o}nig's Lemma that for every vertex $\avert$ of $\chartof{\astexp}$
  there can be only finitely many more vertices that are added in $\onechartof{\astexp}$ 
  by \onetransitions\ to additional vertices that are not \propertransition\ targets. (Note that \propertransition\ targets of $\onechartof{\astexp}$
  are also vertices of $\chartof{\astexp}$ due to the refinement property \eqref{app:eq:2:lem:derivability:StExpTSS:StExpTSSone}.)  
\end{proof}
\end{samepage}
%
% 
\begin{repeatedlem}[= Lem.~\ref{lem:otelimred}]
  The \onetransition\ elimination rewrite relation $\sotelimred$ has the following properties,
  for all \onecharts~$\aonechart,\aonecharti{1}, \aonecharti{2}$:
  \begin{enumerate}[label={(\roman{*})},leftmargin=*,align=right,itemsep=0.25ex]
    \item{}%\label{it:1:lem:otelimred}
      If $\aonecharti{1}$ is weakly guarded, and $\aonecharti{1} \otelimredrtc \aonecharti{2}$,
      then 
      $\acharti{2}$ is finite and \wg, and
      $\cardinality{\vertsof{\acharti{1}}} -1 
         \le 
       \cardinality{\vertsof{\acharti{2}}}
         \le
       \cardinality{\vertsof{\acharti{1}}}$.  
      
    \item{}%\label{it:2:lem:otelimred}
      $\sotelimred$ is terminating from every finite \wg\ \onechart. 
      
    \item{}%\label{it:3:lem:otelimred}
      $\sotelimred$ normal forms are \onefree\ \onechart.
      $\sotelimred$ normal forms of finite, \wg\ \onecharts\
      are finite \onefree\ \onecharts. 
      
    \item{}%\label{it:4:lem:otelimred}
      $\aonecharti{1} \otelimredrtc \aonecharti{2}
         \;\;\Longrightarrow\;\;
           \indchart{(\aonecharti{1})}
             =
           \indchart{(\aonecharti{2})} \punc{.}$
           
    \item{}%\label{it:5:lem:otelimred}
      If $\aonechart$ is finite and weakly guarded, and $\achart$ is \onefree, then:
      \\
      $\mbox{}\qquad
       \aonechart \otelimredrtc \achart
         \;\;\Longleftrightarrow\;\;
           \indchart{(\aonechart)}
             =
           \achart \punc{.}$
    \item{}%\label{it:6:lem:otelimred}
      If $\aonechart$ is finite, and weakly guarded, then
      $\aonechart
         \otelimredrtc
       \indscchartof{\aonechart}$,
      that is, $\aonechart$ \onetransitionrefines\ its induced~chart~$\indscchartof{\aonechart}$,
      and $\indscchartof{\aonechart}$ is the unique $\sotelimred$ normal form of $\aonechart$.
  \end{enumerate}      
\end{repeatedlem}      
% 
% 
\begin{proof}
  For \ref{it:1:lem:otelimred} it suffices to note:
  every $\sotelimred$ step can only shorten \onetransition\ paths, but it cannot introduce a \onetransition\ cycle;
  in every $\sotelimred$ step at most one vertex, the target $\avert$ of the \onetransition\ that is removed, can become unreachable. 
  
  For \ref{it:2:lem:otelimred} it suffices to obtain
  a measure $\fap{m}{\aonechart}$ on finite \wg\ \onecharts~$\aonechart$ that decreases properly in every $\sotelimred$ step from $\aonechart$.
  We can use $\fap{m}{\aonechart} \defdby \sum_{\avert\in\vertsof{\aonechart}} \fap{\iap{s}{\aonechart}}{\avert}$ where   
  $\fap{\iap{s}{\aonechart}}{\avert}$ denotes the sum of the lengths of all maximal \onetransition\ paths from~$\avert$. 
  Note that, for both rules in Def.~\ref{def:otelimred}, the length of every maximal \onetransition\ path from $\averti{0}$ decreases by~1,
  whereas maximal \onetransition\ paths from other vertices are either preserved, or are also shortened by~1 if they~pass~through~$\averti{0}$. 
  
  For \ref{it:3:lem:otelimred} we note that every \onetransition\ gives rise to a $\sotelimred$ step,
  so normal forms do not contain \onetransitions,
  and that by \ref{it:1:lem:otelimred}, \ref{it:2:lem:otelimred} every finite \wg\ \onechart\ rewrites via finitely many $\sotelimred$ steps
  to a normal form that is finite~and~\wg.

  Statement~\ref{it:4:lem:otelimred} can be shown by induction on the length of $\sotelimred$ paths
  by using that every $\sotelimred$ step preserves induced transitions and induced termination. 
  The direction ``$\Rightarrow$'' in \ref{it:5:lem:otelimred} follows from \ref{it:4:lem:otelimred}
  and that $\indchart{\achart} = \achart$ for \onefree\ \onecharts~$\achart$. 
  For showing the direction ``$\Leftarrow$'' in \ref{it:5:lem:otelimred}, suppose that 
  $\indchart{(\aonechart)} = \achart$ for finite \wg\ \onecharts~$\aonechart$, $\achart$ where $\achart$ is \onefree.  
  We have to show $\indchartof{\aonechartacc} = \achart$. 
  Then $\aonechart \otelimredrtc \aonechartacc$ for an $\sotelimred$ normal form $\aonechartacc$ by \ref{it:2:lem:otelimred},
  which is finite, \wg, and \onefree\ by \ref{it:3:lem:otelimred}. Then we get $\indchartof{\aonechartacc} = \indchartof{\aonechart} = \achart$
  by using \ref{it:4:lem:otelimred}, and thus obtain $\indchartof{\aonechartacc} = \achart$.
  
  Last, \ref{it:6:lem:otelimred}  follows from ``$\Leftarrow$'' in \ref{it:5:lem:otelimred},
  % by
  letting~\mbox{$\achart \defdby \indchart{\aonechart}$},
  and by recalling \ref{it:3:lem:otelimred}. 
\end{proof}



%\newpage
%----------------------------------------------------
\subsection{Supplements for Section~\ref{LLEEwitnesses}: 
            LLEE-witnesses for 1-charts}
%----------------------------------------------------
%

\begin{repeatedthm}[= Thm.~\ref{thm:onechart-int:LLEEw}]
  The \entrybodylabeling~$\onecharthatof{\astexp}$ of $\onechartof{\astexp}$ is a \LLEEwitness\ of 
  the \onechart\ interpretation $\onechartof{\astexp}$ of $\astexp$,
  for every $\astexp\in\StExpover{\actions}$.
  %
  Therefore the \onechart\ interpretation $\onechartof{\astexp}$ of a star expression \mbox{$\astexp\in\StExpover{\actions}$} satisfies \LEE.
\end{repeatedthm}
%


The proof of this theorem can be given as an adaptation  
of the proof of a similar statement that is proved in \cite{grab:2021:TERMGRAPH-postproceedings,grab:2020:scpgs-arxiv}.
There, a different version of the \onechart\ interpretation of star expressions is defined 
together with an \entrybodylabeling\ (see Rem.~\ref{rem:grab:2021:TERMGRAPH-postproceedings}) that is proved to be a \LLEEwitness.
We only sketch the most important steps and lemmas of the adaptation.

% We adapt that proof for the \onechart\ interpretation $\onechartof{\astexp}$ of star expressions $\astexp$ as defined here (see Def.~\ref{def:onechartof})
%   and the \entrybodylabeling\ $\onecharthatof{\astexp}$ of $\onechartof{\astexp}$ (see Def.~\ref{def:onechart}).
% For that purpose, however, the language of star expressions needed to be extended.
% Also, the version of the \onechart\ interpretation define there does not directly \onetransition\ refine the chart interpretation of star expressions
% (a property that we need in the context of this paper). 

\smallskip
Thm.~\ref{thm:onechart-int:LLEEw}
states that the \entrybodylabeling\ $\onecharthatof{\astexp}$ from Def.~\ref{def:onecharthatof}
is a \LLEEwitness\ for the \onechart\ interpretation $\onechartof{\astexp}$ of~$\astexp$. 
The proof of the theorem can be assembled from three auxiliary statements, 
  Lemma~\ref{lem:steps:appcxt}, Lemma~\ref{lem:bodypaths:stexpprod}, and Lemma~\ref{lem:thm:onechart-int:LLEEw} below.
%  
% Thm.~\ref{thm:onechart-int:LLEEw} states that the \entrybodylabeling\ $\onechartof{\astexp}$ from Def.~\ref{def:onecharthatof}
% is a \LLEEwitness\ for the \onechart\ interpretation $\onechartof{\astexp}$, for every star expression $\astexp$. 
% As a preparation for verifying that the properties of a \LLEEwitness\ are fulfilled, 
% we prove a number of technical statements in Lemma~\ref{lem:bodypaths:stexpprod}, and Lemma~\ref{lem:thm:onechart-int:LLEEw} below.
%
For the formulation of these lemmas, % Lemma~\ref{lem:bodypaths:stexpprod}, and Lemma~\ref{lem:thm:onechart-int:LLEEw}
we introduce the set $\AppCxtover{\actions}$ of \emph{applicative contexts of stacked star expressions} over $\actions$ 
by which we mean the set of contexts that are defined by the grammar:
\begin{center}
  $
  \acxtwh
    \;\;\;\BNFdefdby\;\;\;
      \Box
        \;\BNFor\;
      \stexpprod{\acxtwh}{\astexp}
        \qquad\text{(where $\astexp\in\StExpover{\actions}$)} \punc{.}   
  $
\end{center}

  
The first lemma states that transitions with normed targets of \entrybodylabelings\ defined by the TSS~$\StExpTSSonehatover{\actions}$ in Def.~\ref{def:onecharthatof} 
are preserved under the operation of filling star expressions into applicative contexts.
Lem.~\ref{lem:bodypaths:stexpprod} describes \bodytransition\ paths from product expressions filled in applicative contexts, 
and Lem.~\ref{lem:thm:onechart-int:LLEEw} gathers important properties of paths and steps of transitions. 


\begin{lem}\label{lem:steps:appcxt}
  If $\astexpacc$ is normed, and $\astexp \redi{\alab} \astexpacc$ is derivable in $\StExpTSSonehatover{\actions}$,
  then so is $\acxtap{\astexp} \redi{\alab} \acxtap{\astexpacc}$,
  for every $\darkcyan{\alab} \in \setexp{\bodylabcol} \cup \descsetexp{ \darkcyan{\loopnsteplab{\aLname}} }{ \aLname\in\natplus }$.
\end{lem}

\begin{proof}
  By induction on the structure of applicative contexts, using the rules for $\sstexpprod$ in $\StExpTSSonehatover{\actions}$.
\end{proof}

\begin{lem}\label{lem:bodypaths:stexpprod}
  Every maximal $\sredi{\bodylab}$ path according to $\StExpTSSonehatover{\actions}$, 
  for $\astexp,\bstexp\in\StExpover{\actions}$, 
  is of either of the following three forms: 
  \begin{enumerate}[label={(\roman{*})},leftmargin=*,align=right,labelsep=1ex,itemsep=0.5ex]
    \item{}\label{path:1:it:2:lem:bodypaths:stexpprod}
      $ \acxtap{\stexpprod{\astexp}{\bstexp}}
          =
        \acxtap{\stexpprod{\astexpi{0}}{\bstexp}}  
          \redi{\bodylab}
        \acxtap{\stexpprod{\astexpi{1}}{\bstexp}}  
          \redi{\bodylab}
        \ldots
          \redi{\bodylab}
        \acxtap{\stexpprod{\astexpi{n}}{\bstexp}}
          \redi{\bodylab}
        \ldots  
      $  
      is finite or infinite%
        \footnote{But note that Lem.~\ref{lem:thm:onechart-int:LLEEw}, \ref{it:1:lem:thm:onechart-int:LLEEw}, below then excludes infinite $\sredi{\bodylab}$ paths.}
      with normed star expressions $\astexpi{0},\astexpi{1},\ldots,\astexpi{n},\ldots\in\StExpover{\actions}$  
      such that
      $\astexpi{0}
         \redi{\bodylab}
       \astexpi{1}
         \redi{\bodylab}
       \ldots
         \redi{\bodylab}
       \astexpi{n}
         \redi{\bodylab}
       \ldots  
      \;$,
    \item{}\label{path:2:it:2:lem:bodypaths:stexpprod}
      $ \acxtap{\stexpprod{\astexp}{\bstexp}}
          =
        \acxtap{\stexpprod{\astexpi{0}}{\bstexp}}  
          \redi{\bodylab}
        \acxtap{\stexpprod{\astexpi{1}}{\bstexp}}  
          \redi{\bodylab}
        \ldots
          \redi{\bodylab}
        \acxtap{\stexpprod{\astexpi{n}}{\bstexp}}
          =
        \acxtap{\stexpprod{\stexpone}{\bstexp}} 
          \redi{\bodylab}
        \acxtap{\bstexp}
          \redi{\bodylab}  
        \ldots  
      $
      with $n\in\nat$, and normed star expressions $\astexpi{0},\astexpi{1},\ldots,\astexpi{n}\in\StExpover{\actions}$     
      such that
      $\astexpi{0}
         \redi{\bodylab}
       \astexpi{1}
         \redi{\bodylab}
       \ldots
         \redi{\bodylab}
       \astexpi{n}
         =
       \stexpone  
      $, 
    \item{}\label{path:3:it:2:lem:bodypaths:stexpprod}
      $ \acxtap{\stexpprod{\astexp}{\bstexp}}
          =
        \acxtap{\stexpprod{\astexpi{0}}{\bstexp}}  
          \redi{\bodylab}
        \acxtap{\stexpprod{\astexpi{1}}{\bstexp}}  
          \redi{\bodylab}
        \ldots
          \redi{\bodylab}
        \acxtap{\stexpprod{\astexpi{n}}{\bstexp}}
          \redi{\bodylab}
        \astexpi{n+1}
          \redi{\bodylab}      
        \ldots  
      $
      with $n\in\nat$, and normed star expressions $\astexpi{0},\astexpi{1},\ldots,\astexpi{n}\in\StExpover{\actions}$  
      and not normed $\astexpi{n+1}$  
      such that
      $\astexpi{0}
         \redi{\bodylab}
       \astexpi{1}
         \redi{\bodylab}
       \ldots
         \redi{\bodylab}
       \astexpi{n}
         \redi{\bodylab}
       \astexpi{n+1}
         \redi{\bodylab}  
       \ldots
      $.
  \end{enumerate}
\end{lem}


\begin{lem}\label{lem:thm:onechart-int:LLEEw}
  The following statements hold for paths of transitions that are induced by the \TSS~$\StExpTSSonehatover{\actions}$:
  \begin{enumerate}[label={(\roman{*})},align=right,leftmargin=*,itemsep=0.5ex]
    \item{}\label{it:1:lem:thm:onechart-int:LLEEw}
      There are no infinite $\sredi{\bodylab}$ paths. 
    
    \item{}\label{it:2:lem:thm:onechart-int:LLEEw}
      If $\astexp\in\StExpover{\actions}$ is normed,
      then $\astexp \redrtci{\bodylab} \stexpone$. 
      
    \item{}\label{it:3:lem:thm:onechart-int:LLEEw}
      If $\astexp \redi{\looplab{n}} \astexpacc$ with $n>0$ and $\astexp,\astexpacc\in\StExpover{\actions}$,
      then
      $\astexp = \acxtap{\stexpit{\bstexp}}$,
      $\bstexp \redi{\alab} \bstexpacci{0}$,
      $\astexpacc = \acxtap{ \stexpprod{\bstexpacci{0}}{\stexpit{\bstexp}} }$,
      and $n = \sth{\bstexp} + 1$,
      for some $\bstexp\in\StExpover{\actions}$, $\acxtwh\in\AppCxtover{\actions}$, and normed $\bstexpacci{0}\in\StExpover{\actions}$. 
      
    \item{}\label{it:4:lem:thm:onechart-int:LLEEw}
      Neither $\sredi{\bodylab}$ and $\sredi{\looplab{n}}$ steps,
      where $n\ge 1$, increase the (syntactic) star height of expressions. 
\end{enumerate}
\end{lem}
%
% \begin{proof}
%   For statement~\ref{it:1:lem:thm:onechart-int:LLEEw} 
%   we prove that there is no infinite $\sredi{\bodylab}$ path from any $\cstexp\in\StExpover{\actions}$,
%   by structural induction on $\cstexp\in\StExpover{\actions}$.
%   For $\cstexp = \stexpzero$ and $\cstexp = \stexpone$ there are no steps possible at all, 
%   because there is no rule with conclusion $\cstexp \lti{\aoneact}{\alab} \cstexpacc$ in the TSS~$\StExpTSSonehatover{\actions}$. 
%   For $\cstexp = \aact$, where $\aact\in\actions$, the single step possible is $\cstexp \lti{\aact}{\bodylab} \stexpone$,
%   which cannot be extended by any further steps. 
%   For $\cstexp = \stexpsum{\astexpi{1}}{\astexpi{2}}$ it holds, due to the TSS rule for $\sstexpsum$, % in $\StExpTSSonehat$, 
%   that every $\sredi{\bodylab}$ path $\cstexp \redi{\bodylab} \cstexpacc \redi{\bodylab} \ldots$ from $\cstexp$
%   gives rise to also a path  $\astexpi{i} \redi{\bodylab} \cstexpacc \redi{\bodylab} \ldots$ from $\astexpi{i}$, for $i\in\setexp{1,2}$. 
%   Since by induction hypothesis the $\sredi{\bodylab}$ path from $\astexpi{i}$ cannot be infinite, this follows also for the $\sredi{\bodylab}$ path from $\cstexp$.
%   Now we let $\cstexp = \stexpprod{\astexp}{\bstexp}$ for $\astexp\in\StExpover{\actions}$ and $\astexp\in\StExpover{\actions}$. 
%   Then every maximal $\sredi{\bodylab}$ path from $\cstexp$ 
%   is of the form \ref{path:1:it:2:lem:bodypaths:stexpprod} or of the form \ref{path:2:it:2:lem:bodypaths:stexpprod}
%   in by Lemma~\ref{lem:bodypaths:stexpprod}.
%   So it either has the length of a $\sredi{\bodylab}$ path from $\astexp$,
%   or $1$ plus the finite length of a $\sredi{\bodylab}$ path from $\astexp$, plus the length of a $\sredi{\bodylab}$ path from $\astexp$.
%   Since by induction hypothesis every $\sredi{\bodylab}$ path from $\astexp$ or from $\astexp$ is finite, 
%   it follows that every $\sredi{\bodylab}$ path from $\cstexp$ must have finite length as well.
%   For the remaining case $\cstexp = {\stexpit{\astexp}}$ with $\astexp\in\StExpover{\actions}$
%   we note that the single possible, maximal $\sredi{\bodylab}$ path from $\cstexp$ is $\cstexp \redi{\bodylab} \stexpone$.
%   This concludes the proof %by induction 
%                            of item~\ref{it:1:lem:thm:onechart-int:LLEEw}.
%   
%   Item~\ref{it:2:lem:thm:onechart-int:LLEEw} can be shown by induction on the structure of $\astexp\in\StExpover{\actions}$. 
%   We only consider the \nontrivial\ case in which $\astexp = \stexpprod{\astexpi{0}}{\stexpit{\astexp}}$, for $\astexp$ normed.
%   We have to show that there is $\cstexp\in\StExpover{\actions}$ with $\astexp \redrtci{\bodylab} \stexpone$.
%   We first observe that unless $\astexpi{0} = \stexpone$ holds, 
%   any step from $\astexp = \stexpprod{\astexpi{0}}{\stexpit{\astexp}}$ must, due to the TSS rules, be of the form
%   $\stexpprod{\astexpi{0}}{\stexpit{\astexp}} \redi{\alab} \stexpprod{\astexpacci{0}}{\stexpit{\astexp}}$ 
%   for some $\astexpacci{0}\in\StExpover{\actions}$ such that also $\astexpi{0} \redi{\alab} \astexpacci{0}$.
%   Therefore the assumption that $\astexp$ is normed implies that also $\astexpi{0}$ is normed.
%   Then we can apply the induction hypothesis for $\astexpi{0}$
%   in order to obtain a path $\astexpi{0} \redrtci{\bodylab} \stexpone$.
%   From this we get
%   $ \stexpprod{\astexpi{0}}{\stexpit{\astexp}}
%       \redrtci{\bodylab}
%     \stexpprod{\stexpone}{\stexpit{\astexp}} $
%   by Lemma~\ref{lem:steps:appcxt},
%   and 
%   $\stexpprod{\stexpone}{\stexpit{\astexp}} \redi{\bodylab} \stexpit{\astexp}$ 
%   by an axiom of $\StExpTSSonehatover{\actions}$. 
%   Consequently we find 
%   $ \astexp
%       =
%     \stexpprod{\astexpi{0}}{\stexpit{\astexp}}
%       \redrtci{\bodylab}
%     \stexpone}$,
%   we have obtained the proof obligation in this case.  
%  
%   Statement~\ref{it:3:lem:thm:onechart-int:LLEEw} can be proved by induction
%   on the depth of derivations in the TSS~$\StExpTSSonehat$.
%   This proof employs two crucial facts. 
%   First, every \entrystep\ is created by a step $\stexpit{\astexp} \redi{\looplab{n}} \stexpprod{\astexpacc}{\stexpit{\astexp}}$
%   with $\astexp \redi{\alab} \astexpacc$ and $n = \sth{\stexpit{\astexp}} = \sth{\astexp} + 1$, for some $\astexp\in\StExpover{\actions}$, $\astexpacc\in\StExpover{\actions}$,
%   and marking label $\alab$.
%   And second, \entrysteps\ are preserved under 
%   contexts $\stexpprod{\Box}{\astexp}$ and $\stexpprod{\Box}{\stexpit{\astexp}}$,
%   and hence are preserved under applicative contexts.
%   
%   Statement~\ref{it:4:lem:thm:onechart-int:LLEEw} can be proved by a straightforward induction
%   on the depth of derivations in the TSS~$\StExpTSSonehat$\hspace*{-3pt}.
% \end{proof}
 
%
\begin{proof}[Proof of Thm.~\ref{thm:onechart-int:LLEEw} (outline)]
  The goal is to show that the \entrybodylabeling~$\onecharthatof{\cstexp}$ defined by the TSS~$\StExpTSSonehatover{\actions}$ in Def.~\ref{def:onecharthatof}
  is a \LLEEwitness\ of the \onechart\ interpretation $\onechartof{\cstexp}$, for every star expression $\cstexp\in\StExpover{\actions}$.
  
  Instead of verifying the \LLEEwitness\ conditions~\ref{LLEEw:1}, \ref{LLEEw:2}, \ref{LLEEw:3}
  for all $\onecharthatof{\cstexp}$ where $\cstexp\in\StExpover{\actions}$ is arbitrary,
  the following four general statements can be shown, from which the proof goal follows (see below). 
  The conditions below are understood to be universally quantified 
  over all $\astexp,\astexpi{1},\bstexp,\bstexpi{1}\in\StExpover{\actions}$, and $n,m\in\nat$ with $n,m>0$:
  %
  \begin{enumerate}[label={\mbox{\rm (LLEE\hspace{0.7pt}-\hspace{0.7pt}\arabic*)}},leftmargin=*,align=left,itemsep=0.75ex]\vspace{-0.1ex}
    \item{}\label{LLEEw:alt:1}%
      $ \astexp 
          \redi{\looplab{n}} 
        \astexpi{1} 
          \;\Longrightarrow\;
        \astexpi{1} \redrtci{\bodylab} \astexp$,
        % \astexp \comprewrels{\sredi{\looplab{n}}}{\sredrtci{\bodylab}} \astexp$,
        
    \item{}\label{LLEEw:alt:2}%
      $\sredi{\bodylab}$ is terminating from $\astexp$,
      
    \item{}\label{LLEEw:alt:3}%
      $\astexp
         \comprewrels{\sredtavoidsvi{\astexp}{\looplab{n}}}{\sredtavoidsvrtci{\astexp}{\bodylab}} 
       \bstexp
           \;\Longrightarrow\;
       {\bstexp}\neq\stexpone $ \mbox{}
      (the premise means
       that $\bstexp$ is in $\indsubonechartinat{\widehat{\fap{\aonechart}{\cstexp}}}{\astexp,n}$
                            %$\indsubonechartinat{\aoneLTShat}{\astexp,n}$ 
                            such that $\bstexp\neq\astexp$),
      
    \item{}\label{LLEEw:alt:4}
      $\astexp
         \comprewrels{\sredtavoidsvi{\astexp}{\looplab{n}}}{\sredtavoidsvrtci{\astexp}{\bodylab}} 
       \bstexp
         \redi{\looplab{m}}
       \bstexpi{1}  
           \;\Longrightarrow\;
       n > m $,  
  \end{enumerate}\vspace{-0.1ex}    
  %
  Hereby $\sredtavoidsvi{\astexp}{\looplab{n}}$ and $\sredtavoidsvi{\astexp}{\bodylab}$ 
        means $\sredi{\looplab{n}}$ and $\sredi{\bodylab}$ steps,
        respectively, that avoid $\astexp$ as their \underline{t}argets.
 
  These four conditions imply that $\onecharthatof{\cstexp}$ is a \LLEEwitness, for all $\cstexp\in\StExpover{\actions}$.
  Let $\cstexp\in\StExpover{\actions}$ be arbitrary. 
  Then \ref{LLEEw:alt:2} obviously implies \ref{LLEEw:1} for $\onecharthatof{\cstexp}$.
  For each entry identifier $\pair{\astexp}{n}\in\entriesof{\onecharthatof{\cstexp}}$ it is straightforward to check that 
  the statements 
  \ref{LLEEw:alt:1}, \ref{LLEEw:alt:2}, and \ref{LLEEw:alt:3}
  imply that $\indsubonechartinat{\widehat{\fap{\aonechart}{\cstexp}}}{\astexp,n}$ satisfies the loop properties \ref{loop:1}, \ref{loop:2}, and \ref{loop:3}, respectively,
  to obtain \ref{LLEEw:2} for $\onecharthatof{\cstexp}$ 
  Finally, \ref{LLEEw:alt:4} clearly implies the condition \ref{LLEEw:3} for $\onecharthatof{\cstexp}$.
       
%   \smallskip      
%   For showing \ref{LLEEw:alt:1}, we suppose that $\astexp \redi{\looplab{n}} \astexpi{1}$ for some $\astexp,\astexpi{1}\in\StExpover{\actions}$.
%   We have to show $\astexp \comprewrels{\sredi{\looplab{n}}}{\sredrtci{\bodylab}} \astexp$.
%   By Lemma~\ref{lem:thm:onechart-int:LLEEw}, \ref{it:3:lem:thm:onechart-int:LLEEw}, 
%   $\astexp \redi{\looplab{n}} \astexpi{1}$
%   implies that $\astexp = \acxtap{\stexpit{\astexp}}$, $\astexp$ normed, $n = \sth{\astexp} + 1$,
%     for some $\astexp\in\StExpover{\actions}$ and $\acxtwh\in\AppCxtover{\actions}$.
%   Since $\astexp$ is normed, and because no \onetransitions\ can emanate from $\astexp$,
%   there must be some normed $\cstexp\in\StExpover{\actions}$, and $\aact\in\actions$
%   such that $\astexp \lti{\aact}{\alab} \cstexp$ holds. We pick $\cstexp$ accordingly.
%   Together with  $n = \sth{\astexp} + 1$ this implies $\stexpit{\astexp} \redi{\looplab{n}} \stexpprod{\cstexp}{\stexpit{\astexp}}$.
%   Since $\cstexp$ is normed, 
%   by Lemma~\ref{lem:thm:onechart-int:LLEEw}, \ref{it:2:lem:thm:onechart-int:LLEEw}
%   there are $k\in\nat$, $\cstexpi{0},\ldots,\cstexpi{k}\in\StExpover{\actions}$ such that
%   $\cstexp = \cstexpi{0} \redi{\bodylab} \ldots \redi{\bodylab} \cstexpi{k}$ and $\terminates{\cstexpi{k}}$.
%   Then 
%   $ \stexpprod{\cstexpi{k}}{\stexpit{\astexp}}
%       \redi{\bodylab}
%     \stexpit{\astexp}$,
%   and, by Lemma~\ref{lem:steps:appcxt},   
%   $\astexp = \acxtap{\stexpit{\astexp}}
%      \redi{\looplab{n}}
%    \acxtap{\stexpprod{\cstexpi{0}}{\stexpit{\astexp}}}
%      \redi{\bodylab}
%    \ldots
%      \redi{\bodylab}
%    \acxtap{\stexpprod{\cstexpi{k}}{\stexpit{\astexp}}}
%      \redi{\bodylab}    
%    \acxtap{\stexpit{\astexp}}
%      =
%    \astexp$.  
%   Hence $\astexp \comprewrels{\sredi{\looplab{n}}}{\sredrtci{\bodylab}} \astexp$.  
%   
%   \smallskip
%   For showing \ref{LLEEw:alt:3},
%   we suppose that 
%   $ \astexp 
%       \redi{\looplab{n}}
%     \astexpi{1}
%       \redi{\bodylab}
%     \ldots
%       \redi{\bodylab}
%     \astexpi{k}
%       =
%     \bstexp $
%   for $\astexp,\astexpi{1},\ldots,\astexpi{k},\bstexp\in\StExpover{\actions}$ 
%   with $\astexpi{1},\ldots,\astexpi{k},\bstexp \neq \astexp$, and $k\in\nat$, $k \ge 1$.
%   We have to show that $\bstexp\neq\stexpone$. 
%   By applying Lemma~\ref{lem:thm:onechart-int:LLEEw}, \ref{it:3:lem:thm:onechart-int:LLEEw}, 
%   $\astexp \redi{\looplab{n}} \astexpi{1}$
%   implies that 
%   $\astexp = \acxtap{\stexpit{\astexp}}$, 
%   % $\astexp$ normed, 
%   $\astexpi{1} = \acxtap{\stexpprod{\cstexp}{\stexpit{\astexp}}}$,
%   $\stexpit{\astexp} \redi{\looplab{n}} \stexpprod{\cstexp}{\stexpit{\astexp}}$,
%   for some $\astexp,\cstexp\in\StExpover{\actions}$, and $\acxtwh\in\AppCxtover{\actions}$.    
%   As now the considered path is of the form
%   $ \astexp = \acxtap{\stexpit{\astexp}} 
%       \redi{\looplab{n}}
%     \astexpi{1} = \acxtap{\stexpprod{\cstexp}{\stexpit{\astexp}}}
%       \redi{\bodylab}
%     \astexpi{2}
%       \redi{\bodylab}  
%     \ldots
%       \redi{\bodylab}
%     \astexpi{k}
%       =
%     \bstexp $, 
%   it follows from Lemma~\ref{lem:bodypaths:stexpprod}, 
%   due to $\astexpi{1},\ldots,\astexpi{k} \neq \astexp = \acxtap{\stexpit{\astexp}}$
%   that this path must be of form \ref{path:1:it:2:lem:bodypaths:stexpprod} there:
%   $ \astexp = \acxtap{\stexpit{\astexp}} 
%       \redi{\looplab{n}}
%     \astexpi{1} = \acxtap{\stexpprod{\cstexpi{0}}{\stexpit{\astexp}}}
%       \redi{\bodylab} 
%     \astexpi{2} = \acxtap{\stexpprod{\cstexpi{1}}{\stexpit{\astexp}}}
%       \redi{\bodylab}
%     \ldots
%       \redi{\bodylab}
%     \astexpi{k} = \acxtap{\stexpprod{\cstexpi{k}}{\stexpit{\astexp}}}
%       =
%     \bstexp $
%   for some $\cstexpi{0},\cstexpi{1},\ldots,\cstexpi{k}\in\StExpover{\actions}$ with $\cstexpi{0} = \cstexp$.
%   From the form $\acxtap{\stexpprod{\cstexpi{k}}{\stexpit{\astexp}}}$ of $\bstexp$
%   it is now clear that $\bstexp \neq \stexpone$. 
%   
%   \smallskip
%   For showing \ref{LLEEw:alt:4},
%   we suppose that 
%   $ \astexp 
%       \redi{\looplab{n}}
%     \astexpi{1}
%       \redi{\bodylab}
%     \ldots
%       \redi{\bodylab}
%     \astexpi{k}
%       =
%     \bstexp 
%       \redi{\looplab{m}}
%     \bstexpi{1}
%     $
%   for some $k,m,n\in\nat$, $k,m,n \ge 1$,   
%   and $\astexp,\astexpi{1},\ldots,\astexpi{k},\bstexp,\bstexpi{1}\in\StExpover{\actions}$ 
%   with $\astexpi{1},\ldots,\astexpi{k} \neq \astexp$.
%   We have to show that $n > m$.
%   Arguing analogously as for \ref{LLEEw:alt:3}
%   with Lemma~\ref{lem:thm:onechart-int:LLEEw}, \ref{it:3:lem:thm:onechart-int:LLEEw},
%   and Lemma~\ref{lem:bodypaths:stexpprod}
%   we find that the path is of the form 
%   $ \astexp = \acxtap{\stexpit{\astexp}} 
%       \redi{\looplab{n}}
%     \astexpi{1} = \acxtap{\stexpprod{\cstexpi{0}}{\stexpit{\astexp}}}
%       \redi{\bodylab} 
%     \astexpi{2} = \acxtap{\stexpprod{\cstexpi{1}}{\stexpit{\astexp}}}
%       \redi{\bodylab}
%     \ldots
%       \redi{\bodylab}
%     \astexpi{k} = \acxtap{\stexpprod{\cstexpi{k}}{\stexpit{\astexp}}}
%       =
%     \bstexp
%       \redi{\looplab{m}}
%     \bstexpi{1} $
%   for some $\cstexpi{0},\cstexpi{1},\ldots,\cstexpi{k}\in\StExpover{\actions}$
%   such that 
%   $n = \sth{\astexp} + 1$,
%   $\astexp \redi{\alab} \cstexpi{0}$ 
%   and 
%   $ \cstexpi{0}
%       \redi{\bodylab} 
%     \cstexpi{1}
%       \redi{\bodylab}
%     \ldots
%       \redi{\bodylab}
%     \cstexpi{k-1}
%       =
%     \bstexp
%       \redi{\looplab{m}}
%     \bstexpi{1} $.
%    Due to Lemma~\ref{lem:thm:onechart-int:LLEEw}, \ref{it:4:lem:thm:onechart-int:LLEEw},
%    it follows that 
%    $n = \sth{\astexp} + 1
%       > \sth{\astexp}
%       \ge \sth{\cstexpi{0}}
%       \ge \sth{\cstexpi{1}}
%       \ge \ldots
%       \ge \sth{\cstexpi{k}} $.
%    Since due to the loop step
%    $\acxtap{\stexpprod{\cstexpi{k}}{\stexpit{\astexp}}}
%       \redi{\looplab{m}} 
%     \bstexpi{1}$ 
%    can only originate from $\cstexpi{k}$,
%    we conclude by Lemma~\ref{lem:thm:onechart-int:LLEEw}, \ref{it:3:lem:thm:onechart-int:LLEEw}, 
%    that $\sth{\cstexpi{k}} \ge m$. 
%    From what we have obtained before, we conclude~$n > m$.        
        
   Then it is not difficult to verify
   the conditions \ref{LLEEw:alt:1}--\ref{LLEEw:alt:4} above.
   The arguments follow closely the proof of Lemma~5.13 in \cite{grab:2021:TERMGRAPH-postproceedings,grab:2020:scpgs-arxiv},
   using the slightly different versions of the last two lemmas above, 
   Lem.~\ref{lem:bodypaths:stexpprod} and Lem.~\ref{lem:thm:onechart-int:LLEEw}.
   %
   \renewcommand{\qed}{} 
\end{proof}  
  





%\newpage
%--------------------------------------------------------
\subsection{Supplements for Section~\ref{counterexample}: 
            Counterexample}
%--------------------------------------------------------



% \begin{center}
%   \scalebox{0.7}{\input{figs/ex-limit-collapse-lift-1.tex}}
%   %
%   \scalebox{0.7}{\input{figs/ex-limit-collapse-lift-1-gl-elim.tex}} 
% \end{center}
% 
% 
% 
% 
% 
% 
% \begin{center}
%   \scalebox{0.7}{\input{figs/ex-limit-collapse-lift-2.tex}}
% \end{center}
% 
% \begin{center}
%   \scalebox{0.7}{\input{figs/ex-limit-collapse-lift-2-gl-elim.tex}}
% \end{center}


\begin{repeatedlem}[= Lem.~\ref{lem:lem:thm:limit}]
  For every finite \onechart~$\bonechart$ with \LLEEonelim\
  there is a finite \onechart~$\bonechartacc$ with the same induced chart, that is, $\indchart{\bonechartacc} = \indchart{\bonechart}$,
  and with a \onetransition\ limited \LLEEwitness~$\bonecharthatacc$ such that it holds:
  \begin{enumerate}[label={\nf (ptt)},align=right,leftmargin=*] 
    \item{}
      If for a \loopentry\ identifier $\pair{\avert}{\aLname}\in\entriesof{\bonecharthatacc}$ 
      the loop \subonechart\ $\indsubonechartinat{\bonecharthataccsubscript}{\avert,\aLname}$ of $\bonechartacc$
      \begin{enumerate*}[label={(\alph{*})}]
        \item{}
          consists of a single~\scc,
        \item{}
          contains no other loop vertex than $\avert$ ($\avert$ is innermost),
          % does not contain a loop vertex different from $\avert$
          % (that is, $\pair{\avert}{\aLname}\in\entriesof{\bonecharthatacc}$ is innermost),
      \end{enumerate*}
      then it %$\indsubonechartinat{\bonecharthataccsubscript}{\avert,\aLname}$ 
      contains only \ul{p}roper-\ul{t}ransition \ul{t}argets~in~$\bonechartacc$. 
  \end{enumerate}      
\end{repeatedlem}  

% Lem.~\ref{lem:lem:thm:limit} does not hold without the restrictions~\ref{ptt:a} and \ref{ptt:b} in \ref{ptt}.
% The \onecharts~$\bonecharti{1}$ and $\bonecharti{2}$ below show that for \ref{ptt:a} and \ref{ptt:b}, respectively.
% $\bonecharti{1}$ satisfies \LLEEonelim\ due to the \onetransition\ limited \LLEEwitness~$\bonecharthati{1}$.
% $\bonecharti{1}$ would not satisfy \ref{ptt} without \ref{ptt:a},
% because while the \onechart\ $\indsubonechartinat{\bonecharthatsubscript}{\cverti{1},1}$ that is induced by the \loopentry\ identifier $\pair{\cverti{1}}{1}\in\entriesof{\bonecharthati{1}}$
% contains no other loop vertex than $\cverti{1}$ (\ref{ptt:b} holds),
% it contains $\cverti{1}$ which is not a \propertransition\ target~in~$\bcharti{1}$. 
% Note that $\indsubonechartinat{\bonecharthatsubscript}{\cverti{1},1}$ does not consist of a single \scc\ (\ref{ptt:a} fails).
% Furthermore, eliminating $\cverti{1}$ from $\bonecharti{1}$ by $\sotelimred$ steps as a vertex 
% that is not a \propertransition\ target would lead to the chart $\bcharti{1}$,
% which does not satisfy \LEE, and so is not~a~\mbox{\LLEEonechart}.\vspace{-0.5ex}
% %
% \begin{center}
%   \hspace*{-0.5ex}%
%   \input{figs/cexs-lem-lem-thm-limit-appendix.tex}  
% \end{center}\vspace{-0.5ex}
% %
% The \onechart~$\bonecharti{2}$ satisfies \LLEEonelim\ with \onetransition\ limited \LLEEwitness~$\bonecharthati{2}$.
% $\bonecharti{2}$ would not satisfy \ref{ptt} without proviso \ref{ptt:b},
% because while the \onechart\ $\indsubonechartinat{\bonecharthatsubscript}{\cverti{2},2}$ that is induced by the \loopentry\ identifier $\pair{\cverti{2}}{2}\in\entriesof{\bonecharthati{1}}$
% consists of a single \scc\ (\ref{ptt:a} holds), 
% it contains vertex $\cverti{2}$ which is not a \propertransition\ target~in~$\bonecharti{2}$. 
% Note that $\indsubonechartinat{\bonecharthatsubscript}{\cverti{2},2}$ contains two loop vertices other than $\cverti{2}$ (\ref{ptt:b} fails).
% Eliminating $\cverti{2}$ from $\bonecharti{2}$ by $\sotelimred$ steps as not a \propertransition -target vertex would lead to the chart $\bcharti{2}$,
% which does not satisfy \LEE, and so is not a \LLEEonechart.

\begin{proof}[Proof of Lem.~\ref{lem:lem:thm:limit}]
  It suffices to show that in a finite \onechart~$\bonechartacc$ with \LLEEonelim, and with a \onetransition\ limited \LLEEwitness~$\bonecharthatacc$
  every violation of \ref{ptt} for a \loopentry\ identifier $\pair{\avert}{\aLname}\in\entriesof{\bonecharthatacc}$ can be removed
  with as result a 
  finite \onechart~$\bonechartacc$ with a \onetransition\ limited \LLEEwitness~$\bonecharthatacc$ 
  that has one violation of \ref{ptt} less than $\bonechart$ and $\bonecharthat$,
  and that has the same induced chart as $\bonechart$, that is, $\indchart{\bonechartacc} = \indchart{\bonechart}$. 
  This is because repeated application of this transformation statement to a \onechart\ with \LLEEonelim~$\bonechart$
  then yields a \LLEEonechart~$\bonechartacc$ and a \LLEEwitness~$\bonecharthatacc$ with \ref{ptt} and with the same induced chart,
  as stated by the lemma. 
  
  Suppose that $\bonechart$ is a \onechart\ with \onetransition\ limited \LLEEwitness~$\bonecharthat$ 
  such that there is a violation of \ref{ptt}
  in the form of a \loopentry\ identifier $\pair{\avert}{\aLname}\in\entriesof{\bonecharthatacc}$
  such that $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ (a)~consists of a single \scc, (b)~is innermost, 
  but (c)~it contains vertices that are not \propertransition\ targets in $\bonechart$.
  
  We first show that $\avert$ is the single vertex of $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$
    that is not a \propertransition\ target in $\bonechart$.
  For this, let $\cvert$ be a vertex of $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ that is not a \propertransition\ target. 
  Then $\cvert$ must be the target of a \onetransition. But as \onetransitions\ are \backbindings\ in $\bonecharthat$ since $\bonecharthat$ is \onetransition\ limited,
  it follows that $\cvert$ must be a loop vertex of $\bonecharthat$. However, as $\avert$ is an innermost loop vertex of $\bonecharthat$ by assumption~(b),
  we conclude that $\cvert = \avert$. 
  Since $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ contains vertices that are not \propertransition\ targets by assumption~(c),
  it follows that $\avert$ must be such a vertex. Consequently it is the single vertex in $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ 
  that is not a \propertransition\ target.
  
  Next we note that
  $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ cannot contain a \onetransition\ self-loop at $\avert$,
  because $\bonechart$ is weakly guarded as a \onechart\ with \LLEEonelim. Therefore all transitions from $\avert$ in $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ 
  are proper transitions. We choose a maximal path $\apath$ of proper transitions from $\avert$ in $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$. 
  This path $\apath$ departs from $\avert$ in the first step, and does not return to $\avert$, because otherwise $\avert$ would be a \propertransition\ target.
  The path $\apath$ must be finite, due to loop \onechart\ condition \ref{loop:2} 
    on the loop \subonechart~$\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ of $\bonechart$.
  Therefore $\apath$ stops at a vertex $\bvert$ from which no further proper transition departs. 
  However, since $\indsubonechartinat{\bonecharthatsubscript}{\avert,\aLname}$ is an \scc\ by assumption~(a), there must be an outgoing \onetransition\ from $\bvert$.
  As $\bonechart$ is \onetransition\ limited, this \onetransition\ must be a \backbinding\ to $\avert$. 
  In the example below left, for \onechart~$\bonechart = \bonecharti{1}$ with \LLEEwitness~$\bonecharthati{1}$, 
    this vertex $\bvert$ is unique, but there are three possible paths from $\avert$ to $\bvert$. 
  In the example below right, for \onechart~$\bonechart = \bonecharti{2}$ with \LLEEwitness~$\bonecharthati{2}$, 
    there are two possible choices for $\bvert$ (of which only one is drawn).
  \begin{center}\vspace{0ex}
    $
    \begin{aligned}
      \input{figs/ex-lem-lem-thm-limit-appendix.tex}
    \end{aligned}  
    %
    \hspace*{3em}
    %
    \begin{aligned}
      \input{figs/ex-2-lem-lem-thm-limit-appendix.tex}
    \end{aligned}  
    $
  \end{center}\vspace{0ex}%\vspace{-1.5ex}
  Since the only outgoing transition from $\bvert$ in $\bonechart$ is a \onetransition\ to $\avert$ (by construction of $\bvert$), the vertices $\bvert$ and $\avert$
  are \onebisimilar\ in $\bonechart$ (as indicated by the magenta links in the pictures). 
  
  We can now transform $\bonechart$ and $\bonecharthat$ by removing $\avert$, and by letting the loop \subonechart\ start at $\bvert$ instead,
  transferring the \loopentrytransitions\ in $\bonecharthat$ from $\avert$ to $\bvert$, 
  directing \onetransition\ \backbindings\ in $\bonecharthat$ to $\avert$ now over to $\bvert$,
  and moving possible termination at $\avert$ over to $\bvert$ (see the second example above),
  as well as also changing the source of transitions that depart from $\avert$ to $\bvert$. 
  In this way we obtain from $\bonechart$ and $\bonecharthat$ a \onechart~$\bonechartacc$ with a \onetransition\ limited \LLEEwitness~$\bonecharthatacc$
  such that:
  \begin{itemize}[label=$\triangleright$]
    \item
      induced transitions in $\bonechart$ are preserved as induced transitions of $\bonecharthat$,
    \item  
      therefore $\indchart{\bonechartacc} = \indchart{\bonechart}$ follows,
    \item
      now $\indsubonechartinat{\bonecharthataccsubscript}{\avert,\aLname}$ consists only of \propertransition\ targets,
    \item
      other innermost loop \subonecharts\ of $\bonechart$ with respect to $\bonecharthat$ are not changed.      
  \end{itemize}
  In this way we have shown the proof obligation for the lemma.
\end{proof}
%
%
%\newpage\enlargethispage{3ex}
\begin{repeatedlem}[= Lem.~\ref{lem:thm:limit}]
  Neither of the \onecharts~$\aonecharti{1}$ and $\aonecharti{10}$ in Ex.~\ref{ex:limit-sp-collapse}
  can be \onetransitionrefined\ into a \wgLLEEonechart.
\end{repeatedlem}
%
% 
\begin{proof}[Part of the proof of Lem.~\ref{lem:thm:limit} for $\aonecharti{1}$ that is analogous to the argument for $\aonecharti{2}$ in the submission]
  In the proof of Lem.~\ref{lem:thm:limit} we had to show, 
  for the \onecharts~$\aonecharti{1}$ in Ex.~\ref{ex:limit-sp-collapse:collapses}, and $\aonecharti{2}$ defined in the proof, in particular:
  \begin{enumerate}[label={(S\arabic{*})},start=2,itemsep=0.5ex,itemindent=0.75em]
    % \item{}\label{S1}
    %   $\bonecharti{1} \in \setexp{ \aonecharti{1}, \aonecharti{2} }$,
    %   $\bonechart \neq \bonecharti{1}$, and $\bonechart \otelimredtc \bonecharti{1} \otelimred \acharti{10}$.   
    \item{} 
      Neither $\aonecharti{1}$ nor $\aonecharti{2}$ can be \onetransitionrefined\ into a \onechart\ with \LLEEonelim. 
  \end{enumerate}
  We argued that for $\aonecharti{2}$, and stated that the argument is analogous for $\aonecharti{1}$.
  Here we demonstrate that that is indeed the case. 
  
  We now assume that a \onechart~$\bonechart$ with \onetransition\ limited \LLEEwitness~$\bonecharthat$ is a \onetransition\ refinement of $\aonecharti{1}$. 
  Then $\bonechart \otelimredtc \aonecharti{1}$ follows, 
  because $\aonecharti{1}$ is not a \LLEEonechart\ (see Lem.~\ref{lem:ex:limit-sp-collapse:collapses}) contrary to $\bonechart$.
  
  % It is not possible to \onetransition\ refine $\aonecharthati{2}$ in the direction of the \onetransition\ limited \LLEEwitness~$\bonecharthat$
  % by adding other \onetransition\ \backbindings\ to a vertex that is already present in $\bonecharti{1}$.
  % Any such \backbinding\ $\triple{\cverti{1}}{\sone}{\cverti{2}}$ needed to start 
  % from a vertex $\cverti{1}$ with $\cverti{1} = \avert$ or $\cverti{1}$ outside the \subonechart\ of $\aonecharthati{1}$, 
  % and target a substate $\cverti{2}\neq\cverti{1}$ of $\cverti{1}$. 
  % But there is no vertex pair $\pair{\cverti{1}}{\cverti{2}}$ with $\cverti{2}\isonesubstateofin{\acharti{10}}\cverti{1}$, $\cverti{1}\neq\cverti{2}$,
  % and $\cverti{1}$ outside of $\indsubonechartinat{\aonecharthati{1}}{\avert,1}$.
  % In particular neither $\bvertbari{1}$ nor $\avert$ have substates different from themselves in $\aonecharti{1}$. 

  
  Now we note that $\aonecharti{1}$ cannot be \onetransitionrefined\ in the direction of the \onetransition\ limited \LLEEwitness~$\bonecharthat$
  by adding \onetransition\ \backbindings\ to vertices that are already present in $\aonecharti{1}$.
  This is because, in order to satisfy the layeredness condition \ref{LLEEw:3} for the \LLEEwitness~$\bonecharthat$,
  any such \backbinding\ needed to start  
  from $\avert$, or from a vertex outside of $\indsubonechartinat{\bonecharthatsubscript}{\avert,1}$
                                                (the \subonechart\ of $\aonecharti{1}$ delimited by $\bonecharthat$
                                                 and by its \entrybodylabeling~$\aonecharthati{1}$),
  and target a different of these vertices that furthermore needs to be a substate.
  But there is no such a vertex in $\aonecharti{2}$: %, because
  neither $\avert$ nor one of $\bvertbari{1}$, \tightfbox{$\cacti{1}$}, \tightfbox{$\cacti{2}$}, \tightfbox{$\efact$} outside of $\indsubonechartinat{\bonecharthatsubscript}{\avert,1}$
  is a substate of either of these five~vertices~in~$\aonecharti{1}$. 
  
  Consequently, the only option to refine $\aonecharthati{1}$ towards the \onetransition\ limited \LLEEwitness~$\bonecharthat$
  is to add a vertex $\cvert$ that is not a \propertransition\ target,
  with \onetransition\ \backbindings\ directed to it 
    from one of the five vertices $\avert$, $\bvertbari{1}$, \tightfbox{$\cacti{1}$}, \tightfbox{$\cacti{2}$}, or \tightfbox{$\efact$},
  and such that proper transitions in $\aonecharti{1}$ arise as induced transitions via $\cvert$. 
  The only option to simplify the structure is to share, 
  via the new vertex $\cvert$
  proper transitions from two of these five vertices.
  Such a \nontrivial\ sharing of transitions is possible only between $\bvertbari{1}$ and $\avert$,
  because none of other pairs of vertices have an action label of an outgoing transition in common. 
   % because from \tightfbox{$\eact$} only an \transitionact{\eact} departs, but not from $\bvertbari{1}$ and $\avert$.
  The maximal option is to share, via the new vertex $\cvert$, 
  all $\aact$- and \transitionsact{\cact} that depart from $\avert$ and from $\bvertbari{1}$. 
  % by induced $\aact$- and \transitionsact{\cact} via $\cvert$. 
  This leads to~the~\onechart~$\aonechartacci{1}$ on the left below:
  %
  \begin{center}\vspace*{-1.5ex}
    \scalebox{0.7}{\input{figs/ex-limit-collapse-1-lift-1.tex}}
  \end{center}\vspace*{-0.5ex}
  %
  But we note now that no \loopentry\ transition is created at $\cvert$ in $\aonechartacci{1}$,
  and so the added \onetransitions\ are not \backbindings. 
  Therefore this refinement step is not one into the direction of the (assumed) \onetransition\ limited \LLEEwitness~$\bonecharthat$. 
  
  It would be possible, however, to share only a \nonempty\ subset of the four transitions at $\cvert$. 
  For instance, when sharing only the \transitionsact{\cact}, the \onechart\ $\aonechartacci{1}$ below on the left is obtained:
  %
  \begin{center}\vspace*{-1.5ex}
    \scalebox{0.7}{\input{figs/ex-limit-collapse-1-lift-1-dacc.tex}}
  \end{center}\vspace*{-0.5ex}
  %
  But also now there is not a \loopentrytransition\ arising at $\cvert$, either.
  
  It is clear from these two examples that also for all \nonempty\ subsets of $\aact$- and \transitionsact{\cact} from $\avert$ and $\bverti{1}$
  the operation of sharing them via the new vertex $\cvert$ does not lead to a \loopentrytransition\ at $\cvert$:
  maximal paths from $\cvert$ must, in order to be able to return to $\cvert$, reach $\bvertbari{1}$ or $\avert$ first;
  but there they can always avoid taking one of the \onetransitions\ back to $\cvert$. 
  Therefore none of these options can lead to a \onetransition\ refinement in which the introduced \onetransitions\
  are \backbindings, as they would have to be in order to be part of the \onetransition\ limited \LLEEwitness\ $\bonecharthat$
  of the \onechart~$\bonechart$ that we assumed \onetransitionrefines\ $\aonecharti{1}$. 
  
  % While it would be possible to share only a \nonempty\ subset of the four transitions from $\cvert$,
  % that would not give rise to a \loopentrytransition\ at $\cvert$, either. 
  % Hence we must recognize that it is not possible to refine $\aonecharti{1}$ into the \LLEEonechart~$\bonechart$ as assumed.
  
  At this point we must recognize that it is not possible to add such a \onetransition\ 
  in order to refine $\aonecharti{1}$ further towards the \LLEEonechart~$\bonechart$ with \LLEEonelim, as assumed. 
  Our assumption that this is possible cannot be upheld.  
  
  Thus we have shown the part of~\ref{S2} now also for~$\aonecharti{1}$.
  % But we note that no additional \loopentry\ transitions are created in $\aonechartacci{1}$.
  % In particular, the newly added vertex $\cvert$ does not induce a loop \subonechart. 
  % Therefore the indicated \entrybodylabeling\ $\aonecharthatacci{1}$ of $\aonechartacci{1}$ does not contain new \loopentrytransitions\
  % apart from those that already were present in $\aonecharti{1}$.  
  % 
  % It would be possible, however, to share only a \nonempty\ subset of the four transitions at $\cvert$. 
  % But this would not be a \loopentrytransition\ at $\cvert$, either. 
  % %
  % \begin{center}
  %   \scalebox{0.7}{\input{figs/ex-limit-collapse-1-lift-1-dacc.tex}}
  % \end{center}
  % %
  % At this point we must recognize that it is not possible to add such a \onetransition\ 
  % in order to refine $\aonecharti{1}$ further towards the \LLEEonechart~$\bonechart$.
  % \renewcommand{\qed}{} 
\end{proof}


\begin{exanonum}[\emph{Combining the \onetransitionrefinements\  of $\acharti{10}$ into $\aonecharti{1}$ and into $\aonecharti{2}$ 
                       does not yield a loop \subonechart, let alone a \LLEEonechart}]\nf
  %
  In the proof of Lem.~\ref{lem:thm:limit} we dismissed
  the option of a \onetransitionrefinement\  that combines those
  \onetransitionrefinement\  steps that lead from $\acharti{10}$ in Ex.~\ref{ex:limit-sp-collapse:collapses}
  to the \onecharts~$\aonecharti{1}$ in Ex.~\ref{ex:limit-sp-collapse:collapses} 
  and to $\aonecharti{2}$ in the proof of that lemma.
  But it can be instructive to see concretely why we could do that, and reassuring to recognize that,
  apart from not leading to a \onechart\ with \LLEEonelim, there is not even a single loop \subonechart\ created.
  
  % We did so by explaining why the arising \onetransitionrefinement\  cannot satisfy \LLEEonelim\
  % nor be refined further into a \onechart\ with \LLEEonelim,
  % which we had derived from the assumption (that $\acharti{10}$ can be \onetransitionrefined\ into a \wgLLEEonechart) in the proof.
  
  By adding to $\acharti{10}$ the \onetransition\ in $\aonecharti{1}$ as well as the \onetransition\ in $\aonecharti{2}$,
  and by removing the transitions that have been eliminated from $\acharti{10}$ to $\aonecharti{1}$ and from $\acharti{10}$ to $\aonecharti{2}$ 
  (the $\aact$- and $\cact$-transitions from $\bverti{2}$ in both of these steps, the $\bact$-transition from $\bverti{2}$ in the first step,
   and the $\dact$-transition from $\bverti{2}$ in the second step) we obtain the \onechart~$\aonecharti{1/2}$ of the form below left:%
   %
  \begin{center}\vspace{-7ex}%
    \scalebox{0.7}{\input{figs/ex-limit-collapse-and-lift.tex}}
  \end{center}
  %
  The \onechart~$\aonecharti{1/2}$ is obviously a \onetransitionrefinement\  of $\acharti{10}$,
    which arises by from $\aonecharti{1/2}$ by two $\sotelimred$ steps.
  Furthermore, every vertex of $\aonecharti{1/2}$ is a \propertransition\ target.
  
  But $\aonecharti{1/2}$ is \emph{not} a \onechart\ with \LLEEonelim, because (as stated in the proof of Lem.~\ref{lem:thm:limit}): 
  if there were a \onetransition\ limited \LLEEwitness\ of $\aonecharti{1/2}$,
  then the vertex $\bverti{2}$ would have \backbindings\ to two different loop vertices, which is not possible in a \LLEEwitness.
  For this reason $\aonecharti{1/2}$ cannot be \onetransitionrefined\ into a \onechart\ with \LLEEonelim, either.
  
  What is more, $\aonecharti{1/2}$ is not a \LLEEonechart\ at all, because (in view of Prop.~\ref{prop:LLEE:implies:LEE}) it does not satisfy \LEE. 
  To verify this, we check that none of the transitions of $\aonecharti{1/2}$ is a \loopentrytransition.
  Indeed, for every transition $\atrans = \triple{\cvert}{\bs{a}}{\cvertacc}$ in $\aonecharti{1/2}$ 
  there is an infinite path from $\cvertacc$ that does not visit the source $\cvert$ of $\atrans$.
  Hence no transition induces a loop subchart. Therefore $\aonecharti{1/2}$ does not possess loop subcharts.
  But as $\aonecharti{1/2}$ exhibits infinite behavior, it follows that $\aonecharti{1/2}$ does not satisfy \LEE. 
  
  Therefore via the combination of refinements from $\acharti{10}$ to $\aonecharti{1}$ and to $\aonecharti{2}$ 
  not only no progress has been made towards a refinement of $\acharti{10}$ with \LLEEonelim,
  but also no progress towards a refinement of $\acharti{10}$ into a \LLEEonechart. 
  %
  % Then, due to Prop.~\ref{prop:LLEE:implies:LEE}, 
  % $\aonecharti{1/2}$ does not have a \LLEEwitness, and therefore $\aonecharti{1/2}$ is not a \LLEEchart.
  %
  % In summary:
  % \begin{enumerate}[label={(\roman{*})}]
  %   \item
  %     $\aonecharti{1/2}$ is not a \LLEEonechart, and hence it is not a \onechart\ with \LLEEonelim, either,
  %   \item
  %     $\aonecharti{1/2}$ cannot be \onetransitionrefined\ into a \onechart\ with \LLEEonelim.
  % \end{enumerate} 
\end{exanonum}






% \begin{rem}[\emph{Combining the \onetransitionrefinements\  of $\acharti{10}$ into $\aonecharti{1}$ and into $\aonecharti{2}$?}]\label{rem:lem:thm:limit}\nf
%   In the proof of Lem.~\ref{lem:thm:limit} we argued by using Lem.~\ref{lem:lem:thm:limit}
%   that, if the chart~$\acharti{10}$ in Ex.~\ref{ex:limit-sp-collapse:collapses} could be \onetransitionrefined\ into a \onechart\ with \LLEEonelim, % \LLEEonechart,
%   then the only option would be a further \onetransitionrefinement\  of the \onecharts~$\aonecharti{1}$ in Ex.~\ref{ex:limit-sp-collapse:collapses}
%   or the \onechart~$\aonecharti{2}$ in the proof of Lem.~\ref{lem:thm:limit}.
%   These two \onetransitionrefinements\  of $\acharti{10}$ introduce loop subcharts with \backbindings\ 
%   from $\bverti{2}$ to $\avert$, and from $\bverti{2}$ to $\bvertbari{1}$, respectively. 
%   We continued by arguing that neither $\aonecharti{1}$ nor $\aonecharti{2}$ is a \LLEEonechart,
%   and % we used Lem.~\ref{lem:lem:thm:limit} again to see that neither of $\aonecharti{1}$ nor $\aonecharti{2}$ can be refined into a \LLEEonechart. 
%     that neither of these two \onecharts\ can be \onetransitionrefined\ into a \onechart\ with \LLEEonelim.  
%   
%   %Although that is not relevant for the proof of Lem.~\ref{lem:thm:limit},
%   One might wonder whether the \onetransitionrefinements\  of $\acharti{10}$ into $\acharti{1}$, and of $\acharti{10}$ into $\aonecharti{2}$
%   (which have made loop \subonecharts\ visible, but are not yet \onecharts\ with \LLEE)
%   could be combined meaningfully. Indeed, by adding both the \onetransition\ in $\aonecharti{1}$, and the \onetransition\ in $\aonecharti{2}$,
%   and removing the transitions that have been eliminated from $\acharti{10}$ to $\aonecharti{1}$ and from $\acharti{10}$ to $\aonecharti{2}$ 
%   (the $\aact$- and $\cact$-transitions from $\bverti{2}$ in both of these steps, the $\bact$-transition from $\bverti{1}$ in the first step,
%    and the $\dact$-transition in the second step) we obtain the \onechart~$\aonecharti{1/2}$ of the form:
%   \begin{center}\vspace{-2ex}
%     \scalebox{0.7}{\input{figs/ex-limit-collapse-lift.tex}}
%   \end{center}
%   This \onechart\ is obviously a \onetransitionrefinement\  of $\acharti{10}$, and every of its vertices is a \propertransition\ target.
%   But it is not a \onechart\ with \LLEEonelim, because: if there were a \onetransition\ limited \LLEEwitness\ of $\aonecharti{1/2}$,
%   then the vertex $\bverti{2}$ would have \backbindings\ to two different loop vertices, which is not possible in a \LLEEwitness.
%   For the same reason, $\aonecharti{1/2}$ cannot be \onetransitionrefined\ into a \onechart\ with \LLEEonelim. 
%   Furthermore $\aonecharti{1/2}$ is not a \LLEEonechart\ at all, because it does not satisfy \LEE:
%   It is easy to verify that for every transition $\triple{\cvert}{\bs{a}}{\cvertacc}$ in $\aonecharti{1/2}$ 
%   there exists an infinite path from $\cvertacc$ that does not visit the source $\cvert$ of the transition.
%   Hence no transition induces a loop subchart. Therefore $\aonecharti{1/2}$ does not possess loop subcharts.
%   However, since $\aonecharti{1/2}$ exhibits infinite behaviour, it does not satisfy \LEE. 
%   As a consequence $\aonecharti{1/2}$ does not have a \LLEEwitness, and therefore $\aonecharti{1/2}$ is not a \LLEEchart.
%   
%   We conclude that for the \onetransitionrefinement\  $\aonecharti{1/2}$ of $\acharti{10}$ 
%   that combines the features of the \onetransitionrefinements\  $\aonecharti{1}$ and $\aonecharti{2}$
%   it holds:
%   \begin{enumerate}[label={(\roman{*})}]
%     \item
%       $\aonecharti{1/2}$ is not a \LLEEonechart, and hence it neither is a \onechart\ with \LLEEonelim,
%     \item
%       $\aonecharti{1/2}$ cannot be \onetransitionrefined\ into a \onechart\ with \LLEEonelim.
%   \end{enumerate} 
% \end{rem}





% \newpage
% 
% %-------------
% \subsection{Aims}
% %-------------
% 
% \noindent
% \emph{Aims:}
% \begin{enumerate}[label={(\arabic{*})}]
%   \item
%     \emph{Explain the crucial difficulty of the problem}: 
%     the property of process graphs to `can be refined by adding 1-transitions into a 1-chart with LEE' 
%     is not preserved under bisimulation collapse. In particular:
%     \begin{itemize}[label=$\triangleright$]
%       \item
%         give counterexample, and explain it in detail, 
%       \item
%         unlike as for \onefree\ star expressions,
%         the image of the process semantics is not closed under bisimulation collapse.%
%     \end{itemize}
%     %
% %   \item
% %     Use the character show that the typical non-expressibility graphs can be proved 
% %     to be not expressible rather easily (compared to sophisticated proofs in the literature (Milner, Bosscher)
%     %
%   \item   
%     \emph{Indicate a way how to circumnavigate the difficulty}: 
%       structure-constrained approximation of the bisimulation collapse 
%       with at most doubling the number of vertices.
%      % 
%   \item
%     \emph{Indicate/sketch potential for applications:} 
%       The structure-preserving approximation result 
%       facilitates the use to tackle Milner's axiomatization and recognition problems
%       via working with approximations of \onebisimulation\ collapses.
%   % \item   
%   %   \emph{Proofs non-expressibility (examples)}: 
%   %     Use the crystallization result to show that
%   %     two typical non-expressible process graphs
%   %     are indeed not expressible. 
% \end{enumerate}
% %
% \medskip
% \noindent
% \begin{samepage}
% \emph{My general motivation}:\nopagebreak[4]
% %
% \begin{itemize}[label=$\triangleright$]
%   \item
%     Scientific value of clearly communicating to others what 
%     is perhaps \underline{\smash{the}} principal difficulty of the problem,
%   \item   
%     Completeness for Milner's system proof hinges crucially on the structure-constrained collapse procedure 
%     (argument for it is crucial for convincing reviewers of the correctness of the completeness proof),
%   \item
%     Preparation of this most complex issue can be a crucial stepping stone for 
%     then next really the completeness proof out in a reasonably short amount of time.
%   \item
%     Rather than presenting the (complicated) solutions of these axiomatization and recognition problems,
%       we explain the crucial difficulty that convincing solutions of both problems have to deal with.
% \end{itemize}
% \end{samepage}





% %-----------------
% \subsection{To Do}
% %-----------------
% 
% 
% \begin{description}[itemsep=1.5ex]
% 
%   \item[Introduction:] \mbox{}
%     \begin{itemize}[itemsep=0.5ex]
%       \item
%         informal definition LEE (LLEE?)
%     \end{itemize}
%   
%   \item[Define terminology:] \mbox{}
%     \begin{itemize}[itemsep=0.5ex]
%       \item
%         strongly connected component (\scc)  
%       \item  
%         \onebisimilarity\ redundancies
%       \item
%         \onefree\ and derivatives \onefree\ star expressions  
%     \end{itemize}
%   
%   \item[Write proofs:] \mbox{}
%     \begin{itemize}[itemsep=0.5ex]
%       \item
%         proof of Lem.~\ref{lem:chart-int:finite}
%       \item
%         proof of Lem.~\ref{lem:lem:thm:limit}. 
%     \end{itemize}
%   
%   \item[Check:] \mbox{}
%   \begin{itemize}[itemsep=0.5ex]
%     \item
%       counterexamples for weakening of Lem.~\ref{lem:lem:thm:limit}.
%     \item
%       proof Lem.~\ref{thm:im:onechart-int:not:closed}
%   \end{itemize}
% 
% 
% \end{description}



% 
% 
% 
% 
% 
\end{document}





%----------------------------
% Text to keep for the moment
%----------------------------

% has been found by a systematic investigation
% of the situations in which the stepwise collapse of two bisimilar vertices is possible 
% in a \onechart\ with \LEE\ such that \LEE\ is preserved. 

%  adds something concrete 
% to the subjective feeling that the problems (E) and (A) are substantially more difficult
% in the added presence of $\stexpone$ when $\stexpzero$ is present. 

% The purpose of this paper is twofold. 
% First, to explain what we perceive as the crucial difficulty of the problems (R) and (A)
% for star expressions including $\stexpone$. 
% And second, to describe an approach for circumnavigating this problem as best as possible. 
% We do not apply our findings here to the problems (R) and (A), but aim to continue that~in~the~sequel.

% and can provide the key to compute efficiently with process interpretations of regular expressions.    
% We explain a substantial complication with which 
% arguments for dealing with the process semantics of regular expression
% has to deal with. 

% %
%   \footnote{E.g., the process graphs $\chartnei{1}$ and $\chartnei{2}$ in Ex.~\ref{ex:chart:interpretation} on page~\pageref{ex:chart:interpretation} are not expressible
%             by a star expression modulo bisimilarity.}

% This phenomenon led Milner to the formulation of two natural questions: 
% \begin{enumerate*}
%   \item[(R)]
%     the problem of recognizing whether a given 
%     process graph is bisimilar to one in the image of the process interpretation of a star expression, and
%   \item[(A)]  
%     whether a natural adaptation of Salomaa's complete proof system for language equivalence of regular expressions
%     is complete for bisimilarity of the process interpretation of star expressions. 
% \end{enumerate*}
% % 
% While (R) has been shown to be decidable in principle (but not with a practicable complexity bound) in \cite{baet:corr:grab:2005}, 
% so far only partial solutions have been obtained~for~(A). 

% On the basis of these statements,
% a completeness proof for the equational proof system \BBP\ for \onefree\ star expressions by Bergstra, Bethke, and Ponse \cite{berg:beth:pons:1994} 
% can proceeds, roughly, as follows. 
% Suppose that \onefree\ star expressions $\astexpi{1}$ and $\astexpi{2}$ have bisimilar process interpretations,
% formally, $\procsem{\astexpi{1}} \bisim \procsem{\astexpi{2}}$.
% We have to obtain a derivation of $\astexpi{1} = \astexpi{2}$ in \BBP. 
% As $\astexpi{1}$ and $\astexpi{2}$ are bisimilar, they have a joint bisimulation collapse $G_0$,
% such that $\procsem{\astexpi{1}} \funbisim G_0 \convfunbisim \procsem{\astexpi{2}}$ holds, where $\sfunbisim$ indicates functional bisimilarity. 
% Since $\procsem{\astexpi{1}}$ and $\procsem{\astexpi{2}}$ satisfy \LEE\ by {\bf (I)}, 
% it follows by {\bf (IC)} that there must exist a \onefree\ star expression $\astexpi{0}$ such that $\procsem{\astexpi{0}} = G_0$.
% By utilizing the functional bisimulations from $\procsem{\astexpi{1}}$ and $\procsem{\astexpi{2}}$ to $G_0$
% it is possible to construct derivations of $\astexpi{0} = \astexpi{1}$ 
% and $\astexpi{0} = \astexpi{2}$ in \BBP. These derivations can be combined to a derivation of $\astexpi{1} = \astexpi{2}$ in $\BBP$. 
% 
% An efficient solution of (R) for \onefree\ star expressions can be obtained as follows:
% Suppose we are given a finite process graph $G$. We want to determine whether it is bisimilar to the process interpretation
% of a \onefree\ star expression. We construct the bisimulation collapse $G_0$ of $G$. 
% We check whether $G_0$ satisfies \LEE, which is possible in polynomial time.
% If $G_0$ does not satisfy \LEE, then $G_0$ and $G$ cannot be bisimilar to the interpretation of a star expression,
% because interpretations satisfy \LEE\ by {\bf (I)}, and \LEE\ is preserved under bisimulation collapse by {\bf (C)}. 
% If $G_0$ satisfies \LEE, then by {\bf (E)} we obtain a star expression $\astexpi{0}$ with $\procsem{\astexpi{0}} = G_0$;
% then $G$ is bisimilar to the process interpretation of $\astexpi{0}$. 
% 
% 
% by also using {\bf (E)}:
%    For every bisimulation collapse $G$ with \LEE,
%    a \onefree\ star expression $\astexp$ with $\procsem{\astexp} = G$ can be extracted. 
   
% For star expressions in general we show that, while {\bf (I)} can be generalized, 
% this does not hold for {\bf (C)} and {\bf (IC)}, a situation that can, however, be remedied partly (see {\bf (A)$_{\stexpone}$}): 
% %
% \begin{enumerate}[label={\bf (SE)},leftmargin=*,align=right,labelsep=0.75ex,itemsep=0.25ex]             
%  \item[{\bf (I)$_{\stexpone}$}]
%    $\procsem{\astexp}$ can be refined into a process graph with \onetransitions\ that satisfies \LEE,
%    for every star expression $\astexp$. (See Thm.~\ref{thm:onechart-int:LLEEw})  
%  \item[\st{\bf (C)$_{\stexpone}$}]
%    The property `can be refined into a process graph with 1-transitions and LEE'
%      is {\bf not} preserved under bisimulation collapse. (See counterexample in Thm.~\ref{thm:limit})
%    % The bisimulation collapse of a \LLEEchart\ is again a \LLEEchart.
%  \item[\st{\bf (IC)$_{\stexpone}$}]
%    The image under $\procsem{\cdot}$ of the star expressions %under the process interpretation $\procsem{\cdot}$ 
%    is {\bf not} closed under bisimulation collapse. (See Thm.~\ref{thm:im:onechart-int:not:closed}.)
%  \item[{\bf (A)$_{\stexpone}$}]
%    For every process graph $G$ with \onetransitions\ and \LEE\
%    a closely approximation $G_0^{\hspace*{-0.5pt}\scriptscriptstyle (\approx)}$ with \onetransitions\ and \LEE\
%    of the bisimulation collapse $G_0$ of $G$ can always be computed. (See Thm.~\ref{thm:approx:limit}.)
% \end{enumerate}

%   problem~(R) is decidable in principle %(but not yet efficiently so)
%   was based on the concept of `well-behaved (recursive) specifications' that links process graphs with star expressions. 
%   Recently in \cite{grab:fokk:2020:LICS,grab:fokk:2020:arxiv}, Wan Fokkink and I obtained a partial solution for~(A) in the form of a complete proof system
%   for `\onefree' star expressions, which do not contain~$\stexpone$, but are formed with binary Kleene star iteration $\stexpbit{(\cdot)}{(\cdot)}$ instead of unary iteration.
%   For this, we defined the efficiently decidable `loop existence and elimination property (\LEE)' of process graphs
%   that holds for all process graph interpretations of \onefree\ star expressions, and for their bisimulation collapses.

%
% Bosscher \cite{boss:1997} showed that $\chartnei{1}$ is not expressible,
% and Milner \cite{miln:1984} proved that for $\chartnei{2}$ by observing the absence of a `loop behaviour'.
% That concept has inspired the stronger concept of `loop chart' in Def.~\ref{def:loop:chart} below.


% In order to approach the general axiomatization and expressibility problems 
% for Milner's process semantics of regular expressions
% we undertook a conceptual step. 
% We have isolated a phenomenon that sets these problems apart from 
% the solutions for their specialization to subclasses with restricted uses of $\stexpzero$ and/or $\stexpone$. 
% 
% \begin{exa}\label{ex:elim:br:C3.2} 
%   \begin{flushleft}
%     \input{figs/ex-elim-C-3-3.tex}
%   \end{flushleft}
% \end{exa}
% 
% 
% By eliminating all other bisimilarity redundancies 
% we formulate a procedure for obtaining,
% for every finite process graph with 1-tran\-si\-tions and LEE,
% such an approximation of its bisimulation collapse 
% that satisfies LEE and in which every vertex has at most~one~bisimilar~counterpart.
% 
% This suggests that a procedure for \LLEEpreserving\ approximation of the bisimulation collapse of \LLEEonecharts\
% can be defined by eliminating all reduced \onebisimilarity\ redundancies except for those of form (C3.4). 
% We expect that to be a crucial step in tackling the general problems.






% Process graph interpretations of regular expressions with~1 do not satisfy LEE in general.
% Yet we show that LEE can always be recovered by refining the interpretations into process graphs with 1\nb-tran\-si\-tions,
% similar to silent steps for finite-state automata.
% While this permits to utilize LEE for interpretations of all star expressions,
% a phenomenon arises that starkly contrasts with the situation for 1-free expressions:
% the property of a process graph 
%   `to can be refined into a process graph with 1-tran\-si\-tions and with LEE'
% is \ul{not} preserved under bisimulation collapse. 
% We give a counterexample that arises from a specific case
% in which bisimilar vertices cannot be collapsed on to each other LEE-preservingly. 
% By eliminating all other bisimilarity redundancies 
% we formulate a procedure for obtaining,
% for every finite process graph with 1-tran\-si\-tions and LEE,
% such an approximation of its bisimulation collapse 
% that satisfies LEE and in which every vertex has at most~one~bisimilar~counterpart.


% On the basis of these statements,
% a completeness proof for the equational proof system \BBP\ for \onefree\ star expressions by Bergstra, Bethke, and Ponse \cite{berg:beth:pons:1994} 
% can proceeds, roughly, as follows. 
% Suppose that \onefree\ star expressions $\astexpi{1}$ and $\astexpi{2}$ have bisimilar process interpretations,
% formally, $\procsem{\astexpi{1}} \bisim \procsem{\astexpi{2}}$.
% We have to obtain a derivation of $\astexpi{1} = \astexpi{2}$ in \BBP. 
% As $\astexpi{1}$ and $\astexpi{2}$ are bisimilar, they have a joint bisimulation collapse $G_0$,
% such that $\procsem{\astexpi{1}} \funbisim G_0 \convfunbisim \procsem{\astexpi{2}}$ holds, where $\sfunbisim$ indicates functional bisimilarity. 
% Since $\procsem{\astexpi{1}}$ and $\procsem{\astexpi{2}}$ satisfy \LEE\ by {\bf (I)}, 
% it follows by {\bf (IC)} that there must exist a \onefree\ star expression $\astexpi{0}$ such that $\procsem{\astexpi{0}} = G_0$.
% By utilizing the functional bisimulations from $\procsem{\astexpi{1}}$ and $\procsem{\astexpi{2}}$ to $G_0$
% it is possible to construct derivations of $\astexpi{0} = \astexpi{1}$ 
% and $\astexpi{0} = \astexpi{2}$ in \BBP. These derivations can be combined to a derivation of $\astexpi{1} = \astexpi{2}$ in $\BBP$. 

% An efficient solution of (R) for \onefree\ star expressions can be obtained as follows:
% Suppose we are given a finite process graph $G$. We want to determine whether it is bisimilar to the process interpretation
% of a \onefree\ star expression. We construct the bisimulation collapse $G_0$ of $G$. 
% We check whether $G_0$ satisfies \LEE, which is possible in polynomial time.
% If $G_0$ does not satisfy \LEE, then $G_0$ and $G$ cannot be bisimilar to the interpretation of a star expression,
% because interpretations satisfy \LEE\ by {\bf (I)}, and \LEE\ is preserved under bisimulation collapse by {\bf (C)}. 
% If $G_0$ satisfies \LEE, then by {\bf (E)} we obtain a star expression $\astexpi{0}$ with $\procsem{\astexpi{0}} = G_0$;
% then $G$ is bisimilar to the process interpretation of $\astexpi{0}$. 





