\section{Experimental apparatus and data sample}\label{sec:datasampleandselection}

In LHC Run 2, the ALICE apparatus consisted of a central barrel, covering the pseudorapidity region $|\eta| < 0.9$, a muon
spectrometer with $-4 < \eta < -2.5$ coverage, and forward- and backward-pseudorapidity detectors employed for triggering, background rejection, and event characterisation. A complete description of the
detector and an overview of its performance are presented in Refs.~\cite{ALICE:2022wpn,Aamodt:2008zz, Abelev:2014ffa}. 

The central barrel detectors used in the analysis are the Inner Tracking System (ITS)~\cite{CERN-LHCC-99-012}, the Time Projection Chamber (TPC)~\cite{Dellacasa:451098}, the Time-Of-Flight detector (TOF)~\cite{CERN-LHCC-2000-012,Cortese:545834}, and the Electromagnetic Calorimeters (EMCal and DCal)~\cite{Cortese:1121574, Allen:2010stl}. They are embedded in a large solenoidal magnet that provides a magnetic field parallel to the beams axis. The ITS consists of six layers of silicon detectors, with the innermost two composed of Silicon Pixel Detectors (SPD). The ITS is used to reconstruct the primary vertex and to track charged particles. 
The TPC is the main tracking detector of the central barrel. It is a gas detector  placed co-axially with the beam axis next to the ITS radially. It also enables charged-particle identification via the measurement of the particle specific energy loss (d$E$$/$d$x$) in the detector gas. The particle identification capabilities of the TPC are supplemented with the TOF detector, which provides a measurement of the time-of-flight of charged particles. The TOF is a gas detector which uses
Multigap Resistive Plate Chamber (MRPC)~\cite{CerronZeballos:1995iy} as its basic detecting element. The TOF detector has the capability to distinguish the electrons from pions, kaons, and protons up to $p_{\rm T}$ $ \approx$ 1 GeV$/c$, $p_{\rm T}$ $ \approx$ 2.5 GeV$/c$, and $p_{\rm T}$ $ \approx$ 4 GeV$/c$, respectively. The EMCal and DCal detectors are shashlik-type sampling calorimeters consisting of alternate layers of lead absorber and scintillator material. The EMCal covers $|\eta| < 0.7$ in pseudorapidity and $\Delta\varphi = 107^{\circ}$ in azimuth. The DCal is located azimuthally opposite to the EMCal covering $0.22 < |\eta| < 0.7$ and $\Delta\varphi = 60^{\circ}$ plus $|\eta| < 0.7$ and $\Delta\varphi = 7^{\circ}$. In the following, EMCal and DCal will be together referred to as EMCal, as they are part of the same detector system. The smallest segmentation of the EMCal is a cell, which has a dimension of $6 \times 6$~cm$^{\rm 2}$ ($0.0143$~rad $\times$~ 0.0143~rad) in its base placed in the $\eta \times \varphi$ direction. 
The electromagnetic calorimeters were used for electron identification and for triggering on rare events with high momentum particles in their acceptance. 

The detectors at forward rapidity used in the analysis are the V0~\cite{Cortese:781854} and T0~\cite{Cortese:781854} detectors. The V0 detector, composed of two scintillator arrays placed on either side of the interaction point along the beam axis (with pseudorapidity coverage $ 2.8 < \eta < 5.1$ and $-3.7 < \eta < -1.7$), was utilised for triggering and for offline rejection of beam-induced background events. In \pPb collisions, the contamination from beam--background interactions and electromagnetic interactions was further removed using the information from the Zero Degree Calorimeters (ZDC)~\cite{Gallio:381433} located at 112.5 m on both sides of the interaction point along the beam axis. The T0 detector, composed of two arrays of quartz Cherenkov counters, covers an acceptance of $4.6 < \eta < 4.9$ and $-3.3 < \eta < -3.0$, and is used to provide the start time for the TOF detector. The V0 and T0 detectors were also employed to determine the integrated luminosity.

The results presented in this article were obtained using data recorded by ALICE during the LHC Run 2 data taking periods between the years 2016 and 2018 
for pp collisions at $\sqrt{s}=13$ TeV, and in 2016 
for $\mbox{\pPb}$ collisions at $\sqrt{s_{\rm{NN}}}=8.16$ TeV. While the nominal magnetic field used during the data taking is 0.5~T, for a subset of periods in pp collisions the magnetic field was reduced to 0.2~T
(will be referred to as low-$B$ field data set in the following sections), allowing for the measurement of electrons down to a \pt of 0.2 \GeVc.
In p--Pb collisions, a centre-of-mass energy per nucleon--nucleon collision  of $\mbox{ $\sqrt{s_{\rm{NN}}}=8.16$ TeV}$ was obtained by delivering proton and lead beams with energies of 6.5 TeV and 2.56 TeV per nucleon, respectively. Due to this asymmetry of the beam energy per nucleon, the protonâ€“nucleon centre-of-mass rapidity frame is shifted by $\Delta y = 0.465$ in the direction of the proton beam. 

Events used in the analyses were obtained using the minimum bias (MB) trigger provided by the V0 detector, and two single shower triggers 
based on the energy deposited in the EMCal~\cite{Abelev:2014ffa, ALICE:2022qhn}. The MB trigger condition requires coincident signals in both scintillator arrays of the V0 detector. The EMCal trigger is based on the sum of energy in a sliding window of $4\times4$ cells above a given threshold. The energy thresholds of the two EMCal triggers were set to 4~GeV~(EG2) and 9~GeV~(EG1) for the pp data sets, and 5.5~GeV~(EG2) and 8~GeV~(EG1) for the \pPb data sets.

In order to obtain a uniform acceptance of the detectors, only events with a reconstructed primary vertex within $\pm10$ cm from the centre of the detector along the beam line (\zvertex) were considered for both pp and p--Pb collisions. The number of selected events in pp and p--Pb collisions for different triggers, and the corresponding integrated luminosities~\cite{ALICE-PUBLIC-2016-002,ALICE-PUBLIC-2018-002} are listed in Table~\ref{table:EventStat}. 
In-bunch pileup events, where more than one collision occurs in the same bunch crossing  and are recorded as a single event, were rejected using an algorithm based on track segments reconstructed with the SPD to detect multiple primary vertices. Out-of-bunch pileup events, where one or more collisions occur in bunch crossings different from the one that triggered the data acquisition, were then rejected based on the timing information provided by the V0 detector. 

\begin{table}[!ht]
\caption{Number of selected events in pp and \pPb collisions for different triggers, and the corresponding integrated luminosities and their uncertainties.}
\small
 \label{table:EventStat}
 	\renewcommand{\arraystretch}{1.4}
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} |c|cccc|ccc}
    \toprule
     \multicolumn{1}{c|}{}&
       \multicolumn{4}{c|}{pp $\sqrt{s} = 13$ TeV}&
       \multicolumn{3}{c}{\pPb $\sqrt{s_{\rm NN}} = 8.16$ TeV}\\
 \hline 
     \multicolumn{1}{c|}{Magnetic field (T)}&
       \multicolumn{1}{c|}{0.2}&
       \multicolumn{3}{c|}{0.5}&
       \multicolumn{3}{c}{0.5}\\
\hline 
     \multicolumn{1}{c|}{Trigger}&
       \multicolumn{1}{c|}{MB}&
       \multicolumn{1}{c}{MB}&
       \multicolumn{1}{c}{EG2}&
       \multicolumn{1}{c|}{EG1}&
       \multicolumn{1}{c}{MB}&
       \multicolumn{1}{c}{EG2}&
       \multicolumn{1}{c}{EG1}\\
       \hline
       
 \multicolumn{1}{c|}{Number of events ($ 10^{6}$)}&
       \multicolumn{1}{c|}{438}&
       \multicolumn{1}{c}{1755}&
       \multicolumn{1}{c}{116}&
    \multicolumn{1}{c|}{96}&
    \multicolumn{1}{c}{39}&
       \multicolumn{1}{c}{0.6}&
       \multicolumn{1}{c}{3.4}\\
\hline 
       
   
      
 \multicolumn{1}{c|}{Luminosity (nb$^{-1}$)}&
       \multicolumn{1}{c|}{{7.6}}&
       \multicolumn{1}{c}{{30.3}}&
       \multicolumn{1}{c}{{811.3}}&
       \multicolumn{1}{c|}{{8214.5}}&
       \multicolumn{1}{c}{{0.0190}}&
       \multicolumn{1}{c}{{0.0860}}&
       \multicolumn{1}{c}{{1.65}}\\
  \multicolumn{1}{c|}{}&
       \multicolumn{1}{c|}{{$\pm$0.2}}&
       \multicolumn{1}{c}{{$\pm$0.7}}&
       \multicolumn{1}{c}{{$\pm$30.7}}&
       \multicolumn{1}{c|}{{$\pm$378.7}}&
       \multicolumn{1}{c}{{$\pm$0.0005}}&
       \multicolumn{1}{c}{{$\pm$0.0025}}&
       \multicolumn{1}{c}{{$\pm$0.05}}\\

\hline

  \end{tabular*}

\end{table}



