\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{microtype}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{booktabs}
\usepackage[inline]{enumitem}
\usepackage{multirow}
\usepackage{pifont}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{calrsfs}
\usepackage[numbers,square,sort&compress]{natbib}
\usepackage{dsfont}
\usepackage[ruled]{algorithm2e}
\usepackage[pagebackref,breaklinks,colorlinks]{hyperref}
\usepackage{float}
\usepackage[accsupp]{axessibility}



\DeclareMathAlphabet{\pazocal}{OMS}{zplm}{m}{n}

\newcommand{\lrp}[1]{\left( #1 \right)}
\newcommand{\lrb}[1]{\left[ #1 \right]}
\newcommand{\lrc}[1]{\left\{ #1 \right\}}
\newcommand{\abs}[1]{\left| #1 \right|}
\newcommand{\sums}[2]{\sum\limits_{#1}^{#2}}
\newcommand{\cl}[1]{\pazocal{#1}}
\newcommand{\T}{^{\top}}
\newcommand{\real}{\mathbb{R}}
\newcommand{\indicator}[1]{\mathds{1}_{\{ #1 \}}}
\newcommand{\mmat}[1]{\begin{smallmatrix}#1\end{smallmatrix}}
\newcommand{\BB}[1]{\textbf{#1}}
\newcommand{\UU}[1]{\underline{#1}}
\newcommand{\smalltable}[2][c]{\begin{tabular}{#1}#2\end{tabular}}
\newcommand{\dd}{\mathrm{d}}

\newcommand{\E}{\mathds{E}}

\renewcommand{\vec}[1]{\boldsymbol{#1}}
\newcommand{\mat}[1]{\mathbf{#1}}
\let\epsilon\varepsilon

\let\exp\undefined
\DeclareMathOperator{\exp}{exp}
\DeclareMathOperator{\relu}{ReLU}
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\def\SPHERE{\mathbb{S}}
\def\SPHEREUNIFORM{u_{\SPHERE_d}}
\def\TARGETS{\vec z_1, \dots, \vec z_n \in \cl \SPHERE_{d}}
\def\ARGMIN{\argmin\limits_{\TARGETS}}
\def\ARGMAX{\argmax\limits_{\TARGETS}}
\def\LVMF{\cl{L}_\mathrm{}}
\def\LSUP{\cl{L}_\mathrm{Sup}}
\def\LQU{\cl{L}_\mathrm{Qu}}
\def\LUP{\cl{L}_\mathrm{up}}
\def\LVSHOT{\cl{L}_\mathrm{vmfshot}}
\def\LVMFT{\tilde{\cl{L}}_\mathrm{}}
\def\Lalign{{\cl{L}}_\mathrm{LSP}}
\def\Lunif{{\cl{L}}_\mathrm{Unif}}
\def\Lfinal{{\cl{L}}_\mathrm{\method}}

\def\supportSet{\cl{S}}
\def\querySet{\cl{Q}}
\def\dataSet{\cl{X}}
\def\baseSet{\dataSet_{\text{Base}}}
\def\novelSet{\dataSet_{\text{Novel}}}
\def\testSet{\cl{T}}
\def\classes{\cl{C}}
\def\baseClass{\classes_{\text{Base}}}
\def\novelClass{\classes_{\text{Novel}}}

\def\TRUE{\ding{51}}
\def\FALSE{--}



\def\method{noHub\xspace}
\def\methodLong{Uniform Hyperspherical Structure-preserving Embeddings}
\def\methodLongWithMarks{U\underline{n}if\underline{o}rm \underline{H}yperspherical Str\underline{u}cture-preserving Em\underline{b}eddings\xspace}
\def\methodS{noHub-S\xspace}
\def\methodSLong{\method with Support labels\xspace}
\def\methodSLongWithMarks{\method with \underline{S}upport labels\xspace}




\def\BEST#1{\textbf{#1}}
\def\SECONDBEST#1{\underline{#1}}
\def\MTCWITHCONF#1#2{#1~({\tiny #2})}

\def\VENUE#1#2#3{{\tiny(\textsc{#1}'#2 #3)}}
\def\OURS{\tiny(\textsc{Ours})}

\definecolor{arrowGreen}{rgb}{0,0.6,0}
\def\HIGHERBETTER{\!{\tiny\color{arrowGreen}\( \uparrow \)}}
\def\LOWERBETTER{\!{\tiny\color{arrowGreen}\( \downarrow \)}}

\def\TableMethodN{None}
\def\TableMethodL{L2~\VENUE{ArXiv}{19}{\cite{wangSimpleShotRevisitingNearestNeighbor2019}}}
\def\TableMethodC{CL2~\VENUE{ArXiv}{19}{\cite{wangSimpleShotRevisitingNearestNeighbor2019}}}
\def\TableMethodZ{ZN~\VENUE{ICCV}{21}{\cite{feiZScoreNormalizationHubness2021}}}
\def\TableMethodR{ReRep~\VENUE{ICML}{21}{\cite{cuiParameterlessTransductiveFeature2021}}}
\def\TableMethodE{EASE~\VENUE{CVPR}{22}{\cite{zhuEASEUnsupervisedDiscriminant2022}}}
\def\TableMethodT{TCPR~\VENUE{NeurIPS}{22}{\cite{xuAlleviatingSampleSelection2022}}}
\def\TableMethodOurs{noHub~\OURS}
\def\TableMethodOursS{noHub-S~\OURS}

\newcommand{\MainTabInput}[1]{
    \bgroup
    \scriptsize
    \centering
    \input{tab/main-results/#1} \\
    \egroup
}



\makeatletter
\DeclareRobustCommand\onedot{\futurelet\@let@token\@onedot}
\def\@onedot{\ifx\@let@token.\else.\null\fi\xspace}

\def\eg{\emph{e.g}\onedot} \def\Eg{\emph{E.g}\onedot}
\def\ie{\emph{i.e}\onedot} \def\Ie{\emph{I.e}\onedot}
\def\cf{\emph{c.f}\onedot} \def\Cf{\emph{C.f}\onedot}
\def\etc{\emph{etc}\onedot} \def\vs{\emph{vs}\onedot}
\def\wrt{w.r.t\onedot} \def\dof{d.o.f\onedot}
\def\etal{\emph{et al}\onedot}
\makeatother

\newcommand{\customparagraph}[2][0.05cm minus 0.05cm]{\vspace{#1}\noindent\textbf{#2.}~}



\newtheorem{proposition}{Proposition}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}



\SetKwComment{Comment}{/* }{ */}
\SetAlCapSty{}

\makeatletter
\newenvironment{customalgorithm}[1][htpb]{\def\@algocf@post@ruled{\kern\interspacealgoruled\hrule  height\algoheightrule\kern3pt\relax}%
\def\@algocf@capt@ruled{under}%
\setlength\algotitleheightrule{0pt}%
\begin{algorithm}[#1]}
{\end{algorithm}}
\makeatother



\setlength{\dbltextfloatsep}{8pt}

\let\tableFontSize\footnotesize
\let\algFontSize\small
