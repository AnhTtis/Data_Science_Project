\begin{tikzpicture}
\tikzset{
myline/.style={-{Latex[length=2mm, width=1.3mm]}},
mynode/.style={pos=.5,fill=white,draw,text width=24mm,align=center,inner sep=1pt}
}

\node[draw] (U1) at (0,0) {\small User};
\node[draw] (S1) at (4,2.1) {\small Server 1};
\node[draw] (S2) at (4,0.7) {\small Server 2};
\node[draw] (S3) at (4,-0.7) {\small Server 3};
\node[draw] (S4) at (4,-2.1) {\small Server 4};
\node[draw] (U2) at (8,0) {\small User};
\coordinate (BL1) at ($(U1 |- S4)+(-0.5,0)$);
\coordinate (TR1) at ($(S1)+(-0.8,0)$);
\coordinate (BL2) at ($(S4)+(0.8,0)$);
\coordinate (TR2) at ($(U2 |- S1)+(0.5,0)$);

\draw[myline] (U1.east) -- (S1.west) node[mynode] {\footnotesize$f(P_{1\delta}), g(P_{1\delta})$};
\draw[myline] (U1.east) -- (S4.west) node[mynode] {\footnotesize$f(P_{\delta\delta^2}), g(P_{\delta\delta^2})$};
\draw[myline] (U1.east) -- (S2.west) node[mynode] {\footnotesize$f(P_{\delta^2\delta}), g(P_{\delta^2\delta})$};
\draw[myline] (U1.east) -- (S3.west) node[mynode] { \footnotesize$f(P_{\delta^2\delta^2}), g(P_{\delta^2\delta^2})$};

\draw[myline] (S1.east) -- (U2.west) node[mynode] {\footnotesize$h(P_{1\delta})$};
\draw[myline] (S2.east) -- (U2.west) node[mynode] {\footnotesize$h(P_{\delta\delta^2})$};
\draw[myline] (S4.east) -- (U2.west) node[mynode] {\footnotesize$h(P_{\delta^2\delta})$};
\draw[myline] (S3.east) -- (U2.west) node[mynode] {\footnotesize$h(P_{\delta^2\delta^2})$};

\draw[dotted] (BL1) rectangle (TR1);
\draw[dotted] (BL2) rectangle (TR2);
\node[above] at ($(BL1)!0.5!(BL1 -| TR1)$) {Upload Phase};
\node[above] at ($(BL2)!0.5!(BL2 -| TR2)$) {Download Phase};
\end{tikzpicture}