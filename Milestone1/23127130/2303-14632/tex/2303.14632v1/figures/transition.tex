\tikzmath{%
    \colone = 0;
    \coltwo = 5;
    \yoffset = 1;
    \yshiftrulefour = -0.75;
}

\begin{tikzpicture}
    \coordinate (left1l) at (\colone, -1 * \yoffset);
    \coordinate (right1l) at (\colone + 1.5, -1 * \yoffset);
    \coordinate (label1r) at (\coltwo - 3/4, -1 * \yoffset);
    \coordinate (left1r) at (\coltwo, -1 * \yoffset);
    \coordinate (right1r) at (\coltwo + 1.5, -1 * \yoffset);
    \coordinate (arrow1) at (\colone + 0.75, -0.75 * \yoffset);

    \coordinate (left2l) at (\colone, -2.1 * \yoffset);
    \coordinate (right2l) at (\colone + 1.5, -2.1 * \yoffset);
    \coordinate (label2r) at (\coltwo - 3/4, -2.1 * \yoffset);
    \coordinate (left2r) at (\coltwo, -2.1 * \yoffset);
    \coordinate (right2r) at (\coltwo + 1.5, -2.1 * \yoffset);
    \coordinate (arrow2) at (\colone + 0.75, -1.9 * \yoffset);

    \coordinate (arrow3) at (\colone + 0.7, -2.7 * \yoffset);

    \coordinate (left4l) at (\colone, -4 * \yoffset);
    \coordinate (right4l) at (\colone + 1.5, -4 * \yoffset);
    \coordinate (label4r) at (\coltwo - 3/4, -4 * \yoffset);
    \coordinate (left4r) at (\coltwo, -4 * \yoffset);
    \coordinate (right4r) at (\coltwo + 1.5, -4 * \yoffset);
    \coordinate (arrow4) at (\colone + 0.75, -3.75 * \yoffset);

    % rule1
    \begin{scope}[scale=1]
        \begin{scope}[scale=1/2, shift={(left1l)}]
            \node [node, fill=plotgrey] at (-0.5, 1) (lhs) {};
            \node [node] at (-0.5, 0) (lhs1) {};
        \end{scope}
        \node [] at (arrow1) () {$\xRightarrow{\times 1}$};
        \begin{scope}[scale=1/2, shift={(right1l)}]
            \node [node, fill=plotgrey] at (0.5, 1) (rhs) {};
            \node [node] at (0.5, 0) (rhs1) {};
            \draw [edge] (rhs) -- (rhs1);
        \end{scope}
    \end{scope}

    % rule2
    \begin{scope}[scale=1]
        \begin{scope}[scale=1/2, shift={(left2l)}]
            \node [node] at (-0.5, 1) (lhs) {};
            \node [node] at (-0.5, 0) (lhs1) {};
        \end{scope}
        \node [] at (arrow2) () {$\xRightarrow{\times 5}$};
        \begin{scope}[scale=1/2, shift={(right2l)}]
            \node [node] at (0.5, 1) (rhs) {};
            \node [node] at (0.5, 0) (rhs1) {};
            \draw [edge] (rhs) -- (rhs1);
        \end{scope}
    \end{scope}

    % rule3
    \node at (arrow3) {$\vdots$};

    % rule4
    \begin{scope}[scale=1]
        \begin{scope}[scale=1/2, shift={(left4l)}]
            \node [node, fill=plotgrey] at (-0.75, 0.5) (lhs) {};
            \node [node] at (0, 0) (lhs1) {};
            \node [node] at (0, 1) (lhs2) {};
            \draw [edge] (lhs) -- (lhs1);
            \draw [edge] (lhs) -- (lhs2);
        \end{scope}
        \node [] at (arrow4) () {$\xRightarrow{\times 3}$};
        \begin{scope}[scale=1/2, shift={(right4l)}]
            \node [node, fill=plotgrey] at (0, 0.5) (rhs) {};
            \node [node] at (0.75, 0) (rhs1) {};
            \node [node] at (0.75, 1) (rhs2) {};
            \draw [edge] (rhs) -- (rhs1);
            \draw [edge] (rhs) -- (rhs2);
            \draw [edge] (rhs1) -- (rhs2);
        \end{scope}
    \end{scope}

    \begin{pgfonlayer}{background} 
        \coordinate (sw) at (current bounding box.south west);
        \coordinate (se) at (current bounding box.south east);
        \coordinate (nw) at (current bounding box.north west);
        \coordinate (ne) at (current bounding box.north east);
        % \coordinate (rsw) at ([shift={(-0.2 + 0.25 + 5.9, -0.2)}]current bounding box.south west);
        % \coordinate (rne) at ([shift={(0.2, 0.2)}]current bounding box.north east);

        \draw [draw=plotgrey, fill=plotgrey, opacity=0.75] ([shift={(-0.2, -0.1)}]sw) rectangle ([shift={(0.2, 0.1)}]ne);
        \draw [very thick, draw=white] ([shift={(-0.21, -1)}]nw) -- ([shift={(0.21, -1)}]ne);
        \draw [very thick, draw=white, fill=white] ([shift={(-0.21, 1)}]sw) rectangle ([shift={(0.21, 1.8)}]se);
    \end{pgfonlayer}
\end{tikzpicture}
