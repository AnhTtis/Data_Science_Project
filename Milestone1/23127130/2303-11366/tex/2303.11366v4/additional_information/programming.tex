\sethlcolor{lightblueshade}
Programming LLM calls require strict instructions to produce function bodies \textit{only},
due to the extensive dialogue training of the LLMs. A few programming examples are reported
below with instructions \hl{highlighted in blue} and templates.
See the full implementation at \url{https://github.com/noahshinn024/reflexion}.

\subsection{Programming function implementation example (HumanEval Python)}
Sample function signature:\\
\begin{lstlisting}
def minSubArraySum(nums):
    """
    Given an array of integers nums, find the minimum sum of any
    non-empty sub-array of nums.
    Example
    minSubArraySum([2, 3, 4, 1, 2, 4]) == 1
    minSubArraySum([-1, -2, -3]) == -6
    """
\end{lstlisting}

Sample function body implementation:\\
\begin{lstlisting}
    min_sum = float('inf')
    for i in range(len(nums)):
        current_sum = 0
        for j in range(i, len(nums)):
            current_sum += nums[j]
            if current_sum < min_sum:
                min_sum = current_sum
    return min_sum
\end{lstlisting}

\subsection{Reflexion Actor instruction}
\hl{
You are a Python writing assistant. You will be given your previous implementation of a function, a series of unit tests results, and your self-reflection on your previous implementation. Apply the necessary changes below by responding only with the improved body of the function. Do not include the signature in your response. The first line of your response should have 4 spaces of indentation so that it fits syntactically with the user provided signature. You will be given a few examples by the user.
}

Reflexion Actor generations follow the form:\\
(Instruction)\\
(Function implementation)\\
(Unit test feedback)\\
(Self-reflection)\\
(Instruction for next function implmentation)

Full examples are shown in \url{https://github.com/noahshinn024/reflexion}

\subsection{Reflexion Self-reflection instruction and example}
\hl{
You are a Python writing assistant. You will be given your previous implementation of a function, a series of unit tests results, and your self-reflection on your previous implementation. Apply the necessary changes below by responding only with the improved body of the function. Do not include the signature in your response. The first line of your response should have 4 spaces of indentation so that it fits syntactically with the user provided signature. You will be given a few examples by the user.
}
Reflexion Self-Reflection generations follow the form:\\
(Instruction)\\
(Function implementation)\\
(Unit test feedback)\\

\subsection{Reflexion programming \emph{no} Self-Reflection ablation example}
Reflexion \emph{no} Self-Reflection ablation Actor generations follow the form:\\
(Instruction)\\
(Function implementation)\\
(Unit test feedback)\\
\sout{(Self-reflection)}\\
(Instruction for next function implmentation)

\subsection{Reflexion programming \emph{no} test generation ablation example}
Reflexion \emph{no} test generation ablation Actor generations follow the form:\\
(Instruction)\\
(Function implementation)\\
\sout{(Unit test feedback)}\\
(Self-reflection)\\
(Instruction for next function implmentation)