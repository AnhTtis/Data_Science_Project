


The next result shows how to construct a sequence of approximate $N$-player coarse correlated equilibria with approximation error tending to zero as $N \to \infty$, provided we have a coarse correlated solution to the mean field game.

\begin{thm}\label{thm_approssimazione}
Let $((\Omega^0,\F^{0-}$, $\prob^0),\Lambda^*,\mu^*)$ be a coarse correlated solution of the mean field game.
For each $N \geq 2$, there exist:
\begin{enumerate}[label=(\roman*)]
    \item an admissible recommendation to the $N$ players $((\Omega^{0,N},\F^{0-,N},\prob^{0,N}),\Lambda^N)$;

    \item a real valued $\eps_N \geq 0$, with $\eps_N \to 0$ as $N \to \infty$,
\end{enumerate}
so that $(\mathfrak{B}_N,(\Omega^{0,N},\F^{0-,N},\prob^{0,N}),\Lambda^N)$ is an $\eps_N$-coarse correlated equilibrium for the $N$-player game.
\end{thm}


\subsection{Construction of the admissible recommendation profiles to the $N$-player game}\label{sezione_approssimazione:sezione_costruzione_raccomandazioni}


With respect to the probability space $(\Omega^1,\F^1,\prob^1)$ defined in \eqref{finite_players:canonical_space}, let us denote by $\mathbb{F}^{(i)}$ the $\prob^1$-augmentation of the filtration generated by $(\xi^i,W^i)$.
Let us introduce the following set of strategies:
\begin{equation}\label{approximation:strategy_sets}
\begin{aligned}
    & \A_{(i)}=\insieme{\alpha \in \A_N \space \; \vert \; \alpha \text{ is $\mathbb{F}^{(i)}$ progressively measurable}}.
\end{aligned}
\end{equation}
We stress that, by construction, for each $N \geq 2$, open loop strategies for the $N$-player game are defined on the same probability space $(\Omega^1,\F^1,\prob^1)$ and we have the inclusions $\A_N\subseteq \A_{N+1}$ and $\A_{(i)}\subseteq \A_N$ for every $i \leq N$.

\bigskip
We build a probability space $(\overline{\Omega},\overline{\F},\overline{\prob})$ large enough to carry any sequence $(\Lambda^i)_{i \geq 1}$ of admissible recommendations such that
\begin{enumerate}
    \item for every $i$, $\Lambda^i$ is supported on the set $\A_{(i)}$;
    \item for every $i$, $\Lambda^i$ has the same distribution as $\Lambda^*$,
    \item for every $N \geq 2$, $(\Lambda^1,\dots,\Lambda^N)$ is exchangeable.
\end{enumerate}
Then, we define the probability space $(\Omega^{0,N},\F^{0-,N},\prob^{0,N})$ as $(\overline{\Omega},\F^{0-,N},\overline{\prob})$, where $\F^{0-,N}$ is a suitable sub $\sigma$-field of $\overline{\F}$ that will be defined below.

\bigskip
Let us denote by $\rho \in \probmeasures{\contpdue}$ the distribution of $\mu^*$.
Let
\begin{equation*}
    K:\F^{0-} \times\contpdue \to [0,1]
\end{equation*}
be the regular conditional probability of $\prob^0$ given $\mu^*$, which exists and is unique since both $(\Omega^0,\F^{0-},\prob^0)$ and $(\contpdue,\mathcal{B})$ are Polish spaces.
Here and in the following, $\mathcal{B}$ stands for the Borel $\sigma$-algebra on $\contpdue$.
Let $\gamma$ denote the joint law of $(\Lambda^*,\mu^*)$ under $\prob^0$, let $\kappa$ be a version of the regular conditional probability of $\gamma$ given $\mu^*$, that is, the stochastic kernel $\kappa:\boreliani{\A}\times\contpdue \to [0,1]$ so that it holds
\begin{equation}\label{approximation:legge_soluzione_disintegrate}
    \prob^0\tonde{(\Lambda^*,\mu^*) \in C \times B}=\int_B \kappa(C,m)\rho(dm) \quad \forall C \in \boreliani{\A}, \; \forall B \in \mathcal{B}.
\end{equation}
Define the probability space $\tonde{\overline{\Omega},\overline{\F}}$ in the following way:
\begin{equation}\label{approximation:spazio_raccomandazioni}
\begin{aligned}
    & \overline{\Omega}= \tonde{ \bigtimes_{1}^\infty \Omega^0} \times \contpdue,
    && \overline{\F}= \tonde{ \bigotimes_{1}^\infty \F^{0-} } \otimes \mathcal{B},
\end{aligned}
\end{equation}
and define $\overline{\prob}$ so that, for every cylinder $R$ with basis $A_1 \times \cdots \times A_N \times B $, with $A_i \in \F^{0-}$ for every $i = 1, \dots, N$, $N \geq 2$, $B \in \mathcal{B}$, it holds
\begin{equation}\label{approximation:legge_spazio_raccomandazioni}
    \overline{\prob}\tonde{ R }=\int_{B} \prod_{i=1}^N K\tonde{A_i,m}\rho(dm).
\end{equation}
We complete the space $(\overline{\Omega},\overline{\F},\overline{\prob})$ with the $\overline{\prob}$-null sets.
Let $\overline{\omega}=((\omega_0^i)_{i \geq 1},m)$ denote a scenario in $\overline{\Omega}$.
Let $\mu: (\overline{\Omega},\overline{\F},\overline{\prob}) \to (\contpdue,\mathcal{B})$ be the projection on $\contpdue$, that is
\begin{equation}\label{approximation:approx_misura}
    \mu\tonde{\overline{\omega}}=m.
\end{equation}

\begin{lemma}\label{approximation:proprieta_raccomandazioni_N_player}
There exists a sequence of recommendations $(\Lambda^i)_{i \geq 1}$ from $(\overline{\Omega},\overline{\F},\overline{\prob})$ to $\bigtimes_{N=1} ^\infty \A_N$ so that, for each $i \geq 1$, the following holds:
\begin{enumerate}[label=(\alph*)]
    \item \label{approximation:proprieta_raccomandazioni_N_player:ammissibilita} $\Lambda^i$ is an admissible recommendation, and it takes values in $\A_{(i)}$.
    \item \label{approximation:proprieta_raccomandazioni_N_player:legge_congiunta_profilo} The joint law of $(\Lambda^{1},\dots,\Lambda^{N})$ under $\overline{\prob}$ is supported on $\bigtimes_{i=1}^N\A_{(i)}\subseteq \A_N^N$ and it is given by
    \begin{equation}\label{legge_eps_equilibrio}
        \gamma_N\tonde{d\alpha^1,\dots,d\alpha^N}= \int_{\contpdue} \bigotimes_{i=1}^N \kappa\tonde{d\alpha^i,m}\rho(dm).
     \end{equation}
     As a consequence, for every $i \geq 1$, $(\Lambda^i,\mu)$ has the same distribution as $(\Lambda^*,\mu^*)$ and  $(\Lambda^i)_{i \geq 1}$ are conditionally independent given $\mu$.
\end{enumerate}
\end{lemma}

\begin{proof}
Recall from \eqref{finite_players:canonical_space} and \eqref{mf:canonical_space} the definitions of the spaces $(\Omega^1,\F^1,\prob^1)$ and $(\Omega^*,\F^*,\prob^*)$.
Observe that, up to completion, it holds
\begin{equation}\label{approximation:spazio_rumori}
    \tonde{\Omega^1,\F^1,\prob^1}= \bigotimes_{1}^\infty \tonde{\Omega^*,\F^*,\prob^*}
\end{equation}
so that a scenario $\omega_1 \in \Omega^1$ can be written as $\omega_1=(\omega^j_*)_{j \geq 1}$.
Moreover, by definition of $(\xi^j,W^j)_{j \geq 1}$ in \eqref{canonical_browian_motions}, for every $i \geq 1$ it holds
\begin{equation*}
    (\xi^i,W^i)(\omega_1)=(x^i,w^i)=(\xi^*,W^*)(\omega^i_*),
\end{equation*}
so that $(\xi^i,W^i)_{i\geq 1}$ can be seen as a sequence of independent copies of $(\xi^*,W^*)$.
Define the filtered probability space $(\Omega,\F,\mathbb{F},\prob)$ as in point \ref{finite_players:condizione_ammissibilita} of Definition \ref{def_correlated_strategy}.
Let $\lambda^i=(\lambda^i_t)_{t \in [0,T]}$, $i \geq 1$, be independent copies of $\lambda^*=(\lambda^*_t)_{t \in [0,T]}$, the strategy associated to the admissible recommendation $\Lambda^*$ according to \eqref{mf:controllo_indotto}, so that
\begin{equation*}
    \lambda^i_t(\overline{\omega},\omega_1)= \lambda^i_t((\omega^j_0)_{j \geq 1},m,(\omega^j_*)_{j \geq 1})=\lambda^*_t\tonde{\omega_0^i,\omega^i_*}.
\end{equation*}
For every $i$, $\lambda^i$ is $\mathbb{F}$-progressively measurable: indeed, since by definition the measures $\prob$ and $\prob^0 \otimes \prob^*$ coincide on the cylinders $A_i$ of the form
\begin{equation}\label{approximation:cilindro_iesimo}
    A_i=\insieme{ (\overline{\omega},\omega_1)=((\omega_0^j)_{j \geq 1} ,m,(\omega_*^j)_{j \geq 1}) \in \overline{\Omega}\times\Omega^1 \; \vert \; (\omega_0^i,\omega_*^i) \in G},
\end{equation}
for any $G \in \F^{0-} \otimes \F^1$, every $\prob^0 \otimes \prob^*$-null set $N$ can be identified with a $\prob$-null cylinder $A_i$ of the form \eqref{approximation:cilindro_iesimo} with basis $N$.
Therefore, for every $t \in [0,T]$, the $\prob$-augmentation of the filtration $\F^{0-}\otimes\F^i_t$ contains all the cylinders with basis 
\begin{equation*}
    A_i=\insieme{ (\overline{\omega},\omega_1)=((\omega_0^j)_{j \geq 1} ,m,(\omega_*^j)_{j \geq 1}) \in \overline{\Omega}\times\Omega^1 \; \vert \; (\omega_0^i,\omega_*^i) \in G},
\end{equation*}
for any $G$ in the $\prob^0 \otimes \prob^*$-augmentation of $\F^{0-} \otimes \F^*_t$. 
This is enough to conclude that $\lambda^i$ is progressively measurable with respect to the $\prob$-augmentation of $\F^{0-} \otimes \F^i_t$, and so with respect to the filtration $\mathbb{F}$ as well.
We define $\Lambda^i$ as in \eqref{raccomandazione_indotta}, that is
\begin{equation}\label{approximation:approx_raccomandazione}
\begin{aligned}
    \Lambda^i(\overline{\omega})=\left \{ \: \begin{aligned}
        & \begin{aligned}
            (\lambda^i_{t}(\overline{\omega},\cdot))_{t \in [0,T]} &  :\space [0,T] \times \Omega^1 \to A \\
        & (t,\omega_1) \to \lambda^i_t(\overline{\omega},\omega_1), 
        \end{aligned} &&  \overline{\omega} \in \overline{\Omega}\setminus \mathcal{N}, \\
        & a_0 && \overline{\omega} \in \mathcal{N},
    \end{aligned} \right.
\end{aligned}
\end{equation}
where $\mathcal{N} \subseteq \overline{\Omega}$ is a $\overline{\prob}$-null set and $a_0$ is an arbitrary point in $A$.
By Lemma \ref{esempi:lemma_misurabile}, $\Lambda^i$ is an admissible recommendation from $(\overline{\Omega},\overline{\F},\overline{\prob})$ to $(\A_N,\boreliani{\A_N})$, for every $N \geq i$.
Since the associated strategies coincide pointwise, it holds $\Lambda^i(\overline{\omega})=\Lambda^*(\omega_0^i)$ 
$\overline{\prob}$-a.s., as ensured by Proposition \ref{esempi:unicita_strategia_associata}.
In particular, this implies that $\Lambda^i$ only takes values in $\A_{(i)}$, since for every fixed $\overline{\omega}$ the control process $(\lambda^i_{t}(\overline{\omega},\cdot))_{t \in [0,T]}$ is $\mathbb{F}^{(i)}$-progressively measurable.
This proves point \ref{approximation:proprieta_raccomandazioni_N_player:ammissibilita}.

As for point \ref{approximation:proprieta_raccomandazioni_N_player:legge_congiunta_profilo}, for every $N \geq 2$, $(\Lambda^1,\dots,\Lambda^N)$ takes values in $\bigtimes_{j=1}^N\A_{\tonde{j}}$ by construction.
Hence, we may restrict the attention to Borel sets $C_j \subseteq \A_{\tonde{j}}$, for every $j=1,\dots,N$.
Let $B \in \mathcal{B}$.
Since  $\Lambda^j(\overline{\omega})=\Lambda^*(\omega^j_0)$ for every $j=1,\dots,N$ $\overline{\prob}$-a.s., by definition of $\overline{\prob}$, we have
\begin{equation*}
\begin{aligned}
    \overline{\prob} & \tonde{\Lambda^{1} \in C_1, \dots, \Lambda^N \in C_N, \mu \in B} = \overline{\prob}\tonde{\bigtimes_{j=1}^N\insieme{\omega^j_0: \; \Lambda^*(\omega_0^j) \in C_j} \; \times \bigtimes_{j=N+1}^\infty \Omega^0 \; \times \;  \contpdue } \\
    & = \int_B \prod_{j=1}^N K\tonde{\insieme{\omega^j_0:\;\Lambda^* (\omega_0^j) \in C_j},m} \rho(dm) = \int_B \prod_{j=1}^N K\tonde{\insieme{\omega_0:\;\Lambda^*\tonde{\omega_0} \in C_j},m} \rho(dm)  \\
    & = \int_{B} \prod_{j=1}^N \kappa\tonde{C_j, m} \rho(dm).
\end{aligned}
\end{equation*}
This shows also that $(\Lambda^i,\mu)$ are identically distributed as $(\Lambda^*,\mu^*)$ and that $(\Lambda^i)_{i\geq 1}$ are conditionally i.i.d. given $\mu$.
\end{proof}
For each $N\geq 2$, set $\F^{0-,N}=\sigma(\Lambda^1,\dots,\Lambda^N)$ and $(\Omega^{0,N},\F^{0-,N},\prob^{0,N})=(\overline{\Omega},\F^{0-,N},\overline{\prob})$.
Then,  
\begin{equation*}
    \tonde{\Lambda^1,\dots,\Lambda^N}:\tonde{\overline{\Omega},\F^{0-,N},\overline{\prob}} \to \tonde{\A_N^N, \boreliani{\A_N^N}}
\end{equation*}
is the candidate $\eps_N$-coarse correlated equilibrium to the $N$-player game, with $\eps_N$ to be determined.

\begin{remark}
The construction of the probability spaces $(\Omega^{0,N},\F^{0-,N},\prob^{0,N})$ is rather involved, but has the advantage of making the admissible recommendation to the $N$-players $(\Lambda^1,\dots,\Lambda^N)$ easy to define.
Besides this technical reason, we notice that, both in the $N$-player game and in the mean field game, the mediator may choose the space $(\Omega^0,\F^{0-},\prob^0)$ he uses to randomize players' strategies, as already pointed out in Sections \ref{sezione_formulazione_N_giocatori} and \ref{sezione_formulazione_mfg}.
Then, it is natural to use the same space $(\Omega^0,\F^{0-},\prob^0)$ on which the coarse correlated solution to the mean field game is defined to randomize players' strategies in the $N$-player game as well.
\end{remark}


\subsection{Proof of Theorem \ref{thm_approssimazione}}
By symmetry, let us consider only possible deviations of player $i=1$.
For every $N\geq 2,$ let $\eps_N$ be given by
\begin{equation}
    \eps_N :=\sup_{\beta \in \A_N}\tonde{\J^N_1(\Lambda^N) - \J^N_1(\Lambda^{N,-1},\beta)}=\J^N_1(\Lambda^N) - \inf_{\beta \in \A_N}\J_N^1(\Lambda^{N,-1},\beta).
\end{equation}
$\Lambda^N$ is an $\eps_N$-coarse correlated equilibrium for every $N \geq 2$.
We must show that $\eps_N \overset{N \to \infty}{\longrightarrow} 0$.
For each $N \geq 2$, choose $\beta^N \in \A_N$ so that
\begin{equation*}
    \J^N_1(\Lambda^{N,-1},\beta^N) \leq  \inf_{\beta \in \A_N}\J^N_1(\Lambda^{N,-1},\beta) - \frac{1}{N}.
\end{equation*}
Let $Z=(Z_t)_{t \in [0,T]}$ be the solution of
\begin{equation}\label{approximation:equazione_Z}
    dZ_t=b(t,Z_t,\mu_t,\beta^N_t)dt + dW^1_t, \quad Z_0=\xi^1,
\end{equation}
and define the corresponding cost as
\begin{equation*}
    \J(\beta^N,\mu)=\E\quadre{\int_0^T f(s,Z_s,\mu_s,\beta^N_s)ds + g(Z_T,\mu_T)}.
\end{equation*}
Let $X$ be the solution of 
\begin{equation}\label{equazione_ottima}
    dX_t=b(t,X_t,\mu_t,\lambda^1_t)dt + dW^1_t, \quad X_0=\xi^1,
\end{equation}
with associated cost
\begin{equation*}
    \J(\Lambda^1,\mu)=\E\quadre{\int_0^T f(s,X_s,\mu_s,\lambda^1_s)ds + g(X_T,\mu_T)}.
\end{equation*}
Observe that, by construction,  $(\xi^1,W^1,\mu,\lambda^1)$ under $\prob$ is distributed as $(\xi,W,\mu^*,\lambda^*)$ under $\prob^*$.
Therefore, by Theorem \ref{teorema_di_unicita_legge} the joint distribution of $(X,\lambda^1,\mu)$ under $\prob$ is the same as $(X^*,\lambda^*,\mu^*)$ under $\prob^*$, where $X$* denotes the state process resulting from the mean field CCE $(\Lambda^*,\mu^*)$.
Moreover, note that by construction $\lambda^1$ is $\mathbb{F}^{\mu,\xi^1,W^1}$-progressively measurable, where
\begin{equation*}
    \F^{\mu,\xi^1,W^1}_t= \sigma(\mu)\vee\sigma(\xi^1)\vee\sigma(W^1_s: \; s \leq t), \; t \in [0,T].
\end{equation*}
By the Lipschitz continuity of $b$, $X$ may be taken to be $\mathbb{F}^{\mu,\xi^1,W^1}$-adapted as well.

\bigskip
To prove the theorem, the following must be shown:
\begin{subequations}
\label{conv_costi:optim}
\begin{align}
    & \J(\Lambda^1,\mu) \leq \J(\beta^N,\mu) \label{conv_costi:minimo_limite}, \\
    & \lim_{N \to \infty} \J_N^1(\Lambda^N)=\J(\Lambda^1,\mu),  \label{conv_costi:convergenza_lambda} \\
    & \lim_{N \to \infty} \abs{\J_N^1(\Lambda^{N,-1},\beta^N) - \J(\beta^N,\mu)} = 0,  \label{conv_costi:convergenza_beta}.
\end{align}
\end{subequations}
If these hold, then we can conclude as follows:
\begin{equation*}
    \begin{aligned}
        \eps_N &=  \J^1_N(\Lambda^N) - \inf_{\beta \in \A_N}\J_N^1(\Lambda^{N,-1},\beta) \leq  \J^1_N(\Lambda^N) - \J^1_N(\Lambda^{N,-1},\beta_N) - \frac{1}{N} \\
        &\leq  \J^1_N(\Lambda^N) - \J(\Lambda^1,\mu) +\J(\Lambda^1,\mu) - \J(\beta^N,\mu) + \J(\beta^N,\mu) - \J^1_N(\Lambda^{N,-1},\beta^N) - \frac{1}{N} \\
        & \leq  \J^1_N(\Lambda^N) - \J(\Lambda^1,\mu) + \J(\beta^N,\mu) - \J^1_N(\Lambda^{N,-1},\beta^N) 
    \end{aligned}
\end{equation*}
and, taking the $\limsup$, we have $\limsup_N \eps_N  \leq 0$, which proves $\eps_N \to 0$ as $N \to \infty$.

\bigskip
We start by proving \eqref{conv_costi:minimo_limite}.
We observe that we cannot just deduce it from the optimality property \eqref{def_mean_field_sol:opt} of $(\Lambda^*,\mu^*)$: since $\beta^N$ may belong to $\A_N \setminus \A_{(1)}$, it may not be identifiable with an open loop strategy for the MFG, for which inequality \eqref{conv_costi:minimo_limite} would hold.
Instead, we prove it by using the regular conditional probability of $\prob$ given $(\xi^i,W^i)_{i=2}^N$.
Denote by $(\bm{x},\bm{w})$ a point $(x^i,w^i)_{i=2}^N \in (\R^d \times \contrd)^{N-1}$, and let $P_\nu=\bigotimes_1^{N-1}(\nu \otimes \wienermeasure)$ denote the joint law of $(\xi^i,W^i)_{i=2}^N$ under $\prob$.
Let $\prob^{\bm{x},\bm{w}}$ be a version of the regular conditional probability of $\prob$ given $(\xi^i,W^i)_{i=2}^N=(x^i,w^i)_{i=2}^N$.
We rewrite \eqref{conv_costi:minimo_limite} as
\begin{equation}\label{conv_costi:int_disintegrato}
\begin{aligned}
    \J & (\Lambda^1,\mu)-\J(\beta^N,\mu) =\\
     & = \E \quadre{\tonde{\int_0^T f(s,X_s,\mu_s,\lambda^1_s)ds + g(X_T,\mu_T)} - \tonde{\int_0^T f(s,Z_s,\mu_s,\beta^N_s)ds + g(Z_T,\mu_T) }} \\
    & =  \E  \left[ \E\left[ \tonde{\int_0^T f(s,X_s,\mu_s,\lambda^1_s)ds + g(X_T,\mu_T)} \right. \right. \\
    & \quad \left. \left. - \tonde{\int_0^T f(s,Z_s,\mu_s,\beta^N_s)ds + g(Z_T,\mu_T)} \Big \vert (\xi^i,W^i)_{i=2}^N \right] \right] \\
    & = \int_{(\R^d \times \contrd)^{N-1}} \left( \E^{\prob^{\bm{x},\bm{w}}}\left[\int_0^T f(s,X_s,\mu_s,\lambda^1_s)ds + g(X_T,\mu_T) \right] \right. \\
    & \quad - \left. \E^{\prob^{\bm{x},\bm{w}}}\left[ \int_0^T f(s,Z_s,\mu_s,\beta^N_s)ds + g(Z_T,\mu_T) \right] \right) P_\nu(d\bm{x},d\bm{w}).
\end{aligned}
\end{equation}
We analyse separately the two terms in the last equality.
Let us start with the term depending upon $\lambda^1$.
Since $\mu$, $\lambda^1$, $W^1$ and $\xi^1$ are independent of $(\xi^i,W^i)_{i=2}^N$  under $\prob$ and $X$ is $\mathbb{F}^{\mu,\xi^1,W^1}$-adapted, $X$ is independent of $(\xi^i,W^i)_{i=2}^N$ as well.
We deduce that, under $\prob^{\bm{x},\bm{w}}$, $W$ is an $\mathbb{F}$-Brownian motion, $X$ solves equation \eqref{equazione_ottima} and 
$\prob^{\bm{x},\bm{w}}\circ(X,\lambda^1,\mu)^{-1}=\prob\circ(X,\lambda^1,\mu)^{-1}=\prob^*\circ(X^*,\lambda^*,\mu^*)^{-1}$, for $P_\nu$-a.e. $(\bm{x},\bm{w}) \in (\R^d \times \contrd)^{N-1}$.
In particular, this implies that
\begin{equation}\label{funzionale_condizionato1}
\begin{aligned}
    \E^{\prob^{\bm{x},\bm{w}}}& \quadre{\int_0^T f(s,X_s,\mu_s,\lambda^1_s)ds + g(X_T,\mu_T)}=\E^{\prob^*}\quadre{\int_0^T f(s,X^*_s,\mu^*_s,\lambda^*_s)ds + g(X^*_T,\mu^*_T)}\\
    & =\J(\Lambda^*,\mu^*)
\end{aligned}
\end{equation}
for $P_\nu$-a.e. $(\bm{x},\bm{w})\in (\R^d \times \contrd)^{N-1}$.

\bigskip
As for the term depending upon $\beta^N$, we note that, since $\beta^N \in \A_N$, there exists a progressively measurable functional $\hat{\beta}:[0,T] \times (\R^d \times \contrd)^N \to A$ so that
\begin{equation*}
    \beta^N_t=\hat{\beta}\tonde{t,\xi^1,W^1,\dots,\xi^N,W^N}.
\end{equation*}
Under $\prob^{\bm{x},\bm{w}}$, it holds
\begin{equation}\label{strategia_condizionata1}
    \beta^N_t= \hat{\beta}\tonde{t,\xi^1,W^1,x^2,w^2,\dots,x^N,w^N} \; \forall t \in [0,T] \quad \prob^{\bm{x},\bm{w}}\text{-a.s.},
\end{equation}
since $(\xi^i,W^i)_{i=1}^2$ are almost surely constant under $\prob^{\bm{x},\bm{w}}$.
Since the joint law of $\mu$, $W^1$ and $\xi^1$ is the same under both $\prob$ and $\prob^{\bm{x},\bm{w}}$, \eqref{strategia_condizionata1} implies that $Z$ satisfies
\begin{equation}\label{conv_costi:differenziale_zeta}
    dZ_t=b(t,Z_t,\mu_t,\hat{\beta}^N_t(\bm{x},\bm{w}))dt + dW^1_t, \quad Z_0=\xi^1,
\end{equation}
under $\prob^{\bm{x},\bm{w}}$, with $\hat{\beta}^N(\bm{x},\bm{w})$ $\mathbb{F}^{(1)}$-progressively measurable.
For every $(\bm{x},\bm{w}) \in (\R^d \times \contrd)^{N-1}$, define the strategy
\begin{equation}
    \Tilde{\beta}\tonde{\bm{x},\bm{w}}=\tonde{ \hat{\beta}\tonde{t,\xi,W,x^2,w^2,\dots,x^N,w^N}}_{t \in [0,T]}.
\end{equation}
Then $\Tilde{\beta}(\bm{x},\bm{w})$ belongs to $\A$  for every $(\bm{x},\bm{w})\in(\R^d\times\contrd)^{N-1}$, and it depends measurably upon $(\bm{x},\bm{w})$.
For every $(\bm{x},\bm{w})$, let $\Tilde{Z}$ be the solution of 
\begin{equation*}
    d\Tilde{Z}_t=b(t,\Tilde{Z}_t,\mu^*_t,\Tilde{\beta}_t(\bm{x},\bm{w}))dt + dW_t, \quad \Tilde{Z}_0=\xi.
\end{equation*}
Since $\prob^{\bm{x},\bm{w}}\circ(Z,\beta,\mu)^{-1}=\prob^{\bm{x},\bm{w}}\circ(Z,\hat{\beta}^N(\bm{x},\bm{w}),\mu)^{-1}=\prob^*\circ(\Tilde{Z},\Tilde{\beta}(\bm{x},\bm{w}),\mu^*)^{-1}$, it follows that 
\begin{equation}\label{funzionale_condizionato2}
\begin{aligned}
    \E^{\prob^{\bm{x},\bm{w}}} & \quadre{\int_0^T f(s,Z_s,\mu_s,\beta^N_s)ds + g(Z_T,\mu_T)}  = \E^{\prob^{\bm{x},\bm{w}}}\quadre{\int_0^T f(s,Z_s,\mu_s,\hat{\beta}^N_s(\bm{x},\bm{w})) ds + g(Z_T,\mu_T)}\\
    & = \E^{\prob^*} \quadre{\int_0^T f(s,\hat{Z}_s,\mu^*_s,\Tilde{\beta}_s(\bm{x},\bm{w}))ds + g(\hat{Z}_T,\mu^*_T) } =\J(\Tilde{\beta}(\bm{x},\bm{w}),\mu^*).
\end{aligned}
\end{equation}
We note that the left-hand side of \eqref{funzionale_condizionato1} depends measurably upon $(\bm{x},\bm{w})$ due to a monotone class argument.
Being $(\Lambda^*,\mu^*)$ a mean field CCE by assumption, \eqref{funzionale_condizionato1} and \eqref{funzionale_condizionato2} imply that
\begin{equation*}
\begin{aligned}
    \J(\Lambda^1,\mu)-\J(\beta^N,\mu) = & \int  \left( \E^{\prob^{\bm{x},\bm{w}}}\left[\int_0^T f(s,X_s,\mu_s,\lambda^1_s)ds + g(X_T,\mu_T) \right] \right. \\
    & - \left. \E^{\prob^{\bm{x},\bm{w}}}\left[ \int_0^T f(s,Z_s,\mu_s,\beta^N_s)ds + g(Z_T,\mu_T) \right] \right) P_\nu(d\bm{x},d\bm{w}) \\
    = & \int  \left( \J(\Lambda^*,\mu^*) -\J(\Tilde{\beta}(\bm{x},\bm{w}),\mu^*) \right) P_\nu(d\bm{x},d\bm{w}) \leq 0,
\end{aligned}
\end{equation*}
which yields \eqref{conv_costi:minimo_limite}.

\bigskip
As for \eqref{conv_costi:convergenza_lambda} and \eqref{conv_costi:convergenza_beta}, they must be handled by continuity arguments on the cost functions and propagation of chaos as stated in Lemma \ref{lemma_poc}.
We give the details only for \eqref{conv_costi:convergenza_lambda}, since \eqref{conv_costi:convergenza_beta} is analogous.
We have:
\begin{equation*}
\begin{aligned}
    \abs{\J^1_N(\Lambda^N) - \J(\Lambda^1,\mu)} & \leq \E\left[\int_0^T \abs{f(t,X^{1,N}_t,\mu^N_t,\lambda^1_t) - f(t,X_t,\mu_t,\lambda^1_t) } ds \right. \\
     & \quad +  \abs{g(X^N_T,\mu_T^N) - g(X_T,\mu_T)} \bigg ] = \attesa{\Delta f + \Delta g}.
\end{aligned}
\end{equation*}
For $\Delta f$, Assumptions \ref{standing_assumptions} ensure that $f$ is locally Lipschitz with at most quadratic growth.
Therefore, by straightforward estimates, we have:
\begin{equation*}
\begin{aligned}
    \E & \quadre{\Delta f} \leq L \E \left[ \int_0^T \tonde{1 + \abs{X^{1,N}_t} + \tonde{\int_{\R^d}\abs{y}^2\mu^N_t(dy)}^\frac{1}{2} + \abs{X_t} + \tonde{\int_{\R^d}\abs{y}^2\mu_t(dy)}^\frac{1}{2} + 2 \abs{\lambda^1_t} }\right. \\
    & \quad \cdot \E \left[ \int_0^T \tonde{\abs{X^N_t - X_t} + \mathcal{W}_{2,\R^d}(\mu^N_t,\mu_t) }^2 dt \right] \\
    & \leq C \E \left[ \norm{X^{1,N}}_{\contrd}^2 + \norm{X}_{\contrd}^2 +  \int_0^T \int_{\R^d}\abs{y}^2 \mu_t(dy)dt + \int_0^T \int_{\R^d}\abs{y}^2 \mu^N_t(dy)dt + 2 \int_0^T \abs{\lambda^1_t} dt \right]^\frac{1}{2} \\
    & \quad \cdot \E\left[  \tonde{\norm{X^{1,N} - X}^2_{\contrd}  + \int_0^T\pwassmetric{2}{\R^d}{2}(\mu^N_t,\mu_t)dt}  \right]^\frac{1}{2} \\
    & \leq  C \tonde{1 + \max_{k=1,\dots,N}\E \quadre{ \norm{X^{1,N}}_{\contrd}^2}^\frac{1}{2} + \E \quadre{\norm{X}_{\contrd}^2}^\frac{1}{2}  }\\
    & \quad \cdot \tonde{ \E\quadre{ \norm{X^{1,N} - X}_{\contrd}^2 }^\frac{1}{2}+ \sup_{t \in [0,T]}\attesa{\pwassmetric{2}{\R^d}{2}(\mu^N_t,\mu_t)}^{\frac{1}{2}} }. \\
\end{aligned}
\end{equation*}
By Lemma \ref{lemma_poc}, the right-hand side tends to $0$ as $N$ goes to infinity.
The convergence of $\E[\Delta g]$ is shown analogously.