

Consider the following canonical space
\begin{equation}\label{canonical_setup}
\begin{aligned}
    \Omega^1=\bigtimes_{1}^\infty \R^d \times \contrd, \quad \F^1=\bigotimes_{1}^\infty \boreliani{\R^d} \otimes \boreliani{\contrd}, \quad \prob^1=\bigotimes_{1}^\infty \nu \otimes \wienermeasure.
\end{aligned}
\end{equation}
We define a sequence of random variables $(\xi^i)_{i \geq 1}$ and of Brownian motions $(W^i)_{i \geq 1}$, by taking the projections:
\begin{equation}\label{canonical_browian_motions}
    \xi^i(\omega_1)=\xi^i((x^j,w^j)_{j \geq 1})=x^i, \quad W^i_t(\omega_1)=W^i_t((x^j,w^j)_{j \geq 1})=w^i_t, \; t \in [0,T].
\end{equation}
By definition of $\prob^1$, $(\xi^i)_{i\geq 1}$ and $(W^i)_{i \geq 1}$ are mutually independent, $(\xi^i)_{i\geq 1}$ are independent and identically distributed with law $\nu \in \mathcal{P}^{\overline{p}}(\R^d)$ and $(W^i)_{i \geq 1}$ are independent $d$-dimensional standard Brownian motions.


\medskip
Let $N\in\N$, $N\geq 2$, be the number of players.
We define the filtration $\mathbb{F}^{1,N}$ as the $\prob^1$-augmentation of the filtration generated by the first $N$ random variables $(\xi^i)_{i=1}^N$ and Brownian motions $(W^i)_{i=1}^N$.
Therefore, for the $N$-player game, we work on the space
\begin{equation}\label{finite_players:canonical_space}
    (\Omega^1,\F^1,\mathbb{F}^{1,N},\prob^1).
\end{equation}
We stress that, for every $N \geq 2$, we keep the probability space $(\Omega^1,\F^1,\prob^1)$ fixed while the filtration $\mathbb{F}^{1,N}$ varies.

\medskip
Consider the set $\A_N$ of $\mathbb{F}^{1,N}$-progressively measurable processes taking values in $A$:
\begin{equation}\label{finite_players:strategie_open_loop}
    \A_N = \insieme{\alpha:[0,T]\times\Omega^1\to A \; \Big\vert \;  \text{$\alpha$ is $\mathbb{F}^{1,N}$-progressively measurable } }.
\end{equation}
Provided that we identify processes which are equal $Leb_{[0,T]}\otimes\prob^1$-a.e., we can regard $\A_N$ as
\begin{equation*}
    \A_N=L^2 \tonde{[0,T]\times\Omega^1,\mathcal{P}^{1,N},Leb_{[0,T]} \otimes \prob^1;A},
    \end{equation*}
where $\mathcal{P}^{1,N}$ stands for the progressive $\sigma$-algebra on $[0,T]\times\Omega^1$, using the filtration $\mathbb{F}^{1,N}$.
We call any element $\alpha\in\A_N$ an open loop strategy for the $N$-player game.
We regard a vector $(\alpha^1,\dots,\alpha^N) \in \A_N^N=\bigtimes_1^N \A_N$ as an open loop strategy profile for the $N$ players, which will be
occasionally denoted by $\bm{\alpha}$.
We endow such a space $\A$ with the norm
\begin{equation}\label{finite_players:semi_norm}
    \norm{\alpha}_{L^2}=\E^{\prob^1}\quadre{\int_0^T \abs{\alpha_t}^2 dt}^\frac{1}{2}
\end{equation}
and consider the Borel $\sigma$-algebra $\boreliani{\A_N}$ associated to that.
We observe that, since $([0,T]\times\Omega^1,\boreliani{[0,T]\times\Omega^1})$ is Polish and $A$ is closed, $\A_N$ is a separable Banach space.
In the following, we will make no distinction between an $\mathbb{F}^{1,N}$-progressively measurable process $\alpha$ and any other process $\alpha'$ which is equal to it $Leb_{[0,T]}\otimes\prob^1$-almost everywhere.

\begin{definition}[Admissible recommendation profile and correlated strategy profile]\label{def_correlated_strategy}

We call \emph{admissible recommendation profile} to the $N$ players a pair $((\Omega^0,\F^{0-},\prob^0),\Lambda)$ so that the following holds:
\begin{enumerate}
    
    \item $(\Omega^0,\mathcal{F}^{0-}$, $\prob^0)$ is a complete probability space; $\Omega^0$ is a Polish space and $\F^{0-}$ is its corresponding Borel $\sigma$-algebra.

    \item $\Lambda =(\Lambda^1,\dots,\Lambda^N)$ is a random vector with values in $\A_N^N$:
    \begin{equation}\label{raccomandazione}
    \begin{aligned}
    \Lambda: (\Omega^0,\mathcal{F}^{0-},\prob^0) & \longrightarrow (\A_N^N,\mathcal{B}_{\A_N^N}) \\
    \omega_0 & \longmapsto \Lambda(\omega_0)=(\alpha^1,\dots,\alpha^N):[0,T]\times\Omega^1\to A^N.
    \end{aligned}
    \end{equation}

    \item \label{finite_players:condizione_ammissibilita} $\Lambda$ is admissible in the following sense: Let $(\Omega,\mathcal{F},\prob)$ be the product space of $(\Omega^0,\mathcal{F}^{0-},\prob^0)$ and $(\Omega^1,\mathcal{F}^1,\prob^1)$:
    \begin{equation*}
        (\Omega,\mathcal{F},\prob)= (\Omega^0 \times \Omega^1,\mathcal{F}^{0-}\otimes\F^1,\prob^0\otimes\prob^1).
    \end{equation*}
    We complete the $\sigma$-algebra $\F$ with the $\prob$-null sets and endow the product probability space with the $\prob$-augmentation of the filtration
    \begin{equation*}
    \mathbb{F}= \F^{0-} \otimes \mathbb{F}^{1,N} = (\F^{0-}\otimes\F^{1,N}_t)_{t\in[0,T]}.
    \end{equation*}
    Given an $(\A_N^N,\boreliani{\A_N^N})$-valued random variable $\Lambda=(\Lambda^1,\dots,\Lambda^N)$ as in \eqref{raccomandazione}, we say that $\Lambda$ is admissible if there exists a process $\lambda=(\lambda^1_t,\dots,\lambda^N_t)_{t\in[0,T]}$ with values in $A^N$, defined on $(\Omega,\F,\prob)$ and $\mathbb{F}$-progressively measurable, so that, for every $i=1,\dots,N$, for $\prob^0$-a.e. $\omega_0 \in \Omega^0$, the section $(\lambda^i_t(\omega_0,\cdot))_{t \in [0,T]}$ is equal to $\Lambda^i(\omega_0)$ in $\A_N$:
        \begin{equation}\label{finite_players:uguaglianza_ammissibilita}
            \norm{(\lambda^i_t(\omega_0,\cdot))_{t \in [0,T]}-\Lambda^i(\omega_0)}_{L^2([0,T] \times \Omega^1)}=0, \quad \prob^0\text{-a.s.,} \: i=1,\dots,N.
        \end{equation}
\end{enumerate}
If $\Lambda=(\Lambda^1,\dots,\Lambda^N)$ is an admissible recommendation to the $N$ players, we write
\begin{equation}\label{controllo_indotto}
    \lambda^i_t(\omega)= \lambda^i_t(\omega_0,\omega_1)=\Lambda^i(\omega_0)_t(\omega_1), \quad i=1,\dots,N,
\end{equation}
where equality is to be understood in the sense of \eqref{finite_players:uguaglianza_ammissibilita}.
We call \emph{correlated strategy profile} associated to the admissible recommendation profile $((\Omega^0,\F^{0-}$, $\prob^0),\Lambda)$ the $\mathbb{F}$-progressively measurable process $\lambda=(\lambda_t)_{t\in[0,T]}$ satisfying \eqref{controllo_indotto}.
\end{definition}
We remark that, by Proposition \ref{esempi:unicita_strategia_associata}, given any admissible recommendation to the $N$ players $((\Omega^0,\F^{0-},\prob^0),\Lambda)$, the correlated strategy profile $\lambda$ associated to it is unique $Leb_{[0,T]}\otimes\prob$-almost everywhere.
We point out that in general, for instance when a recommendation profile $\Lambda$ takes uncountably many values, we cannot recover the progressive measurability property of the strategy $\lambda$ associated to the recommendation $\Lambda$.
The essential reason is that we cannot deduce the measurability of a set in the product $\sigma$-algebra from the measurability of its sections, as shown, e.g., in \cite[p.\,5]{stoyanov}.
Therefore, the admissibility requirement on $((\Omega^0,\F^{0-},\prob^0),\Lambda)$ is necessary.
Nevertheless, we give some examples of admissible recommendations in Example \ref{mf:example:admissible_recommendations} in the following Section \ref{sezione_formulazione_mfg}.


\begin{remark}\label{finite_players:remark_estensioni}
As usual, we can extend random variables defined on $\Omega^1$ to random variables defined on $\Omega$. Indeed, suppose $X:(\Omega^1,\mathcal{F}^1)\to (E,\mathcal{E})$ is a random variable with values in some measurable space $(E,\mathcal{E})$. We can then regard  $X$ as defined on the space $(\Omega,\mathcal{F})$ via the identification $\Tilde{X}(\omega_0,\omega_1)=X(\omega_1)$, and analogously for $\Omega^0$.
In this sense, via the identification $(\Tilde{\xi}^i,\Tilde{W}^i)(\omega_0,\omega_1)=(\xi^i,W^i)(\omega_1)$ for every $i=1,\dots,N$, we can regard the Brownian motions and initial data as defined on $\Omega$; we observe that $(W^i)_{i=1}^N$ are independent standard Brownian motions with respect to the filtration $\mathbb{F}$ as well.
Moreover, we can identify each process $\alpha\in\A_N$, which is defined on $\Omega^1$, with a process $\Tilde{\alpha}$ defined on $\Omega$ via the identification $\Tilde{\alpha}(\omega_0,\omega_1)=\alpha(\omega_1)$.
Such a process is progressively measurable with respect to the filtration $\mathbb{F}$ and independent of $\F^{0-}$.
\end{remark}

We interpret the admissible recommendation as follows: A correlation device or a mediator runs a lottery over open loop strategy profiles according to some publicly known distribution $\prob^0$ and communicates privately to each player a strategy according to the selected profile.
The extraction of the strategy profile happens before the game starts and it is independent of the idiosyncratic shocks that determine the random evolution of players' states.
These features are captured by the construction of the underlying probability space as a product of $(\Omega^0,\F^{0-},\prob^0)$, which contains the information used to correlate players' strategies, and $(\Omega^1,\F^1,\prob^1)$, where noises and open loop strategies are defined, and by the choice of the filtration $\mathbb{F}$, since $\F^{0-} \subseteq \F_t$ for every $t \in [0,T]$.
We stress that, by definition, the realization $\Lambda^i(\omega_0)$ is an $\mathbb{F}^{1,N}$-progressively measurable process in $\A_N$, for any scenario $\omega_0 \in \Omega^0$ and $i=1,\dots,N$.
Observe that, even though $\Lambda$ and $(\xi^j,W^j)_{j=1}^N$ are independent, the correlated strategy profile $\lambda=(\lambda_t)_{t \in [0,T]}$ is in general not independent of either of them, since it is the result of both the recommendation profile and the random shocks and initial data.

\medskip
Let $((\Omega^0,\F^{0-},\prob^0),\Lambda)$ be an admissible recommendation profile.
On the space $(\Omega,\F,\mathbb{F},\prob)$ defined at point \ref{finite_players:condizione_ammissibilita} of Definition \ref{def_correlated_strategy}, we assign players state dynamics and define the cost functionals.
If all players follow the recommendation $\Lambda$, players' state dynamics are given by the following system of stochastic differential equations:
\begin{equation}\label{dinamiche_no_deviazione}
    \begin{cases}
    dX^j_t = b(t,X^j_t,\mu^N_t,\lambda^j_t)dt +dW^j_t, \qquad 0\leq t \leq T, \\
    X^j_0 = \xi^j,
    \end{cases}
\end{equation}
for every $j\in\insieme{1,\dots,N}$, where $\mu^N_t$ is the empirical measure of the state processes of all players at time $t$:
\begin{equation}\label{misura_empirica}
    \mu^N_t=\frac{1}{N}\sum_{\substack{j=1}}^N \delta_{X^j_t}.
\end{equation}


Suppose player $i$ deviates, while the other players follow the recommendations they receive from the mediator.
The deviating player will pick instead an open loop strategy $\beta\in\A_N$.
In other words, at every time $t$ and for every scenario $\omega$, player $i$ plays the action $\Tilde{\beta}_t(\omega)=\beta_t(\omega_1)$ instead of playing the recommended action $\lambda^i_t(\omega)=\Lambda^i(\omega_0)(\omega_1)$.
Then, players' state dynamics are given by the following system of stochastic differential equations:
\begin{equation}\label{dinamiche_deviazione}
    \begin{cases}
    dX^j_t = b(t,X^j_t,\mu^N_t,\lambda^{j}_t)dt +dW^j_t, \qquad   0\leq t \leq T, \quad X^j_0=\xi^j, \quad j\neq i \\
    dX^i_t = b(t,X^i_t,\mu^N_t,\beta_t)dt +dW^i_t, \qquad 0\leq t \leq T, \quad X^i_0=\xi^i, \end{cases}
\end{equation}
where $\mu^N_t$ is defined as in \eqref{misura_empirica}. Assumptions \ref{standing_assumptions} ensure that there always exists an $\mathbb{F}$-adapted continuous solution to both equations \eqref{dinamiche_no_deviazione} and \eqref{dinamiche_deviazione} so that $\E[\sup_{t \in [0,T]}\max_{1 \leq j \leq N}\vert X^j_t\vert^2]$ is finite.
Moreover, pathwise uniqueness holds so that, by Theorem \ref{teorema_di_unicita_legge}, uniqueness in law holds as well.


\begin{remark}\label{finite_players:remark_deviazioni}
We notice that there is an asymmetry between the information available to the mediator and the deviating player: if a player deviates, she chooses her strategy on her own, ignoring the information contained in mediator's recommendation, since, by definition of the process $\beta$ on the product space, deviating player's strategy $\beta$ is independent of the recommendation profile $\Lambda$.
We can interpret player $i$'s deviation in the following way: either the player commits to the moderator ex-ante or she does not; if she does not, she will not exploit any of the additional information the mediator would give away when communicating the recommended strategies to the players.
\end{remark}

As for the cost functional, let $((\Omega^0,\F^{0-},\prob^0),\Lambda)$ be an admissible recommendation profile.
If all players follow the recommendation, then the cost functional of each player $j=1,\dots,N$ is given by
\begin{equation*}
    \J^N_j(\Lambda) =\E\quadre{\int_0^T f(t,X^j_t,\mu^N_t,\lambda^j_t)dt + g(X^j_T,\mu^N_T)},
\end{equation*}
with dynamics given by \eqref{dinamiche_no_deviazione}.
If instead player $i$ does not play according to the recommendation $\Lambda^i$ and plays a different strategy $\beta \in \A$, while the other players stick to the recommendation profile $\Lambda^{-i}=(\Lambda^1,\dots,\Lambda^{i-1},\Lambda^{i+1},\dots,\Lambda^N)$, we define the cost functional of each player $j$ as
\begin{equation*}
\begin{aligned}
    \J^N_j(\Lambda) & =\E\quadre{\int_0^T f(t,X^j_t,\mu^N_t,\lambda^j_t)dt + g(X^j_T,\mu^N_T)}, \quad j \neq i \\ 
    \J^N_i(\Lambda^{-i},\beta) & =\E\quadre{\int_0^T f(t,X^i_t,\mu^N_t,\beta_t)dt + g(X^i_T,\mu^N_T)},
\end{aligned}
\end{equation*}
where the dynamics are given by \eqref{dinamiche_deviazione}.
We stress that the expectation in the cost functional is taken with respect to the product probability measure $\prob = \prob^0 \otimes \prob^1$, although we omit this dependence for conciseness.
Finally, we give the notion of $\eps$-coarse correlated equilibrium:
\begin{definition}[$\eps$-coarse correlated equilibrium]\label{def_CCE}
Let $\eps\geq0$. An admissible recommendation profile $((\Omega^0,\F^{0-},\prob^0),\Lambda)$ is an \emph{$\eps$-coarse correlated equilibrium} for the $N$-player game ($\eps$-CCE) if
\begin{equation}\label{def_CCE:optimality}
    \J^N_i(\Lambda)\leq \J^N_i(\Lambda^{-i},\beta) + \eps
\end{equation}
for all open loop strategies $\beta \in \A_N$ and all players $i=1,\dots,N$.
We call an admissible recommendation profile $((\Omega^0,\F^{0-},\prob^0),\Lambda)$ a \emph{coarse correlated equilibrium} for the $N$-player game if it is an $\eps$-coarse correlated equilibrium with $\eps=0$.
\end{definition}


The usual notion of Nash equilibrium in open loop strategies is consistent with the definition of coarse correlated equilibrium: Suppose we are given an $\eps$-Nash equilibrium $(\alpha^1,\dots,\alpha^N)$ in open loop strategies.
We choose $(\Omega^0,\F^{0-},\prob^0)$ as the trivial probability space and $\Lambda$ as constant and equal to $(\alpha^1,\dots,\alpha^N)$.
It is then straightforward to see that the triple $((\Omega^0,\F^{0-},\prob^0),\Lambda)$ is an $\eps$-CCE according to Definition \ref{def_CCE}.


\medskip
Notice that a Nash equilibrium in open loop strategies $(\alpha^1,\dots,\alpha^N)$ is $\mathbb{F}^{1,N}$-progressively measurable, while a correlated strategy profile $\lambda$ associated to an admissible recommendation $\Lambda$ contains the information carried by $\Lambda$ itself, which is the information the mediator uses to randomize players' strategies.
Moreover, while in both cases the deviating player will use an open loop strategy, CCEs present a certain asymmetry between the information available to the mediator and the deviating player, as pointed out in Remark \ref{finite_players:remark_deviazioni}, while, when dealing with Nash equilibria, 
the deviating player has access to the same information of the other players, since they all use $\mathbb{F}^{1,N}$-progressively measurable strategies.

\begin{remark}[Role of the probability space $(\Omega^0,\mathcal{F}^{0-},\prob^0)$]
According to Definition \ref{def_correlated_strategy}, the probability space $(\Omega^0,\mathcal{F}^{0-},\prob^0)$ is part of the definition of admissible recommendation.
The natural interpretation is that the mediator chooses the auxiliary space he uses to correlate players' strategies.
Moreover, according to equations \eqref{dinamiche_no_deviazione} and \eqref{dinamiche_deviazione}, it determines the probability space on which state processes are defined.
In order to keep the notation as simple as possible, by abuse of notation, we mostly refer only to $\Lambda$ as the admissible recommendation instead of the pair $((\Omega^0,\F^{0-},\prob^0),\Lambda)$.
\end{remark}

\begin{remark}[Relationship with correlated equilibria of \cite{bonesiniCE, campifischer2021}]
It is worth to briefly compare our notion of coarse correlated equilibria with the notion of correlated equilibria of \cite{campifischer2021} and \cite{bonesiniCE}.
Besides the fact that the sets of times, individual states and control actions are finite, therein strategies recommended to the players are in restricted closed loop form, that is, they are Markovian functions of each player's private state, hence of the form $(u^j(t,X^j_t))_{t \in [0,T]}$, with $u^j:[0,T]\times \R^d \to A$ measurable, for each $j=1,\dots,N$.
Recommendations thus take values in the set of such functions of time and state.
Most importantly, in their framework, the deviating player reacts to the recommended strategy: she observes the recommendation the mediator gives her and decides whether or not to play accordingly after receiving it.
Therefore, using our notation, the deviating player $i$ has access to the information carried by $\Lambda^i$.
This feature is not present in our model, as previously discussed.
\end{remark}

