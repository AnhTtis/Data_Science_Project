\section{Appendix}
\label{sec:appendix}

% \lily{TODO}
Modified \tool Score/Point that takes memory fragmentation into consideration,
\begin{equation}
    \frac{\alpha_0*M_0-\alpha_{mom}*M_{mom}}{\gamma_{mom}-\gamma_0} \geq \frac{M_0*M_{mom}}{\delta}
\end{equation}
where
\begin{equation}
\begin{aligned}
    M_{0} = M * f_{0} - \beta \\
    M_{mom} = M * f_{mom} - \beta
\end{aligned}
\end{equation}
$f_0$ is the effective memory ratio. For example, if the memory fragmentation takes 20\% of the device memory, then the effective memory ratio is 80\%. Since the original training and MOMs have different implementations, they will have different effective memory ratios ($f_0$ and $f_{mom}$).

% \subsection{Code}
% Our tool (\tool) and all experiment scripts are collected here:
% \url{https://drive.google.com/drive/folders/1nUVQUK08WoYb6-33LZoxOLF6oq1hEK4F?usp=sharing}