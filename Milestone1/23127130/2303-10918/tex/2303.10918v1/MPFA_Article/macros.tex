% Ce fichier contient toutes les macros que vous pouvez avoir envie de définir 
% si vous les utilisez plusieurs fois dans le document.


% Comment oublier des frame dans la numérotation 





\PassOptionsToPackage{svgnames}{color}

% Un environnement pour bien présenter le code informatique
\newenvironment{code}{%
	\begin{mdframed}[linecolor=green,innerrightmargin=30pt,innerleftmargin=30pt,
		backgroundcolor=black!5,
		skipabove=10pt,skipbelow=10pt,roundcorner=5pt,
		splitbottomskip=6pt,splittopskip=12pt]
	}{%
	\end{mdframed}
}

% Un raccourci pour composer les unités correctement (en droit)
% Exemple: $v = 10\U{m.s^{-1}}$
\newcommand{\U}[1]{~\mathrm{#1}}

% Les guillemets \ofg{par exemple}
\newcommand{\ofg}[1]{\og{}#1\fg{}}

% Le d des dérivées doit être droit: \frac{\dd x}{\dd t}
\newcommand{\dd}{\text{d}}

% La dérivée temporelle, tellement courante en physique, avec les d droits
\newcommand{\ddt}[1]{\frac{\dd #1}{\dd t}}

% Des parenthèses, crochets et accolades qui s'adaptent automatiquement à la 
% taille de ce qu'il y a dedans
%\newcommand{\pa}[1]{\left(#1\right)}
%\newcommand{\pac}[1]{\left[#1\right]}
%\newcommand{\paa}[1]{\left\{#1\right\}}
\newcommand{\pa}{{\partial}\,} 
% Un raccourci pour écrire une constante
\newcommand{\cte}{\text{C}^{\text{te}}}

% Pour faire des indices en mode texte (comme les énergie potentielles)
\newcommand{\e}[1]{_{\text{#1}}}

% Le produit vectoriel a un nom bizarre:
\newcommand{\vectoriel}{\wedge}










%\newtheorem{thm}{Th\'eor\`eme}
\newtheorem{thm}{Theorem}
\newtheorem{rmq}{Remark}
\newtheorem{lem}{Lemma}
\newtheorem{prop}{Proposition}
\newtheorem{prty}{Property}
\newtheorem{hypo}{Hypothesis}
% Definitions
%------------
\newcommand{\ds}{\displaystyle}

% \newcommand{\ul}{\underline}
\newcommand{\ov}{\overline}
\newcommand{\ova}{\overrightarrow}
\newcommand\ull[1]{\underline{\underline{#1}}}

% Opérateurs
%-----------
\DeclareMathOperator{\Deltavec}{\mathbf{\Delta}}
\newcommand{\divs}{{\rm div}\,} 
\newcommand{\divv}{{\bf div}\,}
\newcommand{\rots}{{\rm rot}\,}
\newcommand{\rotv}{{\bf rot}\,}
%-----------
\newcommand{\dive}{\mathrm{div}} 
\newcommand{\diveh}{\mathrm{div_h} } 
\newcommand{\Dive}{\mathrm{Div}\,} 
% \newcommand{\rotv}{\mathbf{rot}\,}
% \newcommand{\grad}{\nabla\,}

%\newcommand{\grad}{{\bf grad}\,}
\newcommand{\grad}{{\bf \ds \nabla}\,}
\newcommand{\lapl}{{\ds \Delta}\,}
% Sauts et moyenne
%-----------------
\newcommand\aver[1]{\lbrace #1 \rbrace}
\newcommand\jump[1]{\lbrack #1 \rbrack}
%
%op discret
\newcommand{\divh}{{\rm div_h}\,} 
\newcommand{\gradh}{{\bf \ds \nabla_h}\,}

%Opérateur discrets
\newcommand{\divsh}{{\rm div_h}\,} 
\newcommand{\divvh}{{\bf div_h}\,}
\newcommand{\rotsh}{{\rm rot_h}\,}
\newcommand{\rotvh}{{\bf rot_h}\,}
%\newcommand{\gradh}{{\bf grad_h}\,}
%\newcommand{\gradv}{{\bf \ds \nabla}\,}
\newcommand{\laplh}{{\ds \Delta_h}\,}


%HHO
%---------------------
\newcommand{\Th}{{\mathcal{T}_h}\,}
\newcommand{\Fh}{{\mathcal{F}_h}\,}
\newcommand{\Sh}{{\mathcal{S}_h}\,}
\newcommand{\Mh}{{\mathcal{M}_h}\,}
\newcommand{\FT}{{\mathcal{F}_T}\,}
\newcommand{\ulv}{{\ul{v}_T}\,}
\newcommand{\ulu}{{\ul{u}_T}\,}
\newcommand{\ulvh}{{\ul{v}_h}\,}
\newcommand{\uluh}{{\ul{u}_h}\,}
\newcommand{\ulU}{{\ul{U}_T^k}\,}
\newcommand{\ulUh}{{\ul{U}_h^k}\,}
\newcommand{\nTF}{{\textbf{n}_{TF}}\,}
\newcommand{\Fhnd}{{\mathcal{F}_h^{\cancel{D}}}\,}
\newcommand{\Fhd}{{\mathcal{F}_h^{D}}\,}
\newcommand{\Fhb}{{\mathcal{F}_h^{b}}\,}


%EN d >1
\newcommand{\ulvvec}{{\bm{\ul{v}}_T}\,}
\newcommand{\uluvec}{{\bm{\ul{u}}_T}\,}
\newcommand{\ulwvec}{{\bm{\ul{w}}_T}\,}
\newcommand{\ulvhvec}{{\bm{\ul{v}}_h}\,}
\newcommand{\uluhvec}{{\bm{\ul{u}}_h}\,}
\newcommand{\ulwhvec}{{\bm{\ul{w}}_h}\,}
\newcommand{\ulUvec}{{\bm{\ul{U}}_T^k}\,}
\newcommand{\ulUhvec}{{\bm{\ul{U}}_h^k}\,}



\def\bu{{\bullet}}

% Vecteurs, matrices, etc.
%--------------------------



\newcommand*{\Coord}[3]{% 
	\ensuremath{\overrightarrow{#1}\, 
		\begin{pmatrix} 
			#2\\ 
			#3 
\end{pmatrix}}}



\def\eps{{\varepsilon}}

\def\Acal{\mathcal A}
\def\Ccal{\mathcal C}
\def\Dcal{\mathcal D}
\def\Ecal{\mathcal E}
\def\Ical{\mathcal I}
\def\Fcal{\mathcal F}
\def\Qcal{\mathcal Q}
\def\Hcal{\mathcal H}
\def\Lcal{\mathcal L}
\def\Mcal{\mathcal M}
\def\Ncal{\mathcal N}
\def\Pcal{\mathcal P}
\def\Rcal{\mathcal R}
\def\Scal{\mathcal S}
\def\Tcal{\mathcal T}
\def\Vcal{\mathcal V}
\def\Wcal{\mathcal W}
\def\Xcal{\mathcal X}
\def\Ycal{\mathcal Y}


\def\fcal{\mathcal{f}}


\def\Scalvec{\mathbfcal{S}}

\def\A{{\mathbb A}}
\def\B{{\mathbb B}}
\def\C{{\mathbb C}}
\def\D{{\mathbb D}}
\def\H{{\mathbb H}}
\def\I{{\mathbb I}}
\def\J{{\mathbb J}}
\def\K{{\mathbb K}}
\def\bbL{{\mathbb L}}
\def\M{{\mathbb M}}
\def\N{{\mathbb N}}
\def\O{{\mathbb O}}
\def\P{{\mathbb P}}
\def\Q{{\mathbb Q}}
\def\R{{\mathbb R}}
%\def\S{{\mathbb S}}
\def\T{{\mathbb T}}
\def\U{{\mathbb U}}
\def\W{{\mathbb W}}
\def\Z{{\mathbb Z}}
\def\e{{\mathrm e}}
\def\d{{\mathrm d}}
\def\h{{\mathtt h}}

\def\bH{{\bf H}}
\def\bA{{\bf A}}
\def\bL{{\bf L}}
\def\bP{{\bf P}}
\def\bS{{\bf S}}
\def\bV{{\bf V}}
\def\bX{{\bf X}}



\def\avec{{\bm a}}
\def\bvec{{\bm b}}
\def\cvec{{\bm c}}
\def\dvec{{\bm d}}
\def\evec{{\bm e}}
\def\fvec{{\bm f}}
\def\gvec{{\bm g}}
\def\hvec{{\bm h}}
\def\ivec{{\bm i}}
\def\jvec{{\bm j}}
\def\kvec{{\bm k}}
\def\lvec{{\bm l}}
\def\mvec{{\bm m}}
\def\nvec{{\bm n}}
\def\ovec{{\bm o}}
\def\pvec{{\bm p}}
\def\qvec{{\bm q}}
\def\rvec{{\bm r}}
\def\svec{{\bm s}}
\def\tvec{{\bm t}}
\def\uvec{{\bm u}}
\def\vvec{{\bm v}}
\def\wvec{{\bm w}}
\def\xvec{{\bm x}}
\def\yvec{{\bm y}}
\def\zvec{{\bm z}}
\def\phivec{{\bm \phi}}
\def\psivec{{\bm \psi}}
\def\omegavec{\bm{\omega}}
\def\nuvec{\bm{\nu}}
\def\tauvec{\bm{\tau}}
\def\uelt{\mathtt{u}}
\def\welt{\mathtt{w}}
\def\Wens{\mathtt{W}}
\def\Fvec{{\bm F}}
\def\Svec{{\bm S}}
\def\sigmavec{{\bm \sigma}}
% Mettre en commentaire ce qui suit si ce n'eest pas utilisé

\renewcommand{\tilde}{\widetilde}

% Commande relié au papié de Bonelle 
\def\hodge{ \textbf{H }}
\def\hodgexya{\textbf H^{\Xcal \tilde \Ycal}_\alpha}
\def\hodgeefrho{\textbf H^{\Ecal \tilde \Fcal}_\rho}
\def\hodgefemu{\textbf H^{\Fcal \tilde \Ecal}_\mu}

\def\hodgeferhoinv{\textbf H^{\tilde \Fcal \Ecal }_{\rho^{-1}}}
\def\hodgeefmuinv{\textbf H^{\tilde \Ecal \Fcal }_{\mu^{-1}}}

\def\hodgexyainv{\textbf H^{\tilde \Ycal \Xcal }_{\alpha^{-1}}}

\def\hodgexyalocal{\textbf H^{\Xcal_c \tilde \Ycal_c}_\alpha}

\def\uudl{\underline{u}}
\def\pudl{\underline{p}}
\def\omegaudl{\underline{\omega}}
\def\phiudl{\underline{\phi}}
\def\tauudl{\underline{\tau}}
\def\gudl{\underline{g}}
\def\gammaudl{\underline{\gamma}}
\def\varphiudl{\underline{\varphi}}
\def\qudl{\underline{q}}
\def\psiudl{\underline{\psi}}

%Opérateur mathémtiques : 
\DeclareMathOperator{\Ima}{Im}
\DeclareMathOperator{\Ker}{Ker}

\DeclareMathOperator{\CURL}{CURL}
\DeclareMathOperator{\DIV}{DIV}
\DeclareMathOperator{\GRAD}{GRAD}







% \theoremstyle{plain}
% \newtheorem{corollaire}{Corollaire}
% \newtheorem{lemme}{Lemme}
% \newtheorem{notation}{Notation}
% % \newtheorem{problem}{Problème}
% \newtheorem{proposition}{Proposition}
% \newtheorem{propriete}{Propriété}
% \newtheorem{rmq}{Remarque}
% % \newtheorem{definition}{Définition}
% \newtheorem*{theo}{Théorème } 
% \numberwithin{equation}{section}



% Commande relié au papié de Bonelle 
\def\hodge{ \textbf{H }}
\def\hodgexya{\textbf H^{\Xcal \tilde \Ycal}_\alpha}
\def\hodgeefrho{\textbf H^{\Ecal \tilde \Fcal}_\rho}
\def\hodgefemu{\textbf H^{\Fcal \tilde \Ecal}_\mu}

\def\hodgeferhoinv{\textbf H^{\tilde \Fcal \Ecal }_{\rho^{-1}}}
\def\hodgeefmuinv{\textbf H^{\tilde \Ecal \Fcal }_{\mu^{-1}}}

\def\hodgexyainv{\textbf H^{\tilde \Ycal \Xcal }_{\alpha^{-1}}}

\def\hodgexyalocal{\textbf H^{\Xcal_c \tilde \Ycal_c}_\alpha}

\def\uudl{\underline{u}}
\def\pudl{\underline{p}}
\def\omegaudl{\underline{\omega}}
\def\phiudl{\underline{\phi}}
\def\tauudl{\underline{\tau}}
\def\gudl{\underline{g}}
\def\gammaudl{\underline{\gamma}}
\def\varphiudl{\underline{\varphi}}
\def\qudl{\underline{q}}
\def\psiudl{\underline{\psi}}



\newcommand{\ul}{\underline}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{definition}{Définition}
\newtheorem{propriete}{Propriété}
\newtheorem{lemma}{Lemme}
%%%%%%%%%%%%%%%%%%%%
\def\bbB{\mathbb{B}}
\def\bbD{\mathbb{D}}
\def\bbK{\mathbb{K}}
\def\bbM{\mathbb{M}}
\def\R{\mathbb{R}}
%%%%%%%%%%%%%%%%%%%%%
\def\bH{\mathbf{H}}
\def\bL{\mathbf{L}}
\def\bP{\mathbf{P}}
\def\bS{\mathbf{S}}
\def\bX{\mathbf{X}}
%%%%%%%%%%%%%%%%%%%%%
\def\fvec{\mathbf{f}}
\def\nvec{\mathbf{n}}
\def\qvec{\mathbf{q}}
\def\uvec{\mathbf{u}}
\def\vvec{\mathbf{v}}
\def\wvec{\mathbf{w}}
\def\xvec{\mathbf{x}}
\def\Gvec{\mathbf{G}}
\def\Pvec{\mathbf{P}}
\def\Lvec{\mathbf{L}}
%%%%%%%%%%%%%%%%%%%%%
\def\Ccal{\mathcal{C}}
\def\Fcal{\mathcal{F}}
\def\Gcal{\mathcal{G}}
\def\Ical{\mathcal{I}}
\def\Mcal{\mathcal{M}}
\def\Scal{\mathcal{S}}
\def\Tcal{\mathcal{T}}
%%%%%%%%%%%%%%%%%%%%%%%
\def\Om{\Omega}
%%%%%%%%%%%%%%%%%%%%%%%
\def\Grad{\mathrm{\mathbf{Grad}}\,}
\def\grad{\mathrm{\mathbf{grad}}\,}
\def\curl{\overrightarrow{\mathrm{rot}}}
\def\curls{\mathrm{rot}}
\def\dive{\mathrm{div}\,}


\def\divv{\mathrm{\mathbf{Div}}\,}


% tenseur 
\newcommand*{\tensor}[1]{\underline{\underline{\bm{#1}}}}


\newcommand{\logLogSlopeTriangle}[5]
{
	% #1. Relative offset in x direction.
	% #2. Width in x direction, so xA-xB.
	% #3. Relative offset in y direction.
	% #4. Slope d(y)/d(log10(x)).
	% #5. Plot options.
	
	\pgfplotsextra
	{
		\pgfkeysgetvalue{/pgfplots/xmin}{\xmin}
		\pgfkeysgetvalue{/pgfplots/xmax}{\xmax}
		\pgfkeysgetvalue{/pgfplots/ymin}{\ymin}
		\pgfkeysgetvalue{/pgfplots/ymax}{\ymax}
		
		% Calculate auxilliary quantities, in relative sense.
		\pgfmathsetmacro{\xArel}{#1}
		\pgfmathsetmacro{\yArel}{#3}
		\pgfmathsetmacro{\xBrel}{#1-#2}
		\pgfmathsetmacro{\yBrel}{\yArel}
		\pgfmathsetmacro{\xCrel}{\xArel}
		%\pgfmathsetmacro{\yCrel}{ln(\yC/exp(\ymin))/ln(exp(\ymax)/exp(\ymin))} % REPLACE THIS EXPRESSION WITH AN EXPRESSION INDEPENDENT OF \yC TO PREVENT THE 'DIMENSION TOO LARGE' ERROR.
		
		\pgfmathsetmacro{\lnxB}{\xmin*(1-(#1-#2))+\xmax*(#1-#2)} % in [xmin,xmax].
		\pgfmathsetmacro{\lnxA}{\xmin*(1-#1)+\xmax*#1} % in [xmin,xmax].
		\pgfmathsetmacro{\lnyA}{\ymin*(1-#3)+\ymax*#3} % in [ymin,ymax].
		\pgfmathsetmacro{\lnyC}{\lnyA+#4*(\lnxA-\lnxB)}
		\pgfmathsetmacro{\yCrel}{\lnyC-\ymin)/(\ymax-\ymin)} % THE IMPROVED EXPRESSION WITHOUT 'DIMENSION TOO LARGE' ERROR.
		
		% Define coordinates for \draw. MIND THE 'rel axis cs' as opposed to the 'axis cs'.
		\coordinate (A) at (rel axis cs:\xArel,\yArel);
		\coordinate (B) at (rel axis cs:\xBrel,\yBrel);
		\coordinate (C) at (rel axis cs:\xCrel,\yCrel);
		
		% Draw slope triangle.
		\draw[#5]   (A)-- node[pos=0.5,anchor=north] {1}
		(B)-- 
		(C)-- node[pos=0.5,anchor=west] {#4}
		cycle;
	}
}
%%% END MACRO FOR ANNOTATION OF TRIANGLE WITH SLOPE %%%.

\definecolor{myblue}{rgb}{0.0, 0.0, 1.0}
\definecolor{myred}{rgb}{0.75, 0.0, 0.2}
\definecolor{mygreen}{rgb}{0.01, 0.75, 0.24}


