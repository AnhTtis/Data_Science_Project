\section{Standard Model effective field theory}
\label{sect:SMEFT}
In this section, we provide a comprehensive introduction to the SMEFT.
%), which is a general EFT extension of the Standard Model.\footnote{As already mentioned, the HEFT is the more general extension of the SM and we postpone its discussion to Sec.~\ref{sec:HEFT}.} 
We start presenting general arguments on how to find an operator basis and then focus on the construction of the commonly used \textit{Warsaw basis} \cite{Grzadkowski:2010es}. 
In Sec.~\ref{subsec:SMEFT_OperatorSize}, we analyze how the size of the different operator coefficients can be estimated using general theoretical considerations. We conclude
in Sec.~\ref{subsec:SMEFT_Constraints} analyzing some constraints on the Wilson coefficients and discussing the validity of the EFT approach to describe BSM physics.


% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\subsection{Operator bases}
\label{subsec:SMEFT_Operator-basis}
On general grounds, we consider the SMEFT in a
bottom-up EFT perspective: we know the low-energy limit of the theory, which is~the Standard Model, while we do not know its UV~completion. 
The goal is to find a general description, in terms of higher-dimensional operators, of the effects generated by integrating out heavy degrees of freedom that are a priori unknown. In the absence of a clear UV~theory to start with,  we constrain the set of operators using only symmetry arguments. The symmetries we assume are  Lorentz invariance, the SM gauge symmetry, $\mathcal{G}_\mathrm{SM}$,
and possible additional global symmetries, such as baryon and lepton number. With the known symmetries, it becomes a pure group theory exercise --although a non-trivial one-- to construct all the allowed operators. 

Concerning the global symmetries, it is not obvious if properties of the SM, such as baryon and lepton number, are fundamental symmetries of the underlying theory or approximate symmetries arising accidentally at low energies. We postpone a detailed discussion of this point to Sec.~\ref{sec:GlobalSymmetries}. On the other hand, there is no doubt that the SM local symmetry provides a useful and unambiguous tool to classify the higher-dimensional operators, since the UV theory must have a local symmetry group that includes~$\mathcal{G}_\mathrm{SM}$ as a subgroup. 

For the construction of an operator basis, we will restrict ourselves for now to work only up to mass-dimension six. To this end, we express the SMEFT Lagrangian as
\begin{align}
\L_\mathrm{SMEFT} &= \L_\mathrm{SM} + \frac{1}{\Lambda} \, \L_5 + \frac{1}{\Lambda^2} \, \L_6 + \ord{\Lambda^{-3}} \, , 
\end{align}
where $\L_{5(6)}$ contains all dimension-five~(-six) operators. 

As an illustration, we construct, following~\cite{Buchmuller:1985jz}, the dimension-five piece~$\L_5$, which consists of a single term: the so-called Weinberg operator \cite{Weinberg:1979sa}, and its hermitian conjugate. For dimensional reasons it is impossible to form a dimension-five operator only out of fermions or only out of field-strength tensors. It can also not be built only out of Higgs doublets~$H$ due to gauge invariance. For the same reason, or due to Lorentz invariance, it is also impossible to combine three scalars with a field-strength tensor. In principle the combination of a field-strength tensor and a fermion bilinear is of the right dimension, but for it to be Lorentz invariant the fermion bilinear would have to be a tensor current, which necessarily transforms as a $\SU{2}_L$~doublet, therefore violating gauge invariance. Thus, the only remaining option is to combine two scalars and two fermions. If we choose $H$ and $H^\ast$ as the scalars, the net hypercharge of the fermion product must vanish, which is only possible by choosing a fermion and its charge conjugate, but this combination does not yield a Lorentz scalar. Therefore, both scalars must be $H$ and combine into a $\SU{2}_L$~triplet, as the singlet combination vanishes. Then both fermions also have to be $\SU{2}_L$ doublets that combine into a triplet and carry no color to form a gauge invariant operator. The resulting operator can be written as 
\begin{align}
Q_\mathrm{Weinberg} &= \varepsilon^{ik} \varepsilon^{jl} H_k H_l \bar{\ell}^c_{i} \ell_j \, ,
\label{eq:Weinberg-Operator}
\end{align}
where we have explicitly shown the $\mathrm{SU}(2)_L$ indices~$(i,j,k,l)$ and 
suppressed the flavor ones.\footnote{The fully anti-symmetric rank-two tensor~$\varepsilon^{ij}$ is defined by $\smash{\varepsilon^{ij}=-\varepsilon^{ji}}$ and~$\varepsilon^{12}=\varepsilon_{12}=+1$, and 
the superscript~${}^c$ denotes 
the charge conjugate of a fermion given by $\psi^c=C{\overline{\psi}}^\intercal$ with the charge conjugation matrix~$C = i \gamma^2 \gamma^0$.} 
After electroweak symmetry breaking, the Weinberg operator introduces a Majorana mass for the left-handed neutrinos~$\nu_L$: 
$\langle\smash{Q_\mathrm{Weinberg}}\rangle = \smash{({v^2}/{2})\,\bar{\nu}_L{}^{\!c} \,  \nu_L}$, where $v/\sqrt{2}$~is the vacuum expectation value of~$H$. 
The  operator $Q_\mathrm{Weinberg}$ violates one of the global symmetries of the SM Lagrangian: 
it violates total lepton number by two units. As we shall discuss in more detail in Sec.~\ref{sec:GlobalSymmetries}, this fact could naturally justify its smallness and, correspondingly, the smallness of neutrino masses. 
Postponing a discussion about global symmetry violations to 
Sec.~\ref{sec:GlobalSymmetries}, in the rest to this section we 
focus on lepton and baryon number conserving operators, which starts at dimension six. 

The operators of~$\L_6$ can be obtained by considerations analogous to the above and we will list a minimal and independent set of them in Sec.~\ref{subsubsec:SMEFT_Warsaw-Basis}. The first complete SMEFT operator set up to dimension six was constructed in the original analysis by \textcite{Buchmuller:1985jz}.\footnote{In fact, one operator was missing in the printed version of this paper, but mentioned in \cite{Buchmuller:1987ur}.} 
Some extensive lists of previously known operators have already been given in~\cite{Leung:1984ni} and the references therein. However, these lists contain many redundant operators which have been eliminated in~\cite{Buchmuller:1985jz}, which however still did not provide a minimal basis. This goal was achieved later on in \cite{Grzadkowski:2010es}. In the following, we discuss general arguments on how different effective operators can be related and how an independent set can be obtained.

\subsubsection{Toward a non-redundant basis}\label{sec:redundant-operators}
A~set of effective operators constructed with the procedure illustrated in the example above
usually contains many redundancies.\footnote{The effective operators form a complex vector space and the redundancy in the operator choice is equivalent to the redundancy in defining a basis for this vector space \cite{Einhorn:2013kja}. We also call a minimal set of operators an operator basis.} Two or more operators or a larger set of operators are redundant if they yield the same contribution to all physical observables, hence some of them can be dropped with no physical consequences if the coefficients of the remaining operators are modified accordingly. Redundant operators can be eliminated using various techniques.
The most relevant ones are: {\em a})~Integration by parts; {\em b})~Field redefinitions (and equations of motion);
%\footnote{Equations of motion are equivalent to field redefinitions only when working at leading power in the EFT expansion.}
{\em c})~Fierz identities;
{\em d})~Dirac structure reduction. 
We now proceed discussing each of them in more detail.

\paragraph{Integration by parts.} Within QFT we commonly assume that total derivatives vanish, i.e., all fields vanish at infinity. Thus the action~$S$ of the theory,  $S=\int \dd^4 x \, \L$, is invariant under integration by parts~(IBP) identities. As a consequence, we can use IBP to relate different operators. In the SM this can, for example, be used to write the kinetic term for the Higgs in the two equivalent forms ${(D_\mu H)^\ast (D^\mu H)}$ and ${-H^\ast D^2 H}$. The same technique can be applied also to rewrite higher-dimensional effective operators in the~SMEFT.

\paragraph{Field redefinitions.} 
The probably most relevant form of equivalence among different effective operators is due to field redefinitions. According to the LSZ reduction formula \cite{Lehmann:1954rq} we are free to choose any form for the interpolating quantum fields of our theory without affecting physical observables, as long as the fields we use can create all the relevant states from the vacuum. This freedom allows us to perform field redefinitions for our effective Lagrangian modifying the operators and, in practice, reducing the operator basis, but leaving the physical observables invariant \cite{Politzer:1980me,Georgi:1991ch,Arzt:1993gz}. The field redefinitions of interest for the SMEFT are perturbative transformations of the type 
\begin{align}
\phi \rightarrow \tilde\phi (\phi) = \phi + \epsilon F(\phi) \, ,
\label{eq:SMEFT_field-redefinition}
\end{align}
where the new field~$\tilde\phi$ is given by the original field~$\phi$ plus some small~($\epsilon \ll 1$) perturbation~$F(\phi)$ that can depend not only on the field $\phi$ itself, but also on all the other fields of the~SM and their covariant derivatives. We furthermore assume that $F$ is an analytic function of the SM fields, their derivatives, and of~$\epsilon$. Usually for the SMEFT the expansion parameter~$\epsilon$ is related to some power~$n$ of the EFT expansion parameter~$(E/\Lambda)^n$, where $E$ is the typical energy scale for the process of interest. 

Following the work of \textcite{Criado:2018sdb}, we will now show that field redefinitions leave the $S$-matrix, and by that all observables, invariant. Let the generating functional of the SM be
\begin{align}
Z_\mathrm{SM}[J] &= \int \mathcal{D}\phi \, \exp\brackets{i S_\mathrm{SM}[\phi] + J\phi}
\label{eq:SMEFT_generating-functional}
\end{align}
with $\phi$ representing all SM fields collectively and $J$~being the corresponding 
source terms. Using that the field redefinition in Eq.~\eqref{eq:SMEFT_field-redefinition} is always invertible in a perturbative sense, we can perform a coordinate transformation for the path integral in Eq.~\eqref{eq:SMEFT_generating-functional}
\begin{align}
Z_\mathrm{SM}[J] &= \!\! \int \!\! \mathcal{D}\phi \, \det\!\brackets{\frac{\delta \tilde\phi (\phi)}{\delta \phi}} \exp\brackets{i S_\mathrm{SM}[\tilde\phi(\phi)] + J\tilde\phi(\phi)} .
\end{align}
Thus a field redefinition in the action $\tilde S_\mathrm{SM}[\phi] = S_\mathrm{SM}[\tilde\phi(\phi)]$ leaves the resulting generating functional invariant if it is accompanied by the Jacobian of the transformation and an appropriate transformation of the source terms. 

Using ghost fields~$\eta$ and~$\bar\eta$ we can write the Jacobian as
\begin{align}
\det\brackets{\frac{\delta \tilde\phi (\phi)}{\delta \phi}} &= \int \mathcal{D}\bar\eta \, \mathcal{D}\eta \, \exp\brackets{-i\bar\eta \frac{\delta\tilde\phi(\phi)}{\delta\phi}\eta} \, .
\end{align}
We can then simply add the ghost part to the action~$S_\mathrm{SM}$. Using Eq.~\eqref{eq:SMEFT_field-redefinition} we find that the ghost propagator is proportional to the identity and ghost loops can only depend on $\delta F(\phi)/\delta\phi$, which is a polynomial in the internal momenta since $\tilde\phi$ is analytic in the fields and their derivatives. In dimensional regularization, which we assume throughout this work, 
%\felix{Maybe we should add a section about regularization and renormalization. Maybe we can add this to the RGE section?} 
these scaleless loops thus vanish. Therefore, the Jacobian of the coordinate transformation is the identity and we can simply neglect the ghosts.

The modification of the source terms affects off-shell quantities, however, due to the LSZ formula~\cite{Lehmann:1954rq} the source terms do not alter the $S$-matrix and by that the physical observables. This means that the generating functional with the action obtained after the field transformation
\begin{align}
\tilde Z_\mathrm{SM}[J] &= \int \mathcal{D}\phi \, \exp\brackets{i \tilde S_\mathrm{SM}[\phi] + J\phi}
\end{align}
yields the same $S$-matrix as the original generating functional~$Z_\mathrm{SM}[J]$ and, therefore, they are physically equivalent. For a more detailed analysis and further information on the treatment of fields with non-zero vacuum expectation values and a discussion of the inclusion of renormalization see \cite{Criado:2018sdb}.

Next, we give a concrete example how field redefinition can be used to eliminate redundant operators from the~SMEFT. Consider the SM amended by the two effective operators
\begin{align}
[Q_{Dl}]_{pr} &= \big(\bar\ell_p (\overleftarrow{\slashed{D}} + \overrightarrow{\slashed{D}}) \ell_r\big)(H^\dagger H)\,, \\
[Q_{eH}]_{pr} &= (\bar\ell_p^i e_r) H_i (H^\dagger H)\,, 
\end{align}
% \felix{Maybe we should define the first operator as $\big(\bar\ell_p (i\overrightarrow{\slashed{D}}-i\overleftarrow{\slashed{D}}) \ell_r\big)(H^\dagger H)$ instead.}
with the corresponding Wilson coefficients $[C_{Dl}]_{pr}$ and~$[C_{eH}]_{pr}$. 
Here, $p$~and~$r$ are flavor indices and $i$ is a fundamental $\SU{2}_L$ index only shown when the contraction is nontrivial.
Our goal is to show that both of these operators are equivalent. We first notice that both operators are of mass-dimension six and are allowed by the SM symmetries. Moreover, $Q_{Dl}$ is hermitian contrary to~$Q_{eH}$. We can now write the part of the SMEFT Lagrangian relevant for this example:
\begin{align}
\begin{split}
\L_\mathrm{SMEFT} &\supset i (\bar\ell_p \slashed{D}\ell_p) - \brackets{[Y_e]_{pr} (\bar\ell_p^i e_r) H_i + \mathrm{h.c.}} 
\\
&+ \left(\frac{[C_{eH}]_{pr}}{\Lambda^2} [Q_{eH}]_{pr} + \mathrm{h.c.} \right) 
\\
&+ \frac{[C_{Dl}]_{pr}}{\Lambda^2} [Q_{Dl}]_{pr} + \mathcal{O}(\Lambda^{-4}) \, .
\end{split}
\label{eq:SMEFT_operator_reduction_example}
\end{align}
We now apply the perturbative field redefinitions
\begin{align}
\ell_{i p} &\rightarrow \ell_{i p} + \frac{1}{\Lambda^2} F_{i p}(\ell,H) \, , & \bar\ell_p^i &\rightarrow \bar\ell_p^i + \frac{1}{\Lambda^2} \overline{F_p^i(\ell,H)} \, ,
\end{align}
where $F$ is some analytic function of the fields~$\ell,\bar\ell,H$, and~$H^\dagger$ and their derivatives. Since $\ell$ is a complex field we also have to shift its charge conjugate, or equivalently~$\bar\ell$. Using that the field redefinition is perturbative in our EFT expansion, i.e., keeping a consistent truncation at mass-dimension six, we find
\begin{align}
\begin{split}
\L_\text{SMEFT} &\to i (\bar\ell_p \slashed{D}\ell_p) + \frac{i}{\Lambda^2} \brackets{\overline{F}_p \overrightarrow{\slashed{D}} \ell_p - \bar{\ell}_p \overleftarrow{\slashed{D}} F_p} \\
&- \!\brackets{\![Y_e]_{pr} (\bar\ell_p^i e_r) H_i + \frac{1}{\Lambda^2} [Y_e]_{pr} \!\brackets{\overline{F}_p^i e_r}\! H_i + \mathrm{h.c.}\!} \\
&+ \frac{[C_{Dl}]_{pr}}{\Lambda^2} \brackets{\bar\ell_p (\overleftarrow{\slashed{D}} + \overrightarrow{\slashed{D}}) \ell_r} (H^\dagger H) \\
&+ \brackets{\frac{[C_{eH}]_{pr}}{\Lambda^2}(\bar\ell^i_p e_r)H_i (H^\dagger H) + \mathrm{h.c.}} + \ord{\Lambda^{-4}} ,
\end{split}
\end{align}
where we used IBP for the last term of the first line to move the derivative away from the function~$F$.
We observe that by choosing $F_{i p} = -i [C_{Dl}]_{pr} \,\ell_{i r} (H^\dagger H)$ the two terms originating from shifting the kinetic term of the fermions cancel exactly the operator~$Q_{Dl}$. The final result we thus obtain reads
\begin{align}
\begin{split}
\L_\mathrm{SMEFT} &\supset i (\bar\ell_p \slashed{D}\ell_p) - \left( [Y_e]_{pr} (\bar\ell_p^i e_r) H_i + \mathrm{h.c.} \right) 
\\
&+ \!\left(\!\frac{[C_{eH}^\prime]_{pr}}{\Lambda^2} [Q_{eH}]_{pr} + \mathrm{h.c.} \!\right)\! + \ord{\Lambda^{-4}} .
\end{split}
\label{eq:SMEFT_non-redundant_Lagrangian}
\end{align}
We have found that the operator $Q_{Dl}$ is redundant and it is sufficient to only include~$Q_{eH}$ in the Lagrangian. The effect of removing the redundant operator~$Q_{Dl}$ in our example is a shift of the Wilson coefficient of the remaining operator~$Q_{eH}$ given by $[C_{eH}^\prime]_{pr} = [C_{eH}]_{pr} - i [C_{Dl}]_{ps} [Y_e]_{sr}$. Equally well we could also have removed $Q_{eH}$ in favor of $Q_{Dl}$ with the field redefinition $\ell_p \to \ell_p + [A]_{pr} \ell_r (H^\dagger H)\big/\Lambda^2$ where $A$ is the matrix defined by $[A]_{ps} [Y_e]_{sr} = [C_{eH}]_{pr}$. However, it is often more convenient to remove the operators with more derivatives in favor of operators with fewer derivatives, which is also the strategy we will pursue in the following. The procedure presented above can be used to eliminate any operator that is redundant due to field redefinitions. In the case where we remove an operator with derivatives it is always the shift of the kinetic term that cancels the redundant effective operator. 

In many cases, including the SMEFT, when only keeping effective operators of mass-dimension six, there is a simpler way of removing redundant operators than using field redefinitions. It can be shown that at leading power in the EFT expansion the use of equations of motion is equivalent to applying field redefinitions, which we will prove below.

Consider a Lagrangian~$\L$ depending on the fields~$\phi$, e.g., the SM Lagrangian depending on all the SM fields. We then perform a perturbative field redefinition of the form $\phi \to \smash{\tilde\phi} = \phi + \epsilon \delta\phi$ on the Lagrangian, where $\epsilon$ is again a small ($\epsilon \ll 1$) expansion parameter related to some power~$n$ of the EFT expansion~$(E/\Lambda)^n$. Expanding the shifted  action  around the original field configuration~$\phi$ we find
% \begin{align}
% \L[\phi] \rightarrow \L[\tilde\phi] 
% &= \left.\L[\tilde\phi]\right|_{\tilde\phi=\phi} + \epsilon \left. \frac{\delta \L[\tilde\phi]}{\delta\tilde\phi} \right|_{\tilde\phi=\phi} \delta\phi + \ord{\epsilon^2} 
% \nonumber\\[0.1cm]
% %
% &= \L[\phi] + \epsilon E[\phi] \delta\phi + \ord{\epsilon^2}
% \label{eq:SMEFT_field-redefinitions_EOM}
% \end{align}
\begin{align}
S[\phi] \rightarrow S[\tilde\phi] 
&= \left. S[\tilde\phi]\right|_{\tilde\phi=\phi} + \epsilon \left. \frac{\delta S[\tilde\phi]}{\delta\tilde\phi} \right|_{\tilde\phi=\phi} \delta\phi + \ord{\epsilon^2} 
\nonumber\\[0.1cm]
%
&= S[\phi] + \epsilon \int \dd^4 x \, E[\phi] \delta\phi + \ord{\epsilon^2}
\label{eq:SMEFT_field-redefinitions_EOM}
\end{align}%
at leading order in~$\epsilon$, where $E[\phi] = \big({\delta \L[\tilde\phi]}\big/{\delta\tilde\phi}\big) \big|_{\tilde\phi=\phi}$ symbolized the equations of motion of the field~$\phi$. Therefore, instead of performing a field redefinition we can also add a term proportional to the equations of motion of a field to the Lagrangian, which at leading power has the same effect. Since we work up to order~$\ord{\epsilon}$ it is also sufficient to only use the leading piece of the equations of motion. That means for the SM we can just use the pure SM equations of motion dropping all contributions of higher-dimensional operators.  

We can now come back to our example from Eq.~\eqref{eq:SMEFT_operator_reduction_example} and find that the operator we removed before is indeed proportional to the equations of motion for the fields $\ell$ and~$\bar\ell$. We already know that in this case $\epsilon=\Lambda^{-2}$. Thus we can use the leading SM equations of motion
\begin{subequations}
\begin{align}
E[\bar\ell\,]_{i p} &= i\overrightarrow{\slashed{D}} \ell_{i p} - [Y_e]_{pr} e_r H_i + \ord{\Lambda^{-2}} \, ,
\\
E[\ell]_p^i &= -i\bar{\ell}_p^i \overleftarrow{\slashed{D}} - [Y_e^\ast]_{pr} \bar{e}_r {H^\ast}^i + \ord{\Lambda^{-2}} \, .
\end{align}
\end{subequations}
Then adding the term $\epsilon \overline{\delta\phi}_p^i E[\bar\ell\,]_{i p}  + \epsilon E[\ell]_p^i \delta\phi_{i p}$ with $\delta\phi_p = F_p(\ell,H)$ to the Lagrangian in Eq.~\eqref{eq:SMEFT_operator_reduction_example} yields the same result than using field redefinitions. Notice that since~$\ell$ is a complex field we need to use the equations of motions for both the field and its charge conjugate.
In practice it is easier to directly plug in the equations of motion in the effective operators we want to remove. In our example we could simply replace $\overrightarrow{\slashed{D}} \ell_{i p}$ and $\bar{\ell}_p^i \overleftarrow{\slashed{D}}$ in the operator~$Q_{Dl}$ by $- i [Y_e]_{pr} e_r H_i$ and $ i[Y_e^\ast]_{pr} \bar{e}_r {H^\ast}^i$, respectively, directly obtaining the result in Eq.~\eqref{eq:SMEFT_non-redundant_Lagrangian}.


In the literature it is often stated that some operators are removed by means of the equations of motion. This statement is not strictly correct in general, since the equations of motion can only be used at leading order in the EFT expansion. If we work at subleading power~$\epsilon^2$, e.g., include dimension-eight operators in our previous example, we should add the term 
% \begin{align}
% 	\left. \frac{1}{2} \epsilon^2 \frac{\delta^2 \L[\tilde\phi]}{\delta\tilde\phi^2} \right|_{\tilde\phi=\phi} \delta\phi^2
%     \label{eq:non-linear-shift}
% \end{align}
 \begin{align}
	\left. \frac{1}{2} \epsilon^2 \frac{\delta^2 S[\tilde\phi]}{\delta\tilde\phi^2} \right|_{\tilde\phi=\phi} \delta\phi^2
    \label{eq:non-linear-shift}
\end{align}
to Eq.~\eqref{eq:SMEFT_field-redefinitions_EOM} to obtain a consistent truncation of the EFT expansions up to order~$\ord{\epsilon^2}$. It is immediately clear that in this case the use of equations of motion is no longer equivalent to applying field redefinitions as the former do not capture the subleading shift of the fields in Eq.~\eqref{eq:non-linear-shift}. Therefore, when considering a Lagrangian with effective operators of different powers we cannot use equations of motion to remove redundancies but we have to apply the field redefinitions to obtain the correct result. For more details on the failure of equations of motion see \cite{Criado:2018sdb,Jenkins:2017dyc}.

The common approach is thus to first use IBP, if necessary, to bring an operator into the form of the equations of motion, and then use these to eliminate the operator in favor of other effective operators containing fewer derivatives. If we work at subleading power in the EFT, the equations of motion cannot be used and we have to apply field redefinitions instead. In this situation, we have to remove the redundant operators order by order starting with the lowest order operators, since a shift to eliminate an operator produces operators of the same or of higher mass dimension when shifting massless fields.\footnote{In the SMEFT, only the Higgs~$H$ has a mass term, thus shifting it to remove a redundant operator can introduce lower-dimensional operators.}

%\felix{References to be added in this Sec.~\cite{Politzer:1980me,Arzt:1993gz,GrosseKnetter:1993td,Simma:1993ky}. }

\paragraph{Fierz identities.} 
% \felix{The paragraph on Fierzing is completely rewritten.}
These identities follow from completeness relations on certain matrix spaces, and provide additional relations among operators. 
We start by discussing Fierz identities of the Lorentz group~\cite{fierz:1937}. These identities can be applied to four-fermion operators, allowing us to rearrange the ordering of the different spinors. 
For their derivation we follow the discussion in \cite{Nishi:2004st}.
When working with a chiral theory such as the SMEFT, it is usually most convenient to derive the Fierz identities in the chiral basis $\{\Gamma^n\}$ for the Dirac algebra in four spacetime dimensions which we define as
\begin{subequations}
\begin{align}
    \{\Gamma^n\} &= \left\{P_L,P_R,\gamma^\mu P_L,\gamma^\mu P_R, \sigma^{\mu\nu}\right\} \,,
    \label{eq:Dirac-basis-4D}
    \\
    \{\widetilde{\Gamma}_n\} &= \left\{P_L,P_R,\gamma_\mu P_R,\gamma_\mu P_L, \sigma_{\mu\nu}/2\right\} \,,
\end{align}
\end{subequations}
where $P_{R/L}=\frac{1}{2}(\mathds{1}\pm\gamma_5)$ are the chirality projectors and $\smash{\sigma^{\mu\nu}=\frac{i}{2}[\gamma^\mu,\gamma^\nu]}$ with $\mu<\nu$.
Moreover, we have also defined the dual basis~$\smash{\{\widetilde{\Gamma}_n\}}$. With this definition the orthogonality condition $\smash{\mathrm{tr}\{\Gamma^n \widetilde{\Gamma}_m\}}=2\delta^n_m$ is satisfied. Since $\{\Gamma^n\}$ forms a basis of all $4\times 4$~matrices we can write any such matrix~$X$ as $X=X_n \Gamma^n$ with $X_n=\smash{\frac{1}{2}\mathrm{tr}\{X\widetilde{\Gamma}_n\}}$, and thus $X=\smash{\frac{1}{2}\mathrm{tr}\{X\widetilde{\Gamma}_n\}\Gamma^n}$. Writing the latter equation in its components and inserting appropriate delta functions we obtain
\begin{align}
    \delta_{ij} \delta_{kl} &= \frac{1}{2} (\widetilde{\Gamma}_n)_{kj} (\Gamma^n)_{il}
    &
    &\text{or}
    &
    (~) \otimes [~] &= \frac{1}{2} (\widetilde{\Gamma}_n] \otimes [\Gamma^n)\,,
\end{align}
where in the last equation we schematically identified the indices with parenthesis as follows: $i\sim($, $j\sim)$, $k\sim[$, and $l\sim]$. Multiplying this equation by generic matrices~$X$ and~$Y$ we find
\begin{align}
    (X) \otimes [Y] &= \frac{1}{4} \, \mathrm{tr}\big\{X \widetilde{\Gamma}_n Y \widetilde{\Gamma}_m \big\} \, (\Gamma^m] \otimes [\Gamma^n)
    \label{eq:Fierz-projection}
\end{align}
which allows us to project any tensor product of two matrices onto a product of matrices from the chosen Dirac basis. In particular, by choosing $X,Y\in\{\Gamma^n\}$ we can derive the Fierz identities
\begin{subequations}
\begin{align}
    \begin{split}
    (P_{A}) \otimes [P_{A}] &= \frac{1}{2} (P_{A}] \otimes [P_{A}) \\
    &\quad +\frac{1}{8} (\sigma^{\mu\nu}P_{A}] \otimes [\sigma_{\mu\nu}P_{A}) \,,
    \label{eq:fierz-scalar-XX}
    \end{split}
    \\
    (P_{A}) \otimes [P_{B}] &= \frac{1}{2} (\gamma^\mu P_{B}] \otimes [\gamma_\mu P_{A}) \,,
    \\
    (\gamma^\mu P_{A}) \otimes [\gamma_\mu P_{A}] &= - (\gamma^\mu P_{A}] \otimes [\gamma_\mu P_{A}) \,,
    \\
    (\gamma^\mu P_{A}) \otimes [\gamma_\mu P_{B}] &= 2\, (P_{B}] \otimes [P_{A}) \,,
    \label{eq:Fierz-vector-AB}
    \\
    \begin{split}
    (\sigma^{\mu\nu} P_{A}) \otimes [\sigma^{\mu\nu} P_{A}] &= 6\, (P_{A}] \otimes [P_{A}) \\
    &\quad -\frac{1}{2} (\sigma^{\mu\nu}P_{A}] \otimes [\sigma_{\mu\nu}P_{A}) \,,
    \end{split}
    \\
    (\sigma^{\mu\nu} P_{A}) \otimes [\sigma^{\mu\nu} P_{B}] &= 0 \,,
\end{align}%
\label{eq:Fierz-ids}%
\end{subequations}%
where $A,B\in\{L,R\}$ but $A \neq B$. The above equations correspond only to relations among Dirac structures; however, when applying them to four-fermion operators we also anti-commute two spinors thus acquiring an additional minus sign with respect to Eq.~\eqref{eq:Fierz-ids}.
For example, Eq.~\eqref{eq:Fierz-vector-AB} allows us to rewrite the operator $(\bar\ell^i \gamma^\mu q_i)(\bar d \gamma_\mu e) = -2 (\bar\ell^i e)(\bar d q_i)$ which has the quarks and leptons in separate currents. 
Notice that we assumed the Dirac algebra in four spacetime dimensions to evaluate the traces in Eq.~\eqref{eq:Fierz-projection} and obtain the relations~\eqref{eq:Fierz-ids}. However, when working at the loop level, we encounter divergent integrals that we regulate using dimensional regularization in $D=4-2\epsilon$~dimensions, which is incompatible with the results obtained before. At the loop level, using the relations~\eqref{eq:Fierz-ids} while working in $D$~dimensions introduces so-called evanescent operators, i.e., operators that vanish in $D=4$. We will discuss these evanescent contributions in Sec.~\ref{sec:evanescent}.

%Moreover, Eq.~\eqref{eq:SMEFT_Fierz_opposite-chirality-tensor} shows that any Lorentz tensor operator with the same chirality structure in both currents can be dropped, e.g. the operator of the form $(\bar\ell^i \sigma_{\mu\nu} e)(\bar d \sigma^{\mu\nu} q_i)$ vanishes.
%
%
% The relevant Fierz identities for the SMEFT are
% \begin{widetext}
% \begin{subequations}
% \begin{align}
% (\overline{\psi}_{1,L} \gamma_\mu \psi_{2,L}) (\overline{\psi}_{3,L} \gamma^\mu \psi_{4,L}) &= (\overline{\psi}_{1,L} \gamma_\mu \psi_{4,L}) (\overline{\psi}_{3,L} \gamma^\mu \psi_{2,L}) \, , \\
% %
% (\overline{\psi}_{1,R} \gamma_\mu \psi_{2,R}) (\overline{\psi}_{3,R} \gamma^\mu \psi_{4,R}) &= (\overline{\psi}_{1,R} \gamma_\mu \psi_{4,R}) (\overline{\psi}_{3,R} \gamma^\mu \psi_{2,R}) \, , \\
% %
% (\overline{\psi}_{1,L} \psi_{2,R}) (\overline{\psi}_{3,R} \psi_{4,L}) &= -\frac{1}{2} (\overline{\psi}_{1,L} \gamma_\mu \psi_{4,L}) (\overline{\psi}_{3,R} \gamma^\mu \psi_{2,R}) \, , 
% \label{eq:SMEFT_Fierz_scalar-tensor}
% \\
% %
% (\overline{\psi}_{1,L} \psi_{2,R}) (\overline{\psi}_{3,L} \psi_{4,R}) &= -\frac{1}{2} (\overline{\psi}_{1,L} \psi_{4,R}) (\overline{\psi}_{3,L} \psi_{2,R}) - \frac{1}{8} (\overline{\psi}_{1,L} \sigma_{\mu\nu} \psi_{4,R}) (\overline{\psi}_{3,L} \sigma^{\mu\nu} \psi_{2,R}) \, , \\
% %
% (\overline{\psi}_{1,R} \sigma_{\mu\nu} \psi_{2,L}) (\overline{\psi}_{3,R} \sigma^{\mu\nu} \psi_{4,L}) &= -6 (\overline{\psi}_{1,R} \psi_{4,L}) (\overline{\psi}_{3,R} \psi_{2,L})  + \frac{1}{2} (\overline{\psi}_{1,R} \sigma_{\mu\nu} \psi_{4,L}) (\overline{\psi}_{3,R} \sigma^{\mu\nu} \psi_{2,L}) \, , \\
% %
% (\overline{\psi}_{1,L} \sigma_{\mu\nu} \psi_{2,R}) (\overline{\psi}_{3,R} \sigma^{\mu\nu} \psi_{4,L}) &= 0 \, ,
% \label{eq:SMEFT_Fierz_opposite-chirality-tensor}
% \end{align}
% \end{subequations}
% \felix{I will compactify these equations.}
% \end{widetext}
% where $\psi_{1-4,L/R}$ are some Dirac spinors with specified chirality. For example Eq.~\eqref{eq:SMEFT_Fierz_scalar-tensor} allows us to rewrite the mixed current SMEFT operator $(\bar\ell^i q_i)(\bar d e)$ in terms of $(\bar\ell^i e)(\bar d q_i)$ which has the quarks and leptons in separate currents. Moreover, Eq.~\eqref{eq:SMEFT_Fierz_opposite-chirality-tensor} shows that any Lorentz tensor operator with the same chirality structure in both currents can be dropped, e.g. the operator of the form $(\bar\ell^i \sigma_{\mu\nu} e)(\bar d \sigma^{\mu\nu} q_i)$ vanishes.


Furthermore, we have the Fierz identity for the generators~$T^a$ of the fundamental representation of~$\SU{N}$ groups
\begin{align}
	(T^a)_{ij} (T^a)_{kl} = \frac{1}{2} \brackets{\delta_{il}\delta_{kj} - \frac{1}{N}\delta_{ij}\delta_{kl}} \, ,
    \label{eq:SUN-Fierz}
\end{align}
or in our notation 
\begin{align}
    (T^a) \otimes [T^a] = \frac{1}{2} (~] \otimes [~) - \frac{1}{2N} (~) \otimes [~] \,,
\end{align}
where the parenthesis now correspond to indices of the fundamental representation of~$\mathrm{SU}(N)$. For example, for~$\mathrm{SU}(2)_L$ this allows us to rewrite the Higgs operator
$(H^\dagger \tau^I H)(H^\dagger \tau^I H) = (H^\dagger H)^2$.



% They can be used to eliminate one of the three following four-fermion operator types
% \begin{subequations}
% \begin{align}
%     (~)
% \end{align}
% \end{subequations}
% \begin{subequations}
% \begin{align}
% (\overline{\psi}_i \Gamma \psi_i)&(\overline{\psi}_j \Gamma \psi_j) \, , 
% \\
% (\overline{\psi}_i \Gamma \psi_j)&(\overline{\psi}_j \Gamma \psi_i) \, , 
% \\
% (\overline{\psi}_i \Gamma T^a_{ij} \psi_j)&(\overline{\psi}_k \Gamma T^a_{kl} \psi_l) \, ,
% \end{align}
% \end{subequations}
% \felixx{where $\Gamma$ denotes a generic Dirac structure. In the case of $\mathrm{SU}(2)_L$ any of the fermion bilinears in the above equations can also be replaced by a Higgs bilinear.}


\paragraph{Dirac structure reduction.}
% \felix{We should probably also comment on this very shortly}
Equation~\eqref{eq:Dirac-basis-4D} constitutes a Dirac basis in $D=4$~dimensions and is therefore enough to construct an EFT operator basis in the physical four-dimensional limit. Nevertheless, we can write down operators with Dirac structures different than in~\eqref{eq:Dirac-basis-4D}, which we then have to project onto our chosen basis~$\{\Gamma^n\}$ using gamma-tensor reduction \cite{Buras:1989xd,Herrlich:1994kh,Tracas:1982gp}.
Following \cite{Fuentes-Martin:2022vvu} we write this projection as
\begin{align}
    X \otimes Y &= \sum_{n} b_n (X,Y) \, \Gamma^n \otimes \widetilde{\Gamma}_n + E(X,Y) .
    \label{eq:Dirac-projection}
\end{align}
Notice that in $D$~dimensions the Dirac algebra is infinite dimensional and thus it is not possible to project a generic structure onto the finite four-dimensional basis~$\{\Gamma^n\}$. As in the case of the Fierz identities, performing such a projection then introduces an evanescent operator~$E(X,Y)$, which is implicitly defined by Eq.~\eqref{eq:Dirac-projection}. Working at tree level, which we assume for the moment, we can take the four-dimensional limit and therefore~$E(X,Y)$ vanishes. However, at the loop level this is not the case and the evanescent contributions can be treated similar to the discussion in Sec.~\ref{sec:evanescent} and \cite{Fuentes-Martin:2022vvu}.
The coefficients~$b_n(X,Y)$ can be determined by contracting Eq.~\eqref{eq:Dirac-projection} with the basis elements~$\Gamma^k$
\begin{align}
    \mathrm {tr} \left\{ \Gamma^k X \widetilde{\Gamma}_k Y \right\} &= \sum_n b_n(X,Y) \, \mathrm{tr} \left\{ \Gamma^k \Gamma^n \widetilde{\Gamma}_k \widetilde{\Gamma}_n \right\} + \mathcal{O}(\epsilon^2)
\end{align}
which for $k=1,\ldots,10$ yields a system of equations that we can solve to find the coefficients~$b_n(X,Y)$. To compute the traces above we use na\"ive dimensional regularization~(NDR) (see Appendix~\ref{app:gamma5}) defining our evanescent operator scheme. We find
\begin{widetext}
\begin{subequations}
\vspace*{-0.5cm}
\begin{align}
	\gamma^\mu \gamma^\nu P_A \otimes \gamma_\nu \gamma_\mu P_A &= ( 4- 2 \epsilon )\, P_A \otimes P_A + \sigma^{\mu\nu} P_A \otimes \sigma_{\mu\nu} P_A \, , 
    \\
	\gamma^\mu \gamma^\nu P_A \otimes \gamma_\nu \gamma_\mu P_B &= 4( 1-2\epsilon )\, P_A \otimes P_B + E_{AB}^{[2]} \, , 
    \\
	\gamma^\mu \gamma^\nu \gamma^\lambda P_A \otimes \gamma_\lambda \gamma_\nu \gamma_\mu P_A &= 4(1-2\epsilon )\, \gamma^\mu P_A \otimes \gamma_\mu P_A + E_{AA}^{[3]} \, , 
    \\
	\gamma^\mu \gamma^\nu \gamma^\lambda P_A \otimes \gamma_\lambda \gamma_\nu \gamma_\mu P_B &= 16( 1-\epsilon )\,\gamma^\mu P_A \otimes \gamma_\mu P_B + E_{AB}^{[3]} \, , 
    \\
	\gamma^\mu \gamma^\nu \sigma^{\lambda\rho} P_A \otimes \sigma_{\lambda\rho} \gamma_\nu \gamma_\mu P_A &= 16(3-5\epsilon )\,P_A \otimes P_A + 2(6-7\epsilon )\,\sigma^{\mu\nu} P_A \otimes \sigma_{\mu\nu} P_A + E_{AA}^{[4]} \, ,
\end{align}
\end{subequations}
\end{widetext}
implicitly defining the evanescent structures~$\smash{E_{AB}^{[2]}}$, $\smash{E_{AA}^{[3]}}$, $\smash{E_{AB}^{[3]}}$, and $\smash{E_{AA}^{[4]}}$, where $A,B\in\{L,R\}$ with~${A \neq B}$. 
Other schemes, and hence alternative definitions of the evanescent operators differing form our choice by $\mathcal{O}(\epsilon)$~terms, are also possible, see e.g. \cite{Herrlich:1994kh,Dekens:2019ept}.

\subsubsection{The Warsaw basis}
\label{subsubsec:SMEFT_Warsaw-Basis}
We can now apply the methods illustrated so far in this section to the set of all effective operators that are compatible with the symmetries of the~SM. By~that, we can construct a basis, i.e., a minimal set of effective operators of the SMEFT.\footnote{Notice that the term ``basis'' is not always used appropriately in the EFT literature. One should keep in mind that sometimes it is incorrectly used also for over-complete or even incomplete operator sets. Sometimes we will also refer to complete operator sets without redundancies as \textit{minimal bases}.}

As mentioned, a complete list of operators up to mass-dimension six was first given by \textcite{Buchmuller:1985jz}. Besides proving that at dimension five there is a single operator, namely $\smash{Q_\mathrm{Weinberg}}$ in Eq.~\eqref{eq:Weinberg-Operator}, 
they identified 80~independent operators at dimension six (up to the flavor structure) that conserve baryon and lepton number. However, some redundancies still remained in this set of operators as pointed out in \cite{Grzadkowski:2003tf,Fox:2007in,Aguilar-Saavedra:2008nuh,Aguilar-Saavedra:2009ygx}. Only in 2010 the first minimal basis for dimension-six operators in the SMEFT was derived by Grzadkowski, Iskrzy\'nski, Misiak, and Rosiek \cite{Grzadkowski:2010es}. It contains only 59~dimension-six operators that conserve baryon and lepton number. Considering the flavor structure of the operators this amounts to 2499~couplings out of which 1350 are CP-even and 1149 are CP-odd \cite{Alonso:2013hga}. 
The basis is known as the \textit{Warsaw basis} and is the most commonly used basis for the $d=6$~SMEFT. Table~\ref{tab:Warsaw-basis} list all baryon and lepton number conserving $d=6$ operators of the Warsaw basis. For the non-hermitian operators the hermitian conjugate is understood to be included. The operators are divided into classes according to their field content and chirality as in \cite{Grzadkowski:2010es,Alonso:2013hga}, which we follow in our classification of the operators below. The underlying algorithm used to construct the Warsaw basis can be summarized as:
\begin{enumerate}
	\item use IBP and equations of motion to remove operators with more derivatives in favor of operators with fewer derivatives,
	\item use the Fierz identities~\eqref{eq:Fierz-ids} and~\eqref{eq:SUN-Fierz} such that:
	\begin{enumerate}
		\item leptons and quarks do not appear in the same fermion currents,
		\item the gauge indices of the largest gauge group are contracted within each bilinear,
		\item each current is a Hypercharge singlet.
	\end{enumerate} 	 
\end{enumerate} 
%\felix{Shouldn't we flip the ordering of (b) and (c).}

\input{warsaw_basis}

The purely bosonic operators are built out of combinations of field-strength tensors $X_{\mu\nu} \in \{G_{\mu\nu}, W_{\mu\nu}, B_{\mu\nu}\}$, the Higgs doublet~$H$ and covariant derivatives~$D_\mu$. Due to $\SU{2}_L$ and Lorentz invariance the Higgs fields and the covariant derivatives must both occur in even numbers in the operators. After constructing all allowed operators and removing the redundant ones, four classes of bosonic operators remain: 
\begin{itemize}
	\item 4~pure gauge operators containing three field strength tensors (class~1:~$X^3$),
	\item 1~pure scalar operator with six Higgs doublets (class~2:~$H^6$),
	\item 2~operators with four Higgs fields and two covariant derivatives (class~3:~$H^4 D^2$),
	\item 8~mixed operators with two Higgs fields and two field strength tensors (class~4:~$X^2 H^2$).
\end{itemize}

For operators with two fermion fields we have three types of fermion currents: scalar $\smash{(\overline{\psi}_{L/R} \psi_{R/L})}$, vector $\smash{(\overline{\psi}_{L/R} \gamma^\mu \psi_{L/R})}$, and tensor~$\smash{(\overline{\psi}_{L/R} \sigma^{\mu\nu} \psi_{R/L})}$. After removing the redundant operators we obtain one class of operators for each type of current:
\begin{itemize}
	\item 3~non-hermitian Yukawa like operators with a scalar fermion current, and three Higgs (class~5:~$\psi^2 H^3$),
	\item 8~non-hermitian dipole operators with a tensor current, one Higgs, and one field-strength tensor (class~6:~$\psi^2 X H$),
	\item 7~operators (all hermitian except for~$Q_{Hud}$) with a vector current, two Higgs fields, and a covariant derivative (class~7:~$\psi^2 H^2 D$).
\end{itemize}

Last, we have 25 four-fermion operators in class~8 subdivided according to their chiral structures ${(\bar L L)(\bar L L)}$, ${(\bar R R)(\bar R R)}$, ${(\bar L L)(\bar R R)}$, ${(\bar L R)(\bar L R)}$, and~${(\bar L R)(\bar R L)}$. To see explicitly how other types of operator classes can be removed see the discussion in \cite{Grzadkowski:2010es}.\footnote{The Feynman rules for the SMEFT in the Warsaw basis in the $R_\xi$-gauges are given in \cite{Dedes:2017zog}.}


\subsubsection{Other bases}
The Warsaw basis is of course only one viable choice of basis and other options are possible. Although the Warsaw basis is most commonly used, other bases can be of advantage when considering specific sets of observables.
A~commonly adopted set of dimension-six operators in phenomenological analyses is the so-called strongly-interacting light Higgs (SILH) ``basis'' \cite{Giudice:2007fh}. 
However, although called basis, it does not represent a complete set at dimension six~\cite{Brivio:2017bnu}. 
The same is also true for the HISZ basis \cite{Hagiwara:1993ck}. 
A~full and minimal basis, containing the operators of the original SILH set, was constructed in \cite{Elias-Miro:2013eta}, 
see also \cite{Contino:2013kra}.
%\felix{I know very little about these basis, is there more to say? What are they used for: Higgs pheno?}

% \felix{This paragraph needs a rework!}
The \textit{Green's basis} \cite{Gherardi:2020det} is another common set of SMEFT operators. Although constituting a complete set of operators, it is not a ``minimal'' basis as it contains redundancies. The Green's basis is an extension of the Warsaw basis by all the operators that are removed from the latter by the equations of motion. Therefore, the operators in the Green's basis are only independent under IBP but not under field redefinitions. This basis is often convenient for SMEFT matching computations.
In functional matching the effective Lagrangian obtained by integrating out some heavy particles is usually in the Green's basis (up to IBP). Also the diagrammatic off-shell matching procedure involves the operators of this basis. (See Sec.~\ref{sec:matching} for more details.)
% \footnote{This is only true for the commonly used \textit{off-shell} matching technique. For \textit{on-shell} matching it suffices to use only the operators of the Warsaw basis.} 
The results from the matching computations in the Green's basis can then be converted to the minimal Warsaw basis using the basis reduction relations given in the appendix of \cite{Gherardi:2020det}.


\subsubsection{Higher-dimensional operators}
\label{sec:d8-operators}
As already discussed, at mass-dimension five there is only a single operator, i.e., the Weinberg operator~\cite{Weinberg:1979sa}, and it is violating lepton number. Higher-dimensional operators that also do not conserve baryon and lepton number were derived in~\cite{Weinberg:1980bf}. The first full set of dimension-seven operators was given in \cite{Lehman:2014jma} finding a total of 20 independent operators. However, in \cite{Liao:2016hru} it is shown that two of these operators are redundant, thus obtaining a basis of 18 operators. All of these contain either two or four fermions and do not conserve lepton number. Seven of these operators furthermore violate baryon number as well.
An important point to note is that all odd mass-dimension operators in the SMEFT violate either baryon or lepton numbers or both \cite{Kobach:2016ami,Helset:2019eyc}. Due to the stringent experimental bounds on processes that do not conserve these symmetries, the scale generating such violating process must be very high (see Sec.~\ref{sec:GlobalSymmetries}). 
Given these are exact global symmetries of the SM Lagrangian, it is common to assume that they are also exact or almost-exact symmetries of the SMEFT, and operators that violate baryon or lepton number 
are often neglected but for specific analyses devoted to the corresponding symmetry-violating processes. 

More recently, the first complete bases of dimension-eight operators \cite{Murphy:2020rsh,Li:2020gnx} have been derived, finding 1029~independent structures up to different flavor contractions \cite{Murphy:2020rsh}.\footnote{For earlier attempts at deriving dimension-eight operator see \cite{Lehman:2015coa}.} Although these operators are suppressed by four powers of the new physics scale~$\Lambda^{-4}$ they can still be relevant for phenomenological studies. This is in particular the case for UV theories that do not generate dimension-six operators contributing to a given set of observables and  
the leading contribution starts at dimension eight. More generally, dimension-eight terms can be relevant for observables where the dimension-six operators do not interfere (or have a suppressed interference) with the SM amplitude (see Sec.~\ref{sect:dim8}).
Furthermore, also a basis for the SMEFT at dimension nine is known \cite{Liao:2020jmn,Li:2020xlh}. 
An all-order approach to constructing bases of EFTs \cite{Henning:2017fpj}, deriving also the numbers of effective operators for the SMEFT at higher dimensions, has been presented in \cite{Henning:2015alf}.  


\subsubsection{Evanescent operators}
\label{sec:evanescent}
Nowadays, nearly all loop computations in the SMEFT are performed using dimensional regularization working in $D=4-2\epsilon$ dimensions. This leads to another subtlety when reducing redundant operators to a specific basis. 
As already mentioned, in non-integer dimensions the Lorentz algebra is infinite-dimensional, whereas in $D=4$ dimensions it is finite. Now, consider a $D$-dimensional BSM Lagrangian obtained, e.g., through a one-loop matching computation (see Sec.~\ref{sec:matching}). When we want to reduce it to a physical four-dimensional basis, such as the Warsaw basis, we necessarily introduce additional operators called evanescent, due to the mismatch of the dimensionality of the bases. Schematically we can write
\begin{align}
    R \xrightarrow{~\mathcal{P}~} Q + E \,,
\end{align}
where $R$ denotes a redundant operator, $Q$~an operator part of the physical four-dimensional basis, and $E$ an evanescent operator.
The projection~$\mathcal{P}$ is performed using, e.g., Fierz identities or Dirac algebra reduction identities, as discussed before, which are intrinsically four-dimensional. The evanescent operator can then be implicitly defined as ${E} \equiv {R}-{Q}$. It is formally of rank~$\epsilon$ and thus vanishes in the four-dimensional limit. However, when inserting an evanescent operator in a UV divergent one-loop diagram, the operator can combine with a $1/\epsilon$~pole, resulting in a finite contribution to a one-loop matrix element. Therefore, despite vanishing in four dimensions, evanescent operators still yield physical contributions. However, these contributions are local, since the UV poles of any one-loop diagram are so. Thus, the one-loop effect of evanescent operators can be interpreted as finite shifts of the Wilson coefficients of the physical basis. Therefore, their physical effects can be absorbed by introducing finite counterterms. The resulting renormalization scheme is free of evanescent operators, but notably does not agree with the $\smash{\overline{\mathrm{MS}}}$~scheme.

Evanescent contributions were first studied in the context of next-to-leading-order~(NLO) computations of the anomalous dimension of the \textit{weak effective Hamiltonian} \cite{Dugan:1990df,Buras:1989xd,Herrlich:1994kh}, and recently extended to the low-energy effective field theory~(LEFT) \cite{Aebischer:2022aze,Aebischer:2022tvz,Aebischer:2022rxf} %\felix{not sure if we need to cite all 3 papers} 
and the SMEFT \cite{Fuentes-Martin:2022vvu}.

The latter reference introduced an alternative but equivalent projection prescription to handle evanescent operators: let $\smash{S_\mathrm{R}}$ be the action of the EFT containing redundant operators. Now, reducing the operators in $\smash{S_\mathrm{R}}$ to the Warsaw basis (or any other physical basis) using four-dimensional identities (such as Fierzing or Dirac structure reduction) we obtain the action~$\smash{S_\mathrm{W}^\prime}$. As discussed before, $\smash{S_\mathrm{R}}$ and $\smash{S_\mathrm{W}^\prime}$ do not reproduce the same physics and the difference is given by evanescent operators. However, we have seen that their effects can be absorbed by finite one-loop shifts of the Wilson coefficients in~$\smash{S_\mathrm{W}^\prime}$.
Thus, take the action~$\smash{S_\mathrm{W}}$ which contains the same operators as~$\smash{S_\mathrm{W}^\prime}$, and we fix the Wilson coefficients of $\smash{S_\mathrm{W}}$ by requiring that it describes the same physics as~$\smash{S_\mathrm{R}}$. We can achieve this by requiring the corresponding quantum effective actions to agree~$\smash{\Gamma_\mathrm{W}=\Gamma_\mathrm{R}}$. 
We can express the effective action as
\begin{align}
    \Gamma_\mathrm{X} &= S_\mathrm{X}^{(0)} + S_\mathrm{X}^{(1)} + \overline{\Gamma}_\mathrm{X}^{(1)}  + \ldots \,,
\end{align}
where $\smash{S_\mathrm{X}^{(0,1)}}$ contains only local operators and their corresponding tree-level or one-loop Wilson coefficients, respectively. Furthermore, $\smash{S_\mathrm{X}^{(1)}}$ contains the counterterms, and the ellipses denote higher-loop contributions. The term $\smash{\overline{\Gamma}_\mathrm{X}^{(1)}}$ represents the contributions by all one-loop diagrams built with insertions of operators from~$\smash{S_\mathrm{X}^{(0)}}$.
We then find that the physical evanescent-free action describing the same physics as~$\smash{S_\mathrm{R}}$ is given by
\begin{align}
    S_\mathrm{W}^{(0)} &= \mathcal{P} S_\mathrm{R}^{(0)} \,,
    \label{eq:evanescent-projection-tree-level}
    \\
    S_\mathrm{W}^{(1)} &= \mathcal{P} S_\mathrm{R}^{(1)} + \underbrace{\mathcal{P} \left[ \overline{\Gamma}_\mathrm{R}^{(1)} - \overline{\Gamma}_\mathrm{W}^{(1)} \right]}_{\equiv \Delta S^{(1)}} \,,
\end{align}
where $\smash{\overline{\Gamma}_\mathrm{R}^{(1)} - \overline{\Gamma}_\mathrm{W}^{(1)}}$ is the sum of all one-loop diagrams containing an evanescent operator. 
Since this term is already of one-loop order, we can simply apply the four-dimensional identities to project~$(\mathcal{P})$ it back to the Warsaw basis.\footnote{Different definition of the projection operator~$\mathcal{P}$ are possible, differing by $\mathcal{O}(\epsilon)$~terms. These define different prescription for the evanescent operators, and we have to follow one prescription consistently. For more details see \cite{Fuentes-Martin:2022vvu}.}
Any effect of evanescent operators in this projections would yield a two-loop effect and can be neglected at the desired order.\footnote{Notice that physical operators can flow into evanescent operators at two-loop order. Thus, leading to a non-vanishing coefficient for the latter even if we started with zero coupling for the evanescent operators, which could then possibly flow back into the physical coefficients. However, as observed by \textcite{Dugan:1990df,Herrlich:1994kh} the running of the physical coefficients can be made independent of evanescent by an appropriate finite compensation of the evanescent couplings.}
The action~$S_\mathrm{W}$ thus obtained is free of evanescent operators and reproduces the same physics as the original action with redundant operators~$S_\mathrm{R}$.

\begin{figure}[t]
    \centering
    \resizebox{0.95\linewidth}{!}{%
    \includegraphics{figures/evanescent-dipole-contribution-2.pdf}
    \includegraphics{figures/evanescent-dipole-contribution-1.pdf}
    }
    \caption{One-loop SMEFT diagrams allowing for the insertion of the evanescent operator~$E_{u^c e l q^c}$ and contributing to the leptonic dipole operators.}
    \label{fig:evanescent-dipole}
\end{figure}

For example, consider the redundant operator
\begin{align}
    [R_{u^c e l q^c}]_{prst} &= \big(\overline{u}^c_p e_r\big) \varepsilon_{ij} \big(\overline{\ell}{}_{s}^i {q_t^c}^j\big)
\end{align}
which, as we will see in Sec.~\ref{sec:matching}, is generated at tree level by integrating out an $S_1$~leptoquark.
It can be projected onto the Warsaw basis by applying the four-dimensional Fierz identity~\eqref{eq:fierz-scalar-XX}
\begin{align}
    [R_{u^c e l q^c}]_{prst} &\overset{(d=4)}{=} -\frac{1}{2} [Q_{lequ}^{(1)}]_{srtp} +\frac{1}{8} [Q_{lequ}^{(3)}]_{srtp} \,.
    \label{eq:4d-fierz}
\end{align}
The evanescent operator introduced by this can be written as $\smash{E_{u^c e l q^c} \equiv R_{u^c e l q^c} - \big( -\frac{1}{2} Q_{lequ}^{(1)} + \frac{1}{8} Q_{lequ}^{(3)} \big)}$ schematically. 
The tree-level action can be directly obtained from Eq.~\eqref{eq:4d-fierz}. 
However, this introduces the finite shift~$\Delta S^{(1)}$ in the one-loop action of the evanescent-free scheme. 
To determine it, we would have to compute all one-loop diagrams with the insertion of the operators $R_{u^c e l q^c}$ or~$\smash{Q_{lequ}^{(1,3)}}$. 
For simplicity, we only consider the leptonic dipole contributions here, which are due to the diagrams shown in Fig.~\ref{fig:evanescent-dipole}. 
Computing the corresponding amplitudes we find
\begin{align}
    \Delta S^{(1)} = 
    &-\frac{1}{16\pi^2} \frac{5}{8} g_1 [Y_u^\ast]_{pr} (1-\xi_\mathrm{rp}) [C_{u^c e l q^c}^{(R)}]_{rtsp} [Q_{eB}]_{st}
    \nonumber\\
    &+\frac{1}{16\pi^2} \frac{3}{8} g_2 [Y_u^\ast]_{pr} (1-\xi_\mathrm{rp}) [C_{u^c e l q^c}^{(R)}]_{rtsp} [Q_{eW}]_{st}
    \nonumber\\
    &+\ldots
    \label{eq:evanescent-dipole-shift}
\end{align}
where $C_{u^c e l q^c}^{(R)}$ is the Wilson coefficient of $R_{u^c e l q^c}$, and the ellipses denote other operators than the leptonic dipoles. 
The diagrams involving the $\smash{Q_{lequ}^{(3)}}$~operator are particularly complicated since they involve closed fermion loops giving a Dirac trace of the form
\begin{align}
    \mathrm{tr} \left[ \gamma^\mu \gamma^\nu \gamma^\rho \gamma_\mu \gamma^\sigma \gamma^\delta \gamma^5 \right]
    \label{eq:6gamma-trace}
\end{align}
which is not well defined in dimensional regularization.
This is attributed to the commonly known problem of extending~$\gamma^5$, which is an intrinsically four-dimensional object, to $D$~dimensions.
Here, we choose to work in the na\"ive dimensional regularization~(NDR), where the cyclicity of Dirac traces of the type given in Eq.~\eqref{eq:6gamma-trace} is lost.
Therefore, these traces exhibit a so-called \textit{reading point ambiguity}: the results of these Dirac traces depend on where we start reading the closed fermion loops, i.e., which vertex or propagator comes first in the trace. 
This reading point ambiguity is parametrized by~$\xi_\mathrm{rp}$ in Eq.~\eqref{eq:evanescent-dipole-shift}, which takes on different values depending on where we start the trace.
In our case, we have $\xi_\mathrm{rp}=0$ when the Dirac trace is read starting from the Higgs interaction vertex (or the propagator coming after it). 
For all other reading points we find $\xi_\mathrm{rp}=1$, therefore leading to a vanishing of this particular evanescent contribution. 
Nevertheless, removing $R_{u^c e l q^c}$ in favor of~$\smash{Q_{lequ}^{(1,3)}}$ will still yield non-vanishing evanescent contributions to other operators than the dipoles, but we do not consider these here.
We can use any prescription for choosing the reading point of this Dirac trace to compute the evanescent contribution in this basis change, given we apply this prescription consistently in all subsequent computations within the EFT, i.e., for calculating all one-loop matrix elements involving~$\smash{Q_{lequ}^{(3)}}$.
More details are provided in \cite{Fuentes-Martin:2022vvu} and in Appendix~\ref{app:gamma5}.



% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\subsection{How large are the Wilson coefficients?}
\label{subsec:SMEFT_OperatorSize}
% \daniel{I would not use scaling here}
The value of the Wilson coefficients in an EFT is determined by the matching condition to the corresponding UV~theory. However, in the bottom-up approach of SMEFT, the underlying BSM model is  unknown. In this case the operator coefficients can only be determined by experiment. Nevertheless, it is still possible to derive some information about the size of the Wilson coefficients from general theoretical arguments. 

One way of estimating the coefficients is to use more elaborate versions of dimensional analysis. 
A~second option is understanding if an operator can be generated at the tree level, or only through loops by the full BSM theory. A~third possibility is using global (approximate) symmetries of the underlying theory. We discuss the first two options below, while the case of 
global symmetries will be discussed in Sec.~\ref{sec:GlobalSymmetries}.


\subsubsection{Power counting and dimensional analysis}
\label{sec:powercounting}
% So far, the only rough \daniel{what do you mean}
Up to now we only estimated the size of the coefficient of an effective operator using its mass/energy dimension.  As it is well known, in $D=4$~spacetime dimensions each Lagrangian term must be of mass-dimension four. Thus a mass-dimension~$d$ operator must be suppressed by a factor of $\Lambda^{4-d}$ yielding its approximate size. There is, however, an alternative option for estimating the size of coefficients called na\"ive dimensional analysis~(NDA) first developed in the context of chiral perturbation theory in~\cite{Manohar:1983md}. It combines the EFT expansion in the new physics scale~$\Lambda$ with an expansion in factors of~$4\pi$, or equivalently in~$\hbar$ coming from the loop-expansion factor~$\hbar/(4\pi)^2$. It was later applied to general EFTs and the NDA master formula for a term in the SMEFT Lagrangian is \cite{Gavela:2016bzc}

\begin{widetext}
\begin{align}
\frac{\Lambda^4}{(4 \pi)^2} 
\squarebrackets{\frac{\partial}{\Lambda}}^{N_p}
\squarebrackets{\frac{4\pi H}{\Lambda}}^{N_H}
\squarebrackets{\frac{4\pi A}{\Lambda}}^{N_A}
\squarebrackets{\frac{4\pi \psi}{\Lambda^{3/2}}}^{N_\psi}
\squarebrackets{\frac{g}{4\pi}}^{N_g}
\squarebrackets{\frac{y}{4\pi}}^{N_y}
\squarebrackets{\frac{\lambda}{(4\pi)^2}}^{N_\lambda}
\, ,
\label{eq:SMEFT_NDA_master-formula}
\end{align}
\end{widetext}
where $\partial$ is a derivative, $H$~the Higgs doublet, $A\in\{G,W,B\}$ a vector field, $\psi$~one of the SM fermion fields, $g\in\{g_3,g_2,g_1\}$, $y$~a~Yukawa coupling, and $\lambda$ the quartic Higgs coupling. The numbers~$N_i$ give the power for each factor that is included in the Lagrangian term. 
The NDA scaling of all operator classes in the Warsaw basis is shown in Tab.~\ref{Tab:NDA}. We can now compare the SMEFT Lagrangian with the conventional normalization
\begin{align}
\begin{split}
\L \supset &\brackets{D_\mu H}^\dagger \brackets{D^\mu H} + m^2 H^\dagger H - \frac{\lambda}{2} \brackets{H^\dagger H}^2 \\
&+ \frac{C_H}{\Lambda^2} \brackets{H^\dagger H}^3 + \ldots
\end{split}
\end{align}
to the Lagrangian rewritten using~NDA
\begin{align}
\hat{\L} \supset &\brackets{D_\mu H}^\dagger \brackets{D^\mu H} + \hat{m}^2 \Lambda^2 H^\dagger H - \frac{\hat{\lambda}}{2} (4\pi)^2 \brackets{H^\dagger H}^2 \nonumber\\
&+ \frac{(4\pi)^4 \hat{C}_H}{\Lambda^2} \brackets{H^\dagger H}^3 + \ldots
\end{align}
and we do not write out all other terms explicitly for simplicity. Since NDA does not modify the Lagrangian, i.e., we have $\hat\L = \L$, we can identify the coefficients as follows
\begin{align}
\hat{m} &= \frac{m}{\Lambda} \, ,
&
\hat{\lambda} &= \frac{\lambda}{(4\pi)^2} \, ,
&
\hat{C}_H &= \frac{1}{(4\pi)^4} C_H \, .
\end{align}
Following the discussion in~\cite{Gavela:2016bzc} we can now consider the one-loop contribution to $C_H$
\begin{align}
	\Delta C_H \sim 
    \vcenter{\hbox{\includegraphics[]{figures/Delta-CH.pdf}}}
  \sim \frac{\lambda}{(4\pi)^2} C_H \, ,
\end{align}
where we assume that the loop comes with a suppression factor of~$1/16\pi^2$. Using NDA instead we find
\begin{align}
	\Delta \hat{C}_H \sim 
    \vcenter{\hbox{\includegraphics[]{figures/Delta-CH.pdf}}}
  \sim \hat{\lambda}\hat{C}_H
\end{align}
without any factors of~$4\pi$. The form of the equation above is universal and holds in general, independently of the loop order, for NDA~\cite{Gavela:2016bzc}
\begin{align}
	\Delta \hat{C}_i \sim \prod_k \hat{C}_{i_k} \, .
\end{align}
It also holds for both strongly and weakly coupled theories. For strongly coupled theories we have $\Delta\hat{C}\lesssim 1$ \cite{Manohar:1983md}, whereas for weakly coupled theories we can have~$\Delta\hat{C}\ll 1$. Only $\Delta\hat{C} \gg 1$ is not allowed as in this case the higher-order correction~$\Delta\hat{C}$ would be larger than~$\hat{C}$ itself. Thus interactions become strongly coupled if~$\hat{C} \sim 1$. Therefore, the Wilson coefficients~$\hat{C}$ in the NDA formalism directly indicate how close a theory is to the strong coupling regime without any factors of~$4\pi$. In the usual normalization, not using NDA, the strong coupling regime is reached for $C_H \sim (4\pi)^4$ in the example above or for the SM gauge couplings at $g \sim 4\pi$ as can be seen from Eq.~\eqref{eq:SMEFT_NDA_master-formula}.

Note that the NDA master formula~\eqref{eq:SMEFT_NDA_master-formula} only dictates the maximally allowed size of an operator. Smaller or even vanishing coefficients are always possible. For example, this happens in the case where certain operators are forbidden or suppressed by some (global) symmetry, as we will discuss in Sec.~\ref{sec:GlobalSymmetries}.


\begin{table*}
\centering
% \resizebox{\textwidth}{!}{%
\begin{tabular}{c|c|c|c|c|c|c|c}
1: $X^3$ & 2: $H^6$ & 3: $H^4 D^2$ & 4: $X^2 H^2$ & 5: $\psi^2 H^3$ & 6: $\psi^2 X H$ & 7: $\psi^2 H^2 D$ & 8: $\psi^4$
\\\hline
&&&&&&&\\[-0.3cm]
$\dfrac{4\pi}{\Lambda^2} X^3$ & $\dfrac{(4\pi)^4}{\Lambda^2} H^6$ & $\dfrac{(4\pi)^2}{\Lambda^2} H^4 D^2$ & $\dfrac{(4\pi)^2}{\Lambda^2} X^2 H^2$ & $\dfrac{(4\pi)^3}{\Lambda^2} \psi^2 H^3$ & $\dfrac{(4\pi)^2}{\Lambda^2} \psi^2 X H$ & $\dfrac{(4\pi)^2}{\Lambda^2} \psi^2 H^2 D$ & $\dfrac{(4\pi)^2}{\Lambda^2} \psi^4$
\end{tabular}
% }%
\caption{NDA scaling of the operators classes in the Warsaw basis.
\label{Tab:NDA}
}
\end{table*}


\subsubsection{Loop- versus tree-level generated operators}
\label{sec:tree-loop-generated-operators}
In principle, BSM theories, when matched to the SMEFT, can generate effective operators at different orders in the loop expansion. If the UV theory contains a tree-level process that produces a specific effective operator after integrating out the heavy states this operator is called \textit{tree-generated}. Contrary if there is no tree-level contribution, but a contribution at the loop level, then we call the operator \textit{loop-generated}. Different UV theories can generate certain operators at different order in the loop expansion. As it turns out, even though the SMEFT is constructed to allow for a description of generic UV~completions of the~SM, it is impossible to generate certain effective operators at tree level, simply because no possible UV~extension exists producing these operators at leading order. The only assumption for the proof of this statement in \cite{Arzt:1994gp} is that the underlying UV~extension of the SM is a weakly coupled gauge theory built out of scalars, vectors, and fermions. For example, all four-fermion operators can, in principle, be generated by the exchange of either a heavy scalar or a heavy vector boson coupling to both fermion currents in the~UV, as shown in Fig.~\ref{fig:loop-tree_generation}. Therefore, we call them \textit{potentially tree-generated}~[PTG] as it is still possible to find specific models in which they are produced at the loop level and not by tree graphs. A~contrary example are the operators of the type~$X^3$ with three field-strength tensors. It is simply impossible to generate them in any gauge theory at the tree level. These operators are therefore called \textit{loop-generated}~[LG] and their coefficients come with an additional suppression factor of~$(16\pi^2)^{-n}$, where $n$ is the loop order, if they are produced by a weakly coupled UV~theory. The classification of the SMEFT operators according to tree and loop generation was worked out in \cite{Arzt:1994gp} and later adapted to the Warsaw basis in \cite{Einhorn:2013kja}. In the latter reference the authors also argue that, when constructing a basis of effective operators for an EFT and having a set of equivalent operators, where some are~PTG and others are~LG, it is always preferable to remove the LG~operators since the PTG~operators potentially come with larger coefficients and are therefore phenomenologically more relevant. If, on the contrary, one would remove a PTG~ operator in favor of a LG~operator, the coefficient of the latter could potentially gain a tree-level contribution through the corresponding field redefinition \cite{Arzt:1994gp} depending on the specific UV~model. This condition of removing LG~operators in favor of PTG~operators whenever possible is also satisfied by the Warsaw basis \cite{Einhorn:2013kja}. 
As an example, the application of the tree/loop classification to the dimension-six operators of the SMEFT contributing to the renormalization of $h \to \gamma\gamma$ and $h \to \gamma Z$ is presented in \cite{Elias-Miro:2013gya}. See also \cite{Jenkins:2013fya} for a further discussion of the tree/loop classification and minimal coupling.



\begin{figure}
\centering
\includegraphics{figures/four-fermion-matching.pdf}
\caption{The Feynman diagram on the left-hand side shows a process in the UV~theory generating the effective four-fermion operator shown on the right-hand side. The solid lines represent SM fermions, whereas the dashed line denotes a heavy bosons (either vector or scalar).
\label{fig:loop-tree_generation}}
\end{figure}




% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\subsection{Constraints and validity}
\label{subsec:SMEFT_Constraints}


We have seen in the previous section that the scaling of Wilson coefficients can be constrained by purely theoretical arguments. Further constraints on the whole structure of the theory and its validity can be derived from additional general theoretical considerations. 
A~powerful constraint follows from unitarity: operators with arbitrary coefficients can lead to an uncontrolled growth of scattering amplitudes with energy, violating unitarity, and hinting at possible inconsistencies in the UV or a breakdown of the EFT expansion. 
More general constraints on the EFT coefficients follow from the combined requirement of 
analyticity and unitarity of the $S$-matrix. In this section, we briefly review these arguments, together with some general considerations about the convergence of the operator expansion and the validity of the SMEFT.


\subsubsection{Convergence of the \texorpdfstring{$1/\Lambda$}{1/Lambda} expansion
and validity range}
\label{sect:dim8}

The EFT expansion can be done on two different levels: at the amplitude (or Lagrangian level), and  at the level of the observables, which are proportional to the square of a given transition amplitude.
To obtain results that have a consistent expansion in powers of the UV cutoff, 
it is necessary to truncate consistently the expansion of the observables. 
For example, if we want to work up to dimension eight, we can write the Lagrangian as
\begin{align}
	\L &= \L_\mathrm{SM} + \frac{1}{\Lambda^2} C_6 Q_6 + \frac{1}{\Lambda^4} C_8 Q_8 + \ord{\Lambda^{-6}} \, ,
\end{align}
where $Q_{6(8)}$ represents a generic dimension-six (-eight) operator with corresponding Wilson coefficient~$C_{6(8)}$. Using this Lagrangian to compute some observable $O$ we find schematically
\begin{equation}
    O 
	\sim \mathrm{SM}^2 
	+ \frac{1}{\Lambda^2}C_6 \times \mathrm{SM}
	+ \frac{1}{\Lambda^4}C_6^2 
	+ \frac{1}{\Lambda^4}C_8 \times \mathrm{SM}
	+ \ord{\Lambda^{-6}} ,
\label{eq:observable-EFT-series}
\end{equation}
where $\mathrm{SM}$ denotes the Standard Model contribution. The first term is the pure SM contribution to the observable of interest. The second term is the interference of dimension-six terms with the SM and the only term of order~$\ord{\Lambda^{-2}}$. Thus if we would have chosen to work up to dimension six instead, these first two terms would be the only ones contributing. The third term is a ``new-physics--squared'' contribution of a combination of two dimension-six operators, thus being of order~$\ord{\Lambda^{-4}}$, as is the last term which is the interference of a dimension-eight operator with the~SM. 

Beside the pure scaling with inverse powers of~$\Lambda$, 
care must be taken about the size of the interference terms with the SM amplitude, 
which can easily be suppressed with respect to the formally leading terms.
As pointed out in \cite{azatov:2016sqh}, helicity selection rules imply that in a large
fraction of $2\to 2$ scattering processes at high energy, the $1/\Lambda^2$ terms in~\eqref{eq:observable-EFT-series} vanish, and the contribution from dimension-eight 
operators can be quite relevant. More generally, dimension-eight operators as well
as dimension-six--squared terms, can become relevant for searches at high-$p_T$,
due to the energy growth of the corresponding 
contribution to the cross section (see Sec.~\ref{sect:unit}).

Studies about the impact of dimension-eight operators in the SMEFT can be found in \cite{Corbett:2021eux} analyzing the effect on electroweak precision data, and \cite{Hays:2018zze} investigating the impact on Higgs measurements. A~comparison of the effect of dimension-six and dimension-eight operators in more general terms can be found in \cite{Hays:2020scx}. 

The issue of the convergence of the $1/\Lambda$~expansion, and the growth with energy of the cross section is intimately related to the applicability range of the EFT approach. 
On the one hand, it is clear that the momentum expansion cannot be trusted if~$E/\Lambda =\ord{1}$, 
such that all terms in the operator-product expansion become of the same order. 
On the other hand, in a bottom-up approach, it is not obvious how to determine the precise validity range of the EFT, given the intrinsic ambiguity in  determining the value of~$\Lambda$. 
More precisely, the new physics scale~$\Lambda$ is not an independent parameter in the EFT. Only ratios of Wilson coefficients over the new physics scale can be determined, i.e., $C^{(d)}/\Lambda^{d-4}$ for a dimension~$d$ operator. Therefore, Wilson coefficients are also often defined as dimensionful quantities in the literature $\mathsf{C}{}^{(d)}=C^{(d)}/\Lambda^{d-4}$, such that $[\mathsf{C}{}^{(d)}]=M^{4-d}$. However, throughout this review, we use dimensionless coefficients for the benefit of having an explicit EFT power counting. 
Consistency conditions for specific classes of reactions, ensuring data is analyzed in a kinematical range where the SMEFT approach is valid, 
have been discussed in \cite{Contino:2016jqw,Baglio:2020oqu,Boughezal:2021tih,Lang:2021hnd}. 
See also \cite{Brivio:2022pyi}.


\subsubsection{Unitarity violation and positivity constraints}
\label{sect:unit}

The high-energy behavior of scattering amplitudes in the SM is governed by a subtle set of cancellations among different contributions. These protect the theory from unitarity violations due to the unbounded growth of amplitudes with energy. 
%The well known reason for this is the non-Abelian gauge invariance \daniel{ and the specific structure of the SM.} 
When working with the low-energy degrees of freedom, i.e., the massive physical states after electroweak symmetry breaking, the gauge symmetries 
responsible for these cancellations are obscured, although still guaranteeing the same protection at high energies. A~well known example in the SM is the scattering of longitudinally polarized $W$-bosons, $W_L W_L \to W_L W_L$ \cite{LlewellynSmith:1973yud,Lee:1977eg,Lee:1977yc}. If one does not include the quartic self-interaction of the gauge bosons, required by the non-Abelian nature of the gauge symmetry, the corresponding amplitude grows with the energy~$E$ as~$E^4$. Including the quartic contact interaction dampens the energy growth to~$E^2$ but still leads to unitarity violation. Only after also considering the contribution from the Higgs and Goldstone bosons, and by that restoring the relations imposed by a linear realization of the 
$\mathrm{SU}(2)_L$ symmetry breaking via the vev of the Higgs field, we find the correct energy behavior of the amplitude, no longer growing with energy.

The additional effective operators in the SMEFT can modify the SM interactions or generate new Lorentz structures after electroweak symmetry breaking. Both can alter the energy growth of scattering amplitudes and potentially lead to unitarity violating effects, despite the SMEFT still respecting the same gauge symmetry as the~SM \cite{Distler:2006if,Maltoni:2019aot,Maltoni:2019pau,Corbett:2014ora,Corbett:2017qgl}.
%Gauge symmetry now implies that that scale at which unitarity is violated is well above the electroweak scale~\cite{Maltoni:2019aot} and by that indicating the scale at which the EFT approach becomes invalid.  
To this purpose, we note that all SMEFT operators, except for the four-fermion operators, contain more than one interaction vertex. An operator containing a certain number of Higgs doublets can have different multiplicities of vev insertions, and operators with field-strength tensors can lead to interactions with different numbers of gauge fields. Therefore, as in the~SM, very different scattering processes can be related by the underlying gauge symmetry.

%and only a
%Among other things, this implies that modifications to SM couplings by effective operators can be linked to completely new types of interactions with a higher particle multiplicity~\cite{Maltoni:2019aot}.

%The SM amplitudes are at most constant with energy, whereas the amplitudes including dimension six operators grow at most as~$E^2$. The leading EFT contribution to the $S$-matrix is the interference of the SM with the SMEFT amplitude. Assuming that the corresponding SMEFT amplitudes grows with energy as~$E^2$, the interface term might either grow as well, if the SM amplitude is constant with energy, or the interference contribution is constant in the case where the SM amplitude goes like~$E^{-2}$. 
%However, the NP square contribution to the $S$-matrix is guaranteed to grow with energy, if the SMEFT amplitude does so, making this contribution relevant in some cases.


A~contact interaction~$Q_d$ of mass-dimension~$d$ must have a coupling of dimension~$4-d$ in four spacetime dimensions $\L \supset Q_d / \Lambda^{d-4}$. The scattering amplitude for a $2 \to N$~process has the mass-dimension~$2-N$. 
The contact interaction~$Q_d$ thus leads to a contribution to the $2 \to N$~amplitude with the maximum energy scaling 
\begin{align}
\delta \mathcal{A} &= \frac{1}{\Lambda^{d-4}}E^{d-N-2} \, .
\end{align}
This implies that at~$d=6$ the maximal energy growth is~$E^2$, as expected by general dimensional considerations, and it occurs 
in $2 \to 2$~scattering. The amplitude with the maximal energy growth induced by a specific operator originates from the highest-point contact interaction that the operator includes. Lower-point interaction, e.g., obtained by vev insertions or picking the Abelian part of a field-strength tensor instead of the non-Abelian piece, usually come with lower energy scaling.\footnote{Although a longitudinally polarized gauge boson can compensate a vev insertion and bring an additional scaling with the energy~$E$.}
The energy scaling of amplitudes contributing to various scattering processes measurable 
at the~LHC, including SMEFT contributions at~$d=6$, and corresponding constraints
imposed by avoiding (perturbative) violations of unitarity have been discussed in \cite{Maltoni:2019aot,Corbett:2014ora,Corbett:2017qgl}. 

A~more general class of constraints on the SMEFT coefficients is following from the 
general requirement of analyticity and unitarity of the $S$-matrix \cite{Adams:2006sv}.
The corresponding bounds, which appear in the form of constraints on the sign of certain combinations of Wilson coefficients, are commonly known as positivity bounds.
There has been a lot of progress on this front recently \cite{Remmen:2019cyz,Remmen:2020uze,Yamashita:2020gtt,Zhang:2018shp,Chala:2021wpj,Bellazzini:2020cot,Dvali:2012zc}, narrowing down the possible range of SMEFT coefficients, at both dimension six and eight.




\subsubsection{Gauge anomalies and reparametrization invariance}

To conclude this section, we mention two additional aspects of the SMEFT coefficients 
related to the symmetry properties of the underlying theory. 

The first aspect deals with gauge anomalies. As is well known, in (classically) renormalizable theories the 
criterion for the absence of gauge anomalies relies entirely on the charges of the fermion fields
under the local symmetry \cite{Georgi:1972bb}. When moving from the renormalizable case to the non-renormalizable one, 
this property is less obvious. In particular, doubts have been raised if the request of anomaly cancellations does
impose any additional constraint on the SMEFT Wilson coefficients. This issue has been clarified 
recently in \cite{Feruglio:2020kfq}, where it has been shown that the dependence of the anomaly 
on the non-renormalizable part of the Lagrangian 
can be removed by adding a local counterterm to the theory. 
As a result, the condition for gauge anomaly cancellation is controlled only 
by the charge assignment of the fermion sector, exactly as in the renormalizable theory.
In other words, no additional constraints can be derived on the SMEFT by requesting anomaly cancellations.

The second aspect is the so-called  reparametrization invariance of the 
dimension-six coefficients appearing in $\bar\psi \psi \to \bar\psi \psi$ 
scattering amplitudes \cite{Brivio:2017bnu}. In the Warsaw basis, 
the operators contributing $\bar\psi \psi \to \bar\psi \psi$ scattering 
give rise to a flat direction. For some time, this created confusion in 
global SMEFT fits, given the central role played by $\bar\psi \psi \to \bar\psi \psi$ data
in constraining the parameter space.
As pointed out in \cite{Brivio:2017bnu}, this fact is a consequence of 
the combined action of a field redefinition (for the vector fields) 
together with a shift of the vector--fermion couplings. This transformation 
leaves all the (physical) $\bar\psi \psi \to \bar\psi \psi$ amplitudes unchanged.
However, this is not a complete degeneracy of the theory, and indeed it is lifted when 
considering other amplitudes, such as $\bar\psi \psi \to \bar\psi \psi \bar\psi \psi$.
This property illustrates well the importance of considering complete sets of data, 
and a complete operator basis, when performing bottom-up analyses of the SMEFT parameter space. 


%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%