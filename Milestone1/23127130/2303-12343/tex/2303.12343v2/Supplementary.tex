% \documentclass[10pt,twocolumn,letterpaper]{article}

% \usepackage{iccv}
% \usepackage{times}
% \usepackage{epsfig}
% \usepackage{graphicx}
% \usepackage{amsmath}
% \usepackage{amssymb}

% % Include other packages here, before hyperref.
% \usepackage{xcolor,colortbl}
% % \usepackage[table,x11names]{xcolor}
% \usepackage{adjustbox}

% % \usepackage{caption}
% \usepackage[font=small,labelfont=bf]{caption}
% \usepackage{subcaption}
% \usepackage{dirtytalk}
% \usepackage[accsupp]{axessibility}  % Improves PDF readability for those with disabilities.

% % If you comment hyperref and then uncomment it, you should delete
% % egpaper.aux before re-running latex.  (Or just hit 'q' on the first latex
% % run, let it finish, and you should be clear).
% \usepackage[pagebackref=true,breaklinks=true,letterpaper=true,colorlinks,bookmarks=false]{hyperref}
% \usepackage[capitalize]{cleveref}

% \iccvfinalcopy % *** Uncomment this line for the final submission

% \def\iccvPaperID{12703} % *** Enter the ICCV Paper ID here
% \def\httilde{\mbox{\tt\raisebox{-.5ex}{\symbol{126}}}}

% % Pages are numbered in submission mode, and unnumbered in camera-ready
% \ificcvfinal\pagestyle{empty}\fi
% \newcommand{\review}[1]{\textcolor{magenta}{#1}}


% \begin{document}
% %%%%%%%%% TITLE - PLEASE UPDATE
% \title{LD-ZNet: A Latent Diffusion Approach for Text-Based Image Segmentation\\
% \large Supplementary Material}
% % \author{First Author\\
% % Institution1\\
% % Institution1 address\\
% % {\tt\small firstauthor@i1.org}
% % % For a paper whose authors are all at the same institution,
% % % omit the following lines up until the closing ``}''.
% % % Additional authors and addresses can be added with ``\and'',
% % % just like the second author.
% % % To save space, use either the email address or home page, not both
% % \and
% % Second Author\\
% % Institution2\\
% % First line of institution2 address\\
% % {\tt\small secondauthor@i2.org}
% % }
% \maketitle
% % \twocolumn[{%
% % \renewcommand\twocolumn[1][]{#1}%
% % \maketitle
% % \begin{center}
% %     \centering
% %     \includegraphics[width=\textwidth]{Images/ZSEG-UNet}
% %     \captionsetup{width=\textwidth}
% %     \captionof{figure}{Architecture of the text-based segmentation network in LD-ZNet.}
% %     \label{fig:unet_supp}
% % \end{center}%
% % }]

% % \section{LD-ZNet architecture}
% % The detailed architecture of the segmentation network from LD-ZNet is show in Figure \ref{fig:unet_supp}. We start with encoding the input image into the $z$ latent space, using the first stage autoencoder of the LDM. This is followed by a series of encoder, decoder blocks in UNet fashion and a sequence of deconvolutional layers to finally estimate the binary mask.

% % \begin{figure}
% % \centering
% % \includegraphics[width=\linewidth]{Images/Categories_chart_latest}
% % \caption{Category-level comparison of RGBNet and LD-ZNet on the text-based image segmentation task on the 25 most frequent classes of the PhraseCut testset. LD-ZNet outperforms RGBNet for all ``object" classes and most ``stuff" classes.}%, based on the mIoU metric.}
% % \vspace{-1em}
% % \label{fig:category}
% % \end{figure}

% % \section{Category-level Boost with LDM Features}
% % Following quantitative improvements of LD-ZNet shown in Table 1 of the main paper, we study the class-wise performance on the testset of PhraseCut for more fine-grained analysis. We show the advantage of using LDM features by analyzing the category-level improvements over predictions from the test dataset of PhraseCut in Figure \ref{fig:category}. 
% % This dataset consists of 1180 categories. In order to draw meaningful conclusions, we discard the categories with less than 100 samples, leaving us with 25 categories. We compute the mIoU metric for the predictions averaged over each category and compare the RGBNet baseline with our LD-ZNet model. The results of our analysis is in Figure \ref{fig:category}. 
% % Note that the categories on the x-axis are listed in the decreasing order of relative performance gain upon using LD-ZNet. We observe that LD-ZNet has larger performance gains for \emph{object classes} such as fence, person, sign, table, chair \etc compared to \emph{stuff classes} such as floor, sky, street \etc. We believe this is because the large scale LDMs are typically good at generating salient objects which are predominantly in the foreground. 

\section{Text-Based Image Segmentation}
In this supplementary work, we illustrate some more qualitative text-based image segmentation results using the proposed LD-ZNet model on a diverse set of images. Specifically, we focus on segmenting and localizing 1) objects described by their attributes 2) objects in AI-generated images from the AIGI dataset and 3) multiple different things and stuff in a scene. We also perform a visual comparison with the RGBNet baseline on a diverse set of images, including examples from the PhraseCut test dataset.

\subsection{Attributes}
Figure \ref{fig:visual_results_supp} depicts attribute-based segmentation. Specifically, objects described by attributes based on color or relative properties (such as height) or actions are well segmented by LD-ZNet.

% \begin{figure}
%     \centering
%     \captionsetup[subfigure]{labelformat=empty,font=tiny,labelfont={bf,sf}}
%     % \begin{subfigure}{0.32\columnwidth}
%     %     \centering
%     %     % \begin{subfigure}{\columnwidth}
%     %     %     \centering
%     %     %     \caption{}
%     %     %     \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/cars_yellow car._image.png}
%     %     % \end{subfigure}
%     %     % \begin{subfigure}{\columnwidth}
%     %     %     \centering
%     %     %     \caption{}
%     %     %     \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/heights_a photo of a Shortest person._image.png}
%     %     % \end{subfigure}
%     %     % \begin{subfigure}{\columnwidth}
%     %     %     \centering
%     %     %     \caption{}
%     %     %     \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/baseball_an image of a Player crouching and catching._image.png}
%     %     % \end{subfigure}
%     %     % \caption{Input image}
%     %     % \label{fig:architecture}
%     % \end{subfigure}%
%     % \hspace{0.05cm}%
%     \begin{subfigure}{0.49\columnwidth}
%         \begin{subfigure}{\columnwidth}
%             \centering
%             \caption{``Blue car"}
%             \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/cars_blue car._mask.png}
%         \end{subfigure}
%         % \begin{subfigure}{\columnwidth}
%         %     \centering
%         %     \caption{``Shortest person"}
%         %     \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/heights_a photo of a Shortest person._mask.png}
%         % \end{subfigure}
%         \begin{subfigure}{\columnwidth}
%             \centering
%             \caption{``Tallest person"}
%             \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/heights_a photo of a Tallest person._mask.png}
%         \end{subfigure}
%         % \begin{subfigure}{\columnwidth}
%         %     \centering
%         %     \caption{``Player crouching and catching"}
%         %     \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/baseball_an image of a Player crouching and catching._mask.png}
%         % \end{subfigure}
%     \end{subfigure}%
%     \hspace{0.05cm}%
%     \begin{subfigure}{0.49\columnwidth}\begin{subfigure}{\columnwidth}
%             \centering
%             \caption{``Yellow car"}
%             \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/cars_yellow car._mask.png}
%         \end{subfigure}
%         % \begin{subfigure}{\columnwidth}
%         %     \centering
%         %     \caption{``Tallest person"}
%         %     \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/heights_a photo of a Tallest person._mask.png}
%         % \end{subfigure}
%         \begin{subfigure}{\columnwidth}
%             \centering
%             \caption{``Player swinging the bat"}
%             \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/baseball_an image of a Player swinging the bat._mask.png}
%         \end{subfigure}
%     \end{subfigure}
%     \caption{Qualitative results showing LD-ZNet correctly segmenting attribute based queries. Text prompts for objects based on color (top row) and action (bottom row) attributes are well segmented by LD-ZNet.}
%     \vspace{-1em}
%     \label{fig:visual_results_supp}
% \end{figure}

\subsection{AI-Generated Images}

% On our AIGI dataset, we also evaluate the newly released CLIPSeg model with fine-grained predictions and found it to be 3.5\% better (mIoU=59.9) than the originally released CLIPSeg version. Furthermore, 
We show more qualitative comparisons on our AIGI dataset in Figure \ref{fig:ai_generated_qualitative_supplementary}. We observe similar trend. While MDETR fails to segment the text prompts \emph{``Spiderman"}, \emph{``tortoise"}, \emph{``vespa"} and \emph{``robot"} due to novel concepts and domain gap, CLIPSeg estimates a rough segmentation on the most discriminative regions with lower confidence. However, LD-ZNet accurately segments in all the cases.


\begin{figure}[!t]
    \centering
    \captionsetup[subfigure]{labelformat=empty,font=small,labelfont={bf,sf}}
    \begin{subfigure}{\columnwidth}
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Blue car"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/cars_blue_car._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Yellow car"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/cars_yellow_car._mask.png}
        \end{subfigure}%
    \end{subfigure}
    % \noindent\rule{\columnwidth}{0.4pt}
    \begin{subfigure}{\columnwidth}
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Tallest person"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/heights_a_photo_of_a_Tallest_person._mask_resized.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Player swinging the bat"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/baseball_an_image_of_a_Player_swinging_the_bat._mask_resized.png}
        \end{subfigure}%
    \end{subfigure}
    \caption{Qualitative results showing LD-ZNet correctly segmenting attribute based queries. Text prompts for objects based on color attribute (top row), relative property and action attributes (bottom row) are well segmented by LD-ZNet.}
    \vspace{-1em}
    \label{fig:visual_results_supp}
\end{figure}


\begin{figure*} [!t]
    \centering
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/spider-man_as_a_robot_serving_pizza.jpg}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/A_road-runner_riding_a_tortoise_in_Joshua_Tree.jpg}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve.jpg}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/A_cute_robot_artist_painting_on_an_easel._Concept_.jpg}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/generate an image of a female hacker in a bra at a.jpg}
        \caption{Input}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/spider-man_as_a_robot_serving_pizza_spider-man.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/A_road-runner_riding_a_tortoise_in_Joshua_Tree_tortoise.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve_vespa.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/A_cute_robot_artist_painting_on_an_easel._Concept__robot.png}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/generate an image of a female hacker in a bra at a_bra.png}
        \caption{MDETR}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSeg/spider-man_as_a_robot_serving_pizza_spider-man.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSeg/A_road-runner_riding_a_tortoise_in_Joshua_Tree_tortoise.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSeg/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve_vespa.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSeg/A_cute_robot_artist_painting_on_an_easel._Concept__robot.png}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSeg/generate an image of a female hacker in a bra at a_bra.png}
        \caption{CLIPSeg}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/SEEM/spider-man_as_a_robot_serving_pizza_spider-man.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/SEEM/A_road-runner_riding_a_tortoise_in_Joshua_Tree_tortoise.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/SEEM/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve_vespa.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/SEEM/A_cute_robot_artist_painting_on_an_easel._Concept_robot.png}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/SEEM/generate an image of a female hacker in a bra at a_bra.png}
        \caption{SEEM}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/spider-man_as_a_robot_serving_pizza_spider-man.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/A_road-runner_riding_a_tortoise_in_Joshua_Tree_tortoise.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve_vespa.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/A_cute_robot_artist_painting_on_an_easel._Concept__robot.png}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/generate an image of a female hacker in a bra at a_bra.png}
        \caption{LD-ZNet}
    \end{subfigure}
    
    \caption{Qualitative comparison on the AI-generated images from AIGI dataset for text-based segmentation. The text prompts are \emph{``Spiderman"}, \emph{``tortoise"}, \emph{``vespa"} and \emph{``robot"} respectively.}
    \vspace{-1em}
    \label{fig:ai_generated_qualitative_supplementary}
\end{figure*}



\subsection{Qualitative Comparisons on Diverse Domains}

Figure \ref{fig:visual_results3_supp} demonstrates some specific cases where RGBNet fails to segment or poorly segments the object being referred to, where as LD-ZNet segments the objects better.

\begin{figure*}[!t]
    \captionsetup[subfigure]{labelformat=empty}
    \centering
    \begin{subfigure}{0.85\linewidth}
        \centering
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/coco_a_photo_of_one_Guitar._image.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/panda_a_photograph_of_a_Panda._image.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{RGBNet}
            \includegraphics[width=\columnwidth]{Images/visual/RGBNet/coco_a_photograph_of_a_Guitar._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/panda_a_photograph_of_a_Panda._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{LD-ZNet}
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/coco_a_photo_of_one_Guitar._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/panda_a_good_photo_of_a_Panda._mask.png}
        \end{subfigure}
        \vspace{-0.5em}
    \end{subfigure}
    
    \noindent\rule{0.9\linewidth}{0.4pt}

    \begin{subfigure}{0.85\linewidth}
        \vspace{-0.75em}
        \centering
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/avengers4_Scarlett_Johansson._image.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/PRINCE-GEORGE-PRINCESS-CHARLOTTE-PRINCE-LOUIS-3-te-220907-f27ee7_a_photo_of_one_Kate_Middleton._image.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/avengers4_Scarlett_Johansson._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/PRINCE-GEORGE-PRINCESS-CHARLOTTE-PRINCE-LOUIS-3-te-220907-f27ee7_a_photo_of_one_Kate_Middleton._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/avengers4_Scarlett_Johansson._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/PRINCE-GEORGE-PRINCESS-CHARLOTTE-PRINCE-LOUIS-3-te-220907-f27ee7_a_photo_of_one_Kate_Middleton._mask.png}
        \end{subfigure}
        \vspace{-0.5em}
    \end{subfigure}
    
    \noindent\rule{0.9\linewidth}{0.4pt}
    
    \begin{subfigure}{0.85\linewidth}
        \vspace{-0.75em}
        \centering
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/tired-mom_a_photo_of_a_Table_lamp._image.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/camping_a_photograph_of_a_Trees._image.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Images/visual/RGBNet/tired-mom_a_photograph_of_a_Table_lamp._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/camping_a_photograph_of_a_Trees._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/tired-mom_a_photo_of_a_Table_lamp._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/camping_an_image_of_a_Trees._mask.png}
        \end{subfigure}
    \end{subfigure}
    
    \caption{More qualitative examples where RGBNet fails to localize \emph{``Guitar", ``Panda"} from animation images (top row), famous celebrities \emph{``Scarlett Johansson", ``Kate Middleton"} (second row) and objects such as \emph{``Lamp", ``Trees"} from illustrations (bottom row). LD-ZNet benefits from using $z$ combined with the internal LDM features to correctly segment these text prompts.}
    \vspace{-1em}
    \label{fig:visual_results3_supp}
\end{figure*}

\subsection{Scene understanding}
\begin{figure*}[p]
    \captionsetup[subfigure]{labelformat=empty,font=small,labelfont={bf,sf}}
    \centering
    \begin{subfigure}{\textwidth}
        \centering
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Books._image.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Books"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Books._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Flowers"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Flowers._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Sofa"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_sofa._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Table"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Table._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Trees"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Trees._mask.png}
            \end{subfigure}
        \end{subfigure}
    \end{subfigure}
    \noindent\rule{\textwidth}{0.4pt}
    \begin{subfigure}{\textwidth}
        \centering
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/camping_a_photograph_of_a_Trees._image.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Chair"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Chair._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Clouds"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Clouds._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Grass"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Grass._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Mountains"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Mountains._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``River"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_River._mask.png}
            \end{subfigure}
        \end{subfigure}
    \end{subfigure}
    \noindent\rule{\textwidth}{0.4pt}
    \begin{subfigure}{\textwidth}
        \centering
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Bicycle._image.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Buildings"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Buildings._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Trees"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Trees._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Crosswalk"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Crosswalk._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Bicycle"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Bicycle._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Bridge"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Bridge._mask.png}
            \end{subfigure}
        \end{subfigure}
    \end{subfigure}
    \caption{LD-ZNet text-based segmentation results for a diverse set of things and stuff classes across  both real images (top row) and illustrations (middle and bottom rows). High-quality segmentation across multiple object classes suggests that LD-ZNet has a good understanding of the overall scene. Images used from google and freepik.}
    \vspace{-1em}
    \label{fig:scene_understanding}
\end{figure*}

Figure \ref{fig:scene_understanding} shows the segmentation performance of LD-ZNet for several objects and regions in an image. Specifically, we show the segmentation for stuff classes such as ``Clouds", ``Mountains", ``Chair", ``Grass", ``River" \etc and thing classes such as ``Trees", ``Bicycle", ``Sofa", ``Books" \etc. The quality of the segmentation across multiple object classes suggests that LD-ZNet has a good understanding of the overall scene. 

% \begin{figure*}[p]
%     \captionsetup[subfigure]{labelformat=empty,font=small,labelfont={bf,sf}}
%     \centering
%     \begin{subfigure}{\textwidth}
%         \centering
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an image of a Books._image.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Books"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an image of a Books._mask.png}
%             \end{subfigure}
%         \end{subfigure}%
%         \hspace{0.05cm}%
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Flowers"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an image of a Flowers._mask.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Sofa"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an image of a sofa._mask.png}
%             \end{subfigure}
%         \end{subfigure}%
%         \hspace{0.05cm}%
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Table"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an image of a Table._mask.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Trees"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an image of a Trees._mask.png}
%             \end{subfigure}
%         \end{subfigure}
%     \end{subfigure}
%     \noindent\rule{\textwidth}{0.4pt}
%     \begin{subfigure}{\textwidth}
%         \centering
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an image of a Chair._image.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Chair"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an image of a Chair._mask.png}
%             \end{subfigure}
%         \end{subfigure}%
%         \hspace{0.05cm}%
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Clouds"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an image of a Clouds._mask.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Grass"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an image of a Grass._mask.png}
%             \end{subfigure}
%         \end{subfigure}%
%         \hspace{0.05cm}%
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Mountains"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an image of a Mountains._mask.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``River"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an image of a River._mask.png}
%             \end{subfigure}
%         \end{subfigure}
%     \end{subfigure}
%     \noindent\rule{\textwidth}{0.4pt}
%     \begin{subfigure}{\textwidth}
%         \centering
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an image of a Bicycle._image.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Buildings"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an image of a Buildings._mask.png}
%             \end{subfigure}
%         \end{subfigure}%
%         \hspace{0.05cm}%
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Trees"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an image of a Trees._mask.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Crosswalk"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an image of a Crosswalk._mask.png}
%             \end{subfigure}
%         \end{subfigure}%
%         \hspace{0.05cm}%
%         \begin{subfigure}{0.32\textwidth}
%             \centering
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Bicycle"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an image of a Bicycle._mask.png}
%             \end{subfigure}
%             \begin{subfigure}{\columnwidth}
%                 \centering
%                 \caption{``Bridge"}
%                 \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an image of a Bridge._mask.png}
%             \end{subfigure}
%         \end{subfigure}
%     \end{subfigure}
%     \caption{LD-ZNet text-based segmentation results for a diverse set of things and stuff classes across  both real images (top row) and illustrations (middle and bottom rows). High-quality segmentation across multiple object classes suggests that LD-ZNet has a good understanding of the overall scene. Images used from google and \href{https://www.freepik.com}{freepik}.}
%     \vspace{-1em}
%     \label{fig:scene_understanding}
% \end{figure*}

\begin{figure*}
    \centering
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_25_an_image_of_a_grey_steps._image.png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_0_glass_windshield._image.png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_0_a_photo_of_a_tallest_building._image.png}
        \includegraphics[width=\linewidth]{Images/visual/04736_43_a_photograph_of_a_riding_person._image.png}
        \includegraphics[width=\linewidth]{Images/visual/00047_47_a_bad_photo_of_a_white_stand._image.png}
        \caption{Input image}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_25_an_image_of_a_grey_steps._gt.png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_0_glass_windshield._gt.png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_0_a_photo_of_a_tallest_building._gt.png}
        \includegraphics[width=\linewidth]{Images/visual/04736_43_a_photograph_of_a_riding_person._gt.png}
        \includegraphics[width=\linewidth]{Images/visual/00047_47_a_bad_photo_of_a_white_stand._gt.png}
        \caption{GT mask}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_25_an_image_of_a_grey_steps..png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_0_glass_windshield..png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_0_a_photo_of_a_tallest_building..png}
        \includegraphics[width=\linewidth]{Images/visual/04736_43_a_photograph_of_a_riding_person..png}
        \includegraphics[width=\linewidth]{Images/visual/00047_47_a_bad_photo_of_a_white_stand..png}
        \caption{RGBNet}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_38_a_photo_of_one_grey_steps..png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_51_a_photograph_of_a_glass_windshield..png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_5_tallest_building..png}
        \includegraphics[width=\linewidth]{Images/visual/04736_63_riding_person..png}
        \includegraphics[width=\linewidth]{Images/visual/00047_64_a_photo_of_a_white_stand..png}
        \caption{ZNet}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_76_a_bad_photo_of_a_grey_steps..png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_92_a_cropped_photo_of_a_glass_windshield..png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_79_a_bad_photo_of_a_tallest_building..png}
        \includegraphics[width=\linewidth]{Images/visual/04736_85_a_good_photo_of_a_riding_person..png}
        \includegraphics[width=\linewidth]{Images/visual/00047_85_a_photo_of_one_white_stand..png}
        \caption{LD-ZNet}
        % \label{fig:architecture}
    \end{subfigure}
    
    \caption{Qualitative comparisons on the PhraseCut test dataset. Each row contains an RGB image along with a reference text as an input, with the goal being to segment out the image regions corresponding to the reference text. The reference texts are \emph{``grey steps"}, \emph{``glass windshield"}, \emph{``the tallest building"}, \emph{``riding person"}, \emph{``white stand"} for rows 1, 2, 3, 4 and 5 respectively. We show improvements using ZNet and LD-ZNet compared to the RGBNet.}
    \vspace*{3in}
    \label{fig:visual_results2_supp}
\end{figure*}

\subsection{Qualitative Comparisons on Phrasecut}
Figure \ref{fig:visual_results2_supp} shows qualitative comparisons of ZNet and LD-ZNet with the RGBNet baseline on the test dataset of PhraseCut. Attributes such as ``grey", ``glass", ``tallest", and ``riding" are well understood and localized in LD-ZNet.



% \section{Limitations}

% %%%%%%%%% REFERENCES
% {\small
% \bibliographystyle{ieee_fullname}
% \bibliography{egbib}
% }

% \end{document}
