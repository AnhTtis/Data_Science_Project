\begin{figure}[!h]
    \centering
    \begin{subfigure}[t]{0.24\columnwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/spider-man_as_a_robot_serving_pizza.jpg}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/A_road-runner_riding_a_tortoise_in_Joshua_Tree.jpg}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve.jpg}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/A_cute_robot_artist_painting_on_an_easel._Concept.jpg}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/Input/generate an image of a female hacker in a bra at a.jpg}
        \caption{Input}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.24\columnwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/spider-man_as_a_robot_serving_pizza_spider-man.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/A_road-runner_riding_a_tortoise_in_Joshua_Tree_tortoise.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve_vespa.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/A_cute_robot_artist_painting_on_an_easel._Concept__robot.png}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/MDETR/generate an image of a female hacker in a bra at a_bra.png}
        \caption{MDETR}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.24\columnwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSegRefined/spider-man_as_a_robot_serving_pizza_spider-man.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSegRefined/A_road-runner_riding_a_tortoise_in_Joshua_Tree_tortoise.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSegRefined/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve_vespa.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSegRefined/A_cute_robot_artist_painting_on_an_easel._Concept__robot.png}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/CLIPSegRefined/generate an image of a female hacker in a bra at a_bra.png}
        \caption{CLIPSeg}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.24\columnwidth}
        \centering
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/spider-man_as_a_robot_serving_pizza_spider-man.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/A_road-runner_riding_a_tortoise_in_Joshua_Tree_tortoise.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/A_steampunk_fox_fursona_with_boots_sitting_on_a_ve_vespa.png}
        \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/A_cute_robot_artist_painting_on_an_easel._Concept__robot.png}
        % \includegraphics[width=\linewidth]{Images/AI_gen_final/LD-ZNet/generate an image of a female hacker in a bra at a_bra.png}
        \caption{LD-ZNet}
    \end{subfigure}
    
    \caption{Qualitative comparison on the AI-generated images from AIGI dataset for text-based segmentation. The text prompts are \emph{``Spiderman"}, \emph{``tortoise"}, \emph{``vespa"} and \emph{``robot"} respectively.}
    \vspace{-1em}
    \label{fig:ai_generated_qualitative_supplementary}
\end{figure}

\section{Text-Based Image Segmentation}
\label{supplementary}
In this supplementary work, we illustrate some more qualitative text-based image segmentation results using the proposed LD-$Z$Net model on a diverse set of images. Specifically, we focus on segmenting and localizing 1) objects in AI-generated images from the AIGI dataset 2) objects described by their attributes and 3) multiple different things and stuff in a scene. We also perform a visual comparison with the RGBNet baseline on a diverse set of images, including examples from the PhraseCut test dataset.


\subsection{AI-Generated Images}

% On our AIGI dataset, we also evaluate the newly released CLIPSeg model with fine-grained predictions and found it to be 3.5\% better (mIoU=59.9) than the originally released CLIPSeg version. Furthermore, 
We show more qualitative comparisons on our AIGI dataset in Figure \ref{fig:ai_generated_qualitative_supplementary}. We observe similar trend. While MDETR fails to segment the text prompts \emph{``Spiderman"}, \emph{``tortoise"}, \emph{``vespa"} and \emph{``robot"} due to novel concepts and domain gap, CLIPSeg estimates a rough segmentation on the most discriminative regions with lower confidence. However, LD-ZNet accurately segments in all the cases.

\subsection{Attributes}

\begin{figure}
    \centering
    \captionsetup[subfigure]{labelformat=empty,font=small,labelfont={bf,sf},skip=0pt}
    \begin{subfigure}{\columnwidth}
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Blue car"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/cars_blue_car._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Yellow car"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/cars_yellow_car._mask.png}
        \end{subfigure}%
    \end{subfigure}
    % \noindent\rule{\columnwidth}{0.4pt}
    \begin{subfigure}{\columnwidth}
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Tallest person"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/heights_a_photo_of_a_Tallest_person._mask_resized.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.49\columnwidth}
            \centering
            \caption{``Player swinging the bat"}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/baseball_an_image_of_a_Player_swinging_the_bat._mask_resized.png}
        \end{subfigure}%
    \end{subfigure}
    \caption{Qualitative results showing LD-$Z$Net correctly segmenting attribute based queries. Text prompts for objects based on color attribute (top row), relative property and action attributes (bottom row) are well segmented by LD-$Z$Net.}
    \vspace{-1em}
    \label{fig:visual_results_supp}
\end{figure}

Figure \ref{fig:visual_results_supp} depicts attribute-based segmentation. Specifically, objects described by attributes based on color or relative properties (such as height) or actions are well segmented by LD-ZNet.

\subsection{Qualitative Comparisons on Diverse Domains}

Figure \ref{fig:visual_results3_supp} demonstrates some specific cases where RGBNet fails to segment or poorly segments the object being referred to, where as LD-ZNet segments the objects better.

\begin{figure*}[!t]
    \captionsetup[subfigure]{labelformat=empty,skip=0pt}
    \centering
    \begin{subfigure}{0.85\linewidth}
        \centering
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/coco_a_photo_of_one_Guitar._image.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/panda_a_photograph_of_a_Panda._image.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{RGBNet}
            \includegraphics[width=\columnwidth]{Images/visual/RGBNet/coco_a_photograph_of_a_Guitar._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/panda_a_photograph_of_a_Panda._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{LD-ZNet}
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/coco_a_photo_of_one_Guitar._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/panda_a_good_photo_of_a_Panda._mask.png}
        \end{subfigure}
        \vspace{0.75em}
    \end{subfigure}
    \noindent\rule{0.9\linewidth}{0.4pt}
    \begin{subfigure}{0.85\linewidth}
        % \vspace{-0.75em}
        \centering
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/avengers4_Scarlett_Johansson._image.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/PRINCE-GEORGE-PRINCESS-CHARLOTTE-PRINCE-LOUIS-3-te-220907-f27ee7_a_photo_of_one_Kate_Middleton._image.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/avengers4_Scarlett_Johansson._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/PRINCE-GEORGE-PRINCESS-CHARLOTTE-PRINCE-LOUIS-3-te-220907-f27ee7_a_photo_of_one_Kate_Middleton._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/avengers4_Scarlett_Johansson._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/PRINCE-GEORGE-PRINCESS-CHARLOTTE-PRINCE-LOUIS-3-te-220907-f27ee7_a_photo_of_one_Kate_Middleton._mask.png}
        \end{subfigure}
        \vspace{0.75em}
    \end{subfigure}
    \noindent\rule{0.9\linewidth}{0.4pt}
    \begin{subfigure}{0.85\linewidth}
        % \vspace{-0.75em}
        \centering
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/tired-mom_a_photo_of_a_Table_lamp._image.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/camping_a_photograph_of_a_Trees._image.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Images/visual/RGBNet/tired-mom_a_photograph_of_a_Table_lamp._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/RGBNet/camping_a_photograph_of_a_Trees._mask.png}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\columnwidth}
            \centering
            \caption{}
            \includegraphics[width=\columnwidth]{Images/visual/zseg_SD_features/tired-mom_a_photo_of_a_Table_lamp._mask.png}
            \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/camping_an_image_of_a_Trees._mask.png}
        \end{subfigure}
    \end{subfigure}
    \caption{More qualitative examples where RGBNet fails to localize \emph{``Guitar", ``Panda"} from animation images (top row), famous celebrities \emph{``Scarlett Johansson", ``Kate Middleton"} (second row) and objects such as \emph{``Lamp", ``Trees"} from illustrations (bottom row). LD-$Z$Net benefits from using $z$ combined with the internal LDM features to correctly segment these text prompts.}
    \vspace{-1em}
    \label{fig:visual_results3_supp}
\end{figure*}

\subsection{Scene understanding}
\begin{figure*}[p]
    \captionsetup[subfigure]{labelformat=empty,font=small,labelfont={bf,sf},skip=0pt}
    \centering
    \begin{subfigure}{\textwidth}
        \centering
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Books._image.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Books"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Books._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Flowers"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Flowers._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Sofa"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_sofa._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Table"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Table._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Trees"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/indoor_an_image_of_a_Trees._mask.png}
            \end{subfigure}
        \end{subfigure}
    \vspace{0.5em}
    \end{subfigure}
    \noindent\rule{\textwidth}{0.4pt}
    \begin{subfigure}{\textwidth}
        \vspace{0.25em}
        \centering
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Chair._image.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Chair"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Chair._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Clouds"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Clouds._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Grass"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Grass._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Mountains"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_Mountains._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``River"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/camping_an_image_of_a_River._mask.png}
            \end{subfigure}
        \end{subfigure}
    \vspace{0.5em}
    \end{subfigure}
    \noindent\rule{\textwidth}{0.4pt}
    \begin{subfigure}{\textwidth}
        \vspace{0.25em}
        \centering
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Bicycle._image.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Buildings"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Buildings._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Trees"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Trees._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Crosswalk"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Crosswalk._mask.png}
            \end{subfigure}
        \end{subfigure}%
        \hspace{0.05cm}%
        \begin{subfigure}{0.32\textwidth}
            \centering
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Bicycle"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Bicycle._mask.png}
            \end{subfigure}
            \begin{subfigure}{\columnwidth}
                \centering
                \caption{``Bridge"}
                \includegraphics[width=\columnwidth]{Supp_Images/visual/zseg_SD_features/More_analysis/illustration2_an_image_of_a_Bridge._mask.png}
            \end{subfigure}
        \end{subfigure}
    \end{subfigure}
    \caption{LD-ZNet text-based segmentation results for a diverse set of things and stuff classes across  both real images (top row) and illustrations (middle and bottom rows). High-quality segmentation across multiple object classes suggests that LD-ZNet has a good understanding of the overall scene. Images used from google and \href{https://www.freepik.com}{freepik}.}
    \vspace{-1em}
    \label{fig:scene_understanding_supplementary}
\end{figure*}

Figure \ref{fig:scene_understanding_supplementary} shows the segmentation performance of LD-ZNet for several objects and regions in an image. Specifically, we show the segmentation for stuff classes such as ``Clouds", ``Mountains", ``Chair", ``Grass", ``River" \etc and thing classes such as ``Trees", ``Bicycle", ``Sofa", ``Books" \etc. The quality of the segmentation across multiple object classes suggests that LD-ZNet has a good understanding of the overall scene. 


\begin{figure*}
    \centering
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_25_an_image_of_a_grey_steps._image.png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_0_glass_windshield._image.png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_0_a_photo_of_a_tallest_building._image.png}
        \includegraphics[width=\linewidth]{Images/visual/04736_43_a_photograph_of_a_riding_person._image.png}
        \includegraphics[width=\linewidth]{Images/visual/00047_47_a_bad_photo_of_a_white_stand._image.png}
        \caption{Input image}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_25_an_image_of_a_grey_steps._gt.png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_0_glass_windshield._gt.png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_0_a_photo_of_a_tallest_building._gt.png}
        \includegraphics[width=\linewidth]{Images/visual/04736_43_a_photograph_of_a_riding_person._gt.png}
        \includegraphics[width=\linewidth]{Images/visual/00047_47_a_bad_photo_of_a_white_stand._gt.png}
        \caption{GT mask}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_25_an_image_of_a_grey_steps..png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_0_glass_windshield..png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_0_a_photo_of_a_tallest_building..png}
        \includegraphics[width=\linewidth]{Images/visual/04736_43_a_photograph_of_a_riding_person..png}
        \includegraphics[width=\linewidth]{Images/visual/00047_47_a_bad_photo_of_a_white_stand..png}
        \caption{RGBNet}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_38_a_photo_of_one_grey_steps..png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_51_a_photograph_of_a_glass_windshield..png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_5_tallest_building..png}
        \includegraphics[width=\linewidth]{Images/visual/04736_63_riding_person..png}
        \includegraphics[width=\linewidth]{Images/visual/00047_64_a_photo_of_a_white_stand..png}
        \caption{$Z$Net}
        % \label{fig:architecture}
    \end{subfigure}%
    \hspace{0.05cm}%
    \begin{subfigure}[t]{0.19\textwidth}
        \centering
        \includegraphics[width=\linewidth]{Supp_Images/00683_76_a_bad_photo_of_a_grey_steps..png}
        \includegraphics[width=\linewidth]{Supp_Images/01223_92_a_cropped_photo_of_a_glass_windshield..png}
        \includegraphics[width=\linewidth]{Supp_Images/03478_79_a_bad_photo_of_a_tallest_building..png}
        \includegraphics[width=\linewidth]{Images/visual/04736_85_a_good_photo_of_a_riding_person..png}
        \includegraphics[width=\linewidth]{Images/visual/00047_85_a_photo_of_one_white_stand..png}
        \caption{LD-ZNet}
        % \label{fig:architecture}
    \end{subfigure}
    
    \caption{Qualitative comparisons on the PhraseCut test dataset. Each row contains an RGB image along with a reference text as an input, with the goal being to segment out the image regions corresponding to the reference text. The reference texts are \emph{``grey steps"}, \emph{``glass windshield"}, \emph{``the tallest building"}, \emph{``riding person"}, \emph{``white stand"} for rows 1, 2, 3, 4 and 5 respectively. We show improvements using ZNet and LD-ZNet compared to the RGBNet.}
    \vspace*{3in}
    \label{fig:visual_results2_supp}
\end{figure*}

\subsection{Qualitative Comparisons on Phrasecut}
Figure \ref{fig:visual_results2_supp} shows qualitative comparisons of $Z$Net and LD-ZNet with the RGBNet baseline on the test dataset of PhraseCut. Attributes such as ``grey", ``glass", ``tallest", and ``riding" are well understood and localized in LD-ZNet.
