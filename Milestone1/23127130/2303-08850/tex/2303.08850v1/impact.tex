%========================================================================
% ifacconf.tex 2022-02-11 jpuente  
% Template for IFAC meeting papers
% Copyright (c) 2022 International Federation of Automatic Control
%========================================================================
\documentclass{ifacconf}

\usepackage{graphicx}      % include this line if your document contains figures
\usepackage{natbib}        % required for bibliography

%--------------------------------

%------------------------------------------------------------------------
% To solve the issue of getting an error when using hyperref in ifacconf
%------------------------------------------------------------------------
% https://tex.stackexchange.com/questions/393690/illegal-unit-of-measure-error-when-using-hyperref-in-the-ifacconf-class
\makeatletter
\let\old@ssect\@ssect % Store how ifacconf defines \@ssect
\makeatother

% \usepackage[pdftex,hidelinks]{hyperref}
\usepackage{hyperref}
\hypersetup{hidelinks}

\makeatletter
\def\@ssect#1#2#3#4#5#6{%
  \NR@gettitle{#6}% Insert key \nameref title grab
  \old@ssect{#1}{#2}{#3}{#4}{#5}{#6}% Restore ifacconf's \@ssect
}
\makeatother
%------------------------------------------------------------------------
%------------------------------------------------------------------------

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts, latexsym, amscd, enumerate, bbm, nicefrac, mathrsfs}
\usepackage{optidef}
\usepackage{xcolor}
% \usepackage{pgfplots}
% \usepackage{pdfpages}
% \usepackage{caption}
% \usepackage{subcaption}
% \usepackage{tabularx}
% \usepackage{booktabs}
% \usepackage{tikz}
% \let\labelindent\relax
% \usepackage{enumitem}

% \usepackage{url}

\usepackage{listings}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codered}{rgb}{0.65,0.0,0.0}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{shadecolor}{gray}{0.85}
\definecolor{KULlightblue}{HTML}{116E8A}
\definecolor{KULdarkblue}{HTML}{00407A}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=none,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstdefinestyle{Cstyle}{language=C,
    commentstyle=\color{KULdarkblue},
    keywordstyle=\color{KULdarkblue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codered},
    basicstyle=\ttfamily\tiny,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=false,           
    columns=fullflexible,
    numbers=none,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=1,
    xleftmargin=.0\textwidth, 
    xrightmargin=.0\textwidth
}

\lstdefinestyle{pythonstyle}{language=python,
    commentstyle=\color{KULdarkblue},
    keywordstyle=\color{KULdarkblue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codered},
    basicstyle=\ttfamily\tiny,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,       
    keepspaces=true,
    columns=fullflexible,
    numbers=none,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,   
    tabsize=2,
    xleftmargin=.00\textwidth, 
    xrightmargin=.00\textwidth,
}

\lstdefinestyle{Cinline}{language=C,
    commentstyle=\color{KULdarkblue},
    keywordstyle=\color{KULdarkblue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codered},
    basicstyle=\ttfamily\small,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=false,           
    columns=fullflexible,
    numbers=none,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=1,
    xleftmargin=.0\textwidth, 
    xrightmargin=.0\textwidth
}

\lstdefinestyle{pythoninline}{language=python,
    commentstyle=\color{KULdarkblue},
    keywordstyle=\color{KULdarkblue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codered},
    basicstyle=\ttfamily\small,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,       
    keepspaces=true,
    columns=fullflexible,
    numbers=none,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,   
    tabsize=2,
    xleftmargin=.00\textwidth, 
    xrightmargin=.00\textwidth,
}


\newcommand\YAMLcolonstyle{\color{black}\mdseries}
\newcommand\YAMLkeystyle{\color{green}\bfseries}
\newcommand\YAMLvaluestyle{\color{blue}\mdseries}


\makeatletter

% here is a macro expanding to the name of the language
% (handy if you decide to change it further down the road)
\newcommand\language@yaml{yaml}

\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray}\bfseries,
  % basicstyle=\YAMLkeystyle,                                 % assuming a key comes first
  basicstyle=\ttfamily\tiny,
  sensitive=false,
  numbersep=0pt,    
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\YAMLvaluestyle\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  % moredelim=[l][\color{magenta}]{*},
  moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
  morestring=[b]',
  morestring=[b]",
  literate =    {---}{{\ProcessThreeDashes}}3
                {>}{{\textcolor{red}\textgreater}}1     
                {|}{{\textcolor{red}\textbar}}1 
                {\ -\ }{{\mdseries\ -\ }}3,
    xleftmargin=0\textwidth, 
    xrightmargin=0\textwidth
}

% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother
\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}


% \lstset{style=mystyle}

% \usepackage[finalizecache,cachedir=minted-cache]{minted}
 % \usepackage[frozencache=true,cachedir=minted-cache]{minted} 
% \usepackage{minted}
% \usepackage{enumitem}

% \usepackage{etoolbox}
% \BeforeBeginEnvironment{minted}{\vspace{-0.5ex}}
% \AfterEndEnvironment{minted}{\vspace{-1ex}}
% \AfterEndEnvironment{minted}{\vspace{-1cm}}
% \AtBeginEnvironment{snugshade*}{\vspace{-\FrameSep}}
% \AfterEndEnvironment{snugshade*}{\vspace{-\FrameSep}}

\newcommand{\codename}[1]{{\fontfamily{pcr}\selectfont #1}}
\newcommand*{\impact}{{\codename{IMPACT}} }
\newcommand*{\casadi}{{\codename{CasADi}} }

%--------------------------------
% \def\thefootnote{*}\footnotetext{Alvaro Florez and Alejandro Astudillo contributed equally 
%========================================================================
\begin{document}
\begin{frontmatter}

\title{IMPACT: A Toolchain for Nonlinear Model Predictive Control Specification, Prototyping, and Deployment 
% with Python and Simulink Wrappers
\thanksref{footnoteinfo}} 
% Title, preferably not more than 10 words.

\thanks[footnoteinfo]{This work was supported by the project Flanders Make SBO DIRAC: ``Deterministic and Inexpensive Realizations of Advanced Control". 
Flanders Make is the Flemish strategic research centre for the manufacturing industry.
}

\author[First]{Alvaro Florez\thanksref{equal_contrib}}
\author[First]{Alejandro Astudillo\thanksref{equal_contrib}}
\author[First]{Wilm Decr√©}
\author[First]{Jan Swevers}
\author[First]{Joris Gillis}

\address[First]{MECO~Research~Team,~Dept.~of~Mechanical~Engineering,~KU~Leuven.\\
Flanders Make@KU Leuven, 3001 Leuven, Belgium.\\
    (e-mail: \{alvaro.florez, alejandro.astudillovigoya, wilm.decre, jan.swevers, joris.gillis\}@kuleuven.be).}

\thanks[equal_contrib]{A. Florez and A. Astudillo contributed equally to this work.}


\begin{abstract}    % Abstract of not more than 250 words.
We present \codename{IMPACT}, a flexible toolchain for nonlinear model predictive control (NMPC) specification with automatic code generation capabilities. The toolchain reduces the engineering complexity of NMPC implementations by providing the user with an easy-to-use application programming interface, and with the flexibility of using multiple state-of-the-art tools and numerical optimization solvers for rapid prototyping of NMPC solutions. \codename{IMPACT} is written in \codename{Python}, users can call it from \codename{Python} and \codename{MATLAB}, and the generated NMPC solvers can be directly executed from \codename{C}, \codename{Python}, \codename{MATLAB} and \codename{Simulink}. An application example is presented involving problem specification and deployment on embedded hardware using \codename{Simulink}, showing the effectiveness and applicability of \codename{IMPACT} for NMPC-based solutions.
\end{abstract}

\begin{keyword}
Model Predictive Control, Software Toolchain, Prototyping, Deployment
\end{keyword}

\end{frontmatter}
%========================================================================

\input{tex/1_introduction}
\input{tex/2_preliminaries}
\input{tex/3_impact}
\input{tex/4_case}
\input{tex/5_conclusions} 

% \begin{ack}
% Place acknowledgments here.
% \end{ack}

{\small
\bibliography{impact} % bib file to produce the bibliography
} % with bibtex (preferred)
                                                   
%\begin{thebibliography}{xx}  % you can also add the bibliography by hand

%\bibitem[Able(1956)]{Abl:56}
%B.C. Able.
%\newblock Nucleic acid content of microscope.
%\newblock \emph{Nature}, 135:\penalty0 7--9, 1956.

%\bibitem[Able et~al.(1954)Able, Tagg, and Rush]{AbTaRu:54}
%B.C. Able, R.A. Tagg, and M.~Rush.
%\newblock Enzyme-catalyzed cellular transanimations.
%\newblock In A.F. Round, editor, \emph{Advances in Enzymology}, volume~2, pages
%  125--247. Academic Press, New York, 3rd edition, 1954.

%\bibitem[Keohane(1958)]{Keo:58}
%R.~Keohane.
%\newblock \emph{Power and Interdependence: World Politics in Transitions}.
%\newblock Little, Brown \& Co., Boston, 1958.

%\bibitem[Powers(1985)]{Pow:85}
%T.~Powers.
%\newblock Is there a way out?
%\newblock \emph{Harpers}, pages 35--47, June 1985.

%\bibitem[Soukhanov(1992)]{Heritage:92}
%A.~H. Soukhanov, editor.
%\newblock \emph{{The American Heritage. Dictionary of the American Language}}.
%\newblock Houghton Mifflin Company, 1992.

%\end{thebibliography}

% \appendix
% \section{A summary of Latin grammar}    % Each appendix must have a short title.
% \section{Some Latin vocabulary}              % Sections and subsections are supported  
%                                                                          % in the appendices.
\end{document}
