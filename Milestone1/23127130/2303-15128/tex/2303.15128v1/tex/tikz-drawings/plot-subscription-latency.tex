%!TEX root = ../../main.tex

% \begin{figure}
    % \centering
    \begin{tikzpicture}
        \begin{axis}[
            width=\linewidth,height=.8\linewidth,
            boxplot/draw direction=y,
            xtick = {1,2,3,4},
            xticklabels = {SOME/IP SD, SOME/IP SD\\ w/ AUTH, DNSSEC, DNSSEC \\w/ DANE},
            xticklabel style = {anchor=north east,align=center, font=\small, rotate=35},
            ylabel = {Subscription latency},
            y unit = {\milli\second},
            ymax = 10,
            enlarge y limits,
            ymajorgrids,
            % xtick style = {draw=none}, % Hide tick line
            boxplotcolor/.style={mark=square*, color=#1,fill=#1,mark options={color=#1,fill=#1,draw=black}},
            ]
        \addplot+ [boxplotcolor=CoreRed, boxplot, draw=black] table [col sep={comma},y={SUBSCRIPTION_LATENCY}] {data/export/vanilla_no_auth.csv};
        \addplot+ [boxplotcolor=CoreYellow, boxplot, draw=black] table [col sep={comma},y={SUBSCRIPTION_LATENCY}] {data/export/vanilla_auth.csv};
        \addplot+ [boxplotcolor=CoreBlue, boxplot, mark=none, draw=black] table [col sep={comma},y={SUBSCRIPTION_LATENCY}] {data/export/dns_discovery.csv};
        \addplot+ [boxplotcolor=CoreGreen, boxplot, draw=black] table [col sep={comma},y={SUBSCRIPTION_LATENCY}] {data/export/dns_and_dane.csv};
        \end{axis}
    \end{tikzpicture}
    \vspace{-15pt}
    \caption{
        Whisker plot on the latency of service subscriptions. The small squares are outliers.
        }
    \label{fig:sublatency}
% \end{figure}