%!TEX root = ../../main.tex

\newcommand{\bytegap}{4.2mm}
\newcommand{\datagap}{9.5mm}
\begin{figure} 
    \centering
    \begin{tikzpicture}[remember picture,
    full_width/.style={rectangle, draw, line width=.5pt, inner sep=5pt, minimum width=8.8cm, minimum height=1.55cm, align=center, fill=white, rounded corners},
    rounded_rectangle/.style={rectangle, draw, line width=.5pt, inner sep=3pt, align=center, fill=CoreGray, rounded corners, minimum width=2.21cm, minimum height=1.55cm},
    rounded_rectangle_data/.style={rectangle, line width=.5pt, inner sep=3pt, align=center, fill=CoreMiddleGray, rounded corners=2.4mm, minimum width=1.8cm, minimum height=0.5cm}
    ]

    \begin{scope}[on background layer]
        \node[full_width, draw=none] (find_outline) [] {};
    \end{scope}

    %main layer
    % service id
    \node[rounded_rectangle] (service_id_outline) [right=-0.5pt of find_outline.west, align=center] {};
    \node(service_id_text) [below=0.0cm of service_id_outline.north, align=center] {service ID};
    \node(service_id_byte) [below=\bytegap of service_id_outline.north, align=center] {\footnotesize{(2 Byte)}};
    \node[rounded_rectangle_data] (service_id_data) [below=\datagap of service_id_outline.north, align=center] {0x0001};

    % instance id
    \node[rounded_rectangle] (instance_id_outline) [right=-0.5pt of service_id_outline, align=center] {};
    \node(instance_id_text) [below=0.0cm of instance_id_outline.north, align=center] {instance ID};
    \node(instance_id_byte) [below=\bytegap of instance_id_outline.north, align=center] {\footnotesize{(2 Byte)}};
    \node[rounded_rectangle_data] (instance_id_data) [below=\datagap of instance_id_outline.north, align=center] {0x0002};

    % major version
    \node[rounded_rectangle] (major_id_outline) [right=-0.5pt of instance_id_outline, align=center] {};
    \node(major_id_text) [below=0.0cm of major_id_outline.north, align=center] {major version};
    \node(major_id_byte) [below=\bytegap of major_id_outline.north, align=center] {\footnotesize{(1 Byte)}};
    \node[rounded_rectangle_data] (major_id_data) [below=\datagap of major_id_outline.north, align=center] {0x01};

    % minor version
    \node[rounded_rectangle] (minor_id_outline) [right=-0.5pt of major_id_outline, align=center] {};
    \node(minor_id_text) [below=0.0cm of minor_id_outline.north, align=center] {minor version};
    \node(minor_id_byte) [below=\bytegap of minor_id_outline.north, align=center] {\footnotesize{(4 Byte)}};
    \node[rounded_rectangle_data] (minor_id_data) [below=\datagap of minor_id_outline.north, align=center] {0x00000002};

    \begin{scope}[on behind layer]
    \end{scope}

    \begin{scope}[on above layer]
    \end{scope}

    \begin{scope}[on glass layer]
    \end{scope}

\end{tikzpicture}
\caption{
    Service description in \codeword{find} and \codeword{offer} messages.
    %  for a service with ID 1, instance ID 2, major version 1 and minor version 2
    }
\label{fig:find-offer-entry}
\end{figure}