%!TEX root = ../../main.tex

\begin{figure} 
    \centering
    \begin{tikzpicture}[remember picture,
    full_width/.style={rectangle, draw, line width=.5pt, inner sep=5pt, minimum width=6.6cm, minimum height=1.55cm, align=center, fill=white, rounded corners},
    rounded_rectangle/.style={rectangle, draw, line width=.5pt, inner sep=3pt, align=center, fill=CoreGray, rounded corners, minimum width=2.21cm, minimum height=1.55cm},
    rounded_rectangle_data/.style={rectangle, line width=.5pt, inner sep=3pt, align=center, fill=CoreMiddleGray, rounded corners=2.4mm, minimum width=1.8cm, minimum height=0.5cm}
    ]

    \begin{scope}[on background layer]
        \node[full_width, draw=none] (endpoint_option_outline) [] {};
    \end{scope}

    %main layer
    % ip address
    \node[rounded_rectangle] (ip_address_outline) [right=-0.5pt of endpoint_option_outline.west, align=center] {};
    \node(ip_address_text) [below=0.0cm of ip_address_outline.north, align=center] {IP address};
    \node(ip_address_byte) [below=\bytegap of ip_address_outline.north, align=center] {\footnotesize{(4 Byte)}};
    \node[rounded_rectangle_data] (ip_address_data) [below=\datagap of ip_address_outline.north, align=center] {10.0.0.5};

    % transport protocol
    \node[rounded_rectangle] (transport_protocol_outline) [right=-0.5pt of ip_address_outline, align=center] {};
    \node(transport_protocol_text) [below=0.0cm of transport_protocol_outline.north, align=center] {L4-protocol};
    \node(transport_protocol_byte) [below=\bytegap of transport_protocol_outline.north, align=center] {\footnotesize{(1 Byte)}};
    \node[rounded_rectangle_data] (transport_protocol_data) [below=\datagap of transport_protocol_outline.north, align=center] {UDP};

    % port number
    \node[rounded_rectangle] (port_number_outline) [right=-0.5pt of transport_protocol_outline, align=center] {};
    \node(port_number_text) [below=0.0cm of port_number_outline.north, align=center] {port number};
    \node(port_number_byte) [below=\bytegap of port_number_outline.north, align=center] {\footnotesize{(2 Byte)}};
    \node[rounded_rectangle_data] (port_number_data) [below=\datagap of port_number_outline.north, align=center] {30509};

    \begin{scope}[on behind layer]
    \end{scope}

    \begin{scope}[on above layer]
    \end{scope}

    \begin{scope}[on glass layer]
    \end{scope}

\end{tikzpicture}
\caption{
    Endpoint details in \codeword{offer} and \codeword{subscribe} messages.
    %  for a service with IP address 10.0.0.5, layer 4 protocol UDP and port number 30509
    }
\label{fig:endpointoption}
\end{figure}