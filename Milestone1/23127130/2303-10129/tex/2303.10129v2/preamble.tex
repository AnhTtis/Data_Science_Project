\usepackage{amsmath,amssymb,amsfonts,mathtools}
\usepackage{amsthm}
\usepackage{nicefrac}
\usepackage{graphicx}
\usepackage{hhline}
\usepackage[utf8]{inputenc}
\usepackage{subfigure}
\usepackage{xcolor}
\usepackage{bbm}
\usepackage{ulem}
\usepackage{mathrsfs}
\usepackage{tabularx}
%-------- COLORS --------------
\def\Red#1{\textcolor{red}{#1}}
\def\Brown#1{\textcolor{Bittersweet}{#1}}
\def\Blue#1{\textcolor{blue}{#1}}
\def\Magenta#1{\textcolor{magenta}{#1}}
\def\Orange#1{\textcolor{orange}{#1}}
\def\Teal#1{\textcolor{teal}{#1}}
%----------------------------------

\usepackage{soul}  % \st    for strike-out
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,       
    linkcolor=blue,          
    citecolor=blue,       
    filecolor=magenta,      
    urlcolor=blue          
}

%-------- COMMENTARIES ------------
\def\scr{\scriptsize}
\ifthenelse{\equal{\draftversion}{true}}{
  \marginparwidth 2.7in
  \marginparsep 0.5in
  \newcounter{comm} % counter for commentaries
  % increase counter
  \def\commnext{\stepcounter{comm}}
  % commentary in text
  \def\commtext{{\bf\color{blue}[\arabic{comm}]}}
  % commentary in margin
  \def\commmar{{\bf\color{blue}[\arabic{comm}]}}
  % comment commands for all authors
  \def\stm#1{\commnext\marginpar{\small ST\commmar: #1}\commtext}
  \def\ism#1{\commnext\marginpar{\small IS\commmar: #1}\commtext}
   \def\xlm#1{\commnext\marginpar{\small XL\commmar: #1}\commtext}
  \def\tnewpage{\newpage\marginpar{\small Temporary newpage}}
  % Print LAST MODIFIED date in the format year/month/day
  \def\parsedate #1:20#2#3#4#5#6#7#8\empty{20#2#3/#4#5/#6#7}
  \def\moddate{\expandafter\parsedate\pdffilemoddate{\jobname.tex}\empty}
  \newcommand{\mydate}{\date[Last modified ]{\moddate}}
  \def\tenxl#1{\textcolor{blue}{#1}}   % for tent changes by xl
\def\tents#1{\textcolor{magenta}{#1}}   % for tent changes by ST
\def\tenti#1{\textcolor{red}{#1}}   % for tent changes by IS
}{
  \def\stm#1{}
  \def\ism#1{}
  \def\xlm#1{}
  \newcommand{\XL}[1]{{\color{purple}#1}}
  \def\tnewpage{}
  % Print compile-time date as usual
  \newcommand{\mydate}{\date{\today}}
  \def\tenxl#1{#1}   % for tent changes by xl
\def\tents#1{#1}   % for tent changes by ST
\def\tenti#1{#1}   % for tent changes by IS
}




\ifthenelse{\equal{\showall}{false}}{
  \renewcommand\includegraphics[2][]{{\bf Figure not shown.}}
  \renewcommand\input[1][]{{\bf Not shown\ }}
}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Macros for equations and figures
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% These save some typing:
\newcommand{\beq}{\begin{equation}}
\newcommand{\beqo}{\begin{equation} \setlength{\abovedisplayskip}{0pt} \setlength{\belowdisplayskip}{0pt}}
\newcommand{\eeq}{\end{equation}}
\newcommand{\bea}{\begin{eqnarray}}
\newcommand{\eea}{\end{eqnarray}}
\newcommand{\beas}[1]{\begin{subequations}\eql{#1}\begin{eqnarray}}
\newcommand{\eeas}{\end{eqnarray}\end{subequations}}
% but I recommend typing out other environments that are
% used less frequently, like  \begin{align} ... \end{align}

% This is useful for multiline equations when you only want
% one line number for the entire set
\newcommand{\nn}{\nonumber\\}

% For referring to equations:
\newcommand{\eq}[1]{Eq.~(\ref{eq:#1})}
\newcommand{\Eq}[1]{Equation~(\ref{eq:#1})}
\newcommand{\eqs}[2]{Eqs.~(\ref{eq:#1}) and (\ref{eq:#2})}
\newcommand{\eqss}[3]{Eqs.~(\ref{eq:#1}), (\ref{eq:#2}), and (\ref{eq:#3})}
\newcommand{\Eqs}[2]{Equations~(\ref{eq:#1}) and (\ref{eq:#2})}
\newcommand{\eqo}[2]{Eq.~(\ref{eq:#1}) or (\ref{eq:#2})}
\newcommand{\eqr}[2]{Eqs.~(\ref{eq:#1}-\ref{eq:#2})}
\newcommand{\Eqr}[2]{Equations~(\ref{eq:#1}-\ref{eq:#2})}

% For referring to figures:
\newcommand{\fref}[1]{Fig.~\ref{fig:#1}} 
\newcommand{\frefs}[2]{Figs.~\ref{fig:#1} and \ref{fig:#2}}
\newcommand{\frefo}[2]{Figs.~\ref{fig:#1} or \ref{fig:#2}}
\newcommand{\fsref}[1]{Figs.~\ref{fig:#1}}
\newcommand{\Fref}[1]{Figure~\ref{fig:#1}}
\newcommand{\Frefs}[1]{Figures~\ref{fig:#1}}
\newcommand{\Fsref}[1]{Figures~\ref{fig:#1}}

% For referring to sections and appendices:
\newcommand{\sref}[1]{Sec.~\ref{sec:#1}}
\newcommand{\srefs}[2]{Secs.~\ref{sec:#1} and~\ref{sec:#2}}
\newcommand{\Sref}[1]{Section~\ref{sec:#1}}
\newcommand{\aref}[1]{Appendix~\ref{sec:#1}}

% For referring to sections and appendices:
\newcommand{\tref}[1]{Tab.~\ref{tab:#1}} 


% For labeling figures and equations:
% conditional setting of equation and figure labels
\ifthenelse{\equal{\draftversion}{true}}{
  \newcommand{\eql}[1]{\label{eq:#1}\hbox{\Red{\small\;\;[#1]}}}
  \newcommand{\figl}[1]{\label{fig:#1}\Red{\small\;\;[Fig:~#1]}}
  \newcommand{\secl}[1]{\label{sec:#1}\Red{\small\;\;[Sec:~#1]}}
  \newcommand{\tabl}[1]{\label{tab:#1}\Red{\small\;\;[Tab:~#1]}}
}{}
\ifthenelse{\equal{\draftversion}{false}}{
  \newcommand{\eql}[1]{\label{eq:#1}}
  \newcommand{\figl}[1]{\label{fig:#1}}
  \newcommand{\secl}[1]{\label{sec:#1}}
  \newcommand{\tabl}[1]{\label{tab:#1}}
}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Generally useful macro definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\n}{\noindent}
\newcommand{\dis}{\displaystyle}

\newcommand{\ket}[1]{\vert#1\rangle}
\newcommand{\bra}[1]{\langle#1\vert}
\newcommand{\ip}[2]{\langle#1\vert#2\rangle}
\newcommand{\me}[3]{\langle#1\vert#2\vert#3\rangle}
\newcommand{\ev}[1]{\langle#1\rangle}

\def\dag{^\dagger}
\def\pdag{^{\phantom{\dagger}}}
\def\memnR#1{\me{\mathbf{0}i}{#1}{\RR j}}



\newcommand{\wt}[1]{\widetilde{#1}}

\newcommand{\Real}[1]{\rm Re\,}
\newcommand{\Imag}[1]{\rm Im\,}
\newcommand{\tr}[1]{\rm tr\,}
\newcommand{\Tr}[1]{\rm Tr\,}

\newcommand{\code}[1]{\textsc{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Macros specific to this manuscript
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%
% it is better to use '\newcommand' but I get lazy and use '\def' for some:
%
\def\wt#1{\widetilde{#1}}
\def\Re{\mathrm{Re}}
\def\Im{\mathrm{Im}}
\def\Tr{\mathrm{Tr}}


\def\k{{\bf k}}
\def\vb{{\bf v}} % changed, not to conflict with \v in `\v{Z}elezn\'y
\def\m{{\bf m}}
\def\j{{\bf j}}
\def\rr{{\bf r}} % (avoid \r, messes up with \AA=\r{A})
\def\R{{\bf R}}
\def\0{{\bf 0}}
% \def\E{\boldsymbol{\mathcal E}}
\def\E{{\bf E}}
\def\B{{\bf B}}
\def\btau{{\boldsymbol\tau}}
\def\bt{{\bf t}}
\def\A{{\bf A}}
\def\bOmega{{\boldsymbol\Omega}}
\def\bnabla{{\boldsymbol\nabla}}
\def\w{\ww}
\def\del{\partial}

\def\kk{{\bf k}}
\def\rr{{\bf r}}
\def\RR{{\bf R}}
\def\dk{[d\kk]}


\def\bnk{_{\k n}}
\def\bmk{_{\k m}}
\def\blk{_{\k l}}
\def\unk{u\bnk}
\def\enk{\varepsilon\bnk}
\def\emk{\varepsilon\bmk}
\def\elk{\varepsilon\blk}
\def\en{\varepsilon_n}
% \def\em{\varepsilon_m}
\def\el{\varepsilon_l}
\def\ej{\varepsilon_j}


\def\bz{_{\rm BZ}}
\def\occ{^{\rm occ}}
\def\emp{^{\rm unocc}}
\def\orb{^{\rm orb}}

\def\abc{\varepsilon_{abc}}
\def\dk{[d\k]}

\def\la{\langle\kern-2.5pt\langle}
\def\ra{\rangle\kern-2.5pt\rangle}
\def\vt{\vert\kern-1.5pt\vert}
%
\def\lket#1{\vt#1\ra}
\def\lbra#1{\la#1\vt}
\def\lip#1#2{\la#1\vt#2\ra}
\def\lme#1#2#3{\la#1\vt#2\vt#3\ra}

\def\AA{{\rm AA}}
\def\BB{{\rm BB}}
\def\AB{{\rm AB}}
\def\BA{{\rm BA}}

\def\all{^{\rm all}}

\def\one{{\mathbbm{1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Macros for Wannier interpolation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\def\hh{^{\text{(H)}}}
%\def\ww{^{\text{(W)}}}
%\def\hh{^{\text{H}}}
\def\ww{^{\text{W}}}



\def\abc{\epsilon_{abc}}
\def\conjabmn{\left(_{m\leftrightarrow n}^{a\leftrightarrow b}\right)^* }\def\conjab{\left(^{a\leftrightarrow b}\right)^* }
\def\conjmn{\left(_{m\leftrightarrow n}\right)^* }

\def\inn{^{A}}
\def\out{^{B}}
\def\all{}  % by default summation is over all
%\def\all{^{\text{all}}}

\def\Ham{{\cal H}}
\def\ef{\epsilon_{\rm F}}

\def\Fcov{\wt F}
\def\Fbar{\overline{F}}
\def\Fwan{\left( F\ww \right)}
\def\Gcov{\wt G}
\def\Gbar{\overline{G}}
\def\Gwan{\left( G\ww \right)}
\def\Hcov{\wt H}
\def\Hoplus{{H^\oplus}}
\def\Hominus{{H^\ominus}}
\def\Hcovp{{\wt{\Hoplus}}}
\def\Hcovm{{\wt{\Hominus}}}
\def\Hbar{\overline{H}}
\def\Hwan{\left( H\ww \right)}
\def\Ocov{\wt \Omega}
\def\Obar{\overline{\Omega}}
\def\Abar{\overline{A}}
\def\Bbar{\overline{B}}
\def\BbarmAE{{\Bbar^\ominus}}
\def\BbarpAE{{\Bbar^\oplus}}

\def\calF{{\cal F}}
%\def\eff{^{\rm eff}}
\def\eff{}
%\newcommand{\Hcoma}[3]{\me{#2}{\partial_{#1}\Ham}{#3}}
%\newcommand{\Hcomatwo}[3]{\me{#2}{\partial^2_{#1}\Ham}{#3}}
\newcommand{\Hcoma}[3]{\Ham_{#2#3}^{,#1}}
\newcommand{\Hcomatwo}[3]{\Hcoma{#1}{#2}{#3}}


\def\zerot#1{\breve{#1}}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "pap"
%%% End:
