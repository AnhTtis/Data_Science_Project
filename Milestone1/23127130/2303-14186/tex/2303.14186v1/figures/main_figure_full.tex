\begin{tikzpicture}
  \centering
    \definecolor{darkgray141160203}{RGB}{141,160,203}
    \definecolor{dimgray85}{RGB}{85,85,85}
    \definecolor{gainsboro229}{RGB}{229,229,229}
    \definecolor{lightgray204}{RGB}{204,204,204}
    \definecolor{mediumaquamarine102194165}{RGB}{102,194,165}
    \definecolor{orchid231138195}{RGB}{231,138,195}
    \definecolor{salmon25214198}{RGB}{252,141,98}
    \definecolor{amethyst}{rgb}{0.6, 0.4, 0.8}
    \definecolor{bleudefrance}{rgb}{0.19, 0.55, 0.91}
    \definecolor{blush}{rgb}{0.87, 0.36, 0.51}
    \definecolor{brilliantrose}{rgb}{1.0, 0.33, 0.64}

    \begin{groupplot}[
      group style={group size= 2 by 2, horizontal sep=1cm, vertical sep=1.8cm},
      height={5.5cm},
      width=.5\linewidth]
      \nextgroupplot[
        axis background/.style={fill=gainsboro229},
        axis line style={white},
        legend cell align={left},
        legend columns=4,
        legend style={
          fill opacity=0.8,
          draw opacity=1,
          text opacity=1,
          at={(-0.3,1.7)},
          anchor=north west,
          draw=gainsboro229,
          fill=gainsboro229,
          /tikz/every even column/.append style={column sep=0.5cm},
          /tikz/every odd column/.append style={column sep=0.1cm}
        },
        log basis x={10},
        tick align=outside,
        tick pos=left,
        x grid style={white},
        align=center,
        title={(a) ResNet-9 on CIFAR-2},
        xmajorgrids,
        xminorgrids,
        xmin=0.6, xmax=110000,
        xmode=log,
        xtick style={color=dimgray85},
        xtick={1,10,100,1000,10000,100000,1000000},
        xticklabels={
          \(\displaystyle {10^{0}}\),
          \(\displaystyle {10^{1}}\),
          \(\displaystyle {10^{2}}\),
          \(\displaystyle {10^{3}}\),
          \(\displaystyle {10^{4}}\),
          \(\displaystyle {10^{5}}\),
          \(\displaystyle {10^{6}}\)
        },
        y grid style={white},
        ylabel={Correlation (LDS) \\ (more accurate \(\displaystyle \rightarrow\))},
        ymajorgrids,
        ymin=0, ymax=0.6,
        ytick style={color=dimgray85}
        ]
        \addplot [draw=black,
                  fill=black,
                  fill opacity=0,
                  mark options={scale=1.5, line width=1pt},
                  mark=star,
                  only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        1	0.096450	0.001995
        5	0.203170	0.002877
        20	0.350632	0.002793
        100	0.515828	0.002458
        };
        \addlegendentry{TRAK}
        \addplot [draw=mediumaquamarine102194165, fill opacity=0, color=mediumaquamarine102194165, mark options={line width=1pt}, mark=*, only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        1000	0.162059	0.004971
        5000	0.422844	0.005367
        10000	0.541295	0.004135
        60000	0.631706	0.002868
        };
        \addlegendentry{Datamodel [IPE+22]}
        \addplot [draw=amethyst, fill opacity=0, color=amethyst, mark options={line width=1pt}, mark=diamond*, only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        100	0.049667	0.000804
        5000	0.321905	0.001453
        10000	0.424651	0.001662
        };
        \addlegendentry{Emp. Influence [FZ20]}
        \addplot [draw=salmon25214198,
                  color=salmon25214198,
                  mark=square*,
                  fill opacity=0,
                  mark options={line width=1pt},
                  only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        20	0.065808	0.002103
        };
        \addlegendentry{IF-Arnoldi [SZV+22] }
        \addplot [draw=bleudefrance,
                  color=bleudefrance,
                  mark=square*,
                  fill opacity=0,
                  mark options={line width=1pt},
                  only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        100000000	0 0
        };
        \addlegendentry{IF [KL17] }
        \addplot [draw=blush,
                  color=blush,
                  mark=pentagon*,
                  fill opacity=0,
                  mark options={line width=1pt},
                  only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        100	0.021288	0.000748
        };
        \addlegendentry{Representation Sim.}
        \addplot [draw=brilliantrose,
                  color=brilliantrose,
                  mark=triangle*,
                  fill opacity=0,
                  mark options={rotate=270, scale=1.5, line width=1pt},
                  only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        10	0.044727	0.004147
        };
        \addlegendentry{GAS [HL22]}
        \addplot [draw=black, color=orchid231138195, mark options={rotate=90, scale=1.5,line width=1pt}, mark=triangle*, fill opacity=0, only marks]
        plot[error bars/.cd, y dir=both, y explicit]
        table[x index={0}, y index={1}, y error index={2}]{%
        x  y
        100	0.055733	0.001564
        };
        \addlegendentry{TracIn [PLS+20]}
    \nextgroupplot[
    axis background/.style={fill=gainsboro229},
    axis line style={white},
    legend cell align={left},
    legend columns=4,
    legend style={
      fill opacity=0.8,
      draw opacity=1,
      text opacity=1,
      at={(-0.2,1.6)},
      anchor=north west,
      draw=gainsboro229,
      fill=gainsboro229,
      /tikz/every even column/.append style={column sep=0.5cm},
      /tikz/every odd column/.append style={column sep=0.1cm}
    },
    log basis x={10},
    tick align=outside,
    tick pos=left,
    x grid style={white},
    align=center,
    title={(b) ResNet-9 on CIFAR-10},
    xmajorgrids,
    xminorgrids,
    xmin=0.6, xmax=120000,
    xmode=log,
    xtick style={color=dimgray85},
    xtick={1,10,100,1000,10000,100000,1000000},
    xticklabels={
      \(\displaystyle {10^{0}}\),
      \(\displaystyle {10^{1}}\),
      \(\displaystyle {10^{2}}\),
      \(\displaystyle {10^{3}}\),
      \(\displaystyle {10^{4}}\),
      \(\displaystyle {10^{5}}\),
      \(\displaystyle {10^{6}}\)
    },
    y grid style={white},
    ymajorgrids,
    ymin=0, ymax=0.6,
    ytick style={color=dimgray85}
    ]
    \addplot [draw=black,
              fill=black,
              fill opacity=0,
              mark options={scale=1.5, line width=1pt},
              mark=star,
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1	0.058062	0.003878
    5	0.116515	0.003609
    20	0.270943	0.004159
    100	0.401995	0.003637
    1000 0.535      0.0040
    };
    \addplot [draw=mediumaquamarine102194165, fill opacity=0, color=mediumaquamarine102194165, mark options={line width=1pt}, mark=*, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1000	0.059707	0.004506
    5000	0.199107	0.003671
    20000	0.391663	0.003693
    50000	0.481640	0.003031
    100000	0.543450	0.002829
    };
    \addplot [draw=amethyst, fill opacity=0, color=amethyst, mark options={line width=1pt}, mark=diamond*, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1000	0.048068	0.004253
    5000	0.100678	0.004457
    20000	0.192958	0.004143
    50000	0.284552	0.004109
    };
    \addplot [draw=salmon25214198,
              color=salmon25214198,
              mark=square*,
              fill opacity=0,
              mark options={line width=1pt},
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    30	0.020197	0.004771
    };
    \addplot [draw=bleudefrance,
              color=bleudefrance,
              mark=square*,
              fill opacity=0,
              mark options={line width=1pt},
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1	0.036603	0.020784
    50	0.088385	0.019825
    };
    \addplot [draw=blush,
              color=blush,
              mark=pentagon*,
              fill opacity=0,
              mark options={line width=1pt},
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    100	0.029314	0.005953
    };
    \addplot [draw=brilliantrose,
              color=brilliantrose,
              mark=triangle*,
              fill opacity=0,
              mark options={rotate=270, scale=1.5, line width=1pt},
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    10	0.047173	0.007191
    };
    \addplot [draw=black, color=orchid231138195, mark options={rotate=90, scale=1.5,line width=1pt}, mark=triangle*, fill opacity=0, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    5 0.055579	0.007301
    100	0.055225	0.007017
    };
    \nextgroupplot[
    axis background/.style={fill=gainsboro229},
    axis line style={white},
    log basis x={10},
    tick align=outside,
    tick pos=left,
    x grid style={white},
    align=center,
    title={(c) BERT-base on QNLI},
    xlabel={Number of models used \\ (\(\displaystyle \leftarrow\) more efficient)},
    xmajorgrids,
    xminorgrids,
    xmin=0.6, xmax=22000,
    xmode=log,
    xtick style={color=dimgray85},
    xtick={1,10,100,1000,10000,100000,1000000},
    xticklabels={
      \(\displaystyle {10^{0}}\),
      \(\displaystyle {10^{1}}\),
      \(\displaystyle {10^{2}}\),
      \(\displaystyle {10^{3}}\),
      \(\displaystyle {10^{4}}\),
      \(\displaystyle {10^{5}}\),
      \(\displaystyle {10^{6}}\)
    },
    y grid style={white},
    ylabel={Correlation (LDS) \\ (more accurate \(\displaystyle \rightarrow\))},
    ymajorgrids,
    ymin=0, ymax=0.7,
    ytick style={color=dimgray85}
    ]
    \addplot [draw=mediumaquamarine102194165, fill opacity=0, color=mediumaquamarine102194165, mark options={line width=1pt}, mark=*, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    4800	0.178846	0.033482
    9500	0.258097	0.033210
    19500 0.344712	0.031926
    };
    \addplot [draw=black, color=orchid231138195, mark options={line width=1pt,rotate=90, scale=1.5}, mark=triangle*, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1	0.072531	0.025567
    };
    \addplot [draw=amethyst, fill opacity=0, color=amethyst, mark options={line width=1pt}, mark=diamond*, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    4800	0.165813	0.041610
    9500	0.202983	0.046267
    19500	0.225179	0.044004
    };
    \addplot [draw=black,
              color=black,
              fill opacity=0,
              mark options={scale=1.5, line width=1pt},
              mark=star,
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1	0.178444	0.005628
    10	0.416264	0.010370
    100	0.593538	0.014348
    };
    \addplot [draw=bleudefrance,
              color=bleudefrance,
              mark=square*,
              fill opacity=0,
              mark options={line width=1pt},
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1	0.113670	0.043225
    5		0.155935	0.029792
    };
    \addplot [draw=blush,
              color=blush,
              mark=pentagon*,
              fill opacity=0,
              mark options={line width=1pt},
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    10	0.050549	0.047340
    20	0.050256	0.048500
    };
    \addplot [draw=brilliantrose,
              color=brilliantrose,
              mark=triangle*,
              fill opacity=0,
              mark options={line width=1pt, rotate=270, scale=1.5},
              only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1	0.077749	0.028504
    };

    \nextgroupplot[
    axis background/.style={fill=gainsboro229},
    axis line style={white},
    legend cell align={left},
    legend columns=4,
    legend style={
    fill opacity=0.8,
    draw opacity=1,
    text opacity=1,
    at={(-0.3,1.5)},
    anchor=north west,
    draw=gainsboro229,
    fill=gainsboro229,
    /tikz/every even column/.append style={column sep=0.5cm},
    /tikz/every odd column/.append style={column sep=0.1cm}
    },
    log basis x={10},
    tick align=outside,
    tick pos=left,
    x grid style={white},
    align=center,
    title={(d) ResNet-18 on ImageNet},
    xlabel={Number of models used \\ (\(\displaystyle \leftarrow\) more efficient)},
    xmajorgrids,
    xminorgrids,
    xmin=0.6, xmax=110000,
    xmode=log,
    xtick style={color=dimgray85},
    xtick={1,10,100,1000,10000,100000,1000000},
    xticklabels={
    \(\displaystyle {10^{0}}\),
    \(\displaystyle {10^{1}}\),
    \(\displaystyle {10^{2}}\),
    \(\displaystyle {10^{3}}\),
    \(\displaystyle {10^{4}}\),
    \(\displaystyle {10^{5}}\),
    \(\displaystyle {10^{6}}\)
    },
    y grid style={white},
    ymajorgrids,
    ymin=0, ymax=0.3,
    ytick style={color=dimgray85}
    ]
    \addplot [draw=black,
            color=black,
            fill opacity=0,
            mark options={scale=1.5, line width=1pt},
            mark=star,
            only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1 0.099 0.0054
    10 0.177 0.0057
    100	0.188	0.006
    };
    \addplot [draw=mediumaquamarine102194165, fill opacity=0, color=mediumaquamarine102194165, mark options={line width=1pt}, mark=*, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    10000	0.052	0.0056
    30000	0.1445	0.0055
    100000	0.2538	0.005
    };
    \addplot [draw=bleudefrance,
            color=bleudefrance,
            mark=square*,
            fill opacity=0,
            mark options={line width=1pt},
            only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1		0.017616	0.005659
    20 0.037614	0.005621
    };
    \addplot [draw=black, color=orchid231138195, mark options={line width=1pt, rotate=90, scale=1.5}, mark=triangle*, fill opacity=0, only marks]
    plot[error bars/.cd, y dir=both, y explicit]
    table[x index={0}, y index={1}, y error index={2}]{%
    x  y
    1	0.0084	0.0055
    };
    \end{groupplot}
    \end{tikzpicture}
